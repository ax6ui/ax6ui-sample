/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	var parentJsonpFunction = window["webpackJsonp"];
/******/ 	window["webpackJsonp"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [], result;
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 	};
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// objects to store loaded and loading chunks
/******/ 	var installedChunks = {
/******/ 		16: 0
/******/ 	};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData === 0) {
/******/ 			return new Promise(function(resolve) { resolve(); });
/******/ 		}
/******/
/******/ 		// a Promise means "currently loading".
/******/ 		if(installedChunkData) {
/******/ 			return installedChunkData[2];
/******/ 		}
/******/
/******/ 		// setup Promise in chunk cache
/******/ 		var promise = new Promise(function(resolve, reject) {
/******/ 			installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 		});
/******/ 		installedChunkData[2] = promise;
/******/
/******/ 		// start chunk loading
/******/ 		var head = document.getElementsByTagName('head')[0];
/******/ 		var script = document.createElement('script');
/******/ 		script.type = 'text/javascript';
/******/ 		script.charset = 'utf-8';
/******/ 		script.async = true;
/******/ 		script.timeout = 120000;
/******/
/******/ 		if (__webpack_require__.nc) {
/******/ 			script.setAttribute("nonce", __webpack_require__.nc);
/******/ 		}
/******/ 		script.src = __webpack_require__.p + "" + chunkId + ".js";
/******/ 		var timeout = setTimeout(onScriptComplete, 120000);
/******/ 		script.onerror = script.onload = onScriptComplete;
/******/ 		function onScriptComplete() {
/******/ 			// avoid mem leaks in IE.
/******/ 			script.onerror = script.onload = null;
/******/ 			clearTimeout(timeout);
/******/ 			var chunk = installedChunks[chunkId];
/******/ 			if(chunk !== 0) {
/******/ 				if(chunk) {
/******/ 					chunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));
/******/ 				}
/******/ 				installedChunks[chunkId] = undefined;
/******/ 			}
/******/ 		};
/******/ 		head.appendChild(script);
/******/
/******/ 		return promise;
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 17);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AX6Info__ = __webpack_require__(2);


/**
 * @module AX6Util
 */

const _toString = Object.prototype.toString;
const _hasOwnProperty = Object.prototype.hasOwnProperty;
const _fnToString = Function.prototype.toString;
const objectCtorString = _fnToString.call(Object);

const reIsJson = /^(["'](\\.|[^"\\\n\r])*?["']|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/,
      reMs = /^-ms-/,
      reSnakeCase = /[\-_]([\da-z])/gi,
      reCamelCase = /([A-Z])/g,
      reDot = /\./,
      reInt = /[-|+]?[\D]/gi,
      reNotNum = /\D/gi,
      reMoneySplit = new RegExp('([0-9])([0-9][0-9][0-9][,.])'),
      reAmp = /&/g,
      reEq = /=/,
      reClassNameSplit = /[ ]+/g;

function each(O, _fn) {
  if (isNothing(O)) return [];
  let key,
      i = 0,
      l = O.length,
      isObj = l === undefined || typeof O === "function";
  if (isObj) {
    for (key in O) {
      if (typeof O[key] != "undefined") if (_fn.call(O[key], key, O[key]) === false) break;
    }
  } else {
    for (; i < l;) {
      if (typeof O[i] != "undefined") if (_fn.call(O[i], i, O[i++]) === false) break;
    }
  }
  return O;
}

function search(O, _fn) {
  if (isNothing(O)) return -1;
  if (isObject(O)) {
    for (let key in O) {
      if (typeof O[key] != "undefined" && isFunction(_fn) && _fn.call(O[key], key, O[key])) {
        return key;
        break;
      } else if (O[key] == _fn) {
        return key;
        break;
      }
    }
  } else {
    for (let i = 0, l = O.length; i < l; i++) {
      if (typeof O[i] != "undefined" && isFunction(_fn) && _fn.call(O[i], i, O[i])) {
        return i;
        break;
      } else if (O[i] == _fn) {
        return i;
        break;
      }
    }
  }
  return -1;
}

function filter(O, _fn) {
  if (isNothing(O)) return [];
  let k,
      i = 0,
      l = O.length,
      results = [],
      fnResult;
  if (isObject(O)) {
    for (k in O) {
      if (typeof O[k] != "undefined") {
        if (fnResult = _fn.call(O[k], k, O[k])) results.push(O[k]);
      }
    }
  } else {
    for (; i < l;) {
      if (typeof O[i] != "undefined") {
        if (fnResult = _fn.call(O[i], i, O[i])) results.push(O[i]);
        i++;
      }
    }
  }
  return results;
}

function toJson(O) {
  let jsonString = "";
  if (isArray(O)) {
    let i = 0,
        l = O.length;
    jsonString += "[";
    for (; i < l; i++) {
      if (i > 0) jsonString += ",";
      jsonString += toJson(O[i]);
    }
    jsonString += "]";
  } else if (isObject(O)) {
    jsonString += "{";
    let jsonObjectBody = [];
    each(O, function (key, value) {
      jsonObjectBody.push('"' + key + '": ' + toJson(value));
    });
    jsonString += jsonObjectBody.join(", ");
    jsonString += "}";
  } else if (isString(O)) {
    jsonString = '"' + O + '"';
  } else if (isNumber(O)) {
    jsonString = O;
  } else if (isUndefined(O)) {
    jsonString = "undefined";
  } else if (isFunction(O)) {
    jsonString = '"{Function}"';
  } else {
    jsonString = O;
  }
  return jsonString;
}

function parseJson(str, force) {
  if (force || reIsJson.test(str)) {
    try {
      return new Function('', 'return ' + str)();
    } catch (e) {
      return { error: 500, msg: 'syntax error' };
    }
  } else {
    return { error: 500, msg: 'syntax error' };
  }
}

function getType(O) {
  let typeName;
  if (O != null && O == O.window) {
    typeName = "window";
  } else if (!!(O && O.nodeType == 1)) {
    typeName = "element";
  } else if (!!(O && O.nodeType == 11)) {
    typeName = "fragment";
  } else if (O === null) {
    typeName = "null";
  } else if (typeof O === "undefined") {
    typeName = "undefined";
  } else if (_toString.call(O) == "[object Object]") {
    typeName = "object";
  } else if (_toString.call(O) == "[object Array]") {
    typeName = "array";
  } else if (_toString.call(O) == "[object String]") {
    typeName = "string";
  } else if (_toString.call(O) == "[object Number]") {
    typeName = "number";
  } else if (_toString.call(O) == "[object NodeList]") {
    typeName = "nodelist";
  } else if (typeof O === "function") {
    typeName = "function";
  }
  return typeName;
}

function isWindow(O) {
  return O != null && O == O.window;
}

function isElement(O) {
  return !!(O && (O.nodeType == 1 || O.nodeType == 11));
}

function isObject(O) {
  return _toString.call(O) == "[object Object]";
}

function isArray(O) {
  return _toString.call(O) == "[object Array]";
}

function isFunction(O) {
  return typeof O === "function";
}

function isString(O) {
  return _toString.call(O) == "[object String]";
}

function isNumber(O) {
  return _toString.call(O) == "[object Number]";
}

function isNodelist(O) {
  return !!(_toString.call(O) == "[object NodeList]" || typeof O !== "undefined" && O && O[0] && O[0].nodeType == 1);
}

function isUndefined(O) {
  return typeof O === "undefined";
}

function isNothing(O) {
  return typeof O === "undefined" || O === null || O === "";
}

function isDate(O) {
  return O instanceof Date && !isNaN(O.valueOf());
}

function isDateFormat(O) {
  let result = false;

  if (!O) {} else if (O instanceof Date && !isNaN(O.valueOf())) {
    result = true;
  } else {
    if (O.length > 7) {
      if (date(O) instanceof Date) {
        return true;
      }
    }
    O = O.replace(/\D/g, '');
    if (O.length > 7) {
      let mm = O.substr(4, 2),
          dd = O.substr(6, 2);

      O = date(O);
      if (O.getMonth() == mm - 1 && O.getDate() == dd) {
        result = true;
      }
    }
  }
  return result;
}

function isPlainObject(O) {
  let proto, constructor;

  if (!O || _toString.call(O) !== "[object Object]") return false;
  proto = Object.getPrototypeOf(O);

  if (!proto) {
    return true;
  }

  constructor = _hasOwnProperty.call(proto, "constructor") && proto.constructor;
  return typeof constructor === "function" && _fnToString.call(constructor) === objectCtorString;
}

function first(O) {
  if (isObject(O)) {
    let keys = Object.keys(O);
    let item = {};
    item[keys[0]] = O[keys[0]];
    return item;
  } else if (isArray(O)) {
    return O[0];
  } else {
    console.error("AX6Util.object.first", "argument type error");
    return undefined;
  }
}

function last(O) {
  if (isObject(O)) {
    let keys = Object.keys(O);
    let item = {};
    item[keys[keys.length - 1]] = O[keys[keys.length - 1]];
    return item;
  } else if (isArray(O)) {
    return O[O.length - 1];
  } else {
    console.error("AX6Util.object.last", "argument type error");
    return undefined;
  }
}

function setCookie(cn, cv, exdays, opts) {
  let expire;
  if (typeof exdays === "number") {
    expire = new Date();
    expire.setDate(expire.getDate() + exdays);
  }
  opts = opts || {};
  return doc.cookie = [escape(cn), '=', escape(cv), expire ? "; expires=" + expire.toUTCString() : "", // use expires attribute, max-age is not supported by IE
  opts.path ? "; path=" + opts.path : "", opts.domain ? "; domain=" + opts.domain : "", opts.secure ? "; secure" : ""].join("");
}

function getCookie(cname) {
  let name = cname + "=";
  let ca = doc.cookie.split(';'),
      i = 0,
      l = ca.length;
  for (; i < l; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') c = c.substring(1);
    if (c.indexOf(name) != -1) return unescape(c.substring(name.length, c.length));
  }
  return "";
}

function alert(O) {
  win.alert(toJson(O));
  return O;
}

function left(str, pos) {
  if (typeof str === "undefined" || typeof pos === "undefined") return "";
  if (isString(pos)) {
    return str.indexOf(pos) > -1 ? str.substr(0, str.indexOf(pos)) : "";
  } else if (isNumber(pos)) {
    return str.substr(0, pos);
  } else {
    return "";
  }
}

function right(str, pos) {
  if (typeof str === "undefined" || typeof pos === "undefined") return "";
  str = '' + str;
  if (isString(pos)) {
    return str.lastIndexOf(pos) > -1 ? str.substr(str.lastIndexOf(pos) + 1) : "";
  } else if (isNumber(pos)) {
    return str.substr(str.length - pos);
  } else {
    return "";
  }
}

function camelCase(str) {
  return str.replace(reMs, "ms-").replace(reSnakeCase, function (all, letter) {
    return letter.toUpperCase();
  });
}

function snakeCase(str) {
  return camelCase(str).replace(reCamelCase, function (all, letter) {
    return "-" + letter.toLowerCase();
  });
}

function number(str, cond) {
  let result,
      pair = ('' + str).split(reDot),
      isMinus,
      returnValue;

  isMinus = Number(pair[0].replace(/,/g, "")) < 0 || pair[0] == "-0";
  returnValue = 0.0;
  pair[0] = pair[0].replace(reInt, "");

  if (pair[1]) {
    pair[1] = pair[1].replace(reNotNum, "");
    returnValue = Number(pair[0] + "." + pair[1]) || 0;
  } else {
    returnValue = Number(pair[0]) || 0;
  }
  result = isMinus ? -returnValue : returnValue;

  each(cond, function (k, c) {
    if (k == "round") {
      if (isNumber(c)) {
        if (c < 0) {
          result = +(Math.round(result + "e-" + Math.abs(c)) + "e+" + Math.abs(c));
        } else {
          result = +(Math.round(result + "e+" + c) + "e-" + c);
        }
      } else {
        result = Math.round(result);
      }
    }
    if (k == "floor") {
      result = Math.floor(result);
    }
    if (k == "ceil") {
      result = Math.ceil(result);
    } else if (k == "money") {
      result = function (val) {
        var txtNumber = '' + val;
        if (isNaN(txtNumber) || txtNumber == "") {
          return "";
        } else {
          var arrNumber = txtNumber.split('.');
          arrNumber[0] += '.';
          do {
            arrNumber[0] = arrNumber[0].replace(reMoneySplit, '$1,$2');
          } while (reMoneySplit.test(arrNumber[0]));
          if (arrNumber.length > 1) {
            return arrNumber.join('');
          } else {
            return arrNumber[0].split('.')[0];
          }
        }
      }(result);
    } else if (k == "abs") {
      result = Math.abs(Number(result));
    } else if (k == "byte") {
      result = function (val) {
        val = Number(result);
        var nUnit = "KB";
        var myByte = val / 1024;
        if (myByte / 1024 > 1) {
          nUnit = "MB";
          myByte = myByte / 1024;
        }
        if (myByte / 1024 > 1) {
          nUnit = "GB";
          myByte = myByte / 1024;
        }
        return number(myByte, { round: 1 }) + nUnit;
      }(result);
    }
  });

  return result;
}

function toArray(O) {
  if (typeof O.length != "undefined") return Array.prototype.slice.call(O);
  return [];
}

function param(O, cond) {
  var p;
  if (isString(O) && typeof cond !== "undefined" && cond == "param") {
    return O;
  } else if (isString(O) && typeof cond !== "undefined" && cond == "object" || isString(O) && typeof cond === "undefined") {
    p = {};
    each(O.split(reAmp), function () {
      var item = this.split(reEq);
      if (!p[item[0]]) p[item[0]] = item[1];else {
        if (isString(p[item[0]])) p[item[0]] = [p[item[0]]];
        p[item[0]].push(item[1]);
      }
    });
    return p;
  } else {
    p = [];
    each(O, function (k, v) {
      p.push(k + "=" + escape(v));
    });
    return p.join('&');
  }
}

function encode(s) {
  return encodeURIComponent(s);
}

function decode(s) {
  return decodeURIComponent(s);
}

function error() {
  __WEBPACK_IMPORTED_MODULE_0__AX6Info__["a" /* default */].onerror.apply(this, arguments);
}

function localDate(yy, mm, dd, hh, mi, ss) {
  var utcD, localD;
  localD = new Date();
  if (mm < 0) mm = 0;
  if (typeof hh === "undefined") hh = 12;
  if (typeof mi === "undefined") mi = 0;
  utcD = new Date(Date.UTC(yy, mm, dd || 1, hh, mi, ss || 0));

  if (mm == 0 && dd == 1 && utcD.getUTCHours() + utcD.getTimezoneOffset() / 60 < 0) {
    utcD.setUTCHours(0);
  } else {
    utcD.setUTCHours(utcD.getUTCHours() + utcD.getTimezoneOffset() / 60);
  }
  return utcD;
}

function date(d, cond) {
  let yy,
      mm,
      dd,
      hh,
      mi,
      aDateTime,
      aTimes,
      aTime,
      aDate,
      va,
      ISO_8601 = /^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,
      ISO_8601_FULL = /^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;

  if (isString(d)) {
    if (d.length == 0) {
      d = new Date();
    } else if (d.length > 15) {
      if (ISO_8601_FULL.test(d) || ISO_8601.test(d)) {
        d = new Date(d);
      } else {
        aDateTime = d.split(/ /g), aTimes, aTime, aDate = aDateTime[0].split(/\D/g), yy = aDate[0];
        mm = parseFloat(aDate[1]);
        dd = parseFloat(aDate[2]);
        aTime = aDateTime[1] || "09:00";
        aTimes = aTime.substring(0, 5).split(":");
        hh = parseFloat(aTimes[0]);
        mi = parseFloat(aTimes[1]);
        if (right(aTime, 2) === "AM" || right(aTime, 2) === "PM") hh += 12;
        d = localDate(yy, mm - 1, dd, hh, mi);
      }
    } else if (d.length == 14) {
      va = d.replace(/\D/g, "");
      d = localDate(va.substr(0, 4), va.substr(4, 2) - 1, number(va.substr(6, 2)), number(va.substr(8, 2)), number(va.substr(10, 2)), number(va.substr(12, 2)));
    } else if (d.length > 7) {
      va = d.replace(/\D/g, "");
      d = localDate(va.substr(0, 4), va.substr(4, 2) - 1, number(va.substr(6, 2)));
    } else if (d.length > 4) {
      va = d.replace(/\D/g, "");
      d = localDate(va.substr(0, 4), va.substr(4, 2) - 1, 1);
    } else if (d.length > 2) {
      va = d.replace(/\D/g, "");
      return localDate(va.substr(0, 4), va.substr(4, 2) - 1, 1);
    } else {
      d = new Date();
    }
  }
  if (typeof cond === "undefined" || typeof d === "undefined") {
    return d;
  } else {
    if ("add" in cond) {
      d = function (_d, opts) {
        let yy,
            mm,
            dd,
            mxdd,
            DyMilli = 1000 * 60 * 60 * 24;

        if (typeof opts["d"] !== "undefined") {
          _d.setTime(_d.getTime() + opts["d"] * DyMilli);
        } else if (typeof opts["m"] !== "undefined") {
          yy = _d.getFullYear();
          mm = _d.getMonth();
          dd = _d.getDate();
          yy = yy + parseInt(opts["m"] / 12);
          mm += opts["m"] % 12;
          mxdd = daysOfMonth(yy, mm);
          if (mxdd < dd) dd = mxdd;
          _d = new Date(yy, mm, dd, 12);
        } else if (typeof opts["y"] !== "undefined") {
          _d.setTime(_d.getTime() + opts["y"] * 365 * DyMilli);
        } else if (typeof opts["h"] !== "undefined") {
          _d.setTime(_d.getTime() + opts["h"] * 1000 * 60 * 60);
        }

        return _d;
      }(new Date(d), cond["add"]);
    }
    if ("set" in cond) {
      d = function (_d, opts) {
        let yy,
            mm,
            dd,
            processor = {
          "firstDayOfMonth": function (date) {
            yy = date.getFullYear();
            mm = date.getMonth();
            dd = 1;
            return new Date(yy, mm, dd, 12);
          },
          "lastDayOfMonth": function (date) {
            yy = date.getFullYear();
            mm = date.getMonth();
            dd = daysOfMonth(yy, mm);
            return new Date(yy, mm, dd, 12);
          }
        };
        if (opts in processor) {
          return processor[opts](_d);
        } else {
          return _d;
        }
      }(new Date(d), cond["set"]);
    }
    if ("return" in cond) {
      return function () {

        let fStr = cond["return"],
            nY,
            nM,
            nD,
            nH,
            nMM,
            nS,
            nDW,
            yre,
            regY,
            mre,
            regM,
            dre,
            regD,
            hre,
            regH,
            mire,
            regMI,
            sre,
            regS,
            dwre,
            regDW;

        nY = d.getUTCFullYear();
        nM = setDigit(d.getMonth() + 1, 2);
        nD = setDigit(d.getDate(), 2);
        nH = setDigit(d.getHours(), 2);
        nMM = setDigit(d.getMinutes(), 2);
        nS = setDigit(d.getSeconds(), 2);
        nDW = d.getDay();

        yre = /[^y]*(yyyy)[^y]*/gi;
        yre.exec(fStr);
        regY = RegExp.$1;
        mre = /[^m]*(MM)[^m]*/g;
        mre.exec(fStr);
        regM = RegExp.$1;
        dre = /[^d]*(dd)[^d]*/gi;
        dre.exec(fStr);
        regD = RegExp.$1;
        hre = /[^h]*(hh)[^h]*/gi;
        hre.exec(fStr);
        regH = RegExp.$1;
        mire = /[^m]*(mm)[^i]*/g;
        mire.exec(fStr);
        regMI = RegExp.$1;
        sre = /[^s]*(ss)[^s]*/gi;
        sre.exec(fStr);
        regS = RegExp.$1;
        dwre = /[^d]*(dw)[^w]*/gi;
        dwre.exec(fStr);
        regDW = RegExp.$1;

        if (regY === "yyyy") {
          fStr = fStr.replace(regY, right(nY, regY.length));
        }
        if (regM === "MM") {
          if (regM.length == 1) nM = d.getMonth() + 1;
          fStr = fStr.replace(regM, nM);
        }
        if (regD === "dd") {
          if (regD.length == 1) nD = d.getDate();
          fStr = fStr.replace(regD, nD);
        }
        if (regH === "hh") {
          fStr = fStr.replace(regH, nH);
        }
        if (regMI === "mm") {
          fStr = fStr.replace(regMI, nMM);
        }
        if (regS === "ss") {
          fStr = fStr.replace(regS, nS);
        }
        if (regDW == "dw") {
          fStr = fStr.replace(regDW, __WEBPACK_IMPORTED_MODULE_0__AX6Info__["a" /* default */].weekNames[nDW].label);
        }
        return fStr;
      }();
    } else {
      return d;
    }
  }
}

function dday(d, cond) {
  let memoryDay = date(d),
      DyMilli = 1000 * 60 * 60 * 24,
      today = new Date(),
      diffnum,
      thisYearMemoryDay;

  function getDayTime(_d) {
    return Math.floor(_d.getTime() / DyMilli) * DyMilli;
  }

  if (typeof cond === "undefined") {
    diffnum = number((getDayTime(memoryDay) - getDayTime(today)) / DyMilli, { floor: true });
    return diffnum;
  } else {
    diffnum = number((getDayTime(memoryDay) - getDayTime(today)) / DyMilli, { floor: true });
    if (cond["today"]) {
      today = date(cond.today);
      diffnum = number((getDayTime(memoryDay) - getDayTime(today)) / DyMilli, { floor: true });
    }
    if (cond["thisYear"]) {
      thisYearMemoryDay = new Date(today.getFullYear(), memoryDay.getMonth(), memoryDay.getDate());
      diffnum = number((getDayTime(thisYearMemoryDay) - getDayTime(today)) / DyMilli, { floor: true });
      if (diffnum < 0) {
        thisYearMemoryDay = new Date(today.getFullYear() + 1, memoryDay.getMonth(), memoryDay.getDate());
        diffnum = number((getDayTime(thisYearMemoryDay) - getDayTime(today)) / DyMilli, { floor: true });
      }
    }
    if (cond["age"]) {
      thisYearMemoryDay = new Date(today.getFullYear(), memoryDay.getMonth(), memoryDay.getDate());
      diffnum = thisYearMemoryDay.getFullYear() - memoryDay.getFullYear();
    }

    return diffnum;
  }
}

function weeksOfMonth(d) {
  let myDate = date(d);
  return {
    year: myDate.getFullYear(),
    month: myDate.getMonth() + 1,
    count: parseInt(myDate.getDate() / 7 + 1)
  };
}

function daysOfMonth(y, m) {
  if (m == 3 || m == 5 || m == 8 || m == 10) {
    return 30;
  } else if (m == 1) {
    return y % 4 == 0 && y % 100 != 0 || y % 400 == 0 ? 29 : 28;
  } else {
    return 31;
  }
}

function setDigit(num, length, padder, radix) {
  let s = num.toString(radix || 10);
  return times(padder || '0', length - s.length) + s;
}

function times(s, count) {
  return count < 1 ? '' : new Array(count + 1).join(s);
}

function findParentNode(_target, cond) {
  if (_target) {
    while (function () {
      let result = true;
      if (typeof cond === "undefined") {
        _target = _target.parentNode ? _target.parentNode : false;
      } else if (isFunction(cond)) {
        result = cond(_target);
      } else if (isObject(cond)) {
        for (let k in cond) {
          if (k === "tagname") {
            if (_target.tagName.toLocaleLowerCase() != cond[k]) {
              result = false;
              break;
            }
          } else if (k === "clazz" || k === "class_name") {
            if ("className" in _target) {
              let klasss = _target.className.split(reClassNameSplit),
                  hasClass = false;

              for (let a = 0; a < klasss.length; a++) {
                if (klasss[a] == cond[k]) {
                  hasClass = true;
                  break;
                }
              }
              result = hasClass;
            } else {
              result = false;
              break;
            }
          } else {
            // 그외 속성값들.
            if (_target.getAttribute) {
              if (_target.getAttribute(k) != cond[k]) {
                result = false;
                break;
              }
            } else {
              result = false;
              break;
            }
          }
        }
      }
      return !result;
    }()) {
      if (_target.parentNode && _target.parentNode.parentNode) {
        _target = _target.parentNode;
      } else {
        _target = false;
        break;
      }
    }
  }
  return _target;
}

function cssNumber(val) {
  let re = /\D?(\d+)([a-zA-Z%]*)/i,
      found = ('' + val).match(re),
      unit = found[2] || "px";

  return found[1] + unit;
}

function css(val) {
  let returns;
  if (isObject(val)) {
    returns = '';
    for (let k in val) {
      returns += k + ':' + val[k] + ';';
    }
    return returns;
  } else if (isString(val)) {
    returns = {};
    let valSplited = val.split(/[ ]*;[ ]*/g);
    valSplited.forEach(function (v) {
      if ((v = v.trim()) !== "") {
        var vSplited = v.split(/[ ]*:[ ]*/g);
        returns[vSplited[0]] = vSplited[1];
      }
    });
    return returns;
  }
}

function stopEvent(e) {
  // 이벤트 중지 구문
  if (!e) e = window.event;

  //e.cancelBubble is supported by IE -
  // this will kill the bubbling process.
  e.cancelBubble = true;
  e.returnValue = false;

  //e.stopPropagation works only in Firefox.
  if (e.stopPropagation) e.stopPropagation();
  if (e.preventDefault) e.preventDefault();

  return false;
  // 이벤트 중지 구문 끝
}

const selectRange = function () {
  const processor = {
    'textRange': {
      'selectAll': function (el, range, offset) {},
      'arr': function (el, range, offset) {
        range.moveStart("character", offset[0]); // todo ie node select 체크필요
        range.collapse();
        range.moveEnd("character", offset[1]);
      },
      'start': function (el, range, offset) {
        range.moveStart("character", 0);
        range.collapse();
      },
      'end': function (el, range, offset) {
        range.moveStart("character", range.text.length);
        range.collapse();
      }
    },
    'range': {
      'selectAll': function (el, range, offset) {
        range.selectNodeContents(el);
      },
      'arr': function (el, range, offset) {
        if (isObject(offset[0])) {
          range.setStart(offset[0].node, offset[0].offset);
          range.setEnd(offset[1].node, offset[1].offset);
        } else {
          range.setStart(el.firstChild, offset[0]);
          range.setEnd(el.firstChild, offset[1]);
        }
      },
      'start': function (el, range, offset) {
        range.selectNodeContents(el);
        range.collapse(true);
      },
      'end': function (el, range, offset) {
        range.selectNodeContents(el);
        range.collapse(false);
      }
    }
  };
  return function (el, offset) {
    let range, rangeType, selection;

    if (el instanceof jQuery) {
      el = el.get(0);
    }
    if (!el) return;

    // 레인지 타입 선택
    if (doc.body.createTextRange) {
      range = document.body.createTextRange();
      range.moveToElementText(el);
      rangeType = "textRange";
    } else if (window.getSelection) {
      selection = window.getSelection();
      range = document.createRange();
      rangeType = "range";
    }

    // range 적용
    if (typeof offset == "undefined") {
      processor[rangeType].selectAll.call(this, el, range, offset);
    } else if (isArray(offset)) {
      processor[rangeType].arr.call(this, el, range, offset);
    } else {
      for (var key in processor[rangeType]) {
        if (offset == key) {
          processor[rangeType][key].call(this, el, range, offset);
          break;
        }
      }
    }

    // 포커스 및 셀렉트
    if (doc.body.createTextRange) {
      range.select();
      el.focus();
    } else if (window.getSelection) {
      el.focus();
      selection.removeAllRanges();
      selection.addRange(range);
    }
  };
}();

// https://github.com/lodash/lodash/blob/master/debounce.js
const debounce = function (func, wait, options) {
  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;

  let lastInvokeTime = 0;
  let leading = false;
  let maxing = false;
  let trailing = true;

  if (typeof func != 'function') {
    throw new TypeError('Expected a function');
  }
  wait = +wait || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    const args = lastArgs;
    const thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    const timeSinceLastCall = time - lastCallTime;
    const timeSinceLastInvoke = time - lastInvokeTime;
    const result = wait - timeSinceLastCall;

    return maxing ? Math.min(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    const timeSinceLastCall = time - lastCallTime;
    const timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
  }

  function timerExpired() {
    const time = Date.now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(Date.now());
  }

  function debounced(...args) {
    const time = Date.now();
    const isInvoking = shouldInvoke(time);

    lastArgs = args;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }

  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
};

//https://github.com/lodash/lodash/blob/master/throttle.js
const throttle = function (func, wait, options) {
  let leading = true;
  let trailing = true;

  if (typeof func != 'function') {
    throw new TypeError('Expected a function');
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
};

function deepCopy(obj) {
  let r, l;
  if (typeof obj == 'object') {
    if (isArray(obj)) {
      l = obj.length;
      r = new Array(l);
      for (let i = 0; i < l; i++) {
        r[i] = deepCopy(obj[i]);
      }
      return r;
    } else {
      return Object.assign({}, obj);
    }
  }
  return obj;
}

// jQuery extend
function extend() {
  let options,
      name,
      src,
      copy,
      copyIsArray,
      clone,
      target = arguments[0] || {},
      i = 1,
      length = arguments.length,
      deep = false;

  // Handle a deep copy situation
  if (typeof target === "boolean") {
    deep = target;

    // Skip the boolean and the target
    target = arguments[i] || {};
    i++;
  }

  // Handle case when target is a string or something (possible in deep copy)
  if (typeof target !== "object" && !isFunction(target)) {
    target = {};
  }

  // Extend jQuery itself if only one argument is passed
  if (i === length) {
    target = this;
    i--;
  }

  for (; i < length; i++) {

    // Only deal with non-null/undefined values
    if ((options = arguments[i]) != null) {

      // Extend the base object
      for (name in options) {
        src = target[name];
        copy = options[name];

        // Prevent never-ending loop
        if (target === copy) {
          continue;
        }

        // Recurse if we're merging plain objects or arrays
        if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {

          if (copyIsArray) {
            copyIsArray = false;
            clone = src && isArray(src) ? src : [];
          } else {
            clone = src && isPlainObject(src) ? src : {};
          }

          // Never move original objects, clone them
          target[name] = extend(deep, clone, copy);

          // Don't bring in undefined values
        } else if (copy !== undefined) {
          target[name] = copy;
        }
      }
    }
  }

  // Return the modified object
  return target;
}

function escapeHtml(s) {
  if (_toString.call(s) != "[object String]") return s;
  if (!s) return "";
  return s.replace(/[\<\>\&\"]/gm, function (match) {
    switch (match) {
      case "<":
        return "&lt;";
      case ">":
        return "&gt;";
      case "&":
        return "&amp;";
      case "\"":
        return "&quot;";
      default:
        return match;
    }
  });
}

function unescapeHtml(s) {
  if (_toString.call(s) != "[object String]") return s;
  if (!s) return "";
  return s.replace(/(&lt;)|(&gt;)|(&amp;)|(&quot;)/gm, function (match) {
    switch (match) {
      case "&lt;":
        return "<";
      case "&gt;":
        return ">";
      case "&amp;":
        return "&";
      case "&quot;":
        return "\"";
      default:
        return match;
    }
  });
}

/**
 * @namespace ax6string
 * @example
 * ```js
 * AX6Util.string("{0} is dead").format("A");
 * AX6Util.string("String").escape();
 * AX6Util.string("String").unescape();
 * AX6Util.string("String").encode();
 * AX6Util.string("String").decode();
 * AX6Util.string("String").left(1);
 * AX6Util.string("String").right(1);
 * AX6Util.string("String").camelCase();
 * AX6Util.string("String").snakeCase();
 * ```
 */

function string(_string) {
  return new function (_string) {
    this.value = _string;
    this.toString = function () {
      return this.value;
    };
    this.format = function () {
      let args = [];
      for (let i = 0, l = arguments.length; i < l; i++) {
        args = args.concat(arguments[i]);
      }
      return this.value.replace(/{(\d+)}/g, function (match, number) {
        return typeof args[number] != 'undefined' ? args[number] : match;
      });
    };
    this.escape = function () {
      return escapeHtml(this.value);
    };
    this.unescape = function () {
      return unescapeHtml(this.value);
    };
    this.encode = function () {
      return encode(this.value);
    };
    this.decode = function () {
      return decode(this.value);
    };
    this.left = function (_pos) {
      return left(this.value, _pos);
    };
    this.right = function (_pos) {
      return right(this.value, _pos);
    };
    this.camelCase = function () {
      return camelCase(this.value);
    };
    this.snakeCase = function () {
      return snakeCase(this.value);
    };
  }(_string);
}

function color(_hexColor) {

  const matchers = function () {

    // <http://www.w3.org/TR/css3-values/#integers>
    const CSS_INTEGER = "[-\\+]?\\d+%?";

    // <http://www.w3.org/TR/css3-values/#number-value>
    const CSS_NUMBER = "[-\\+]?\\d*\\.\\d+%?";

    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.
    const CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";

    // Actual matching.
    // Parentheses and commas are optional, but not required.
    // Whitespace can take the place of commas or opening paren
    const PERMISSIVE_MATCH3 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
    const PERMISSIVE_MATCH4 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";

    return {
      CSS_UNIT: new RegExp(CSS_UNIT),
      rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),
      rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),
      hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),
      hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),
      hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),
      hsva: new RegExp("hsva" + PERMISSIVE_MATCH4),
      hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
      hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
      hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
      hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
    };
  }();

  const convertObject = function (_color) {
    let match;
    if (match = matchers.rgb.exec(_color)) {
      return { r: match[1], g: match[2], b: match[3] };
    }
    if (match = matchers.rgba.exec(_color)) {
      return { r: match[1], g: match[2], b: match[3], a: match[4] };
    }
    if (match = matchers.hsl.exec(_color)) {
      return { h: match[1], s: match[2], l: match[3] };
    }
    if (match = matchers.hsla.exec(_color)) {
      return { h: match[1], s: match[2], l: match[3], a: match[4] };
    }
    if (match = matchers.hsv.exec(_color)) {
      return { h: match[1], s: match[2], v: match[3] };
    }
    if (match = matchers.hsva.exec(_color)) {
      return { h: match[1], s: match[2], v: match[3], a: match[4] };
    }
    if (match = matchers.hex8.exec(_color)) {
      return {
        r: parseInt(match[1], 16),
        g: parseInt(match[2], 16),
        b: parseInt(match[3], 16),
        a: parseInt(match[4] / 255, 16),
        format: "hex8"
      };
    }
    if (match = matchers.hex6.exec(_color)) {
      return {
        r: parseInt(match[1], 16),
        g: parseInt(match[2], 16),
        b: parseInt(match[3], 16),
        format: "hex"
      };
    }
    if (match = matchers.hex4.exec(_color)) {
      return {
        r: parseInt(match[1] + '' + match[1], 16),
        g: parseInt(match[2] + '' + match[2], 16),
        b: parseInt(match[3] + '' + match[3], 16),
        a: parseInt(match[4] + '' + match[4], 16),
        format: "hex8"
      };
    }
    if (match = matchers.hex3.exec(_color)) {
      return {
        r: parseInt(match[1] + '' + match[1], 16),
        g: parseInt(match[2] + '' + match[2], 16),
        b: parseInt(match[3] + '' + match[3], 16),
        format: "hex"
      };
    }

    return false;
  };

  function isOnePointZero(n) {
    return typeof n == "string" && n.indexOf('.') != -1 && parseFloat(n) === 1;
  }

  function isPercentage(n) {
    return typeof n === "string" && n.indexOf('%') != -1;
  }

  function convertToPercentage(n) {
    if (n <= 1) {
      n = n * 100 + "%";
    }

    return n;
  }

  function convertTo255(n) {
    return number(Math.min(255, Math.max(n, 0)), { 'round': 2 });
  }

  function convertToHex(n) {
    return setDigit(Math.round(n).toString(16), 2);
  }

  function bound01(n, max) {
    if (isOnePointZero(n)) {
      n = "100%";
    }

    let processPercent = isPercentage(n);
    n = Math.min(max, Math.max(0, parseFloat(n)));

    // Automatically convert percentage into number
    if (processPercent) {
      n = parseInt(n * max, 10) / 100;
    }

    // Handle floating point rounding errors
    if (Math.abs(n - max) < 0.000001) {
      return 1;
    }

    // Convert into [0, 1] range if it isn't already
    return n % max / parseFloat(max);
  }

  function rgbToHsl(r, g, b) {
    r = bound01(r, 255);
    g = bound01(g, 255);
    b = bound01(b, 255);

    let max = Math.max(r, g, b),
        min = Math.min(r, g, b);
    let h,
        s,
        l = (max + min) / 2;

    if (max == min) {
      h = s = 0; // achromatic
    } else {
      let d = max - min;
      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
      switch (max) {
        case r:
          h = (g - b) / d + (g < b ? 6 : 0);
          break;
        case g:
          h = (b - r) / d + 2;
          break;
        case b:
          h = (r - g) / d + 4;
          break;
      }

      h /= 6;
    }

    return { h: h, s: s, l: l };
  }

  function hslToRgb(h, s, l) {
    let r, g, b;

    h = bound01(h, 360);
    s = bound01(s, 100);
    l = bound01(l, 100);

    function hue2rgb(p, q, t) {
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 1 / 6) return p + (q - p) * 6 * t;
      if (t < 1 / 2) return q;
      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
      return p;
    }

    if (s === 0) {
      r = g = b = l; // achromatic
    } else {
      let q = l < 0.5 ? l * (1 + s) : l + s - l * s;
      let p = 2 * l - q;
      r = hue2rgb(p, q, h + 1 / 3);
      g = hue2rgb(p, q, h);
      b = hue2rgb(p, q, h - 1 / 3);
    }

    return { r: r * 255, g: g * 255, b: b * 255 };
  }

  return new function (_color) {
    this._originalValue = _color;
    _color = convertObject(_color);
    this.r = _color.r;
    this.g = _color.g;
    this.b = _color.b;
    this.a = _color.a || 1;
    this._format = _color.format;
    this._hex = convertToHex(this.r) + convertToHex(this.g) + convertToHex(this.b);

    this.getHexValue = function () {
      return this._hex;
    };

    this.lighten = function (amount) {
      amount = amount === 0 ? 0 : amount || 10;
      let hsl = rgbToHsl(this.r, this.g, this.b),
          rgb = {};

      hsl.l += amount / 100;
      hsl.l = Math.min(1, Math.max(0, hsl.l));
      hsl.h = hsl.h * 360;

      rgb = hslToRgb(hsl.h, convertToPercentage(hsl.s), convertToPercentage(hsl.l));

      return color('rgba(' + convertTo255(rgb.r) + ', ' + convertTo255(rgb.g) + ', ' + convertTo255(rgb.b) + ', ' + this.a + ')');
    };

    this.darken = function (amount) {
      amount = amount === 0 ? 0 : amount || 10;
      let hsl = rgbToHsl(this.r, this.g, this.b),
          rgb = {};

      hsl.l -= amount / 100;
      hsl.l = Math.min(1, Math.max(0, hsl.l));
      hsl.h = hsl.h * 360;

      rgb = hslToRgb(hsl.h, convertToPercentage(hsl.s), convertToPercentage(hsl.l));

      return color('rgba(' + convertTo255(rgb.r) + ', ' + convertTo255(rgb.g) + ', ' + convertTo255(rgb.b) + ', ' + this.a + ')');
    };

    this.getBrightness = function () {
      return (this.r * 299 + this.g * 587 + this.b * 114) / 1000;
    };

    this.isDark = function () {
      return this.getBrightness() < 128;
    };

    this.isLight = function () {
      return !this.isDark();
    };

    this.getHsl = function () {
      let hsl = rgbToHsl(this.r, this.g, this.b);
      hsl.l = Math.min(1, Math.max(0, hsl.l));
      hsl.h = hsl.h * 360;
      return {
        h: hsl.h,
        s: hsl.s,
        l: hsl.l
      };
    };
  }(_hexColor);
}

/* harmony default export */ __webpack_exports__["a"] = ({

  /**
   * jsonString 으로 alert 합니다.
   * @param {Object|Array|String|Number} O
   * @returns {Object|Array|String|Number} O
   * @example ```js
   * AX6Util.alert({a:1,b:2});
   * AX6Util.alert("정말?");
   * ```
   */
  alert: alert,
  /**
   * Object나 Array의 아이템으로 사용자 함수를 호출합니다.
   * @param {Object|Array} O
   * @param {Function} _fn
   * @example
   * ```js
   * var axf = AX6Util;
   * axf.each([0,1,2], function(){
   * 	// with this
   * });
   * axf.each({a:1, b:2}, function(){
   * 	// with this
   * });
   * ```
   */
  each: each,
  /**
   * 원본 아이템들을 이용하여 사용자 함수의 리턴값이 참인 아이템의 위치나 키값을 반환합니다.
   * @param {Object|Array} O
   * @param {Function|String|Number} _fn - 함수 또는 값
   * @returns {Number|String}
   * @example
   * ```js
   * var myArray = [0,1,2,3,4,5,6];
   * var myObject = {a:"123","b":"123",c:123};
   *
   * AX6Util.search(myArray,  function(){
   *    return this > 3;
   * });
   * // 4
   * AX6Util.search(myObject,  function(k, v){
   *    return v === 123;
   * });
   * // "c"
   * AX6Util.search([1,2,3,4], 3);
   * // 2
   * AX6Util.search([1,2], 4);
   * // -1
   * AX6Util.search(["name","value"], "value");
   * // 1
   * AX6Util.search(["name","value"], "values");
   * // -1
   * AX6Util.search({k1:"name",k2:"value"}, "value2");
   * // -1
   * AX6Util.search({k1:"name",k2:"value"}, "value");
   * // "k2"
   * ```
   */
  search: search,
  /**
   * 배열또는 오브젝트의 각 아이템을 인자로 하는 사용자 함수의 결과가 참인 아이템들의 배열을 반환합니다.
   * @param {Object|Array} O
   * @param {Function} _fn
   * @returns {Array}
   * @example
   * ```js
   * var aarray = [5,4,3,2,1];
   * result = AX6Util.filter( aarray, function(){
   *    return this % 2;
   * });
   * console.log(result);
   * // [5, 3, 1]
   *
   * var filObject = {a:1, s:"string", oa:{pickup:true, name:"AXISJ"}, os:{pickup:true, name:"AX5"}};
   * result = AX6Util.filter( filObject, function(){
   * 	return this.pickup;
   * });
   * console.log( AX6Util.toJson(result) );
   * // [{"pickup": , "name": "AXISJ"}, {"pickup": , "name": "AX5"}]
   * ```
   */
  filter: filter,
  /**
   * Object를 JSONString 으로 반환합니다.
   * @method AX6Util.toJson
   * @param {Object|Array} O
   * @returns {String} JSON
   * @example
   * ```js
   * var ax = AX6Util;
   * var myObject = {
   *    a:1, b:"2", c:{axj:"what", arrs:[0,2,"3"]},
   *    fn: function(abcdd){
   *        return abcdd;
   *    }
   * };
   * console.log( ax.toJson(myObject) );
   * ```
   */
  toJson: toJson,
  /**
   * 관용의 JSON Parser
   * @param {String} JSONString
   * @param {Boolean} [force] - 강제 적용 여부 (json 문자열 검사를 무시하고 오브젝트 변환을 시도합니다.)
   * @returns {Object}
   * @example
   * ```
   * console.log(AX6Util.parseJson('{"a":1}'));
   * // Object {a: 1}
   * console.log(AX6Util.parseJson("{'a':1, 'b':'b'}"));
   * // Object {a: 1, b: "b"}
   * console.log(AX6Util.parseJson("{'a':1, 'b':function(){return 1;}}", true));
   * // Object {a: 1, b: function}
   * console.log(AX6Util.parseJson("{a:1}"));
   * // Object {a: 1}
   * console.log(AX6Util.parseJson("[1,2,3]"));
   * // [1, 2, 3]
   * console.log(AX6Util.parseJson("['1','2','3']"));
   * // ["1", "2", "3"]
   * console.log(AX6Util.parseJson("[{'a':'99'},'2','3']"));
   * // [Object, "2", "3"]
   * ```
   */
  parseJson: parseJson,
  /**
   * 오브젝트의 첫번째 아이템을 반환합니다.
   * @param {Object|Array} O
   * @returns {Object}
   * @example
   * ```js
   * AX6Util.first({a:1, b:2});
   * // Object {a: 1}
   * AX6Util.first([1,2,3,4]);
   * // 1
   * ```
   */
  first: first,
  /**
   * 오브젝트의 마지막 아이템을 반환합니다.
   * @param {Object|Array} O
   * @returns {Object}
   * @example
   * ```js
   * AX6Util.last({a:1, b:2});
   * // Object {b: 2}
   * AX6Util.last([1,2,3,4]);
   * // 4
   * ```
   */
  last: last,
  /**
   * 문자열의 특정 문자열까지 잘라주거나 원하는 포지션까지 잘라줍니다.
   * @param {String} str - 문자열
   * @param {String|Number} pos - 찾을 문자열 또는 포지션
   * @returns {String}
   * @example
   * ```js
   * AX6Util.left("abcd.efd", 3);
   * // abc
   * AX6Util.left("abcd.efd", ".");
   * // abcd
   * ```
   */
  left: left,
  /**
   * 문자열의 특정 문자열까지 잘라주거나 원하는 포지션까지 잘라줍니다.
   * @param {String} str - 문자열
   * @param {String|Number} pos - 찾을 문자열 또는 포지션
   * @returns {String}
   * @example
   * ```js
   * AX6Util.right("abcd.efd", 3);
   * // efd
   * AX6Util.right("abcd.efd", ".");
   * // efd
   * ```
   */
  right: right,
  /**
   * 인자의 타입을 반환합니다.
   * @param {Object|Array|String|Number|Element|Etc} O
   * @returns {String} window|element|object|array|function|string|number|undefined|nodelist
   * @example
   * ```js
   * var axf = AX6Util;
   * var a = 11;
   * var b = "11";
   * console.log( axf.getType(a) );
   * console.log( axf.getType(b) );
   * ```
   */
  getType: getType,
  /**
   * 오브젝트가 window 인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isWindow: isWindow,
  /**
   * 오브젝트가 HTML 엘리먼트여부인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isElement: isElement,
  /**
   * 오브젝트가 Object인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isObject: isObject,
  /**
   * 오브젝트가 Array인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isArray: isArray,
  /**
   * 오브젝트가 Function인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isFunction: isFunction,
  /**
   * 오브젝트가 String인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isString: isString,
  /**
   * 오브젝트가 Number인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isNumber: isNumber,
  /**
   * 오브젝트가 NodeList인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isNodelist: isNodelist,
  /**
   * 오브젝트가 undefined인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  isUndefined: isUndefined,
  /**
   * 오브젝트가 undefined이거나 null이거나 빈값인지 판단합니다.
   * @param {Object} O
   * @returns {Boolean}
   */
  /**
   * 오브젝트가 날자값인지 판단합니다.
   * @param {Date} O
   * @returns {Boolean}
   * @example
   * ```js
   * AX6Util.isDate('2016-09-30');
   * // false
   * AX6Util.isDate( new Date('2016-09-30') );
   * // true
   * ```
   */
  isDate: isDate,
  /**
   * 오브젝트가 날짜형 변수인지 판단합니다
   */
  isDateFormat: isDateFormat,
  /**
   * @param {*} object
   * @return {Boolean}
   */
  isNothing: isNothing,
  /**
   * @param {*} object
   * @return {Boolean}
   */
  isPlainObject: isPlainObject,
  /**
   * 쿠키를 설정합니다.
   * @param {String} cname - 쿠키이름
   * @param {String} cvalue - 쿠키값
   * @param {Number} [exdays] - 쿠키 유지일수
   * @param {Object} [opts] - path, domain 설정 옵션
   * @example
   * ```js
   * AX6Util.setCookie("jslib", "AX5");
   * AX6Util.setCookie("jslib", "AX5", 3);
   * AX6Util.setCookie("jslib", "AX5", 3, {path:"/", domain:".axisj.com"});
   * ```
   */
  setCookie: setCookie,
  /**
   * 쿠키를 가져옵니다.
   * @param {String} cname
   * @returns {String} cookie value
   * @example
   * ```js
   * AX6Util.getCookie("jslib");
   * ```
   */
  getCookie: getCookie,
  /**
   * css형 문자열이나 특수문자가 포함된 문자열을 카멜케이스로 바꾸어 반환합니다.
   * @param {String} str
   * @returns {String}
   * @example
   * ```js
   * AX6Util.camelCase("inner-width");
   * AX6Util.camelCase("innerWidth");
   * // innerWidth
   * ```
   */
  camelCase: camelCase,
  /**
   * css형 문자열이나 카멜케이스문자열을 스네이크 케이스 문자열로 바꾸어 반환합니다.
   * @param {String} str
   * @returns {String}
   * @example
   * ```js
   * AX6Util.snakeCase("innerWidth");
   * AX6Util.snakeCase("inner-Width");
   * AX6Util.snakeCase("innerWidth");
   * // inner-width
   * ```
   */
  snakeCase: snakeCase,
  /**
   * 문자열에서 -. 을 제외한 모든 문자열을 제거하고 숫자로 반환합니다. 옵션에 따라 원하는 형식의 숫자로 변환 할 수 도 있습니다.
   * @param {String|Number} str
   * @param {Object} cond - 옵션
   * @returns {String|Number}
   * @example
   * ```js
   * var cond = {
   * 	round: {Number|Boolean} - 반올림할 자릿수,
   * 	money: {Boolean} - 통화,
   * 	abs: {Boolean} - 절대값,
   * 	byte: {Boolean} - 바이트
   * }
   *
   * console.log(AX6Util.number(123456789.678, {round:1}));
   * console.log(AX6Util.number(123456789.678, {round:1, money:true}));
   * console.log(AX6Util.number(123456789.678, {round:2, byte:true}));
   * console.log(AX6Util.number(-123456789.8888, {abs:true, round:2, money:true}));
   * console.log(AX6Util.number("A-1234~~56789.8~888PX", {abs:true, round:2, money:true}));
   *
   * //123456789.7
   * //123,456,789.7
   * //117.7MB
   * //123,456,789.89
   * //123,456,789.89
   * ```
   */
  number: number,
  /**
   * 배열 비슷한 오브젝트를 배열로 변환해줍니다.
   * @param {Object|Elements|Arguments} O
   * @returns {Array}
   * @example
   * ```js
   * AX6Util.toArray(arguments);
   * //
   * ```
   */
  toArray: toArray,
  /**
   * 오브젝트를 파라미터형식으로 또는 파라미터를 오브젝트 형식으로 변환합니다.
   * @param {Object|Array|String} O
   * @param {String} [cond] - param|object
   * @returns {Object|String}
   * @example
   * ```
   * AX6Util.param({a:1,b:'1232'}, "param");
   * AX6Util.param("a=1&b=1232", "param");
   * // "a=1&b=1232"
   * AX6Util.param("a=1&b=1232");
   * // {a: "1", b: "1232"}
   * ```
   */
  param: param,
  error: error,
  /**
   * 날짜 형식의 문자열이나 Date객체를 조건에 맞게 처리 한 후 원하는 return 값으로 반환합니다.
   * @param {String|Date} d
   * @param {Object} cond
   * @returns {Date|String}
   * @example
   * ```js
   * AX6Util.date('2013-01-01'); // Tue Jan 01 2013 23:59:00 GMT+0900 (KST)
   * AX6Util.date((new Date()), {add:{d:10}, return:'yyyy/MM/dd'}); // "2015/07/01"
   * AX6Util.date('1919-03-01', {add:{d:10}, return:'yyyy/MM/dd hh:mm:ss'}); // "1919/03/11 23:59:00"
   * ```
   */
  date: date,
  /**
   * 인자인 날짜가 오늘부터 몇일전인지 반환합니다. 또는 인자인 날짜가 가까운 미래에 몇일 후인지 반환합니다.
   * @param {String|Data} d
   * @param {Object} cond
   * @returns {Number}
   * @example
   * ```js
   * AX6Util.dday('2016-01-29');
   * // 1
   * AX6Util.dday('2016-01-29', {today:'2016-01-28'});
   * // 1
   * AX6Util.dday('1977-03-29', {today:'2016-01-28', age:true});
   * // 39
   * ```
   */
  dday: dday,
  /**
   * 년월에 맞는 날자수를 반환합니다.
   * (new Date()).getMonth() 기준으로 월값을 보냅니다. "2월" 인경우 "1" 을 넘기게 됩니다.
   * @param {Number} y
   * @param {Number} m
   * @returns {Number}
   * @examples
   * ```js
   * AX6Util.daysOfMonth(2015, 11); // 31
   * AX6Util.daysOfMonth(2015, 1); // 28
   * ```
   */
  daysOfMonth: daysOfMonth,
  /**
   * 인자인 날짜가 몇년 몇월의 몇번째 주차인지 반환합니다.
   * @param {String|Data} d
   * @returns {Object}
   * @example
   * ```js
   * AX6Util.weeksOfMonth("2015-10-01"); // {year: 2015, month: 10, count: 1}
   * AX6Util.weeksOfMonth("2015-09-19"); // {year: 2015, month: 9, count: 3}
   * ```
   */
  weeksOfMonth: weeksOfMonth,
  /**
   * 원하는 횟수 만큼 자릿수 맞춤 문자열을 포함한 문자열을 반환합니다.
   * 문자열 길이보다 작은값을 보내면 무시됩니다.
   * @param {String|Number} num
   * @param {Number} length
   * @param {String} [padder=0]
   * @param {Number} [radix]
   * @returns {String}
   * @example
   * ```
   * AX6Util.setDigit(2016, 6)
   * // "002016"
   * AX6Util.setDigit(2016, 2)
   * // "2016"
   * ```
   */
  setDigit: setDigit,
  /**
   * 문자열을 지정된 수만큼 반복 합니다.
   * @param {String} s
   * @param {Number} count
   * @returns {string}
   * @example
   * ```
   * AX6Util.times(2016, 2)
   * //"20162016"
   * ```
   */
  times: times,
  /**
   * 타겟엘리먼트의 부모 엘리멘트 트리에서 원하는 조건의 엘리먼트를 얻습니다.
   * @param {Element} _target - target element
   * @param {Object|Function} cond - 원하는 element를 찾을 조건
   * @returns {Element}
   * @example
   * ```
   * // cond 속성정의
   * var cond = {
   * 	tagname: {String} - 태그명 (ex. a, div, span..),
   * 	clazz: {String} - 클래스명
   * 	[, 그 외 찾고 싶은 attribute명들]
   * };
   * console.log(
   * console.log(
   *    AX6Util.findParentNode(e.target, {tagname:"a", clazz:"ax-menu-handel", "data-custom-attr":"attr_value"})
   * );
   * // cond 함수로 처리하기
   * jQuery('#id').bind("click.app_expand", function(e){
   * 	var target = AX6Util.findParentNode(e.target, function(target){
   * 		if($(target).hasClass("aside")){
   * 			return true;
   * 		}
   * 		else{
   * 			return true;
   * 		}
   * 	});
   * 	//client-aside
   * 	if(target.id !== "client-aside"){
   * 		// some action
   * 	}
   * });
   * ```
   */
  findParentNode: findParentNode,
  /**
   * @param {String|Number} val
   * @returns {String}
   * @example
   * ```
   * console.log(AX6Util.cssNumber("100px"))
   * console.log(AX6Util.cssNumber("100%"))
   * console.log(AX6Util.cssNumber("100"))
   * console.log(AX6Util.cssNumber(100))
   * console.log(AX6Util.cssNumber("!!100@#"))
   * ```
   */
  cssNumber: cssNumber,
  /**
   * css string 및 object 를 넘기면 object 및 string 으로 변환되어 리턴됩니다.
   * @param {Object|String} val - CSS String or CSS Object
   * @returns {String|Object}
   * @example
   * ```
   * console.log(AX6Util.css({background: "#ccc", padding: "50px", width: "100px"}));
   * //"background:#ccc;padding:50px;width:100px;"
   * console.log(AX6Util.css('width:100px;padding: 50px; background: #ccc'));
   * // object {width: "100px", padding: "50px", background: "#ccc"}
   * ```
   */
  css: css,
  /**
   * @param {Event} e
   * @example
   * ```
   * AX6Util.stopEvent(e);
   * ```
   */
  stopEvent: stopEvent,
  /**
   * @param {Element} el
   * @param {Element} offset
   * @example
   * ```
   * AX6Util.selectRange($("#select-test-0")); // selectAll
   * AX6Util.selectRange($("#select-test-0"), "selectAll"); //selectAll
   * AX6Util.selectRange($("#select-test-0"), "start"); // focus on start
   * AX6Util.selectRange($("#select-test-0"), "end"); // focus on end
   * AX6Util.selectRange($("#select-test-0"), [1, 5]); // select 1~5
   * ```
   */
  selectRange: selectRange,
  /**
   * 지정한 시간을 지연시켜 함수를 실행합니다.
   * @param {Function} func
   * @param {Number} wait
   * @param {Object} options
   * @returns {debounced}
   * @example
   * ```js
   * // https://github.com/lodash/lodash/blob/master/debounce.js
   * var debounceFn = AX6Util.debounce(function( val ) { console.log(val); }, 300);
   * $(document.body).click(function(){
         *  debounceFn(new Date());
         * });
   * ```
   */
  debounce: debounce,
  /**
   * @param func
   * @param wait
   * @param options
   * @return {throttled}
   * @example
   * ```js
   * //https://github.com/lodash/lodash/blob/master/throttle.js
   * var throttleFn = AX6Util.throttle(function( val ) { console.log(val); }, 300);
   * $(window).scroll(function(){
     *      throttleFn(new Date());
     * });
   * ```
   */
  throttle: throttle,
  /**
   * @param {Object} obj
   * @returns {Object}
   * @example
   * ```js
   * var obj = [
   *  {name:"A", child:[{name:"a-1"}]},
   *  {name:"B", child:[{name:"b-1"}], callBack: function(){ console.log('callBack'); }}
   * ];
   * var copiedObj = AX6Util.deepCopy(obj)
   * ```
   */
  deepCopy: deepCopy,
  /**
   * @param {Boolean} [deep]
   * @param {Object} src
   * @param {Object} copy
   * @return {Object}
   * @example
   * ```js
   * AX6Util.extend({a:1}, {b:1});
   * AX6Util.extend(true, {a:1, b:{name:'t'}, {b:{etc:true}});
   * ```
   */
  extend: extend,
  /**
   * HTML 문자열을 escape 처리합니다.
   * "&lt;" represents the < sign.
   * "&gt;" represents the > sign.
   * "&amp;" represents the & sign.
   * "&quot; represents the " mark.
   * [Character entity references](https://www.w3.org/TR/html401/charset.html#h-5.3)
   * @param {String} s
   * @returns {string}
   * @example
   * ```
   * AX6Util.escapeHtml('HTML <span>string</span> & "escape"')
   * //"HTML &lt;span&gt;string&lt;/span&gt; &amp; &quot;escape&quot;"
   * ```
   */
  escapeHtml: escapeHtml,
  /**
   * HTML 문자열을 unescape 처리합니다.
   * escapeHtml를 참고하세요.
   * @param {String} s
   * @returns {string}
   * @example
   * ```
   * AX6Util.unescapeHtml('HTML &lt;span&gt;string&lt;/span&gt; &amp; &quot;escape&quot;')
   * //"HTML <span>string</span> & "escape""
   * ```
   */
  unescapeHtml: unescapeHtml,
  /**
   * @param {String} tmpl
   * @param {*} args
   * @return {ax6string}
   * @example
   * ```js
   * AX6Util.string("{0} is dead, but {1} is alive! {0} {2}").format("ASP", "ASP.NET");
   * AX6Util.string("{0} is dead, but {1} is alive! {0} {2}").format(["ASP", "ASP.NET"]);
   * AX6Util.stinrg("{0} counts").format(100);
   * ```
   */
  string: string,
  /**
   * @param _hexColor
   * @return {ax5color}
   * @example
   * ```js
   * AX6Util.color("#ff3300").lighten(10).getHexValue()
   * console.log(AX6Util.color("#ff3300").darken(10).getHexValue());
   * ```
   */
  color: color
});

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.2.2 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-attributes/prop,-attributes/support,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-wrap,-deferred,-deferred/exceptionHook,-queue,-queue/delay,-core/ready,-event/focusin,-event/alias,-css/showHide,-css/hiddenVisibleSelectors
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-07-14T08:07Z
 */
( function( global, factory ) {

	"use strict";

	if ( typeof module === "object" && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var document = window.document;

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var concat = arr.concat;

var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};




	function DOMEval( code, doc ) {
		doc = doc || document;

		var script = doc.createElement( "script" );

		script.text = code;
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.2.2 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-attributes/prop,-attributes/support,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-wrap,-deferred,-deferred/exceptionHook,-queue,-queue/delay,-core/ready,-event/focusin,-event/alias,-css/showHide,-css/hiddenVisibleSelectors",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android <=4.0 only
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return letter.toUpperCase();
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {

					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && Array.isArray( src ) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject( src ) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isFunction: function( obj ) {

		// Support: Chrome <=57, Firefox <=52
		// In some browsers, typeof returns "function" for HTML <object> elements
		// (i.e., `typeof document.createElement( "object" ) === "function"`).
		// We don't want to classify *any* DOM node as a function.
		return typeof obj === "function" && typeof obj.nodeType !== "number";
	},

	isNumeric: function( obj ) {

		// As of jQuery 3.0, isNumeric is limited to
		// strings and numbers (primitives or objects)
		// that can be coerced to finite numbers (gh-2662)
		var type = jQuery.type( obj );
		return ( type === "number" || type === "string" ) &&

			// parseFloat NaNs numeric-cast false positives ("")
			// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
			// subtraction forces infinities to NaN
			!isNaN( obj - parseFloat( obj ) );
	},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {

		/* eslint-disable no-unused-vars */
		// See https://github.com/eslint/eslint/issues/6125
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	type: function( obj ) {
		if ( obj == null ) {
			return obj + "";
		}

		// Support: Android <=2.3 only (functionish RegExp)
		return typeof obj === "object" || typeof obj === "function" ?
			class2type[ toString.call( obj ) ] || "object" :
			typeof obj;
	},

	// Evaluates a script in a global context
	globalEval: function( code ) {
		DOMEval( code );
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Support: IE <=9 - 11, Edge 12 - 15
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// Support: Android <=4.0 only
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var tmp, args, proxy;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || jQuery.guid++;

		return proxy;
	},

	now: Date.now,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
function( i, name ) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = jQuery.type( obj );

	if ( jQuery.isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var documentElement = document.documentElement;



/*
 * Optional (non-Sizzle) selector module for custom builds.
 *
 * Note that this DOES NOT SUPPORT many documented jQuery
 * features in exchange for its smaller size:
 *
 * Attribute not equal selector
 * Positional selectors (:first; :eq(n); :odd; etc.)
 * Type selectors (:input; :checkbox; :button; etc.)
 * State-based selectors (:animated; :visible; :hidden; etc.)
 * :has(selector)
 * :not(complex selector)
 * custom selectors via Sizzle extensions
 * Leading combinators (e.g., $collection.find("> *"))
 * Reliable functionality on XML fragments
 * Requiring all parts of a selector to match elements under context
 *   (e.g., $div.find("div > *") now matches children of $div)
 * Matching against non-elements
 * Reliable sorting of disconnected nodes
 * querySelectorAll bug fixes (e.g., unreliable :focus on WebKit)
 *
 * If any of these are unacceptable tradeoffs, either use Sizzle or
 * customize this stub for the project's specific needs.
 */

var hasDuplicate, sortInput,
	sortStable = jQuery.expando.split( "" ).sort( sortOrder ).join( "" ) === jQuery.expando,
	matches = documentElement.matches ||
		documentElement.webkitMatchesSelector ||
		documentElement.mozMatchesSelector ||
		documentElement.oMatchesSelector ||
		documentElement.msMatchesSelector,

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	};

function sortOrder( a, b ) {

	// Flag for duplicate removal
	if ( a === b ) {
		hasDuplicate = true;
		return 0;
	}

	// Sort on method existence if only one input has compareDocumentPosition
	var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
	if ( compare ) {
		return compare;
	}

	// Calculate position if both inputs belong to the same document
	compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
		a.compareDocumentPosition( b ) :

		// Otherwise we know they are disconnected
		1;

	// Disconnected nodes
	if ( compare & 1 ) {

		// Choose the first element that is related to our preferred document
		if ( a === document || a.ownerDocument === document &&
			jQuery.contains( document, a ) ) {
			return -1;
		}
		if ( b === document || b.ownerDocument === document &&
			jQuery.contains( document, b ) ) {
			return 1;
		}

		// Maintain original order
		return sortInput ?
			( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
			0;
	}

	return compare & 4 ? -1 : 1;
}

function uniqueSort( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	hasDuplicate = false;
	sortInput = !sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( ( elem = results[ i++ ] ) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
}

function escape( sel ) {
	return ( sel + "" ).replace( rcssescape, fcssescape );
}

jQuery.extend( {
	uniqueSort: uniqueSort,
	unique: uniqueSort,
	escapeSelector: escape,
	find: function( selector, context, results, seed ) {
		var elem, nodeType,
			i = 0;

		results = results || [];
		context = context || document;

		// Same basic safeguard as Sizzle
		if ( !selector || typeof selector !== "string" ) {
			return results;
		}

		// Early return if context is not an element or document
		if ( ( nodeType = context.nodeType ) !== 1 && nodeType !== 9 ) {
			return [];
		}

		if ( seed ) {
			while ( ( elem = seed[ i++ ] ) ) {
				if ( jQuery.find.matchesSelector( elem, selector ) ) {
					results.push( elem );
				}
			}
		} else {
			jQuery.merge( results, context.querySelectorAll( selector ) );
		}

		return results;
	},
	text: function( elem ) {
		var node,
			ret = "",
			i = 0,
			nodeType = elem.nodeType;

		if ( !nodeType ) {

			// If no nodeType, this is expected to be an array
			while ( ( node = elem[ i++ ] ) ) {

				// Do not traverse comment nodes
				ret += jQuery.text( node );
			}
		} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {

			// Use textContent for elements
			return elem.textContent;
		} else if ( nodeType === 3 || nodeType === 4 ) {
			return elem.nodeValue;
		}

		// Do not include comment or processing instruction nodes

		return ret;
	},
	contains: function( a, b ) {
		var adown = a.nodeType === 9 ? a.documentElement : a,
			bup = b && b.parentNode;
		return a === bup || !!( bup && bup.nodeType === 1 && adown.contains( bup ) );
	},
	isXMLDoc: function( elem ) {

		// documentElement is verified for cases where it doesn't yet exist
		// (such as loading iframes in IE - #4833)
		var documentElement = elem && ( elem.ownerDocument || elem ).documentElement;
		return documentElement ? documentElement.nodeName !== "HTML" : false;
	},
	expr: {
		attrHandle: {},
		match: {
			bool: new RegExp( "^(?:checked|selected|async|autofocus|autoplay|controls|defer" +
				"|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i" ),
			needsContext: /^[\x20\t\r\n\f]*[>+~]/
		}
	}
} );

jQuery.extend( jQuery.find, {
	matches: function( expr, elements ) {
		return jQuery.find( expr, null, null, elements );
	},
	matchesSelector: function( elem, expr ) {
		return matches.call( elem, expr );
	},
	attr: function( elem, name ) {
		var fn = jQuery.expr.attrHandle[ name.toLowerCase() ],

			// Don't get fooled by Object.prototype properties (jQuery #13807)
			value = fn && hasOwn.call( jQuery.expr.attrHandle, name.toLowerCase() ) ?
				fn( elem, name, jQuery.isXMLDoc( elem ) ) :
				undefined;
		return value !== undefined ? value : elem.getAttribute( name );
	}
} );



var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

};
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



var risSimple = /^.[^:#\[\.,]*$/;

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Simple selector that can be filtered directly, removing non-Elements
	if ( risSimple.test( qualifier ) ) {
		return jQuery.filter( qualifier, elements, not );
	}

	// Complex selector, compare the two sets, removing non-Elements
	qualifier = jQuery.filter( qualifier, elements );
	return jQuery.grep( elements, function( elem ) {
		return ( indexOf.call( qualifier, elem ) > -1 ) !== not && elem.nodeType === 1;
	} );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( jQuery.isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
        if ( nodeName( elem, "iframe" ) ) {
            return elem.contentDocument;
        }

        // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
        // Treat the template element as a regular one in browsers that
        // don't support it.
        if ( nodeName( elem, "template" ) ) {
            elem = elem.content || elem;
        }

        return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( jQuery.isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && jQuery.type( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( jQuery.type( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !jQuery.isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
					value :
					value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ jQuery.camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ jQuery.camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ jQuery.camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( jQuery.camelCase );
			} else {
				key = jQuery.camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = jQuery.camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			jQuery.contains( elem.ownerDocument, elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};

var swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};




function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted,
		scale = 1,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = ( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		do {

			// If previous iteration zeroed out, double until we get *something*.
			// Use string for doubling so we don't accidentally see scale as unchanged below
			scale = scale || ".5";

			// Adjust and apply
			initialInUnit = initialInUnit / scale;
			jQuery.style( elem, prop, initialInUnit + unit );

		// Update scale, tolerating zero or NaN from tween.cur()
		// Break the loop if scale is unchanged or perfect, or if we've just had enough.
		} while (
			scale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations
		);
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]+)/i );

var rscriptType = ( /^$|\/(?:java|ecma)script/i );



// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// Support: IE <=9 only
	option: [ 1, "<select multiple='multiple'>", "</select>" ],

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

// Support: IE <=9 only
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, contains, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( jQuery.type( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		contains = jQuery.contains( elem.ownerDocument, elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( contains ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
} )();


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 only
// See #13393 for more info
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = {};
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		// Make a writable jQuery.Event from the native event object
		var event = jQuery.event.fix( nativeEvent );

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),
			handlers = ( dataPriv.get( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or 2) have namespace(s)
				// a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: jQuery.isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
							return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
							return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {

			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					this.focus();
					return false;
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {

			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( this.type === "checkbox" && this.click && nodeName( this, "input" ) ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (#504, #13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,

	which: function( event ) {
		var button = event.button;

		// Add which for key events
		if ( event.which == null && rkeyEvent.test( event.type ) ) {
			return event.charCode != null ? event.charCode : event.keyCode;
		}

		// Add which for click: 1 === left; 2 === middle; 3 === right
		if ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {
			if ( button & 1 ) {
				return 1;
			}

			if ( button & 2 ) {
				return 3;
			}

			if ( button & 4 ) {
				return 2;
			}

			return 0;
		}

		return event.which;
	}
}, jQuery.event.addProp );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	/* eslint-disable max-len */

	// See https://github.com/eslint/eslint/issues/3229
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,

	/* eslint-enable */

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptTypeMasked = /^true\/(.*)/,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( ">tbody", elem )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	var match = rscriptTypeMasked.exec( elem.type );

	if ( match ) {
		elem.type = match[ 1 ];
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.access( src );
		pdataCur = dataPriv.set( dest, pdataOld );
		events = pdataOld.events;

		if ( events ) {
			delete pdataCur.handle;
			pdataCur.events = {};

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = concat.apply( [], args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		isFunction = jQuery.isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( isFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( isFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl ) {
								jQuery._evalUrl( node.src );
							}
						} else {
							DOMEval( node.textContent.replace( rcleanScript, "" ), doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && jQuery.contains( node.ownerDocument, node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html.replace( rxhtmlTag, "<$1></$2>" );
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = jQuery.contains( elem.ownerDocument, elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rmargin = ( /^margin/ );

var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};



( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		div.style.cssText =
			"box-sizing:border-box;" +
			"position:relative;display:block;" +
			"margin:auto;border:1px;padding:1px;" +
			"top:1%;width:50%";
		div.innerHTML = "";
		documentElement.appendChild( container );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = divStyle.marginLeft === "2px";
		boxSizingReliableVal = divStyle.width === "5px";

		// Support: IE 9 only
		// Detect misreporting of content dimensions for border-box elements (gh-3699)
		borderBoxReliableVal = divStyle.width[ 0 ] === "5";

		// Support: Android 4.0 - 4.3 only
		// Some styles come back with percentage values, even though they shouldn't
		div.style.marginRight = "50%";
		pixelMarginRightVal = divStyle.marginRight === "5px";

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	var pixelPositionVal, boxSizingReliableVal, borderBoxReliableVal, pixelMarginRightVal,
		reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	container.style.cssText = "border:0;width:10px;height:0;top:0;left:-9999px;" +
		"padding:0;margin-top:1px;position:absolute";
	container.appendChild( div );

	jQuery.extend( support, {
		borderBoxReliable: function() {
			computeStyleTests();
			return borderBoxReliableVal;
		},
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		pixelMarginRight: function() {
			computeStyleTests();
			return pixelMarginRightVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, #12537)
	//   .css('--customProperty) (#3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rcustomProp = /^--/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	},

	cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style;

// Return a css property mapped to a potentially vendor prefixed property
function vendorPropName( name ) {

	// Shortcut for names that are not vendor prefixed
	if ( name in emptyStyle ) {
		return name;
	}

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a property mapped along what jQuery.cssProps suggests or to
// a vendor prefixed property.
function finalPropName( name ) {
	var ret = jQuery.cssProps[ name ];
	if ( !ret ) {
		ret = jQuery.cssProps[ name ] = vendorPropName( name ) || name;
	}
	return ret;
}

function setPositiveNumber( elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5
		) );
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),
		val = curCSS( elem, dimension, styles ),
		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox;

	// Computed unit is not pixels. Stop here and return.
	if ( rnumnonpx.test( val ) ) {
		return val;
	}

	// Check for style in case a browser which returns unreliable values
	// for getComputedStyle silently falls back to the reliable elem.style
	valueIsBorderBox = valueIsBorderBox &&
		( support.boxSizingReliable() || val === elem.style[ dimension ] );

	// Fall back to offsetWidth/Height when value is "auto"
	// This happens for inline elements with no explicit setting (gh-3571)
	if ( val === "auto" ) {
		val = elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ];
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			if ( type === "number" ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = jQuery.camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
						swap( elem, cssShow, function() {
							return getWidthOrHeight( elem, dimension, extra );
						} ) :
						getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),
				isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra && boxModelAdjustment(
					elem,
					dimension,
					extra,
					isBorderBox,
					styles
				);

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && !support.borderBoxReliable() ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
				) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( typeof value === "string" && value ) {
			classes = value.match( rnothtmlwhite ) || [];

			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		if ( typeof value === "string" && value ) {
			classes = value.match( rnothtmlwhite ) || [];

			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value;

		if ( typeof stateVal === "boolean" && type === "string" ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( type === "string" ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = value.match( rnothtmlwhite ) || [];

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
						"" :
						dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
					return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( dataPriv.get( cur, "events" ) || {} )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && jQuery.isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


support.focusin = "onfocusin" in window;


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = jQuery.isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} )
		.filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} )
		.map( function( i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
		function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
		return jQuery;
	}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( !noGlobal ) {
	window.jQuery = window.$ = jQuery;
}





var readyCallbacks = [],
	whenReady = function( fn ) {
		readyCallbacks.push( fn );
	},
	executeReady = function( fn ) {

		// Prevent errors from freezing future callback execution (gh-1823)
		// Not backwards-compatible as this does not execute sync
		window.setTimeout( function() {
			fn.call( document, jQuery );
		} );
	};

jQuery.fn.ready = function( fn ) {
	whenReady( fn );
	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		whenReady = function( fn ) {
			readyCallbacks.push( fn );

			while ( readyCallbacks.length ) {
				fn = readyCallbacks.shift();
				if ( jQuery.isFunction( fn ) ) {
					executeReady( fn );
				}
			}
		};

		whenReady();
	}
} );

// Make jQuery.ready Promise consumable (gh-1778)
jQuery.ready.then = jQuery.fn.ready;

/**
 * The ready event handler and self cleanup method
 */
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE9-10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}



return jQuery;
} );


/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const win = window;
const doc = win ? win.document : null;
const docElem = win ? win.document.documentElement : null;

let eventKeys = {
  BACKSPACE: 8, TAB: 9,
  RETURN: 13, ESC: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46,
  HOME: 36, END: 35, PAGEUP: 33, PAGEDOWN: 34, INSERT: 45, SPACE: 32
};
let weekNames = [{ label: "SUN" }, { label: "MON" }, { label: "TUE" }, { label: "WED" }, { label: "THU" }, { label: "FRI" }, { label: "SAT" }];
let wheelEnm = win && /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
let errorMsg = {};

const onerror = function () {
  console.error(arguments);
};
const browser = function (ua, mobile, browserName, match, browser, browserVersion) {
  if (!win || !win.navigator) return {};

  ua = navigator.userAgent.toLowerCase(), mobile = ua.search(/mobile/g) != -1, browserName, match, browser, browserVersion;

  if (ua.search(/iphone/g) != -1) {
    return { name: "iphone", version: 0, mobile: true };
  } else if (ua.search(/ipad/g) != -1) {
    return { name: "ipad", version: 0, mobile: true };
  } else if (ua.search(/android/g) != -1) {
    match = /(android)[ \/]([\w.]+)/.exec(ua) || [];
    browserVersion = match[2] || "0";
    return { name: "android", version: browserVersion, mobile: mobile };
  } else {
    browserName = "";
    match = /(opr)[ \/]([\w.]+)/.exec(ua) || /(chrome)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || /(msie) ([\w.]+)/.exec(ua) || ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) || [];
    browser = match[1] || "";
    browserVersion = match[2] || "0";

    if (browser == "msie") browser = "ie";
    return {
      name: browser,
      version: browserVersion,
      mobile: mobile
    };
  }
  ua = null, mobile = null, browserName = null, match = null, browser = null, browserVersion = null;
}();
const isBrowser = !!(typeof window !== 'undefined' && typeof navigator !== 'undefined' && win.document);
const urlUtil = function (url, urls) {
  url = {
    href: win.location.href,
    param: win.location.search,
    referrer: doc.referrer,
    pathname: win.location.pathname,
    hostname: win.location.hostname,
    port: win.location.port
  };
  urls = url.href.split(/[\?#]/);
  url.param = url.param.replace("?", "");
  url.url = urls[0];
  if (url.href.search("#") > -1) {
    url.hashdata = urls[urls.length - 1];
  }
  urls = null;
  url.baseUrl = url.href.substr(0, url.href.indexOf("?")).replace(url.pathname, "");

  return url;
};
const getError = function (className, errorCode, methodName) {
  if (errorMsg && errorMsg[className]) {
    return {
      className: className,
      errorCode: errorCode,
      methodName: methodName,
      msg: errorMsg[className][errorCode]
    };
  } else {
    return { className: className, errorCode: errorCode, methodName: methodName };
  }
};
const supportTouch = win ? 'ontouchstart' in win || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0 : false;
const supportFileApi = win ? win.FileReader && win.File && win.FileList && win.Blob : false;

let EasingFunctions = {
  // no easing, no acceleration
  linear: function (t) {
    return t;
  },
  // accelerating from zero velocity
  easeInQuad: function (t) {
    return t * t;
  },
  // decelerating to zero velocity
  easeOutQuad: function (t) {
    return t * (2 - t);
  },
  // acceleration until halfway, then deceleration
  easeInOutQuad: function (t) {
    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
  },
  // accelerating from zero velocity
  easeInCubic: function (t) {
    return t * t * t;
  },
  // decelerating to zero velocity
  easeOutCubic: function (t) {
    return --t * t * t + 1;
  },
  // acceleration until halfway, then deceleration
  easeInOutCubic: function (t) {
    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
  },
  // accelerating from zero velocity
  easeInQuart: function (t) {
    return t * t * t * t;
  },
  // decelerating to zero velocity
  easeOutQuart: function (t) {
    return 1 - --t * t * t * t;
  },
  // acceleration until halfway, then deceleration
  easeInOutQuart: function (t) {
    return t < .5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;
  },
  // accelerating from zero velocity
  easeInQuint: function (t) {
    return t * t * t * t * t;
  },
  // decelerating to zero velocity
  easeOutQuint: function (t) {
    return 1 + --t * t * t * t * t;
  },
  // acceleration until halfway, then deceleration
  easeInOutQuint: function (t) {
    return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;
  }
};
/**
 * @module AX6Info
 */
/* harmony default export */ __webpack_exports__["a"] = ({
  /**
   * 첫번째 자리수 동사 - (필요한것이 없을때 : 4, 실행오류 : 5)
   * 두번째 자리수 목적어 - 문자열 0, 숫자 1, 배열 2, 오브젝트 3, 함수 4, DOM 5, 파일 6, 기타 7
   * 세번째 자리수 옵션
   */
  errorMsg: errorMsg,
  /**
   * 에러 출력메세지 사용자 재 정의
   * @example
   * ```
   * AX6Info.onerror = function(){
   *  console.log(arguments);
   * }
   * ```
   */
  onerror: onerror,
  /**
   * event keyCodes
   * @example
   * ```
   * {
   * 	BACKSPACE: 8, TAB: 9,
   * 	RETURN: 13, ESC: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46,
   * 	HOME: 36, END: 35, PAGEUP: 33, PAGEDOWN: 34, INSERT: 45, SPACE: 32
   * }
   * ```
   */
  eventKeys: eventKeys,
  /**
   * week names
   * @example
   * ```
   * [
   *  {label: "SUN"},{label: "MON"},{label: "TUE"},{label: "WED"},{label: "THU"},{label: "FRI"},{label: "SAT"}
   * ]
   * console.log( weekNames[0] );
   * console.log( AX6Info.weekNames[(new Date()).getDay()].label )
   * ```
   */
  weekNames: weekNames,
  /**
   * 사용자 브라우저 식별용 오브젝트
   * @example
   * ```
   * console.log( AX6Info.browser );
   * //Object {name: "chrome", version: "39.0.2171.71", mobile: false}
   * ```
   */
  browser: browser,
  /**
   * 브라우저 여부
   */
  isBrowser: isBrowser,
  /**
   * 브라우져의 터치 가능 유무를 확인합니다.
   * @returns {boolean}
   * @example
   * ```
   * var chkFlag = AX6Info.supportTouch;
   */
  supportTouch: supportTouch,
  /**
   * HTML5 FileApi 지원여부
   */
  supportFileApi: supportFileApi,
  /**
   * 브라우저에 따른 마우스 휠 이벤트이름
   */
  wheelEnm: wheelEnm,
  /**
   * 현재 페이지의 Url 정보를 리턴합니다.
   * @example
   * ```
   * console.log( ax5.util.toJson( AX6Info.urlUtil() ) );
   * {
   *	"baseUrl": "http://ax5:2018",
   *	"href": "http://ax5:2018/samples/index.html?a=1&b=1#abc",
   *	"param": "a=1&b=1",
   *	"referrer": "",
   *	"pathname": "/samples/index.html",
   *	"hostname": "ax5",
   *	"port": "2018",
   *	"url": "http://ax5:2018/samples/index.html",
   *	"hashdata": "abc"
   * }
   * ```
   */
  urlUtil: urlUtil,
  /**
   * ax5-error-msg.js 에 정의된 ax5 error를 반환합니다.
   * @returns {Object}
   * @example
   * ```
   * console.log( AX6Info.getError("single-uploader", "460", "upload") );
   *
   * if(!this.selectedFile){
   *      if (cfg.onEvent) {
   *      	var that = {
   *      		action: "error",
   *      		error: AX6Info.getError("single-uploader", "460", "upload")
   *      	};
   *      	cfg.onEvent.call(that, that);
   *      }
   *      return this;
   * }
   * ```
   */
  getError: getError,

  /**
   * linear,
   * easeInQuad,
   * easeOutQuad,
   * easeInOutQuad,
   * easeInCubic,
   * easeOutCubic,
   * easeInOutCubic,
   * easeInQuart,
   * easeOutQuart,
   * easeInOutQuart,
   * easeInQuint,
   * easeOutQuint,
   * easeInOutQuint
   */
  easingFunctions: EasingFunctions
});

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);


let UI_INSTANCE_ID = 0;

/**
 *  @class
 */
class AX6UICore {

  static getInstanceId() {
    return UI_INSTANCE_ID++;
  }

  /**
   * @constructor
   */
  constructor() {
    this.initialized = false;
    this.instanceId = AX6UICore.getInstanceId();
  }

  /**
   * @method
   * @param config
   * @return {AX6UICore}
   */
  setConfig(config) {
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(this.config, config);

    this.init();
    return this;
  }

  /**
   * UI가 생성될 때, config 속성이 바뀔때 호출 되는 내부 메서드
   * @method
   */
  init() {
    // 초기화 함수,

    this.initOnce();
  }

  /**
   * UI가 랜더링 될 때 1회만 호출되는 메소드 repaint가 필요한 상황엔 별도의 repaint 메서드를 이용할 것을 권장
   * @method
   */
  initOnce() {
    // 1회만 호출되어야 하는 초기화 함수
    if (this.initialized) return this;
    this.initialized = true;
    //
  }

  /**
   * @method
   */
  destory() {}
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UICore);

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 * https://github.com/thomasJang/mustache.js -- imporove some variables
 */

/**
 * AX6Mustache는 http://github.com/janl/mustache.js에 몇가지 최소한의 기능을 튜닝하여 사용하는 템플릿 엔진입니다.
 * @namespace AX6Mustache
 */

/**
 * @method AX6Mustache.render
 * @example
 * ```js
 * ax5.mustache.render(template, view)
 *
 *
 * //Array @i
 * //{{#beatles}}
 * //{{firstName}} {{lastName}} ({{@i}}) ({{@first}})
 * //{{/beatles}}
 *
 * //Object @each
 * {{#beatles}}
 *  {{#@each}}
 *      {{@key}} : {{@value.firstName}} {{@value.lastName}}
 *  {{/@each}}
 * {{/beatles}}
 *
 * ```
 */

let AX6 = {};

(function defineMustache(global, factory) {

  factory(global.mustache = {});
})(AX6, function mustacheFactory(mustache) {

  var objectToString = Object.prototype.toString;
  var isArray = Array.isArray || function isArrayPolyfill(object) {
    return objectToString.call(object) === '[object Array]';
  };

  function isFunction(object) {
    return typeof object === 'function';
  }

  /**
   * More correct typeof string handling array
   * which normally returns typeof 'object'
   */
  function typeStr(obj) {
    return isArray(obj) ? 'array' : typeof obj;
  }

  function escapeRegExp(string) {
    return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, '\\$&');
  }

  /**
   * Null safe way of checking whether or not an object,
   * including its prototype, has a given property
   */
  function hasProperty(obj, propName) {
    return obj != null && typeof obj === 'object' && propName in obj;
  }

  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577
  // See https://github.com/janl/mustache.js/issues/189
  var regExpTest = RegExp.prototype.test;

  function testRegExp(re, string) {
    return regExpTest.call(re, string);
  }

  var nonSpaceRe = /\S/;

  function isWhitespace(string) {
    return !testRegExp(nonSpaceRe, string);
  }

  var entityMap = {
    '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;', '/': '&#x2F;'
  };

  function escapeHtml(string) {
    return String(string).replace(/[&<>"'\/]/g, function fromEntityMap(s) {
      return entityMap[s];
    });
  }

  var whiteRe = /\s*/;
  var spaceRe = /\s+/;
  var equalsRe = /\s*=/;
  var curlyRe = /\s*\}/;
  var tagRe = /#|\^|\/|>|\{|&|=|!/;

  /**
   * Breaks up the given `template` string into a tree of tokens. If the `tags`
   * argument is given here it must be an array with two string values: the
   * opening and closing tags used in the template (e.g. [ "<%", "%>" ]). Of
   * course, the default is to use mustaches (i.e. mustache.tags).
   *
   * A token is an array with at least 4 elements. The first element is the
   * mustache symbol that was used inside the tag, e.g. "#" or "&". If the tag
   * did not contain a symbol (i.e. {{myValue}}) this element is "name". For
   * all text that appears outside a symbol this element is "text".
   *
   * The second element of a token is its "value". For mustache tags this is
   * whatever else was inside the tag besides the opening symbol. For text tokens
   * this is the text itself.
   *
   * The third and fourth elements of the token are the start and end indices,
   * respectively, of the token in the original template.
   *
   * Tokens that are the root node of a subtree contain two more elements: 1) an
   * array of tokens in the subtree and 2) the index in the original template at
   * which the closing tag for that section begins.
   */
  function parseTemplate(template, tags) {
    if (!template) return [];

    var sections = []; // Stack to hold section tokens
    var tokens = []; // Buffer to hold the tokens
    var spaces = []; // Indices of whitespace tokens on the current line
    var hasTag = false; // Is there a {{tag}} on the current line?
    var nonSpace = false; // Is there a non-space char on the current line?

    // Strips all whitespace tokens array for the current line
    // if there was a {{#tag}} on it and otherwise only space.
    function stripSpace() {
      if (hasTag && !nonSpace) {
        while (spaces.length) delete tokens[spaces.pop()];
      } else {
        spaces = [];
      }

      hasTag = false;
      nonSpace = false;
    }

    var openingTagRe, closingTagRe, closingCurlyRe;

    function compileTags(tagsToCompile) {
      if (typeof tagsToCompile === 'string') tagsToCompile = tagsToCompile.split(spaceRe, 2);

      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2) throw new Error('Invalid tags: ' + tagsToCompile);

      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\s*');
      closingTagRe = new RegExp('\\s*' + escapeRegExp(tagsToCompile[1]));
      closingCurlyRe = new RegExp('\\s*' + escapeRegExp('}' + tagsToCompile[1]));
    }

    compileTags(tags || mustache.tags);

    var scanner = new Scanner(template);

    var start, type, value, chr, token, openSection;
    while (!scanner.eos()) {
      start = scanner.pos;

      // Match any text between tags.
      value = scanner.scanUntil(openingTagRe);

      if (value) {
        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {
          chr = value.charAt(i);

          if (isWhitespace(chr)) {
            spaces.push(tokens.length);
          } else {
            nonSpace = true;
          }

          tokens.push(['text', chr, start, start + 1]);
          start += 1;

          // Check for whitespace on the current line.
          if (chr === '\n') stripSpace();
        }
      }

      // Match the opening tag.
      if (!scanner.scan(openingTagRe)) break;

      hasTag = true;

      // Get the tag type.
      type = scanner.scan(tagRe) || 'name';
      scanner.scan(whiteRe);

      // Get the tag value.
      if (type === '=') {
        value = scanner.scanUntil(equalsRe);
        scanner.scan(equalsRe);
        scanner.scanUntil(closingTagRe);
      } else if (type === '{') {
        value = scanner.scanUntil(closingCurlyRe);
        scanner.scan(curlyRe);
        scanner.scanUntil(closingTagRe);
        type = '&';
      } else {
        value = scanner.scanUntil(closingTagRe);
      }

      // Match the closing tag.
      if (!scanner.scan(closingTagRe)) throw new Error('Unclosed tag at ' + scanner.pos);

      token = [type, value, start, scanner.pos];
      tokens.push(token);

      if (type === '#' || type === '^') {
        sections.push(token);
      } else if (type === '/') {
        // Check section nesting.
        openSection = sections.pop();

        if (!openSection) throw new Error('Unopened section "' + value + '" at ' + start);

        if (openSection[1] !== value) throw new Error('Unclosed section "' + openSection[1] + '" at ' + start);
      } else if (type === 'name' || type === '{' || type === '&') {
        nonSpace = true;
      } else if (type === '=') {
        // Set the tags for the next time around.
        compileTags(value);
      }
    }

    // Make sure there are no open sections when we're done.
    openSection = sections.pop();

    if (openSection) throw new Error('Unclosed section "' + openSection[1] + '" at ' + scanner.pos);

    return nestTokens(squashTokens(tokens));
  }

  /**
   * Combines the values of consecutive text tokens in the given `tokens` array
   * to a single token.
   */
  function squashTokens(tokens) {
    var squashedTokens = [];

    var token, lastToken;
    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
      token = tokens[i];

      if (token) {
        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {
          lastToken[1] += token[1];
          lastToken[3] = token[3];
        } else {
          squashedTokens.push(token);
          lastToken = token;
        }
      }
    }

    return squashedTokens;
  }

  /**
   * Forms the given array of `tokens` into a nested tree structure where
   * tokens that represent a section have two additional items: 1) an array of
   * all tokens that appear in that section and 2) the index in the original
   * template that represents the end of that section.
   */
  function nestTokens(tokens) {
    var nestedTokens = [];
    var collector = nestedTokens;
    var sections = [];

    var token, section;
    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
      token = tokens[i];

      switch (token[0]) {
        case '#':
        case '^':
          collector.push(token);
          sections.push(token);
          collector = token[4] = [];
          break;
        case '/':
          section = sections.pop();
          section[5] = token[2];
          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;
          break;
        default:
          collector.push(token);
      }
    }

    return nestedTokens;
  }

  /**
   * A simple string scanner that is used by the template parser to find
   * tokens in template strings.
   */
  function Scanner(string) {
    this.string = string;
    this.tail = string;
    this.pos = 0;
  }

  /**
   * Returns `true` if the tail is empty (end of string).
   */
  Scanner.prototype.eos = function eos() {
    return this.tail === '';
  };

  /**
   * Tries to match the given regular expression at the current position.
   * Returns the matched text if it can match, the empty string otherwise.
   */
  Scanner.prototype.scan = function scan(re) {
    var match = this.tail.match(re);

    if (!match || match.index !== 0) return '';

    var string = match[0];

    this.tail = this.tail.substring(string.length);
    this.pos += string.length;

    return string;
  };

  /**
   * Skips all text until the given regular expression can be matched. Returns
   * the skipped string, which is the entire tail if no match can be made.
   */
  Scanner.prototype.scanUntil = function scanUntil(re) {
    var index = this.tail.search(re),
        match;

    switch (index) {
      case -1:
        match = this.tail;
        this.tail = '';
        break;
      case 0:
        match = '';
        break;
      default:
        match = this.tail.substring(0, index);
        this.tail = this.tail.substring(index);
    }

    this.pos += match.length;

    return match;
  };

  /**
   * Represents a rendering context by wrapping a view object and
   * maintaining a reference to the parent context.
   */
  function Context(view, parentContext) {
    this.view = view;
    this.cache = {
      '.': this.view,
      '@each': function () {
        var returns = [];
        for (var k in this) {
          returns.push({ '@key': k, '@value': this[k] });
        }
        return returns;
      }
    };
    this.parent = parentContext;
  }

  /**
   * Creates a new context using the given view with this context
   * as the parent.
   */
  Context.prototype.push = function push(view) {
    return new Context(view, this);
  };

  /**
   * Returns the value of the given name in this context, traversing
   * up the context hierarchy if the value is absent in this context's view.
   */
  Context.prototype.lookup = function lookup(name) {
    var cache = this.cache;

    var value;
    if (cache.hasOwnProperty(name)) {
      value = cache[name];
    } else {
      var context = this,
          names,
          index,
          lookupHit = false;

      while (context) {
        if (name.indexOf('.') > 0) {
          value = context.view;
          names = name.split('.');
          index = 0;

          /**
           * Using the dot notion path in `name`, we descend through the
           * nested objects.
           *
           * To be certain that the lookup has been successful, we have to
           * check if the last object in the path actually has the property
           * we are looking for. We store the result in `lookupHit`.
           *
           * This is specially necessary for when the value has been set to
           * `undefined` and we want to avoid looking up parent contexts.
           **/
          while (value != null && index < names.length) {
            if (index === names.length - 1) lookupHit = hasProperty(value, names[index]);

            value = value[names[index++]];
          }
        } else {
          value = context.view[name];
          lookupHit = hasProperty(context.view, name);
        }

        if (lookupHit) break;

        context = context.parent;
      }

      cache[name] = value;
    }

    if (isFunction(value)) value = value.call(this.view);

    return value;
  };

  /**
   * A Writer knows how to take a stream of tokens and render them to a
   * string, given a context. It also maintains a cache of templates to
   * avoid the need to parse the same template twice.
   */
  function Writer() {
    this.cache = {};
  }

  /**
   * Clears all cached templates in this writer.
   */
  Writer.prototype.clearCache = function clearCache() {
    this.cache = {};
  };

  /**
   * Parses and caches the given `template` and returns the array of tokens
   * that is generated from the parse.
   */
  Writer.prototype.parse = function parse(template, tags) {
    var cache = this.cache;
    var tokens = cache[template];

    if (tokens == null) tokens = cache[template] = parseTemplate(template, tags);

    return tokens;
  };

  /**
   * High-level method that is used to render the given `template` with
   * the given `view`.
   *
   * The optional `partials` argument may be an object that contains the
   * names and templates of partials that are used in the template. It may
   * also be a function that is used to load partial templates on the fly
   * that takes a single argument: the name of the partial.
   */
  Writer.prototype.render = function render(template, view, partials) {
    var tokens = this.parse(template);
    var context = view instanceof Context ? view : new Context(view);
    return this.renderTokens(tokens, context, partials, template);
  };

  /**
   * Low-level method that renders the given array of `tokens` using
   * the given `context` and `partials`.
   *
   * Note: The `originalTemplate` is only ever used to extract the portion
   * of the original template that was contained in a higher-order section.
   * If the template doesn't use higher-order sections, this argument may
   * be omitted.
   */
  Writer.prototype.renderTokens = function renderTokens(tokens, context, partials, originalTemplate) {
    var buffer = '';
    var token, symbol, value;
    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
      value = undefined;
      token = tokens[i];
      symbol = token[0];

      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);else if (symbol === '&') value = this.unescapedValue(token, context);else if (symbol === 'name') value = this.escapedValue(token, context);else if (symbol === 'text') value = this.rawValue(token);

      if (value !== undefined) buffer += value;
    }

    return buffer;
  };

  Writer.prototype.renderSection = function renderSection(token, context, partials, originalTemplate) {
    var self = this;
    var buffer = '';

    var value = context.lookup(token[1]);

    // This function is used to render an arbitrary template
    // in the current context by higher-order sections.
    function subRender(template) {
      return self.render(template, context, partials);
    }

    if (!value) return;

    if (isArray(value)) {
      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {
        if (value[j]) {
          if (typeof value[j] === 'object') {
            value[j]['@i'] = j;
            value[j]['@first'] = j === 0;
          }

          buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);
        }
      }
    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {
      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);
    } else if (isFunction(value)) {
      if (typeof originalTemplate !== 'string') throw new Error('Cannot use higher-order sections without the original template');

      // Extract the portion of the original template that the section contains.
      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);

      if (value != null) buffer += value;
    } else {
      buffer += this.renderTokens(token[4], context, partials, originalTemplate);
    }
    return buffer;
  };

  Writer.prototype.renderInverted = function renderInverted(token, context, partials, originalTemplate) {
    var value = context.lookup(token[1]);

    // Use JavaScript's definition of falsy. Include empty arrays.
    // See https://github.com/janl/mustache.js/issues/186
    if (!value || isArray(value) && value.length === 0) return this.renderTokens(token[4], context, partials, originalTemplate);
  };

  Writer.prototype.renderPartial = function renderPartial(token, context, partials) {
    if (!partials) return;

    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];
    if (value != null) return this.renderTokens(this.parse(value), context, partials, value);
  };

  Writer.prototype.unescapedValue = function unescapedValue(token, context) {
    var value = context.lookup(token[1]);
    if (value != null) return value;
  };

  Writer.prototype.escapedValue = function escapedValue(token, context) {
    var value = context.lookup(token[1]);
    if (value != null) return mustache.escape(value);
  };

  Writer.prototype.rawValue = function rawValue(token) {
    return token[1];
  };

  mustache.name = 'mustache.js';
  mustache.version = '2.1.3';
  mustache.tags = ['{{', '}}'];

  // All high-level mustache.* functions use this writer.
  var defaultWriter = new Writer();

  /**
   * Clears all cached templates in the default writer.
   */
  mustache.clearCache = function clearCache() {
    return defaultWriter.clearCache();
  };

  /**
   * Parses and caches the given template in the default writer and returns the
   * array of tokens it contains. Doing this ahead of time avoids the need to
   * parse templates on the fly as they are rendered.
   */
  mustache.parse = function parse(template, tags) {
    return defaultWriter.parse(template, tags);
  };

  /**
   * Renders the `template` with the given `view` and `partials` using the
   * default writer.
   */
  mustache.render = function render(template, view, partials) {
    if (typeof template !== 'string') {
      throw new TypeError('Invalid template! Template should be a "string" ' + 'but "' + typeStr(template) + '" was given as the first ' + 'argument for mustache#render(template, view, partials)');
    }

    return defaultWriter.render(template, view, partials);
  };

  // This is here for backwards compatibility with 0.4.x.,
  /*eslint-disable */ // eslint wants camel cased function name
  mustache.to_html = function to_html(template, view, partials, send) {
    /*eslint-enable*/

    var result = mustache.render(template, view, partials);

    if (isFunction(send)) {
      send(result);
    } else {
      return result;
    }
  };

  // Export the escaping function so that the user may override it.
  // See https://github.com/janl/mustache.js/issues/244
  mustache.escape = escapeHtml;

  // Export these mainly for testing, but also for advanced usage.
  mustache.Scanner = Scanner;
  mustache.Context = Context;
  mustache.Writer = Writer;
});

/* harmony default export */ __webpack_exports__["a"] = (AX6.mustache);

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);




/**
 * @method ax5grid.util.divideTableByFrozenColumnIndex
 * @param _table
 * @param _frozenColumnIndex
 * @returns {{leftHeaderData: {rows: Array}, headerData: {rows: Array}}}
 */
const divideTableByFrozenColumnIndex = function (_table, _frozenColumnIndex) {

  let tempTable_l = { rows: [] },
      tempTable_r = { rows: [] };

  for (let r = 0, rl = _table.rows.length; r < rl; r++) {
    let row = _table.rows[r];

    tempTable_l.rows[r] = { cols: [] };
    tempTable_r.rows[r] = { cols: [] };

    for (let c = 0, cl = row.cols.length; c < cl; c++) {
      let col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, row.cols[c]),
          colStartIndex = col.colIndex,
          colEndIndex = col.colIndex + col.colspan;

      if (colStartIndex < _frozenColumnIndex) {
        if (colEndIndex <= _frozenColumnIndex) {
          // 좌측편에 변형없이 추가
          tempTable_l.rows[r].cols.push(col);
        } else {
          let leftCol = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col),
              rightCol = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, leftCol);

          leftCol.colspan = _frozenColumnIndex - leftCol.colIndex;
          rightCol.colIndex = _frozenColumnIndex;
          rightCol.colspan = col.colspan - leftCol.colspan;

          tempTable_l.rows[r].cols.push(leftCol);
          if (rightCol.colspan) {
            tempTable_r.rows[r].cols.push(rightCol);
          }
        }
      } else {
        // 오른편
        tempTable_r.rows[r].cols.push(col);
      }

      col = null;
      colStartIndex = null;
      colEndIndex = null;
    }

    row = null;
  }

  return {
    leftData: tempTable_l,
    rightData: tempTable_r
  };
};

const getTableByStartEndColumnIndex = function (_table, _startColumnIndex, _endColumnIndex) {

  let tempTable = { rows: [] };
  for (let r = 0, rl = _table.rows.length; r < rl; r++) {
    let row = _table.rows[r];

    tempTable.rows[r] = { cols: [] };
    for (let c = 0, cl = row.cols.length; c < cl; c++) {
      let col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, row.cols[c]),
          colStartIndex = col.colIndex,
          colEndIndex = col.colIndex + col.colspan;

      if (_startColumnIndex <= colStartIndex || colEndIndex <= _endColumnIndex) {
        if (_startColumnIndex <= colStartIndex && colEndIndex <= _endColumnIndex) {
          // 변형없이 추가
          tempTable.rows[r].cols.push(col);
        } else if (_startColumnIndex > colStartIndex && colEndIndex > _startColumnIndex) {
          // 앞에서 걸친경우
          col.colspan = colEndIndex - _startColumnIndex;
          tempTable.rows[r].cols.push(col);
        } else if (colEndIndex > _endColumnIndex && colStartIndex <= _endColumnIndex) {
          tempTable.rows[r].cols.push(col);
        }
      }
    }
  }

  return tempTable;
};

const getMousePosition = function (e) {
  let mouseObj,
      originalEvent = e.originalEvent ? e.originalEvent : e;

  mouseObj = 'changedTouches' in originalEvent && originalEvent.changedTouches ? originalEvent.changedTouches[0] : originalEvent;
  // clientX, Y 쓰면 스크롤에서 문제 발생
  return {
    clientX: mouseObj.pageX,
    clientY: mouseObj.pageY
  };
};

const ENM = {
  "mousedown": __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].supportTouch ? "touchstart" : "mousedown",
  "mousemove": __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].supportTouch ? "touchmove" : "mousemove",
  "mouseup": __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].supportTouch ? "touchend" : "mouseup"
};

const makeHeaderTable = function (_columns) {
  let columns = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].deepCopy(_columns),
      cfg = this.config,
      table = {
    rows: []
  },
      colIndex = 0,
      maekRows = function (_columns, depth, parentField) {
    var row = { cols: [] };
    var i = 0,
        l = _columns.length;

    for (; i < l; i++) {
      var field = _columns[i];
      var colspan = 1;

      if (!field.hidden) {
        field.colspan = 1;
        field.rowspan = 1;

        field.rowIndex = depth;
        field.colIndex = function () {
          if (!parentField) {
            return colIndex++;
          } else {
            colIndex = parentField.colIndex + i + 1;
            return parentField.colIndex + i;
          }
        }();

        row.cols.push(field);

        if ('columns' in field) {
          colspan = maekRows(field.columns, depth + 1, field);
        } else {
          field.width = 'width' in field ? field.width : cfg.columnMinWidth;
        }
        field.colspan = colspan;
      } else {}
    }

    if (row.cols.length > 0) {
      if (!table.rows[depth]) {
        table.rows[depth] = { cols: [] };
      }
      table.rows[depth].cols = table.rows[depth].cols.concat(row.cols);
      return row.cols.length - 1 + colspan;
    } else {
      return colspan;
    }
  };

  maekRows(columns, 0);

  // set rowspan
  for (let r = 0, rl = table.rows.length; r < rl; r++) {
    for (let c = 0, cl = table.rows[r].cols.length; c < cl; c++) {
      if (!('columns' in table.rows[r].cols[c])) {
        table.rows[r].cols[c].rowspan = rl - r;
      }
    }
  }

  return table;
};

const makeBodyRowTable = function (_columns) {
  let columns = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].deepCopy(_columns),
      table = {
    rows: []
  },
      colIndex = 0,
      maekRows = function (_columns, depth, parentField) {
    let row = { cols: [] },
        i = 0,
        l = _columns.length,
        colspan = 1;

    let selfMakeRow = function (__columns) {
      let i = 0,
          l = __columns.length;
      for (; i < l; i++) {
        let field = __columns[i],
            colspan = 1;

        if (!field.hidden) {

          if ('key' in field) {
            field.colspan = 1;
            field.rowspan = 1;

            field.rowIndex = depth;
            field.colIndex = function () {
              if (!parentField) {
                return colIndex++;
              } else {
                colIndex = parentField.colIndex + i + 1;
                return parentField.colIndex + i;
              }
            }();

            row.cols.push(field);
            if ('columns' in field) {
              colspan = maekRows(field.columns, depth + 1, field);
            }
            field.colspan = colspan;
          } else {
            if ('columns' in field) {
              selfMakeRow(field.columns, depth);
            }
          }
        } else {}
      }
    };

    for (; i < l; i++) {
      let field = _columns[i];
      colspan = 1;

      if (!field.hidden) {

        if ('key' in field) {
          field.colspan = 1;
          field.rowspan = 1;

          field.rowIndex = depth;
          field.colIndex = function () {
            if (!parentField) {
              return colIndex++;
            } else {
              colIndex = parentField.colIndex + i + 1;
              return parentField.colIndex + i;
            }
          }();

          row.cols.push(field);
          if ('columns' in field) {
            colspan = maekRows(field.columns, depth + 1, field);
          }
          field.colspan = colspan;
        } else {
          if ('columns' in field) {
            selfMakeRow(field.columns, depth);
          }
        }
      } else {}

      field = null;
    }

    if (row.cols.length > 0) {
      if (!table.rows[depth]) {
        table.rows[depth] = { cols: [] };
      }
      table.rows[depth].cols = table.rows[depth].cols.concat(row.cols);
      return row.cols.length - 1 + colspan;
    } else {
      return colspan;
    }
  };

  maekRows(columns, 0);

  (function (table) {
    // set rowspan
    for (let r = 0, rl = table.rows.length; r < rl; r++) {
      let row = table.rows[r];
      for (let c = 0, cl = row.cols.length; c < cl; c++) {
        let col = row.cols[c];
        if (!('columns' in col)) {
          col.rowspan = rl - r;
        }
        col = null;
      }
      row = null;
    }
  })(table);

  return table;
};

const makeBodyRowMap = function (_table) {
  let map = {};
  _table.rows.forEach(function (row) {
    row.cols.forEach(function (col) {
      map[col.rowIndex + "_" + col.colIndex] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col);
    });
  });
  return map;
};

let makeFootSumTable = function (_footSumColumns) {
  let table = {
    rows: []
  };

  for (let r = 0, rl = _footSumColumns.length; r < rl; r++) {
    let footSumRow = _footSumColumns[r],
        addC = 0;

    table.rows[r] = { cols: [] };

    for (let c = 0, cl = footSumRow.length; c < cl; c++) {
      if (addC > this.colGroup.length) break;
      let colspan = footSumRow[c].colspan || 1;
      if (footSumRow[c].label || footSumRow[c].key) {
        table.rows[r].cols.push({
          colspan: colspan,
          rowspan: 1,
          colIndex: addC,
          columnAttr: "sum",
          align: footSumRow[c].align,
          label: footSumRow[c].label,
          key: footSumRow[c].key,
          collector: footSumRow[c].collector,
          formatter: footSumRow[c].formatter
        });
      } else {
        table.rows[r].cols.push({
          colIndex: addC,
          colspan: colspan,
          rowspan: 1,
          label: "&nbsp;"
        });
      }
      addC += colspan;
      colspan = null;
    }

    if (addC < this.colGroup.length) {
      for (let c = addC; c < this.colGroup.length; c++) {
        table.rows[r].cols.push({
          colIndex: c,
          colspan: 1,
          rowspan: 1,
          label: "&nbsp;"
        });
      }
    }
    footSumRow = null;
    addC = null;
  }

  return table;
};

const makeBodyGroupingTable = function (_bodyGroupingColumns) {
  let table = {
    rows: []
  },
      r = 0,
      addC = 0;

  table.rows[r] = { cols: [] };
  for (let c = 0, cl = _bodyGroupingColumns.length; c < cl; c++) {
    if (addC > this.columns.length) break;
    let colspan = _bodyGroupingColumns[c].colspan || 1;
    if (_bodyGroupingColumns[c].label || _bodyGroupingColumns[c].key) {
      table.rows[r].cols.push({
        colspan: colspan,
        rowspan: 1,
        rowIndex: 0,
        colIndex: addC,
        columnAttr: "default",
        align: _bodyGroupingColumns[c].align,
        label: _bodyGroupingColumns[c].label,
        key: _bodyGroupingColumns[c].key,
        collector: _bodyGroupingColumns[c].collector,
        formatter: _bodyGroupingColumns[c].formatter
      });
    } else {
      table.rows[r].cols.push({
        rowIndex: 0,
        colIndex: addC,
        colspan: colspan,
        rowspan: 1,
        label: "&nbsp;"
      });
    }
    addC += colspan;
  }

  if (addC < this.colGroup.length) {
    for (var c = addC; c < this.colGroup.length; c++) {
      table.rows[r].cols.push({
        rowIndex: 0,
        colIndex: c,
        colspan: 1,
        rowspan: 1,
        label: "&nbsp;"
      });
    }
  }

  return table;
};

const findPanelByColumnIndex = function (_dindex, _colIndex, _rowIndex) {
  let _containerPanelName,
      _isScrollPanel = false,
      _panels = [];

  if (this.xvar.frozenRowIndex > _dindex) _panels.push("top");
  if (this.xvar.frozenColumnIndex > _colIndex) _panels.push("left");
  _panels.push("body");

  if (this.xvar.frozenColumnIndex <= _colIndex || this.xvar.frozenRowIndex <= _dindex) {
    _containerPanelName = _panels.join("-");
    _panels.push("scroll");
    _isScrollPanel = true;
  }

  return {
    panelName: _panels.join("-"),
    containerPanelName: _containerPanelName,
    isScrollPanel: _isScrollPanel
  };
};

const getRealPathForDataItem = function (_dataPath) {
  let path = [],
      _path = [].concat(_dataPath.split(/[\.\[\]]/g));

  _path.forEach(function (n) {
    if (n !== "") path.push("[\"" + n.replace(/['\"]/g, "") + "\"]");
  });
  _path = null;
  return path.join("");
};

/* harmony default export */ __webpack_exports__["a"] = ({
  divideTableByFrozenColumnIndex: divideTableByFrozenColumnIndex,
  getTableByStartEndColumnIndex: getTableByStartEndColumnIndex,
  getMousePosition: getMousePosition,
  ENM: ENM,
  makeHeaderTable: makeHeaderTable,
  makeBodyRowTable: makeBodyRowTable,
  makeBodyRowMap: makeBodyRowMap,
  makeFootSumTable: makeFootSumTable,
  makeBodyGroupingTable: makeBodyGroupingTable,
  findPanelByColumnIndex: findPanelByColumnIndex,
  getRealPathForDataItem: getRealPathForDataItem
});

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_page__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_header__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_collector__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_formatter__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__ = __webpack_require__(15);











/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

const columnSelect = {
  focusClear: function () {
    let self = this,
        _column;
    for (let c in self.focusedColumn) {
      _column = self.focusedColumn[c];
      if (_column) {
        self.$.panel[_column.panelName].find('[data-ax6grid-tr-data-index="' + _column.dindex + '"]').find('[data-ax6grid-column-rowindex="' + _column.rowIndex + '"][data-ax6grid-column-colindex="' + _column.colIndex + '"]').removeAttr('data-ax6grid-column-focused');
      }
    }
    self.focusedColumn = {};
  },
  clear: function () {
    let self = this,
        _column;
    for (let c in self.selectedColumn) {
      _column = self.selectedColumn[c];
      if (_column) {
        self.$.panel[_column.panelName].find('[data-ax6grid-tr-data-index="' + _column.dindex + '"]').find('[data-ax6grid-column-rowindex="' + _column.rowIndex + '"][data-ax6grid-column-colindex="' + _column.colIndex + '"]').removeAttr('data-ax6grid-column-selected');
      }
    }
    self.selectedColumn = {};
  },
  init: function (column) {
    let self = this;
    if (this.isInlineEditing) {
      for (let editKey in this.inlineEditing) {
        if (editKey == column.dindex + "_" + column.colIndex + "_" + column.rowIndex) {
          return this;
        }
      }
    }

    // focus
    columnSelect.focusClear.call(self);
    self.focusedColumn[column.dindex + "_" + column.colIndex + "_" + column.rowIndex] = {
      panelName: column.panelName,
      dindex: column.dindex,
      doindex: column.doindex,
      rowIndex: column.rowIndex,
      colIndex: column.colIndex,
      colspan: column.colspan
    };

    // select
    columnSelect.clear.call(self);
    self.xvar.selectedRange = {
      start: [column.dindex, column.rowIndex, column.colIndex, column.colspan - 1],
      end: null
    };
    self.selectedColumn[column.dindex + "_" + column.colIndex + "_" + column.rowIndex] = function (data) {
      if (data) {
        return false;
      } else {
        return {
          panelName: column.panelName,
          dindex: column.dindex,
          doindex: column.doindex,
          rowIndex: column.rowIndex,
          colIndex: column.colIndex,
          colspan: column.colspan
        };
      }
    }(self.selectedColumn[column.dindex + "_" + column.colIndex + "_" + column.rowIndex]);

    this.$.panel[column.panelName].find('[data-ax6grid-tr-data-index="' + column.dindex + '"]').find('[data-ax6grid-column-rowindex="' + column.rowIndex + '"][data-ax6grid-column-colindex="' + column.colIndex + '"]').attr('data-ax6grid-column-focused', "true").attr('data-ax6grid-column-selected', "true");

    if (this.isInlineEditing) {
      inlineEdit.deActive.call(this, "RETURN");
    }
  },
  update: function (column) {
    const self = this;
    let dindex, doindex, colIndex, rowIndex, trl;

    self.xvar.selectedRange["end"] = [column.dindex, column.rowIndex, column.colIndex, column.colspan - 1];
    columnSelect.clear.call(self);

    let range = {
      r: {
        s: Math.min(self.xvar.selectedRange["start"][0], self.xvar.selectedRange["end"][0]),
        e: Math.max(self.xvar.selectedRange["start"][0], self.xvar.selectedRange["end"][0])
      },
      c: {
        s: Math.min(self.xvar.selectedRange["start"][2], self.xvar.selectedRange["end"][2]),
        e: Math.max(self.xvar.selectedRange["start"][2] + self.xvar.selectedRange["start"][3], self.xvar.selectedRange["end"][2] + self.xvar.selectedRange["end"][3])
      }
    };

    dindex = range.r.s;
    for (; dindex <= range.r.e; dindex++) {

      trl = this.bodyRowTable.rows.length;
      rowIndex = 0;
      for (; rowIndex < trl; rowIndex++) {
        colIndex = range.c.s;
        for (; colIndex <= range.c.e; colIndex++) {
          var _panels = [],
              panelName = "";

          if (self.xvar.frozenRowIndex > dindex) _panels.push("top");
          if (self.xvar.frozenColumnIndex > colIndex) _panels.push("left");
          _panels.push("body");
          if (_panels[0] !== "top") _panels.push("scroll");
          panelName = _panels.join("-");

          self.selectedColumn[dindex + "_" + colIndex + "_" + rowIndex] = {
            panelName: panelName,
            dindex: dindex,
            rowIndex: rowIndex,
            colIndex: colIndex,
            colspan: column.colspan
          };

          _panels = null;
          panelName = null;
        }
      }
    }
    dindex = null;
    doindex = null;
    colIndex = null;
    rowIndex = null;

    for (var c in self.selectedColumn) {
      var _column = self.selectedColumn[c];
      if (_column) {
        self.$.panel[_column.panelName].find('[data-ax6grid-tr-data-index="' + _column.dindex + '"]').find('[data-ax6grid-column-rowindex="' + _column.rowIndex + '"][data-ax6grid-column-colindex="' + _column.colIndex + '"]').attr('data-ax6grid-column-selected', 'true');
      }
    }
  }
};

const columnSelector = {
  "on": function (cell) {
    let self = this;

    if (this.inlineEditing[cell.dindex + "_" + cell.colIndex + "_" + cell.rowIndex]) {
      return;
    }

    columnSelect.init.call(self, cell);

    this.$["container"]["body"].on("mousemove.ax5grid-" + this.instanceId, '[data-ax6grid-column-attr="default"]', function (e) {
      if (this.getAttribute("data-ax6grid-column-rowIndex")) {
        columnSelect.update.call(self, {
          panelName: this.getAttribute("data-ax6grid-panel-name"),
          dindex: Number(this.getAttribute("data-ax6grid-data-index")),
          doindex: Number(this.getAttribute("data-ax6grid-data-o-index")),
          rowIndex: Number(this.getAttribute("data-ax6grid-column-rowIndex")),
          colIndex: Number(this.getAttribute("data-ax6grid-column-colIndex")),
          colspan: Number(this.getAttribute("colspan"))
        });
        __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
      }
    }).on("mouseup.ax5grid-" + this.instanceId, function () {
      columnSelector.off.call(self);
    }).on("mouseleave.ax5grid-" + this.instanceId, function () {
      columnSelector.off.call(self);
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);
  },
  "off": function () {

    this.$["container"]["body"].off("mousemove.ax5grid-" + this.instanceId).off("mouseup.ax5grid-" + this.instanceId).off("mouseleave.ax5grid-" + this.instanceId);

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');
  }
};

const resetFrozenColumn = function () {
  let cfg = this.config,
      dividedBodyRowObj = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].divideTableByFrozenColumnIndex(this.bodyRowTable, this.xvar.frozenColumnIndex);

  this.asideBodyRowData = function (dataTable) {
    let data = { rows: [] };
    for (let i = 0, l = dataTable.rows.length; i < l; i++) {
      data.rows[i] = { cols: [] };
      if (i === 0) {
        let col = {
          label: "",
          colspan: 1,
          rowspan: dataTable.rows.length,
          colIndex: null
        },
            _col = {};

        if (cfg.showLineNumber) {
          _col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col, {
            width: cfg.lineNumberColumnWidth,
            _width: cfg.lineNumberColumnWidth,
            columnAttr: "lineNumber",
            label: "&nbsp;", key: "__d-index__"
          });
          data.rows[i].cols.push(_col);
        }
        if (cfg.showRowSelector) {
          _col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col, {
            width: cfg.rowSelectorColumnWidth,
            _width: cfg.rowSelectorColumnWidth,
            columnAttr: "rowSelector",
            label: "", key: "__d-checkbox__"
          });
          data.rows[i].cols.push(_col);
        }
      }
    }

    return data;
  }.call(this, this.bodyRowTable);

  //console.log(dividedBodyRowObj);

  this.leftBodyRowData = dividedBodyRowObj.leftData;
  this.bodyRowData = dividedBodyRowObj.rightData;

  if (cfg.body.grouping) {
    let dividedBodyGroupingObj = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].divideTableByFrozenColumnIndex(this.bodyGroupingTable, this.xvar.frozenColumnIndex);
    this.asideBodyGroupingData = function (dataTable) {
      let data = { rows: [] };
      for (let i = 0, l = dataTable.rows.length; i < l; i++) {
        data.rows[i] = { cols: [] };
        if (i === 0) {
          let col = {
            label: "",
            colspan: 1,
            rowspan: dataTable.rows.length,
            colIndex: null
          },
              _col = {};

          if (cfg.showLineNumber) {
            _col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col, {
              width: cfg.lineNumberColumnWidth,
              _width: cfg.lineNumberColumnWidth,
              columnAttr: "lineNumber",
              label: "&nbsp;", key: "__d-index__"
            });
            data.rows[i].cols.push(_col);
          }
          if (cfg.showRowSelector) {
            _col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col, {
              width: cfg.rowSelectorColumnWidth,
              _width: cfg.rowSelectorColumnWidth,
              columnAttr: "rowSelector",
              label: "", key: "__d-checkbox__"
            });
            data.rows[i].cols.push(_col);
          }
        }
      }

      return data;
    }.call(this, this.bodyGroupingTable);
    this.leftBodyGroupingData = dividedBodyGroupingObj.leftData;
    this.bodyGroupingData = dividedBodyGroupingObj.rightData;
    this.bodyGroupingMap = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].makeBodyRowMap.call(this, this.bodyGroupingTable);
  }

  this.leftFootSumData = {};
  this.footSumData = {};
  if (this.config.footSum) {
    let dividedFootSumObj = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].divideTableByFrozenColumnIndex(this.footSumTable, this.xvar.frozenColumnIndex);
    this.leftFootSumData = dividedFootSumObj.leftData;
    this.footSumData = dividedFootSumObj.rightData;
  }
};

const getFieldValue = function (_list, _item, _index, _col, _value, _returnPlainText) {

  let _key = _col.key,
      tagsToReplace = {
    '<': '&lt;',
    '>': '&gt;'
  };

  if (_key === "__d-index__") {
    return typeof _item["__index"] !== "undefined" ? _item["__index"] + 1 : "";
  } else if (_key === "__d-checkbox__") {
    return `<div class="checkBox" style="max-height: ${_col.width - 10}px;min-height: ${_col.width - 10}px;"></div>`;
  } else {
    if (_col.editor && function (_editor) {
      if (_editor.type in __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */]) {
        return __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */][_editor.type].editMode == "inline";
      }
      return false;
    }(_col.editor)) {
      // editor가 inline타입이라면

      _value = _value || __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(this, _index, _item.__origin_index__, _key);

      if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.editor.disabled)) {
        if (_col.editor.disabled.call({
          list: _list,
          dindex: _index,
          item: _list[_index],
          key: _key,
          value: _value
        })) {
          return _value;
        }
      }

      // print editor
      return _returnPlainText ? _value : __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */][_col.editor.type].getHtml(this, _col.editor, _value);
    }

    const valueProcessor = {
      "formatter": function () {
        let that = {
          key: _key,
          value: _value || __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(this, _index, _item.__origin_index__, _key),
          dindex: _index,
          item: _item,
          list: _list
        };

        let caller = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.formatter) ? _col.formatter : this.customFormatter[_col.formatter] || __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_formatter__["a" /* default */][_col.formatter];
        return caller ? caller.call(that) : that.value;
      },
      "default": function () {
        let returnValue = "";

        if (typeof _value !== "undefined") {
          returnValue = _value;
        } else {
          if (/[\.\[\]]/.test(_key)) {
            _value = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(this, _index, _item.__origin_index__, _key);
          } else {
            _value = _item[_key];
          }

          if (_value !== null && typeof _value !== "undefined") returnValue = _value;
        }

        // 키값이 Boolean일때 오류 발생하여 수정.
        return typeof returnValue !== "string" ? returnValue : returnValue.replace(/[<>]/g, function (tag) {
          return tagsToReplace[tag] || tag;
        });
      },
      "treeControl": function (__value) {
        let cfg = this.config,
            keys = this.config.tree.columnKeys,
            indentNodeHtml = '';

        if (_item[keys.children].length) {
          indentNodeHtml += '<a ' + 'data-ax6grid-data-index="' + _index + '" ' + 'data-ax6grid-column-attr="tree-control" ' + 'data-ax6grid-tnode-arrow="" ' + 'style="width: ' + cfg.tree.arrowWidth + 'px;padding-left:' + _item[keys.depth] * cfg.tree.indentWidth + 'px;"' + '>';
          indentNodeHtml += _item[keys.collapse] ? cfg.tree.icons.collapsedArrow : cfg.tree.icons.openedArrow;
          indentNodeHtml += '</a>';
        } else {
          indentNodeHtml += '<span ' + 'data-ax6grid-tnode-arrow="" ' + 'style="width: ' + cfg.tree.arrowWidth + 'px;padding-left:' + _item[keys.depth] * cfg.tree.indentWidth + 'px;"' + '>&nbsp;</span>';
        }

        indentNodeHtml += '<span ' + 'data-ax6grid-tnode-item="' + (_item[keys.children].length ? 'group' : 'item') + '" ' + 'style="width: ' + cfg.tree.iconWidth + 'px;"' + '>';
        indentNodeHtml += _item[keys.children].length ? _item[keys.collapse] ? cfg.tree.icons.collapsedGroupIcon : cfg.tree.icons.groupIcon : cfg.tree.icons.itemIcon;
        indentNodeHtml += '</span>';

        return indentNodeHtml + __value;
      }
    };

    let returnValue = _col.formatter ? valueProcessor.formatter.call(this) : valueProcessor.default.call(this);
    if (this.config.tree.use && _col.treeControl) {
      returnValue = valueProcessor.treeControl.call(this, returnValue);
    }

    return returnValue;
  }
};

const getGroupingValue = function (_item, _index, _col) {
  let value,
      that,
      caller,
      _key = _col.key,
      _label = _col.label;

  if (typeof _key === "undefined") {
    that = {
      key: _key,
      list: _item.__groupingList,
      groupBy: _item.__groupingBy
    };
    if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_label)) {
      value = _label.call(that);
    } else {
      value = _label;
    }
    _item[_col.colIndex] = value;
    return value;
  } else if (_key === "__d-index__") {
    return '';
  } else if (_key === "__d-checkbox__") {
    return '';
  } else {
    if (_col.collector) {
      that = {
        key: _key,
        list: _item.__groupingList
      };
      _item[_col.colIndex] = value = (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.collector) ? _col.collector : this.customCollector[_col.collector] || __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_collector__["a" /* default */][_col.collector]).call(that);
      if (_col.formatter) {
        that.value = value;
        caller = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.formatter) ? _col.formatter : this.customFormatter[_col.formatter] || __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_formatter__["a" /* default */][_col.formatter];
        return caller ? caller.call(that) : value;
      } else {
        return value;
      }
    } else {
      return "&nbsp;";
    }
  }
};

const getSumFieldValue = function (_list, _col) {
  let _key = _col.key,
      _label = _col.label;
  //, _collector, _formatter
  if (typeof _key === "undefined") {
    return _label;
  } else if (_key === "__d-index__" || _key === "__d-checkbox__") {
    return '&nbsp;';
  } else {
    if (_col.collector) {
      let that = {
        key: _key,
        list: _list
      };
      let value = (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.collector) ? _col.collector : this.customCollector[_col.collector] || __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_collector__["a" /* default */][_col.collector]).call(that);
      that.value = value;

      if (_col.formatter) {
        return (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.formatter) ? _col.formatter : this.config.formatter[_col.formatter] || __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_formatter__["a" /* default */][_col.formatter]).call(that);
      } else {
        return value;
      }
    } else {
      return "&nbsp;";
    }
  }
};

const inlineEdit = {
  active(_focusedColumn, _e, _initValue) {
    let self = this,
        dindex,
        doindex,
        colIndex,
        rowIndex,
        panelName,
        colspan,
        col,
        editor;

    for (var key in _focusedColumn) {
      panelName = _focusedColumn[key].panelName;
      dindex = _focusedColumn[key].dindex;
      doindex = _focusedColumn[key].doindex;
      colIndex = _focusedColumn[key].colIndex;
      rowIndex = _focusedColumn[key].rowIndex;
      colspan = _focusedColumn[key].colspan;

      // 인라인 에디팅을 멈춰야 하는 경우 조건
      col = this.colGroup[colIndex];
      if (!(editor = col.editor)) return this;

      // editor disabled 체크
      if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(editor.disabled)) {
        if (editor.disabled.call({
          list: this.list,
          dindex: dindex,
          item: this.list[dindex],
          key: col.key,
          value: _initValue
        })) {
          return this;
        }
      }

      // 조건에 맞지 않는 에디팅 타입이면 반응 없음.
      if (!function (_editor, _type) {
        if (_editor.type in __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */]) {
          return __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */][_editor.type].editMode == "popup";
        }
      }(editor)) {
        // 체크 박스 타입이면 값 변경 시도
        if (editor.type == "checkbox") {
          let checked, newValue;
          if (editor.config && editor.config.trueValue) {
            if (checked = !(_initValue == editor.config.trueValue)) {
              newValue = editor.config.trueValue;
            } else {
              newValue = editor.config.falseValue;
            }
          } else {
            newValue = checked = _initValue == false || _initValue == "false" || _initValue < "1" ? "true" : "false";
          }

          __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].setValue.call(self, dindex, doindex, col.key, newValue);
          updateRowState.call(self, ["cellChecked"], dindex, doindex, {
            key: col.key, rowIndex: rowIndex, colIndex: colIndex,
            editorConfig: col.editor.config, checked: checked
          });
        }
        return this;
      }

      if (this.list[dindex].__isGrouping) {
        return false;
      }
      if (key in this.inlineEditing) {
        return false;
      }

      this.inlineEditing[key] = {
        editor: editor,
        panelName: panelName,
        columnKey: key,
        column: _focusedColumn[key],
        useReturnToSave: __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */][editor.type].useReturnToSave
      };
      this.isInlineEditing = true;
    }
    if (this.isInlineEditing) {

      let originalValue = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(self, dindex, doindex, col.key),
          initValue = function (__value, __editor) {
        if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(__value)) {
          __value = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(originalValue) ? "" : originalValue;
        }

        if (__editor.type == "money") {
          return __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].number(__value, { "money": true });
        } else {
          return __value;
        }
      }.call(this, _initValue, editor);

      this.inlineEditing[key].$inlineEditorCell = this.$["panel"][panelName].find('[data-ax6grid-tr-data-index="' + dindex + '"]').find('[data-ax6grid-column-rowindex="' + rowIndex + '"][data-ax6grid-column-colindex="' + colIndex + '"]').find('[data-ax6grid-cellholder]');

      this.inlineEditing[key].$inlineEditor = __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */][editor.type].init(this, key, editor, this.inlineEditing[key].$inlineEditorCell, initValue);

      return true;
    }
  },
  deActive(_msg, _key, _value) {
    // console.log(this.inlineEditing.column.dindex, this.inlineEditing.$inlineEditor.val());
    if (!this.inlineEditing[_key]) return this;

    let panelName = this.inlineEditing[_key].panelName,
        dindex = this.inlineEditing[_key].column.dindex,
        doindex = this.inlineEditing[_key].column.doindex,
        rowIndex = this.inlineEditing[_key].column.rowIndex,
        colIndex = this.inlineEditing[_key].column.colIndex,
        column = this.bodyRowMap[this.inlineEditing[_key].column.rowIndex + "_" + this.inlineEditing[_key].column.colIndex],
        editorValue = function ($inlineEditor) {
      if (typeof _value === "undefined") {
        if ($inlineEditor.get(0).tagName == "SELECT" || $inlineEditor.get(0).tagName == "INPUT" || $inlineEditor.get(0).tagName == "TEXTAREA") {
          return $inlineEditor.val();
        } else {
          _msg = "CANCEL";
          return false;
        }
      } else {
        return _value;
      }
    }(this.inlineEditing[_key].$inlineEditor),
        newValue = function (__value, __editor) {
      if (__editor.type == "money") {
        return __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].number(__value);
      } else {
        return __value;
      }
    }.call(this, editorValue, column.editor);

    let action = {
      "CANCEL"(_dindex, _column, _newValue) {
        action["__clear"].call(this);
      },
      "RETURN"(_dindex, _doindex, _column, _newValue) {
        if (__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].setValue.call(this, _dindex, _doindex, _column.key, _newValue)) {
          action["__clear"].call(this);
          repaintCell.call(this, panelName, _dindex, _doindex, rowIndex, colIndex, _newValue);
        } else {
          action["__clear"].call(this);
        }
      },
      "__clear"() {
        this.isInlineEditing = false;
        let bindedAx5ui = this.inlineEditing[_key].$inlineEditor.data("binded-ax5ui");
        if (bindedAx5ui == "ax5picker") {
          this.inlineEditing[_key].$inlineEditor.ax5picker("close");
        } else if (bindedAx5ui == "ax5select") {
          this.inlineEditing[_key].$inlineEditor.ax5select("close");
        }

        this.inlineEditing[_key].$inlineEditor.remove();
        this.inlineEditing[_key].$inlineEditor = null;
        this.inlineEditing[_key].$inlineEditorCell = null;
        this.inlineEditing[_key] = undefined;
        delete this.inlineEditing[_key]; // delete 지원안하는 브라우저 테스트..
      }
    };

    if (_msg in action) {
      action[_msg || "RETURN"].call(this, dindex, doindex, column, newValue);
    } else {
      action["__clear"].call(this);
    }
  },
  keydown(key, columnKey, _options) {
    let processor = {
      "ESC"() {
        for (var columnKey in this.inlineEditing) {
          inlineEdit.deActive.call(this, "CANCEL", columnKey);
        }
      },
      "RETURN"() {
        if (this.isInlineEditing) {
          if (this.inlineEditing[columnKey] && this.inlineEditing[columnKey].useReturnToSave) {
            // todo : 네이밍 검증 할 필요있음.
            inlineEdit.deActive.call(this, "RETURN", columnKey);
          } else {
            return false;
          }
        } else {

          for (var k in this.focusedColumn) {
            let _column = this.focusedColumn[k],
                column = this.bodyRowMap[_column.rowIndex + "_" + _column.colIndex],
                dindex = _column.dindex,
                doindex = _column.doindex,
                value = "",
                col = this.colGroup[_column.colIndex];

            if (column) {
              if (!this.list[dindex].__isGrouping) {
                value = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(this, dindex, doindex, column.key);
              }
            }

            if (col.editor && __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_inline_editor__["a" /* default */][col.editor.type].editMode === "inline") {
              if (_options && _options.moveFocus) {} else {
                if (column.editor && column.editor.type == "checkbox") {
                  value = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(this, dindex, doindex, column.key);

                  let checked, newValue;
                  if (column.editor.config && column.editor.config.trueValue) {
                    // console.log(value, column.editor.config.trueValue);

                    if (value != column.editor.config.trueValue) {
                      newValue = column.editor.config.trueValue;
                      checked = true;
                    } else {
                      newValue = column.editor.config.falseValue;
                      checked = false;
                    }
                  } else {
                    newValue = checked = value == false || value == "false" || value < "1" ? "true" : "false";
                  }

                  __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].setValue.call(this, dindex, doindex, column.key, newValue);
                  updateRowState.call(this, ["cellChecked"], dindex, doindex, {
                    key: column.key, rowIndex: _column.rowIndex, colIndex: _column.colIndex,
                    editorConfig: column.editor.config, checked: checked
                  });
                }
              }
            } else {
              inlineEdit.active.call(this, this.focusedColumn, null, value);
            }
          }
        }
        return true;
      }
    };

    if (key in processor) {
      processor[key].call(this, key, columnKey, _options);
    }
  }
};

const repaint = function (_reset) {
  // debugger;
  let cfg = this.config,
      list = this.proxyList ? this.proxyList : this.list;

  /// repaint reset 타입이면 고정컬럼을 재조정
  if (_reset) {
    resetFrozenColumn.call(this);
    // 틀고정 이 변경되면 출력 시작 인덱스 값을 초기화
    this.xvar.paintStartRowIndex = undefined;
    this.xvar.paintStartColumnIndex = undefined;
  }

  /// 출력시작 인덱스
  let paintStartRowIndex, virtualPaintStartRowIndex;

  if (this.config.virtualScrollY) {
    virtualPaintStartRowIndex = paintStartRowIndex = Math.floor(-this.$.panel["body-scroll"].position().top / this.xvar.bodyTrHeight) + this.xvar.frozenRowIndex;
    if (this.xvar.paintRowCountTopMargin < paintStartRowIndex) {
      paintStartRowIndex -= this.xvar.paintRowCountTopMargin;
    }
  } else {
    paintStartRowIndex = this.xvar.frozenRowIndex;
  }

  if (isNaN(paintStartRowIndex)) return this;

  let paintStartColumnIndex = 0,
      paintEndColumnIndex = 0,
      nopaintLeftColumnsWidth = null,
      nopaintRightColumnsWidth = null;

  let bodyScrollLeft = -this.$.panel["body-scroll"].position().left;

  if (this.config.virtualScrollX) {
    // 페인트 시작컬럼위치와 종료컬럼위치 구하기
    for (let ci = this.xvar.frozenColumnIndex; ci < this.colGroup.length; ci++) {
      // bodyScrollLeft
      this.colGroup[ci]._sx = ci == this.xvar.frozenColumnIndex ? 0 : this.colGroup[ci - 1]._ex;
      this.colGroup[ci]._ex = this.colGroup[ci]._sx + this.colGroup[ci]._width;

      if (this.colGroup[ci]._sx <= bodyScrollLeft && this.colGroup[ci]._ex >= bodyScrollLeft) {
        paintStartColumnIndex = ci;
      }
      if (this.colGroup[ci]._sx <= bodyScrollLeft + this.xvar.bodyWidth && this.colGroup[ci]._ex >= bodyScrollLeft + this.xvar.bodyWidth) {
        paintEndColumnIndex = ci;

        if (nopaintLeftColumnsWidth === null) nopaintLeftColumnsWidth = this.colGroup[paintStartColumnIndex]._sx;
        if (nopaintRightColumnsWidth === null) nopaintRightColumnsWidth = this.xvar.scrollContentWidth - this.colGroup[ci]._ex;
      }
    }

    if (nopaintLeftColumnsWidth === null) nopaintLeftColumnsWidth = 0;
    if (nopaintRightColumnsWidth === null) nopaintRightColumnsWidth = 0;
    this.$.panel["top-body-scroll"].css({ "padding-left": nopaintLeftColumnsWidth, "padding-right": nopaintRightColumnsWidth });
    this.$.panel["body-scroll"].css({ "padding-left": nopaintLeftColumnsWidth, "padding-right": nopaintRightColumnsWidth });
    this.$.panel["bottom-body-scroll"].css({ "padding-left": nopaintLeftColumnsWidth, "padding-right": nopaintRightColumnsWidth });
  }

  let isFirstPaint = typeof this.xvar.paintStartRowIndex === "undefined",
      headerColGroup = this.headerColGroup,
      asideBodyRowData = this.asideBodyRowData,
      leftBodyRowData = this.leftBodyRowData,
      bodyRowData = this.bodyRowData,
      leftFootSumData = this.leftFootSumData,
      footSumData = this.footSumData,
      asideBodyGroupingData = this.asideBodyGroupingData,
      leftBodyGroupingData = this.leftBodyGroupingData,
      bodyGroupingData = this.bodyGroupingData,
      bodyAlign = cfg.body.align,
      paintRowCount,
      virtualPaintRowCount;

  if (!this.config.virtualScrollY) {
    virtualPaintRowCount = paintRowCount = list.length;
  } else {
    virtualPaintRowCount = Math.ceil(this.xvar.bodyHeight / this.xvar.bodyTrHeight);
    paintRowCount = virtualPaintRowCount + (this.xvar.paintRowCountMargin || 1);
  }

  // 여유범위 안에 있으면 페인팅 안할수 있게 paintStartRowIndex 변경하지 않음.
  if (this.xvar.paintRowCountTopMargin < paintStartRowIndex && Math.abs(this.xvar.paintStartRowIndex - paintStartRowIndex) <= this.xvar.paintRowCountTopMargin) {
    paintStartRowIndex = this.xvar.paintStartRowIndex;
  }

  if (this.xvar.dataRowCount === list.length && this.xvar.paintStartRowIndex === paintStartRowIndex && this.xvar.paintRowCount === paintRowCount && this.xvar.paintStartColumnIndex === paintStartColumnIndex && this.xvar.paintEndColumnIndex === paintEndColumnIndex) return this; // 스크롤 포지션 변경 여부에 따라 프로세스 진행여부 결정

  // bodyRowData 수정 : 페인트 컬럼 포지션이 달라지므로
  if (nopaintLeftColumnsWidth || nopaintRightColumnsWidth) {
    headerColGroup = [].concat(headerColGroup).splice(paintStartColumnIndex - this.xvar.frozenColumnIndex, paintEndColumnIndex - paintStartColumnIndex + 1 + this.xvar.frozenColumnIndex);
    bodyRowData = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].getTableByStartEndColumnIndex(bodyRowData, paintStartColumnIndex, paintEndColumnIndex);

    if (cfg.body.grouping) {
      bodyGroupingData = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].getTableByStartEndColumnIndex(bodyGroupingData, paintStartColumnIndex, paintEndColumnIndex);
    }
    if (cfg.footSum) {
      footSumData = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].getTableByStartEndColumnIndex(footSumData, paintStartColumnIndex, paintEndColumnIndex);
    }
    if (this.xvar.paintStartColumnIndex !== paintStartColumnIndex || this.xvar.paintEndColumnIndex !== paintEndColumnIndex) {
      this.needToPaintSum = true;
    }
  }

  /// 스크롤 컨텐츠의 높이 : 그리드 스크롤의 실제 크기와는 관계 없이 데이터 갯수에 따라 스크롤 컨텐츠 높이값 구해서 저장해두기.
  this.xvar.scrollContentHeight = this.xvar.bodyTrHeight * (list.length - this.xvar.frozenRowIndex);
  if (this.xvar.scrollContentHeight < 0) this.xvar.scrollContentHeight = 0;

  /// 사용된 패널들의 키 모음
  this.$.livePanelKeys = [];

  // 그리드 바디 영역 페인트 함수
  /**
   * @param _elTargetKey
   * @param _colGroup
   * @param _bodyRow
   * @param _groupRow
   * @param _list
   * @param [_scrollConfig]
   * @returns {boolean}
   */
  let repaintBody = function (_elTargetKey, _colGroup, _bodyRow, _groupRow, _list, _scrollConfig) {
    let _elTarget = this.$.panel[_elTargetKey];

    if (!isFirstPaint && !_scrollConfig) {
      this.$.livePanelKeys.push(_elTargetKey); // 사용중인 패널키를 모아둠. (뷰의 상태 변경시 사용하려고)
      return false;
    }

    let SS = [],
        cgi,
        cgl,
        di,
        dl,
        tri,
        trl,
        ci,
        cl,
        col,
        cellHeight,
        colAlign,
        isScrolled = function () {
      // 스크롤값이 변경되거나 처음 호출되었습니까?
      if (typeof _scrollConfig === "undefined" || typeof _scrollConfig['paintStartRowIndex'] === "undefined") {
        _scrollConfig = {
          paintStartRowIndex: 0,
          paintRowCount: _list.length
        };
        return false;
      } else {
        return true;
      }
    }(),
        stripeString = '#fff 0px, #fff ' + (cfg.body.columnHeight - cfg.body.columnBorderWidth) + 'px, #eee ' + (cfg.body.columnHeight - cfg.body.columnBorderWidth) + 'px, #eee ' + cfg.body.columnHeight + 'px';

    if (isScrolled) {
      SS.push('<div style="background:repeating-linear-gradient(to top, ' + stripeString + ');' + 'font-size:0;' + 'line-height:0;height: ' + (_scrollConfig.paintStartRowIndex - this.xvar.frozenRowIndex) * _scrollConfig.bodyTrHeight + 'px;"></div>');
    }

    SS.push('<table border="0" cellpadding="0" cellspacing="0">');
    SS.push('<colgroup>');
    for (cgi = 0, cgl = _colGroup.length; cgi < cgl; cgi++) {
      SS.push('<col style="width:' + _colGroup[cgi]._width + 'px;"  />');
    }
    SS.push('<col  />');
    SS.push('</colgroup>');

    di = _scrollConfig.paintStartRowIndex;

    for (dl = function () {
      let len;
      len = _list.length;
      if (_scrollConfig.paintRowCount + _scrollConfig.paintStartRowIndex < len) {
        len = _scrollConfig.paintRowCount + _scrollConfig.paintStartRowIndex;
      }
      return len;
    }(); di < dl; di++) {

      if (_list[di]) {
        let isGroupingRow = false,
            rowTable,
            odi = typeof _list[di].__origin_index__ !== "undefined" ? _list[di].__origin_index__ : di;
        if (_groupRow && "__isGrouping" in _list[di]) {
          rowTable = _groupRow;
          isGroupingRow = true;
        } else {
          rowTable = _bodyRow;
        }

        for (tri = 0, trl = rowTable.rows.length; tri < trl; tri++) {

          SS.push('<tr class="tr-' + di % 4 + '', cfg.body.trStyleClass ? __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(cfg.body.trStyleClass) ? ' ' + cfg.body.trStyleClass.call({
            item: _list[di],
            index: di
          }, _list[di], di) : ' ' + cfg.body.trStyleClass : '', '"', isGroupingRow ? ' data-ax6grid-grouping-tr="true"' : '', ' data-ax6grid-tr-data-index="' + di + '"', ' data-ax6grid-tr-data-o-index="' + odi + '"', ' data-ax6grid-selected="' + (_list[di][cfg.columnKeys.selected] || "false") + '"', ' data-ax6grid-disable-selection="' + (_list[di][cfg.columnKeys.disableSelection] || "false") + '"', '>');
          for (ci = 0, cl = rowTable.rows[tri].cols.length; ci < cl; ci++) {
            col = rowTable.rows[tri].cols[ci];
            cellHeight = cfg.body.columnHeight * col.rowspan - cfg.body.columnBorderWidth;
            colAlign = col.align || bodyAlign;

            SS.push('<td ', 'data-ax6grid-panel-name="' + _elTargetKey + '" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-data-o-index="' + odi + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', 'data-ax6grid-column-rowIndex="' + col.rowIndex + '" ', 'data-ax6grid-column-colIndex="' + col.colIndex + '" ', 'data-ax6grid-column-attr="' + (col.columnAttr || "default") + '" ', function (_focusedColumn, _selectedColumn) {
              let attrs = "";
              if (_focusedColumn) {
                attrs += 'data-ax6grid-column-focused="true" ';
              }
              if (_selectedColumn) {
                attrs += 'data-ax6grid-column-selected="true" ';
              }
              return attrs;
            }(this.focusedColumn[di + "_" + col.colIndex + "_" + col.rowIndex], this.selectedColumn[di + "_" + col.colIndex + "_" + col.rowIndex]), 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
              let tdCSS_class = "";
              if (_col.styleClass) {
                if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.styleClass)) {
                  tdCSS_class += _col.styleClass.call({
                    column: _col,
                    key: _col.key,
                    item: _list[di],
                    index: di
                  }) + " ";
                } else {
                  tdCSS_class += _col.styleClass + " ";
                }
              }
              if (cfg.body.columnBorderWidth) tdCSS_class += "hasBorder ";
              if (ci == cl - 1) tdCSS_class += "isLastColumn ";
              return tdCSS_class;
            }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

            SS.push(function (_cellHeight) {
              let lineHeight = cfg.body.columnHeight - cfg.body.columnPadding * 2 - cfg.body.columnBorderWidth;
              if (!col.multiLine) {
                _cellHeight = cfg.body.columnHeight - cfg.body.columnBorderWidth;
              }

              return '<span data-ax6grid-cellHolder="' + (col.multiLine ? 'multiLine' : '') + '" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + '" style="height:' + _cellHeight + 'px;' + (col.multiLine ? '' : 'line-height: ' + lineHeight + 'px;') + '">';
            }(cellHeight), isGroupingRow ? getGroupingValue.call(this, _list[di], di, col) : getFieldValue.call(this, _list, _list[di], di, col), '</span>');

            SS.push('</td>');
          }
          SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-data-o-index="' + odi + '" ', 'data-ax6grid-column-attr="' + "default" + '" ', 'style="height: ' + cfg.body.columnHeight + 'px;min-height: 1px;" ', '></td>');
          SS.push('</tr>');
        }
      }
    }
    SS.push('</table>');

    if (isScrolled && _list.length) {
      SS.push('<div style="background:repeating-linear-gradient(to bottom, ' + stripeString + ');' + 'font-size:0;' + 'line-height:0;height: ' + (_list.length - di) * _scrollConfig.bodyTrHeight + 'px;"></div>');
    }

    _elTarget.empty();
    SS = SS.join('');

    _elTarget.get(0).innerHTML = SS;

    this.$.livePanelKeys.push(_elTargetKey); // 사용중인 패널키를 모아둠. (뷰의 상태 변경시 사용하려고)
    return true;
  };

  /**
   * @param _elTargetKey
   * @param _colGroup
   * @param _bodyRow
   * @param _list
   * @param [_scrollConfig]
   * @returns {boolean}
   */
  let repaintSum = function (_elTargetKey, _colGroup, _bodyRow, _list, _scrollConfig) {
    let _elTarget = this.$.panel[_elTargetKey];

    if (!isFirstPaint && !_scrollConfig) {
      this.$.livePanelKeys.push(_elTargetKey); // 사용중인 패널키를 모아둠. (뷰의 상태 변경시 사용하려고)
      return false;
    }

    let SS = [],
        cgi,
        cgl,
        tri,
        trl,
        ci,
        cl,
        col,
        cellHeight,
        colAlign;

    SS.push('<table border="0" cellpadding="0" cellspacing="0">');
    SS.push('<colgroup>');
    for (cgi = 0, cgl = _colGroup.length; cgi < cgl; cgi++) {
      SS.push('<col style="width:' + _colGroup[cgi]._width + 'px;"  />');
    }
    SS.push('<col  />');
    SS.push('</colgroup>');

    for (tri = 0, trl = _bodyRow.rows.length; tri < trl; tri++) {
      SS.push('<tr class="tr-sum">');
      for (ci = 0, cl = _bodyRow.rows[tri].cols.length; ci < cl; ci++) {
        col = _bodyRow.rows[tri].cols[ci];
        cellHeight = cfg.body.columnHeight * col.rowspan - cfg.body.columnBorderWidth;
        colAlign = col.align || bodyAlign;

        SS.push('<td ', 'data-ax6grid-panel-name="' + _elTargetKey + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', 'data-ax6grid-column-rowIndex="' + tri + '" ', 'data-ax6grid-column-colIndex="' + col.colIndex + '" ', 'data-ax6grid-column-attr="' + (col.columnAttr || "sum") + '" ', function (_focusedColumn, _selectedColumn) {
          var attrs = "";
          if (_focusedColumn) {
            attrs += 'data-ax6grid-column-focused="true" ';
          }
          if (_selectedColumn) {
            attrs += 'data-ax6grid-column-selected="true" ';
          }
          return attrs;
        }(this.focusedColumn["sum_" + col.colIndex + "_" + tri], this.selectedColumn["sum_" + col.colIndex + "_" + tri]), 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
          var tdCSS_class = "";
          if (_col.styleClass) {
            if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.styleClass)) {
              tdCSS_class += _col.styleClass.call({
                column: _col,
                key: _col.key,
                isFootSum: true
              }) + " ";
            } else {
              tdCSS_class += _col.styleClass + " ";
            }
          }
          if (cfg.body.columnBorderWidth) tdCSS_class += "hasBorder ";
          if (ci == cl - 1) tdCSS_class += "isLastColumn ";
          return tdCSS_class;
        }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

        SS.push(function (_cellHeight) {
          let lineHeight = cfg.body.columnHeight - cfg.body.columnPadding * 2 - cfg.body.columnBorderWidth;
          if (!col.multiLine) {
            _cellHeight = cfg.body.columnHeight - cfg.body.columnBorderWidth;
          }

          return '<span data-ax6grid-cellHolder="' + (col.multiLine ? 'multiLine' : '') + '" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + '" style="height:' + _cellHeight + 'px;' + (col.multiLine ? '' : 'line-height: ' + lineHeight + 'px;') + '">';
        }(cellHeight), getSumFieldValue.call(this, _list, col), '</span>');

        SS.push('</td>');
      }
      SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'data-ax6grid-column-attr="' + "sum" + '" ', 'style="height: ' + cfg.body.columnHeight + 'px;min-height: 1px;" ', '></td>');
      SS.push('</tr>');
    }

    SS.push('</table>');

    _elTarget.empty();
    SS = SS.join('');

    _elTarget.get(0).innerHTML = SS;

    this.$.livePanelKeys.push(_elTargetKey); // 사용중인 패널키를 모아둠. (뷰의 상태 변경시 사용하려고)
    return true;
  };

  /**
   * @param _elTargetKey
   * @param _colGroup
   * @param _bodyRow
   * @param _list
   * @param [_scrollConfig]
   * @returns {boolean}
   */
  let mergeCellsBody = function (_elTargetKey, _colGroup, _bodyRow, _list, _scrollConfig) {
    let tblRowMaps = [];
    let _elTarget = this.$.panel[_elTargetKey];
    let token = {},
        hasMergeTd;

    // 테이블의 td들을 수잡하여 저장해두고 스크립트로 반복하여 정리.
    let tableTrs = _elTarget.find("tr");
    for (let ri = 0, rl = tableTrs.length; ri < rl; ri++) {
      let tableTrTds, trMaps;
      tableTrTds = tableTrs[ri].childNodes;
      trMaps = [];

      for (let ci = 0, cl = tableTrTds.length; ci < cl; ci++) {
        let tdObj = {
          "$": __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(tableTrTds[ci])
        };

        if (tdObj["$"].attr("data-ax6grid-column-col") != "null") {
          tdObj.dindex = tdObj["$"].attr("data-ax6grid-data-index");
          tdObj.tri = tdObj["$"].attr("data-ax6grid-column-row");
          tdObj.ci = tdObj["$"].attr("data-ax6grid-column-col");
          tdObj.rowIndex = tdObj["$"].attr("data-ax6grid-column-rowIndex");
          tdObj.colIndex = tdObj["$"].attr("data-ax6grid-column-colIndex");
          tdObj.rowspan = tdObj["$"].attr("rowspan");
          tdObj.text = tdObj["$"].text();
          trMaps.push(tdObj);
        }

        tdObj = null;
      }
      tblRowMaps.push(trMaps);
    }

    // 두줄이상 일 때 의미가 있으니.
    if (tblRowMaps.length > 1) {
      hasMergeTd = false;
      for (let ri = 0, rl = tblRowMaps.length; ri < rl; ri++) {
        let prevTokenColIndexs = [];

        for (let ci = 0, cl = tblRowMaps[ri].length; ci < cl; ci++) {
          // 적용 하려는 컬럼에 editor 속성이 없다면 머지 대상입니다.

          if (!_colGroup[ci].editor && (() => {
            if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isArray(cfg.body.mergeCells)) {
              return __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].search(cfg.body.mergeCells, _colGroup[ci].key) > -1;
            } else {
              return true;
            }
          })()) {

            // 앞줄과 값이 같다면.
            if (token[ci] && (() => {
              if (prevTokenColIndexs.length > 0) {
                let hasFalse = true;
                prevTokenColIndexs.forEach(function (ti) {
                  if (tblRowMaps[ri - 1][ti].text != tblRowMaps[ri][ti].text) {
                    hasFalse = false;
                  }
                });
                return hasFalse;
              } else {
                return true;
              }
            })() && token[ci].text == tblRowMaps[ri][ci].text) {
              tblRowMaps[ri][ci].rowspan = 0;
              tblRowMaps[token[ci].ri][ci].rowspan++;
              hasMergeTd = true;
            } else {
              token[ci] = {
                ri: ri,
                ci: ci,
                text: tblRowMaps[ri][ci].text
              };
            }

            prevTokenColIndexs.push(ci);
          }
        }
      }

      // rowspan을 다 구했으면 적용합니다.
      if (hasMergeTd) {
        for (let ri = 0, rl = tblRowMaps.length; ri < rl; ri++) {
          for (let ci = 0, cl = tblRowMaps[ri].length; ci < cl; ci++) {
            if (tblRowMaps[ri][ci].rowspan == 0) {
              tblRowMaps[ri][ci]["$"].remove();
            } else if (tblRowMaps[ri][ci].rowspan > 1) {
              tblRowMaps[ri][ci]["$"].attr("rowspan", tblRowMaps[ri][ci].rowspan).addClass("merged");
            }
          }
        }
      }
    }
  };

  let scrollConfig = {
    paintStartRowIndex: paintStartRowIndex,
    paintRowCount: paintRowCount,
    paintStartColumnIndex: paintStartColumnIndex,
    paintEndColumnIndex: paintEndColumnIndex,
    nopaintLeftColumnsWidth: nopaintLeftColumnsWidth,
    nopaintRightColumnsWidth: nopaintRightColumnsWidth,
    bodyTrHeight: this.xvar.bodyTrHeight,
    virtualScrollX: this.config.virtualScrollX,
    virtualScrollY: this.config.virtualScrollY
  };
  let frozenScrollConfig = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, scrollConfig, {
    paintStartRowIndex: 0,
    paintRowCount: this.xvar.frozenRowIndex
  });

  // aside
  if (cfg.asidePanelWidth > 0) {
    if (this.xvar.frozenRowIndex > 0) {
      // 상단 행고정
      repaintBody.call(this, "top-aside-body", this.asideColGroup, asideBodyRowData, asideBodyGroupingData, list.slice(0, this.xvar.frozenRowIndex), frozenScrollConfig);
    }

    repaintBody.call(this, "aside-body-scroll", this.asideColGroup, asideBodyRowData, asideBodyGroupingData, list, scrollConfig);

    if (cfg.footSum) {
      // 바닥 요약 (footSum에 대한 aside 사용안함)
      repaintSum.call(this, "bottom-aside-body", this.asideColGroup, asideBodyRowData, null, list);
    }
  }

  // left
  if (this.xvar.frozenColumnIndex > 0) {
    if (this.xvar.frozenRowIndex > 0) {
      // 상단 행고정
      repaintBody.call(this, "top-left-body", this.leftHeaderColGroup, leftBodyRowData, leftBodyGroupingData, list.slice(0, this.xvar.frozenRowIndex), frozenScrollConfig);
    }

    repaintBody.call(this, "left-body-scroll", this.leftHeaderColGroup, leftBodyRowData, leftBodyGroupingData, list, scrollConfig);

    if (cfg.footSum && this.needToPaintSum) {
      // 바닥 요약
      repaintSum.call(this, "bottom-left-body", this.leftHeaderColGroup, leftFootSumData, list);
    }
  }

  // body
  if (this.xvar.frozenRowIndex > 0) {
    // 상단 행고정
    repaintBody.call(this, "top-body-scroll", headerColGroup, bodyRowData, bodyGroupingData, list.slice(0, this.xvar.frozenRowIndex), frozenScrollConfig);
  }
  repaintBody.call(this, "body-scroll", headerColGroup, bodyRowData, bodyGroupingData, list, scrollConfig);

  // 바닥 요약
  if (cfg.footSum && this.needToPaintSum) {
    repaintSum.call(this, "bottom-body-scroll", headerColGroup, footSumData, list, scrollConfig);
  }
  // right
  if (cfg.rightSum) {}
  // todo : right 표현 정리


  /// mergeCells
  if (cfg.body.mergeCells && list.length) {
    // left
    if (this.xvar.frozenColumnIndex > 0) {
      if (this.xvar.frozenRowIndex > 0) {
        // 상단 행고정
        // console.log(this.leftHeaderColGroup, leftBodyRowData);
        mergeCellsBody.call(this, "top-left-body", this.leftHeaderColGroup, leftBodyRowData, list.slice(0, this.xvar.frozenRowIndex));
      }
      mergeCellsBody.call(this, "left-body-scroll", this.leftHeaderColGroup, leftBodyRowData, list, scrollConfig);
    }

    // body
    if (this.xvar.frozenRowIndex > 0) {
      // 상단 행고정
      mergeCellsBody.call(this, "top-body-scroll", this.headerColGroup, bodyRowData, list.slice(0, this.xvar.frozenRowIndex));
    }
    mergeCellsBody.call(this, "body-scroll", this.headerColGroup, bodyRowData, list, scrollConfig);
  }

  this.xvar.virtualPaintStartRowIndex = virtualPaintStartRowIndex;
  this.xvar.paintStartRowIndex = paintStartRowIndex;
  this.xvar.paintRowCount = paintRowCount;
  this.xvar.virtualPaintRowCount = virtualPaintRowCount;
  this.xvar.paintStartColumnIndex = paintStartColumnIndex;
  this.xvar.paintEndColumnIndex = paintEndColumnIndex;
  this.xvar.nopaintLeftColumnsWidth = nopaintLeftColumnsWidth;
  this.xvar.nopaintRightColumnsWidth = nopaintRightColumnsWidth;
  this.xvar.dataRowCount = list.length;
  this.needToPaintSum = false;

  __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_page__["a" /* default */].statusUpdate.call(this);
};

const repaintCell = function (_panelName, _dindex, _doindex, _rowIndex, _colIndex, _newValue) {
  let self = this,
      cfg = this.config,
      list = this.list;

  let updateCell = this.$["panel"][_panelName].find('[data-ax6grid-tr-data-index="' + _dindex + '"]').find('[data-ax6grid-column-rowindex="' + _rowIndex + '"][data-ax6grid-column-colindex="' + _colIndex + '"]').find('[data-ax6grid-cellholder]'),
      colGroup = this.colGroup,
      col = colGroup[_colIndex];

  updateCell.html(getFieldValue.call(this, list, list[_dindex], _dindex, col));

  if (col.editor && col.editor.updateWith) {
    col.editor.updateWith.forEach(function (updateColumnKey) {
      colGroup.forEach(function (col) {
        if (col.key == updateColumnKey) {
          let rowIndex = col.rowIndex,
              colIndex = col.colIndex,
              panelName = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].findPanelByColumnIndex.call(self, _dindex, colIndex, rowIndex).panelName,
              updateWithCell = self.$["panel"][panelName].find('[data-ax6grid-tr-data-index="' + _dindex + '"]').find('[data-ax6grid-column-rowindex="' + rowIndex + '"][data-ax6grid-column-colindex="' + colIndex + '"]').find('[data-ax6grid-cellholder]');

          updateWithCell.html(getFieldValue.call(self, list, list[_dindex], _dindex, col));
        }
      });
    });
  }

  /// ~~~~~~

  let paintStartRowIndex = Math.floor(Math.abs(this.$.panel["body-scroll"].position().top) / this.xvar.bodyTrHeight) + this.xvar.frozenRowIndex,
      headerColGroup = this.headerColGroup,
      leftFootSumData = this.leftFootSumData,
      footSumData = this.footSumData,
      leftBodyGroupingData = this.leftBodyGroupingData,
      bodyGroupingData = this.bodyGroupingData,
      bodyAlign = cfg.body.align,
      paintRowCount = Math.ceil(this.$.panel["body"].height() / this.xvar.bodyTrHeight) + 1,
      scrollConfig = {
    paintStartRowIndex: paintStartRowIndex,
    paintRowCount: paintRowCount,
    bodyTrHeight: this.xvar.bodyTrHeight
  };

  if (this.xvar.nopaintLeftColumnsWidth || this.xvar.nopaintRightColumnsWidth) {
    headerColGroup = [].concat(headerColGroup).splice(this.xvar.paintStartColumnIndex, this.xvar.paintEndColumnIndex - this.xvar.paintStartColumnIndex + 1);
    if (cfg.body.grouping) {
      bodyGroupingData = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].getTableByStartEndColumnIndex(bodyGroupingData, this.xvar.paintStartColumnIndex, this.xvar.paintEndColumnIndex);
    }
    if (cfg.footSum) {
      footSumData = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].getTableByStartEndColumnIndex(footSumData, this.xvar.paintStartColumnIndex, this.xvar.paintEndColumnIndex);
    }
  }

  let repaintSum = function (_elTargetKey, _colGroup, _bodyRow, _list, _scrollConfig) {
    let _elTarget = this.$.panel[_elTargetKey],
        SS = [],
        cgi,
        cgl,
        tri,
        trl,
        ci,
        cl,
        col,
        cellHeight,
        colAlign;

    SS.push('<table border="0" cellpadding="0" cellspacing="0">');
    SS.push('<colgroup>');
    for (cgi = 0, cgl = _colGroup.length; cgi < cgl; cgi++) {
      SS.push('<col style="width:' + _colGroup[cgi]._width + 'px;"  />');
    }
    SS.push('<col  />');
    SS.push('</colgroup>');

    for (tri = 0, trl = _bodyRow.rows.length; tri < trl; tri++) {
      SS.push('<tr class="tr-sum">');
      for (ci = 0, cl = _bodyRow.rows[tri].cols.length; ci < cl; ci++) {
        col = _bodyRow.rows[tri].cols[ci];
        cellHeight = cfg.body.columnHeight * col.rowspan - cfg.body.columnBorderWidth;
        colAlign = col.align || bodyAlign;

        SS.push('<td ', 'data-ax6grid-panel-name="' + _elTargetKey + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', 'data-ax6grid-column-rowIndex="' + tri + '" ', 'data-ax6grid-column-colIndex="' + col.colIndex + '" ', 'data-ax6grid-column-attr="' + (col.columnAttr || "sum") + '" ', function (_focusedColumn, _selectedColumn) {
          var attrs = "";
          if (_focusedColumn) {
            attrs += 'data-ax6grid-column-focused="true" ';
          }
          if (_selectedColumn) {
            attrs += 'data-ax6grid-column-selected="true" ';
          }
          return attrs;
        }(this.focusedColumn["sum_" + col.colIndex + "_" + tri], this.selectedColumn["sum_" + col.colIndex + "_" + tri]), 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
          let tdCSS_class = "";
          if (_col.styleClass) {
            if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.styleClass)) {
              tdCSS_class += _col.styleClass.call({
                column: _col,
                key: _col.key,
                isFootSum: true
              }) + " ";
            } else {
              tdCSS_class += _col.styleClass + " ";
            }
          }
          if (cfg.body.columnBorderWidth) tdCSS_class += "hasBorder ";
          if (ci == cl - 1) tdCSS_class += "isLastColumn ";
          return tdCSS_class;
        }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

        SS.push(function (_cellHeight) {
          let lineHeight = cfg.body.columnHeight - cfg.body.columnPadding * 2 - cfg.body.columnBorderWidth;
          if (!col.multiLine) {
            _cellHeight = cfg.body.columnHeight - cfg.body.columnBorderWidth;
          }

          return '<span data-ax6grid-cellHolder="' + (col.multiLine ? 'multiLine' : '') + '" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + '" style="height:' + _cellHeight + 'px;' + (col.multiLine ? '' : 'line-height: ' + lineHeight + 'px;') + '">';
        }(cellHeight), getSumFieldValue.call(this, _list, col), '</span>');

        SS.push('</td>');
      }
      SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'data-ax6grid-column-attr="' + "sum" + '" ', 'style="height: ' + cfg.body.columnHeight + 'px;min-height: 1px;" ', '></td>');
      SS.push('</tr>');
    }

    SS.push('</table>');

    _elTarget.empty().get(0).innerHTML = SS.join('');
    return true;
  };
  let replaceGroupTr = function (_elTargetKey, _colGroup, _groupRow, _list, _scrollConfig) {
    let _elTarget = this.$.panel[_elTargetKey],
        SS = [],
        di,
        dl,
        tri,
        trl,
        ci,
        cl,
        col,
        cellHeight,
        colAlign;

    for (di = _scrollConfig.paintStartRowIndex, dl = function () {
      let len;
      len = _list.length;
      if (_scrollConfig.paintRowCount + _scrollConfig.paintStartRowIndex < len) {
        len = _scrollConfig.paintRowCount + _scrollConfig.paintStartRowIndex;
      }
      return len;
    }(); di < dl; di++) {
      if (_list[di] && _groupRow && "__isGrouping" in _list[di]) {
        let rowTable = _groupRow;
        SS = [];
        for (tri = 0, trl = rowTable.rows.length; tri < trl; tri++) {
          for (ci = 0, cl = rowTable.rows[tri].cols.length; ci < cl; ci++) {
            col = rowTable.rows[tri].cols[ci];
            cellHeight = cfg.body.columnHeight * col.rowspan - cfg.body.columnBorderWidth;
            colAlign = col.align || bodyAlign;

            SS.push('<td ', 'data-ax6grid-panel-name="' + _elTargetKey + '" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', 'data-ax6grid-column-rowIndex="' + col.rowIndex + '" ', 'data-ax6grid-column-colIndex="' + col.colIndex + '" ', 'data-ax6grid-column-attr="' + (col.columnAttr || "default") + '" ', function (_focusedColumn, _selectedColumn) {
              let attrs = "";
              if (_focusedColumn) {
                attrs += 'data-ax6grid-column-focused="true" ';
              }
              if (_selectedColumn) {
                attrs += 'data-ax6grid-column-selected="true" ';
              }
              return attrs;
            }(this.focusedColumn[di + "_" + col.colIndex + "_" + col.rowIndex], this.selectedColumn[di + "_" + col.colIndex + "_" + col.rowIndex]), 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
              let tdCSS_class = "";
              if (_col.styleClass) {
                if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.styleClass)) {
                  tdCSS_class += _col.styleClass.call({
                    column: _col,
                    key: _col.key,
                    item: _list[di],
                    index: di
                  }) + " ";
                } else {
                  tdCSS_class += _col.styleClass + " ";
                }
              }
              if (cfg.body.columnBorderWidth) tdCSS_class += "hasBorder ";
              if (ci == cl - 1) tdCSS_class += "isLastColumn ";
              return tdCSS_class;
            }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

            SS.push(function (_cellHeight) {
              let lineHeight = cfg.body.columnHeight - cfg.body.columnPadding * 2 - cfg.body.columnBorderWidth;
              if (!col.multiLine) {
                _cellHeight = cfg.body.columnHeight - cfg.body.columnBorderWidth;
              }

              return '<span data-ax6grid-cellHolder="' + (col.multiLine ? 'multiLine' : '') + '" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + '" style="height:' + _cellHeight + 'px;' + (col.multiLine ? '' : 'line-height: ' + lineHeight + 'px;') + '">';
            }(cellHeight), getGroupingValue.call(this, _list[di], di, col), '</span>');

            SS.push('</td>');
          }
          SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-column-attr="' + "default" + '" ', 'style="height: ' + cfg.body.columnHeight + 'px;min-height: 1px;" ', '></td>');
        }
        _elTarget.find('tr[data-ax6grid-tr-data-index="' + di + '"]').empty().get(0).innerHTML = SS.join('');
      }
    }
  };

  // body.grouping tr 다시 그리기..
  if (cfg.body.grouping) {
    // left
    if (this.xvar.frozenColumnIndex > 0) {
      if (this.xvar.frozenRowIndex > 0) {
        // 상단 행고정
        replaceGroupTr.call(this, "top-left-body", headerColGroup, leftBodyGroupingData, list.slice(0, this.xvar.frozenRowIndex), {
          paintStartRowIndex: 0,
          paintRowCount: this.xvar.frozenRowIndex,
          bodyTrHeight: this.xvar.bodyTrHeight
        });
      }
      replaceGroupTr.call(this, "left-body-scroll", headerColGroup, leftBodyGroupingData, list, scrollConfig);
    }

    // body
    if (this.xvar.frozenRowIndex > 0) {
      // 상단 행고정
      replaceGroupTr.call(this, "top-body-scroll", headerColGroup, bodyGroupingData, list.slice(0, this.xvar.frozenRowIndex), {
        paintStartRowIndex: 0,
        paintRowCount: this.xvar.frozenRowIndex,
        bodyTrHeight: this.xvar.bodyTrHeight
      });
    }

    replaceGroupTr.call(this, "body-scroll", headerColGroup, bodyGroupingData, list, scrollConfig);
  }

  if (this.xvar.frozenColumnIndex > 0) {
    if (cfg.footSum && this.needToPaintSum) {
      // 바닥 요약
      repaintSum.call(this, "bottom-left-body", headerColGroup, leftFootSumData, list);
    }
  }

  if (cfg.footSum && this.needToPaintSum) {
    // 바닥 요약
    repaintSum.call(this, "bottom-body-scroll", headerColGroup, footSumData, list, scrollConfig);
  }
};

const repaintRow = function (_dindex) {
  let self = this,
      cfg = this.config,
      list = this.list;
  /// ~~~~~~

  let paintStartRowIndex = Math.floor(Math.abs(this.$.panel["body-scroll"].position().top) / this.xvar.bodyTrHeight) + this.xvar.frozenRowIndex,
      asideBodyRowData = this.asideBodyRowData,
      leftBodyRowData = this.leftBodyRowData,
      bodyRowData = this.bodyRowData,
      leftFootSumData = this.leftFootSumData,
      footSumData = this.footSumData,
      asideBodyGroupingData = this.asideBodyGroupingData,
      leftBodyGroupingData = this.leftBodyGroupingData,
      bodyGroupingData = this.bodyGroupingData,
      bodyAlign = cfg.body.align,
      paintRowCount = Math.ceil(this.$.panel["body"].height() / this.xvar.bodyTrHeight) + 1,
      scrollConfig = {
    paintStartRowIndex: paintStartRowIndex,
    paintRowCount: paintRowCount,
    bodyTrHeight: this.xvar.bodyTrHeight
  };

  let repaintSum = function (_elTargetKey, _colGroup, _bodyRow, _list) {
    let _elTarget = this.$.panel[_elTargetKey],
        SS = [],
        cgi,
        cgl,
        tri,
        trl,
        ci,
        cl,
        col,
        cellHeight,
        colAlign;

    SS.push('<table border="0" cellpadding="0" cellspacing="0">');
    SS.push('<colgroup>');
    for (cgi = 0, cgl = _colGroup.length; cgi < cgl; cgi++) {
      SS.push('<col style="width:' + _colGroup[cgi]._width + 'px;"  />');
    }
    SS.push('<col  />');
    SS.push('</colgroup>');

    for (tri = 0, trl = _bodyRow.rows.length; tri < trl; tri++) {
      SS.push('<tr class="tr-sum">');
      for (ci = 0, cl = _bodyRow.rows[tri].cols.length; ci < cl; ci++) {
        col = _bodyRow.rows[tri].cols[ci];
        cellHeight = cfg.body.columnHeight * col.rowspan - cfg.body.columnBorderWidth;
        colAlign = col.align || bodyAlign;

        SS.push('<td ', 'data-ax6grid-panel-name="' + _elTargetKey + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', 'data-ax6grid-column-rowIndex="' + tri + '" ', 'data-ax6grid-column-colIndex="' + col.colIndex + '" ', 'data-ax6grid-column-attr="' + (col.columnAttr || "sum") + '" ', function (_focusedColumn, _selectedColumn) {
          var attrs = "";
          if (_focusedColumn) {
            attrs += 'data-ax6grid-column-focused="true" ';
          }
          if (_selectedColumn) {
            attrs += 'data-ax6grid-column-selected="true" ';
          }
          return attrs;
        }(this.focusedColumn["sum_" + col.colIndex + "_" + tri], this.selectedColumn["sum_" + col.colIndex + "_" + tri]), 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
          var tdCSS_class = "";
          if (_col.styleClass) {
            if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.styleClass)) {
              tdCSS_class += _col.styleClass.call({
                column: _col,
                key: _col.key,
                isFootSum: true
              }) + " ";
            } else {
              tdCSS_class += _col.styleClass + " ";
            }
          }
          if (cfg.body.columnBorderWidth) tdCSS_class += "hasBorder ";
          if (ci == cl - 1) tdCSS_class += "isLastColumn ";
          return tdCSS_class;
        }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

        SS.push(function (_cellHeight) {
          var lineHeight = cfg.body.columnHeight - cfg.body.columnPadding * 2 - cfg.body.columnBorderWidth;
          if (!col.multiLine) {
            _cellHeight = cfg.body.columnHeight - cfg.body.columnBorderWidth;
          }

          return '<span data-ax6grid-cellHolder="' + (col.multiLine ? 'multiLine' : '') + '" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + '" style="height:' + _cellHeight + 'px;line-height: ' + lineHeight + 'px;">';
        }(cellHeight), getSumFieldValue.call(this, _list, col), '</span>');

        SS.push('</td>');
      }
      SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'data-ax6grid-column-attr="' + "sum" + '" ', 'style="height: ' + cfg.body.columnHeight + 'px;min-height: 1px;" ', '></td>');
      SS.push('</tr>');
    }

    SS.push('</table>');

    _elTarget.empty().get(0).innerHTML = SS.join('');
    return true;
  };
  let replaceGroupTr = function (_elTargetKey, _colGroup, _groupRow, _list, _scrollConfig) {
    let _elTarget = this.$.panel[_elTargetKey],
        SS = [],
        di,
        dl,
        tri,
        trl,
        ci,
        cl,
        col,
        cellHeight,
        colAlign;

    if (typeof _scrollConfig === "undefined" || typeof _scrollConfig['paintStartRowIndex'] === "undefined") {
      _scrollConfig = {
        paintStartRowIndex: 0,
        paintRowCount: _list.length
      };
    }

    for (di = _scrollConfig.paintStartRowIndex, dl = function () {
      let len;
      len = _list.length;
      if (_scrollConfig.paintRowCount + _scrollConfig.paintStartRowIndex < len) {
        len = _scrollConfig.paintRowCount + _scrollConfig.paintStartRowIndex;
      }
      return len;
    }(); di < dl; di++) {
      if (_list[di] && _groupRow && "__isGrouping" in _list[di]) {
        let rowTable = _groupRow;
        SS = [];
        for (tri = 0, trl = rowTable.rows.length; tri < trl; tri++) {
          for (ci = 0, cl = rowTable.rows[tri].cols.length; ci < cl; ci++) {
            col = rowTable.rows[tri].cols[ci];
            cellHeight = cfg.body.columnHeight * col.rowspan - cfg.body.columnBorderWidth;
            colAlign = col.align || bodyAlign;

            SS.push('<td ', 'data-ax6grid-panel-name="' + _elTargetKey + '" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', 'data-ax6grid-column-rowIndex="' + col.rowIndex + '" ', 'data-ax6grid-column-colIndex="' + col.colIndex + '" ', 'data-ax6grid-column-attr="' + (col.columnAttr || "default") + '" ', function (_focusedColumn, _selectedColumn) {
              let attrs = "";
              if (_focusedColumn) {
                attrs += 'data-ax6grid-column-focused="true" ';
              }
              if (_selectedColumn) {
                attrs += 'data-ax6grid-column-selected="true" ';
              }
              return attrs;
            }(this.focusedColumn[di + "_" + col.colIndex + "_" + col.rowIndex], this.selectedColumn[di + "_" + col.colIndex + "_" + col.rowIndex]), 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
              let tdCSS_class = "";
              if (_col.styleClass) {
                if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.styleClass)) {
                  tdCSS_class += _col.styleClass.call({
                    column: _col,
                    key: _col.key,
                    item: _list[di],
                    index: di
                  }) + " ";
                } else {
                  tdCSS_class += _col.styleClass + " ";
                }
              }
              if (cfg.body.columnBorderWidth) tdCSS_class += "hasBorder ";
              if (ci == cl - 1) tdCSS_class += "isLastColumn ";
              return tdCSS_class;
            }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

            SS.push(function (_cellHeight) {
              let lineHeight = cfg.body.columnHeight - cfg.body.columnPadding * 2 - cfg.body.columnBorderWidth;
              if (!col.multiLine) {
                _cellHeight = cfg.body.columnHeight - cfg.body.columnBorderWidth;
              }

              return '<span data-ax6grid-cellHolder="' + (col.multiLine ? 'multiLine' : '') + '" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + '" style="height:' + _cellHeight + 'px;line-height: ' + lineHeight + 'px;">';
            }(cellHeight), getGroupingValue.call(this, _list[di], di, col), '</span>');

            SS.push('</td>');
          }
          SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-column-attr="' + "default" + '" ', 'style="height: ' + cfg.body.columnHeight + 'px;min-height: 1px;" ', '></td>');
        }
        _elTarget.find('tr[data-ax6grid-tr-data-index="' + di + '"]').empty().get(0).innerHTML = SS.join('');
      }
    }
  };
  let replaceTr = function (_elTargetKey, _colGroup, _bodyRow, _list, di) {
    let _elTarget = this.$.panel[_elTargetKey],
        SS = [],
        tri,
        trl,
        ci,
        cl,
        col,
        cellHeight,
        colAlign,
        rowTable = _bodyRow,
        odi = typeof _list[di].__origin_index__ !== "undefined" ? _list[di].__origin_index__ : di;

    for (tri = 0, trl = rowTable.rows.length; tri < trl; tri++) {
      for (ci = 0, cl = rowTable.rows[tri].cols.length; ci < cl; ci++) {
        col = rowTable.rows[tri].cols[ci];
        cellHeight = cfg.body.columnHeight * col.rowspan - cfg.body.columnBorderWidth;
        colAlign = col.align || bodyAlign;

        SS.push('<td ', 'data-ax6grid-panel-name="' + _elTargetKey + '" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-data-o-index="' + odi + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', 'data-ax6grid-column-rowIndex="' + col.rowIndex + '" ', 'data-ax6grid-column-colIndex="' + col.colIndex + '" ', 'data-ax6grid-column-attr="' + (col.columnAttr || "default") + '" ', function (_focusedColumn, _selectedColumn) {
          let attrs = "";
          if (_focusedColumn) {
            attrs += 'data-ax6grid-column-focused="true" ';
          }
          if (_selectedColumn) {
            attrs += 'data-ax6grid-column-selected="true" ';
          }
          return attrs;
        }(this.focusedColumn[di + "_" + col.colIndex + "_" + col.rowIndex], this.selectedColumn[di + "_" + col.colIndex + "_" + col.rowIndex]), 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
          let tdCSS_class = "";
          if (_col.styleClass) {
            if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.styleClass)) {
              tdCSS_class += _col.styleClass.call({
                column: _col,
                key: _col.key,
                item: _list[di],
                index: di
              }) + " ";
            } else {
              tdCSS_class += _col.styleClass + " ";
            }
          }
          if (cfg.body.columnBorderWidth) tdCSS_class += "hasBorder ";
          if (ci == cl - 1) tdCSS_class += "isLastColumn ";
          return tdCSS_class;
        }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

        SS.push(function (_cellHeight) {
          let lineHeight = cfg.body.columnHeight - cfg.body.columnPadding * 2 - cfg.body.columnBorderWidth;
          if (!col.multiLine) {
            _cellHeight = cfg.body.columnHeight - cfg.body.columnBorderWidth;
          }

          return '<span data-ax6grid-cellHolder="' + (col.multiLine ? 'multiLine' : '') + '" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + '" style="height:' + _cellHeight + 'px;' + (col.multiLine ? '' : 'line-height: ' + lineHeight + 'px;') + '">';
        }(cellHeight), getFieldValue.call(this, _list, _list[di], di, col), '</span>');
        SS.push('</td>');
      }
      SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'data-ax6grid-data-index="' + di + '" ', 'data-ax6grid-column-attr="' + "default" + '" ', 'style="height: ' + cfg.body.columnHeight + 'px;min-height: 1px;" ', '></td>');
    }

    _elTarget.find('tr[data-ax6grid-tr-data-index="' + di + '"]').empty().get(0).innerHTML = SS.join('');
  };

  // left
  if (this.xvar.frozenColumnIndex > 0) {
    if (this.xvar.frozenRowIndex > _dindex) {
      // 상단 행고정
      replaceTr.call(this, "top-left-body", this.leftHeaderColGroup, leftBodyRowData, list.slice(0, this.xvar.frozenRowIndex), _dindex);
    } else {
      replaceTr.call(this, "left-body-scroll", this.leftHeaderColGroup, leftBodyRowData, list, _dindex);
    }
  }

  // body
  if (this.xvar.frozenRowIndex > _dindex) {
    // 상단 행고정
    replaceTr.call(this, "top-body-scroll", this.headerColGroup, bodyRowData, list.slice(0, this.xvar.frozenRowIndex), _dindex);
  } else {
    replaceTr.call(this, "body-scroll", this.headerColGroup, bodyRowData, list, _dindex);
  }

  // body.grouping tr 다시 그리기..
  if (cfg.body.grouping) {
    // left
    if (this.xvar.frozenColumnIndex > 0) {
      if (this.xvar.frozenRowIndex > _dindex) {
        // 상단 행고정
        replaceGroupTr.call(this, "top-left-body", this.leftHeaderColGroup, leftBodyGroupingData, list.slice(0, this.xvar.frozenRowIndex));
      } else {
        replaceGroupTr.call(this, "left-body-scroll", this.leftHeaderColGroup, leftBodyGroupingData, list, scrollConfig);
      }
    }

    // body
    if (this.xvar.frozenRowIndex > _dindex) {
      // 상단 행고정
      replaceGroupTr.call(this, "top-body-scroll", this.headerColGroup, bodyGroupingData, list.slice(0, this.xvar.frozenRowIndex));
    } else {
      replaceGroupTr.call(this, "body-scroll", this.headerColGroup, bodyGroupingData, list, scrollConfig);
    }
  }

  if (this.xvar.frozenColumnIndex > 0) {
    if (cfg.footSum && this.needToPaintSum) {
      // 바닥 요약
      repaintSum.call(this, "bottom-left-body", this.leftHeaderColGroup, leftFootSumData, list);
    }
  }

  if (cfg.footSum && this.needToPaintSum) {
    // 바닥 요약
    repaintSum.call(this, "bottom-body-scroll", this.headerColGroup, footSumData, list, scrollConfig);
  }
};

const updateRowState = function (_states, _dindex, _doindex, _data) {
  let self = this,
      cfg = this.config,
      processor = {
    "selected": function (_dindex, _doindex) {
      if (this.list[_doindex]) {
        let i = this.$.livePanelKeys.length;
        while (i--) {
          this.$.panel[this.$.livePanelKeys[i]].find('[data-ax6grid-tr-data-index="' + _dindex + '"]').attr("data-ax6grid-selected", this.list[_doindex][cfg.columnKeys.selected]);
        }
      }
    },
    "selectedClear": function () {
      let di = this.list.length;
      let pi;

      if (!this.proxyList) {
        while (di--) {
          if (this.list[di][cfg.columnKeys.selected]) {
            pi = this.$.livePanelKeys.length;
            while (pi--) {
              this.$.panel[this.$.livePanelKeys[pi]].find('[data-ax6grid-tr-data-index="' + di + '"]').attr("data-ax6grid-selected", false);
            }
          }
          this.list[di][cfg.columnKeys.selected] = false;
        }
      } else {
        while (di--) {
          this.list[di][cfg.columnKeys.selected] = false;
        }
        di = this.proxyList.length;
        while (di--) {
          if (this.list[doi][cfg.columnKeys.selected]) {
            pi = this.$.livePanelKeys.length;
            while (pi--) {
              this.$.panel[this.$.livePanelKeys[pi]].find('[data-ax6grid-tr-data-index="' + di + '"]').attr("data-ax6grid-selected", false);
            }
          }

          this.proxyList[di][cfg.columnKeys.selected] = false;
          let doi = this.proxyList[di].__original_index__;
        }
      }
    },
    "cellChecked": function (_dindex, _doindex, _data) {
      let key = _data.key,
          rowIndex = _data.rowIndex,
          colIndex = _data.colIndex;

      let panelName = function () {
        let _panels = [];
        if (this.xvar.frozenRowIndex > _dindex) _panels.push("top");
        if (this.xvar.frozenColumnIndex > colIndex) _panels.push("left");
        _panels.push("body");
        if (_panels[0] !== "top") _panels.push("scroll");
        return _panels.join("-");
      }.call(this);

      this.$.panel[panelName].find('[data-ax6grid-tr-data-index="' + _dindex + '"]').find('[data-ax6grid-column-rowIndex="' + rowIndex + '"][data-ax6grid-column-colIndex="' + colIndex + '"]').find('[data-ax6grid-editor="checkbox"]').attr("data-ax6grid-checked", '' + _data.checked);
    }
  };

  if (typeof _doindex === "undefined") _doindex = _dindex;

  _states.forEach(function (_state) {
    if (!processor[_state]) throw 'invaild state name';
    processor[_state].call(self, _dindex, _doindex, _data);
  });
};

const updateRowStateAll = function (_states, _data) {
  let self = this,
      cfg = this.config,
      processor = {
    "selected": function (_dindex) {
      repaint.call(this, true);
    }
  };

  _states.forEach(function (_state) {
    if (!processor[_state]) throw 'invaild state name';
    processor[_state].call(self, _data);
  });
};

const toggleCollapse = function (_dindex, _doindex, _collapse) {
  if (__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].toggleCollapse.call(this, _dindex, _doindex, _collapse)) {
    this.proxyList = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getProxyList.call(this, this.list);
    this.align();
  }
};

const scrollTo = function (css, opts) {
  let self = this;
  if (typeof opts === "undefined") opts = { timeoutUnUse: false };
  if (this.isInlineEditing) {
    for (var key in this.inlineEditing) {
      //if(this.inlineEditing[key].editor.type === "select") {}
      // 인라인 에디팅 인데 스크롤 이벤트가 발생하면 디액티브 처리
      inlineEdit.deActive.call(this, "ESC", key);
    }
  }

  if (this.config.asidePanelWidth > 0 && "top" in css) {
    this.$.panel["aside-body-scroll"].css({ top: css.top });
  }
  if (this.xvar.frozenColumnIndex > 0 && "top" in css) {
    this.$.panel["left-body-scroll"].css({ top: css.top });
  }
  if (this.xvar.frozenRowIndex > 0 && "left" in css) {
    this.$.panel["top-body-scroll"].css({ left: css.left });
  }

  this.$.panel["body-scroll"].css(css);

  if (this.config.footSum && "left" in css) {
    this.$.panel["bottom-body-scroll"].css({ left: css.left });
  }

  // 바디 리페인팅 this.__throttledScroll 은 body init 에서 초기화
  if (this.__throttledScroll) {
    this.__throttledScroll(css, opts);
  } else {
    if (this.config.virtualScrollY && !opts.noRepaint && "top" in css) {
      repaint.call(this);
    } else if (this.config.virtualScrollX && !opts.noRepaint && "left" in css) {
      repaint.call(this);
    }
    if (opts.callback) {
      opts.callback();
    }
  }
};

const blur = function () {
  columnSelect.focusClear.call(this);
  columnSelect.clear.call(this);
  if (this.isInlineEditing) {
    inlineEdit.deActive.call(this);
  }
};

const moveFocus = function (_position) {
  let focus = {
    "UD": function (_dy) {
      let moveResult = true,
          focusedColumn,
          originalColumn,
          while_i,
          nPanelInfo;

      for (let c in this.focusedColumn) {
        focusedColumn = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.focusedColumn[c], true);
        break;
      }

      if (!focusedColumn) return false;

      originalColumn = this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex];
      columnSelect.focusClear.call(this);
      columnSelect.clear.call(this);

      if (_dy > 0) {
        // 아래로
        if (focusedColumn.rowIndex + (originalColumn.rowspan - 1) + _dy > this.bodyRowTable.rows.length - 1) {
          focusedColumn.dindex = focusedColumn.dindex + _dy;
          focusedColumn.doindex = focusedColumn.doindex + _dy;
          focusedColumn.rowIndex = 0;
          if (focusedColumn.dindex > this.list.length - 1) {
            focusedColumn.dindex = focusedColumn.doindex = this.list.length - 1;
            moveResult = false;
          }
        } else {
          focusedColumn.rowIndex = focusedColumn.rowIndex + _dy;
        }
      } else {
        // 위로
        if (focusedColumn.rowIndex + _dy < 0) {
          focusedColumn.dindex = focusedColumn.dindex + _dy;
          focusedColumn.doindex = focusedColumn.doindex + _dy;
          focusedColumn.rowIndex = this.bodyRowTable.rows.length - 1;
          if (focusedColumn.dindex < 0) {
            focusedColumn.dindex = focusedColumn.doindex = 0;
            moveResult = false;
          }
        } else {
          focusedColumn.rowIndex = focusedColumn.rowIndex + _dy;
        }
      }

      while_i = 0;
      while (typeof this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex] === "undefined") {
        if (focusedColumn.rowIndex == 0 || while_i % 2 == (_dy > 0 ? 0 : 1)) {
          focusedColumn.colIndex--;
        } else {
          focusedColumn.rowIndex--;
        }

        if (focusedColumn.rowIndex <= 0 && focusedColumn.colIndex <= 0) {
          // find fail
          moveResult = false;
          break;
        }
        while_i++;
      }

      nPanelInfo = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].findPanelByColumnIndex.call(this, focusedColumn.dindex, focusedColumn.colIndex);

      // if mergeCells
      if (this.config.body.mergeCells && this.list.length) {
        while (!this.$.panel[nPanelInfo.panelName].find('[data-ax6grid-tr-data-index="' + focusedColumn.dindex + '"]').find('[data-ax6grid-column-rowindex="' + focusedColumn.rowIndex + '"][data-ax6grid-column-colindex="' + focusedColumn.colIndex + '"]').get(0)) {

          if (_dy > 0) {
            focusedColumn.dindex++;
          } else {
            focusedColumn.dindex--;
          }

          if (focusedColumn.dindex < 0 || focusedColumn.dindex > this.list.length - 1) {
            break;
          }
        }
        nPanelInfo = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].findPanelByColumnIndex.call(this, focusedColumn.dindex, focusedColumn.colIndex);
      }

      focusedColumn.panelName = nPanelInfo.panelName;

      // 포커스 컬럼의 위치에 따라 스크롤 처리.ㅊㅇ

      if (focusedColumn.dindex + 1 > this.xvar.frozenRowIndex) {
        if (focusedColumn.dindex <= this.xvar.virtualPaintStartRowIndex) {
          let newTop = (focusedColumn.dindex - this.xvar.frozenRowIndex - 1) * this.xvar.bodyTrHeight;
          if (newTop < 0) newTop = 0;
          scrollTo.call(this, { top: -newTop, timeoutUnUse: false });
          __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__["a" /* default */].resize.call(this);
        } else if (focusedColumn.dindex + 1 > this.xvar.virtualPaintStartRowIndex + (this.xvar.virtualPaintRowCount - 2)) {
          scrollTo.call(this, { top: (this.xvar.virtualPaintRowCount - 2 - focusedColumn.dindex) * this.xvar.bodyTrHeight, timeoutUnUse: false });
          __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__["a" /* default */].resize.call(this);
        }
      }

      this.focusedColumn[focusedColumn.dindex + "_" + focusedColumn.colIndex + "_" + focusedColumn.rowIndex] = focusedColumn;
      this.$.panel[focusedColumn.panelName].find('[data-ax6grid-tr-data-index="' + focusedColumn.dindex + '"]').find('[data-ax6grid-column-rowindex="' + focusedColumn.rowIndex + '"][data-ax6grid-column-colindex="' + focusedColumn.colIndex + '"]').attr('data-ax6grid-column-focused', "true");

      return moveResult;
    },
    "LR": function (_dx) {
      let moveResult = true,
          focusedColumn,
          originalColumn,
          while_i = 0,
          isScrollPanel = false,
          containerPanelName = "",
          nPanelInfo;

      for (var c in this.focusedColumn) {
        focusedColumn = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.focusedColumn[c], true);
        break;
      }
      if (!focusedColumn) return false;

      originalColumn = this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex];

      columnSelect.focusClear.call(this);
      columnSelect.clear.call(this);

      if (_dx < 0) {
        focusedColumn.colIndex = focusedColumn.colIndex + _dx;
        if (focusedColumn.colIndex < 0) {
          focusedColumn.colIndex = 0;
          moveResult = false;
        }
      } else {
        focusedColumn.colIndex = focusedColumn.colIndex + _dx;
        if (focusedColumn.colIndex > this.colGroup.length - 1) {
          focusedColumn.colIndex = this.colGroup.length - 1;
          moveResult = false;
        }
      }

      if (typeof this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex] === "undefined") {
        focusedColumn.rowIndex = 0;
      }

      if (this.list[focusedColumn.dindex] && this.list[focusedColumn.dindex].__isGrouping) {
        if (_dx < 0) {
          while (typeof this.bodyGroupingMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex] === "undefined") {
            focusedColumn.colIndex--;
            if (focusedColumn.colIndex <= 0) {
              // find fail
              moveResult = false;
              break;
            }
          }
        } else {
          while (typeof this.bodyGroupingMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex] === "undefined") {
            focusedColumn.colIndex++;
            if (focusedColumn.colIndex >= this.colGroup.length) {
              // find fail
              moveResult = false;
              break;
            }
          }
        }
      } else {
        if (_dx < 0) {
          while (typeof this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex] === "undefined") {
            focusedColumn.colIndex--;
            if (focusedColumn.colIndex <= 0) {
              // find fail
              moveResult = false;
              break;
            }
          }
        } else {
          while (typeof this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex] === "undefined") {
            focusedColumn.colIndex++;
            if (focusedColumn.colIndex >= this.colGroup.length) {
              // find fail
              moveResult = false;
              break;
            }
          }
        }
      }

      nPanelInfo = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].findPanelByColumnIndex.call(this, focusedColumn.dindex, focusedColumn.colIndex);

      // if mergeCells
      if (this.config.body.mergeCells && this.list.length && focusedColumn.dindex > 1) {
        while (!this.$.panel[nPanelInfo.panelName].find('[data-ax6grid-tr-data-index="' + focusedColumn.dindex + '"]').find('[data-ax6grid-column-rowindex="' + focusedColumn.rowIndex + '"][data-ax6grid-column-colindex="' + focusedColumn.colIndex + '"]').get(0)) {

          focusedColumn.dindex--;

          if (focusedColumn.dindex < 0 || focusedColumn.dindex > this.list.length - 1) {
            break;
          }
        }
        nPanelInfo = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].findPanelByColumnIndex.call(this, focusedColumn.dindex, focusedColumn.colIndex);
      }

      focusedColumn.panelName = nPanelInfo.panelName;

      // 포커스 컬럼의 위치에 따라 스크롤 처리
      let isScrollTo = function () {
        if (!this.config.virtualScrollX) return false;
        let scrollLeft = 0;
        if (focusedColumn.colIndex + 1 > this.xvar.frozenColumnIndex) {
          if (focusedColumn.colIndex <= this.xvar.paintStartColumnIndex && this.colGroup[focusedColumn.colIndex]) {
            scrollLeft = -this.colGroup[Number(focusedColumn.colIndex)]._sx;
            scrollTo.call(this, { left: scrollLeft });
            __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_header__["a" /* default */].scrollTo.call(this, { left: scrollLeft });
            __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__["a" /* default */].resize.call(this);
            return true;
          } else if (focusedColumn.colIndex >= this.xvar.paintEndColumnIndex && this.colGroup[Number(focusedColumn.colIndex)]) {
            if (this.colGroup[Number(focusedColumn.colIndex)]._ex > this.xvar.bodyWidth) {
              scrollLeft = this.colGroup[Number(focusedColumn.colIndex)]._ex - this.xvar.bodyWidth;
              scrollTo.call(this, { left: -scrollLeft });
              __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_header__["a" /* default */].scrollTo.call(this, { left: -scrollLeft });
              __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__["a" /* default */].resize.call(this);
            }
            return true;
          }
        }
        scrollLeft = null;
        return false;
      }.call(this);

      containerPanelName = nPanelInfo.containerPanelName;
      isScrollPanel = nPanelInfo.isScrollPanel;

      this.focusedColumn[focusedColumn.dindex + "_" + focusedColumn.colIndex + "_" + focusedColumn.rowIndex] = focusedColumn;

      var $column = this.$.panel[focusedColumn.panelName].find('[data-ax6grid-tr-data-index="' + focusedColumn.dindex + '"]').find('[data-ax6grid-column-rowindex="' + focusedColumn.rowIndex + '"][data-ax6grid-column-colindex="' + focusedColumn.colIndex + '"]').attr('data-ax6grid-column-focused', "true");

      if (!isScrollTo && $column && isScrollPanel) {
        // 스크롤 패널 이라면~
        // todo : 컬럼이동할 때에도 scrollTo 체크
        var newLeft = function () {
          if ($column.position().left + $column.outerWidth() > Math.abs(this.$.panel[focusedColumn.panelName].position().left) + this.$.panel[containerPanelName].width()) {
            return $column.position().left + $column.outerWidth() - this.$.panel[containerPanelName].width();
          } else if (Math.abs(this.$.panel[focusedColumn.panelName].position().left) > $column.position().left) {
            return $column.position().left;
          } else {
            return;
          }
        }.call(this);

        if (typeof newLeft !== "undefined") {
          __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_header__["a" /* default */].scrollTo.call(this, { left: -newLeft });
          scrollTo.call(this, { left: -newLeft });
          __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__["a" /* default */].resize.call(this);
        }
      }

      return moveResult;
    },
    "INDEX": function (_dindex) {
      let moveResult = true,
          focusedColumn,
          originalColumn,
          while_i;

      for (let c in this.focusedColumn) {
        focusedColumn = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.focusedColumn[c], true);
        break;
      }
      if (!focusedColumn) {
        focusedColumn = {
          rowIndex: 0,
          colIndex: 0
        };
      }
      originalColumn = this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex];

      columnSelect.focusClear.call(this);
      columnSelect.clear.call(this);

      if (_dindex == "end") {
        _dindex = this.list.length - 1;
      }

      focusedColumn.dindex = _dindex;
      focusedColumn.rowIndex = 0;

      while_i = 0;
      while (typeof this.bodyRowMap[focusedColumn.rowIndex + "_" + focusedColumn.colIndex] === "undefined") {
        if (focusedColumn.rowIndex == 0 || while_i % 2 == (_dy > 0 ? 0 : 1)) {
          focusedColumn.colIndex--;
        } else {
          focusedColumn.rowIndex--;
        }

        if (focusedColumn.rowIndex <= 0 && focusedColumn.colIndex <= 0) {
          // find fail
          break;
        }
        while_i++;
      }

      let nPanelInfo = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].findPanelByColumnIndex.call(this, focusedColumn.dindex, focusedColumn.colIndex);
      focusedColumn.panelName = nPanelInfo.panelName;

      // 포커스 컬럼의 위치에 따라 스크롤 처리.
      (function () {
        if (focusedColumn.dindex + 1 > this.xvar.frozenRowIndex) {
          if (focusedColumn.dindex < this.xvar.virtualPaintStartRowIndex) {
            scrollTo.call(this, { top: -(focusedColumn.dindex - this.xvar.frozenRowIndex) * this.xvar.bodyTrHeight });
            __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__["a" /* default */].resize.call(this);
          } else if (focusedColumn.dindex + 1 > this.xvar.virtualPaintStartRowIndex + (this.xvar.virtualPaintRowCount - 2)) {
            scrollTo.call(this, { top: -(focusedColumn.dindex - this.xvar.frozenRowIndex - this.xvar.virtualPaintRowCount + 3) * this.xvar.bodyTrHeight });
            __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_scroller__["a" /* default */].resize.call(this);
          }
        }
      }).call(this);

      this.focusedColumn[focusedColumn.dindex + "_" + focusedColumn.colIndex + "_" + focusedColumn.rowIndex] = focusedColumn;
      this.$.panel[focusedColumn.panelName].find('[data-ax6grid-tr-data-index="' + focusedColumn.dindex + '"]').find('[data-ax6grid-column-rowindex="' + focusedColumn.rowIndex + '"][data-ax6grid-column-colindex="' + focusedColumn.colIndex + '"]').attr('data-ax6grid-column-focused', "true");

      return moveResult;
    }
  };

  let processor = {
    "UP": function () {
      return focus["UD"].call(this, -1);
    },
    "DOWN": function () {
      return focus["UD"].call(this, 1);
    },
    "LEFT": function () {
      return focus["LR"].call(this, -1);
    },
    "RIGHT": function () {
      return focus["LR"].call(this, 1);
    },
    "HOME": function () {
      return focus["INDEX"].call(this, 0);
    },
    "END": function () {
      return focus["INDEX"].call(this, "end");
    },
    "position": function (_position) {
      return focus["INDEX"].call(this, _position);
    }
  };

  if (_position in processor) {
    return processor[_position].call(this);
  } else {
    return processor["position"].call(this, _position);
  }
};

const getExcelString = function () {
  let cfg = this.config,
      list = this.list,
      bodyRowData = this.bodyRowTable,
      footSumData = this.footSumTable,
      bodyGroupingData = this.bodyGroupingTable;

  // body-scroll 의 포지션에 의존적이므로..
  let getBody = function (_colGroup, _bodyRow, _groupRow, _list) {
    let SS = [],
        di,
        dl,
        tri,
        trl,
        ci,
        cl,
        col,
        val;

    //SS.push('<table border="1">');
    for (di = 0, dl = _list.length; di < dl; di++) {
      let isGroupingRow = false,
          rowTable;

      if (_groupRow && "__isGrouping" in _list[di]) {
        rowTable = _groupRow;
        isGroupingRow = true;
      } else {
        rowTable = _bodyRow;
      }

      for (tri = 0, trl = rowTable.rows.length; tri < trl; tri++) {
        SS.push('\n<tr>');
        for (ci = 0, cl = rowTable.rows[tri].cols.length; ci < cl; ci++) {
          col = rowTable.rows[tri].cols[ci];

          SS.push('<td ', 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', '>', isGroupingRow ? getGroupingValue.call(this, _list[di], di, col) : getFieldValue.call(this, _list, _list[di], di, col, val, "text"), '&nbsp;</td>');
        }
        SS.push('\n</tr>');
      }
    }
    //SS.push('</table>');
    return SS.join('');
  };
  let getSum = function (_colGroup, _bodyRow, _list) {
    let SS = [],
        tri,
        trl,
        ci,
        cl,
        col;

    //SS.push('<table border="1">');
    for (tri = 0, trl = _bodyRow.rows.length; tri < trl; tri++) {
      SS.push('\n<tr>');
      for (ci = 0, cl = _bodyRow.rows[tri].cols.length; ci < cl; ci++) {
        col = _bodyRow.rows[tri].cols[ci];
        SS.push('<td ', 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', '>', getSumFieldValue.call(this, _list, col), '</td>');
      }
      SS.push('\n</tr>');
    }
    //SS.push('</table>');

    return SS.join('');
  };

  let po = [];
  po.push(getBody.call(this, this.headerColGroup, bodyRowData, bodyGroupingData, list));
  if (cfg.footSum) {
    // 바닥 요약
    po.push(getSum.call(this, this.headerColGroup, footSumData, list));
  }

  // right
  if (cfg.rightSum) {
    // todo : right 표현 정리
  }

  return po.join('');
};

const click = function (_dindex, _doindex) {
  let that = {
    self: this,
    page: this.page,
    list: this.list,
    item: this.list[_dindex],
    dindex: _dindex
  };

  moveFocus.call(this, _dindex);

  if (this.config.body.onClick) {
    this.config.body.onClick.call(that);
  }

  that = null;
  // console.log(this.$["panel"]["body-scroll"].find('[data-ax6grid-tr-data-index="' + _dindex + '"]>td:first-child'));
};

const dblClick = function (_dindex, _doindex) {
  let that = {
    self: this,
    page: this.page,
    list: this.list,
    item: this.list[_dindex],
    dindex: _dindex
  };

  moveFocus.call(this, _dindex);

  if (this.config.body.onDBLClick) {
    this.config.body.onDBLClick.call(that);
  }

  that = null;
};

/**
 * @module AX6UIGrid_body
 */
/* harmony default export */ __webpack_exports__["a"] = ({
  /**
   *
   */
  init: function () {
    let self = this;

    this.$["container"]["body"].on("dblclick", '[data-ax6grid-column-attr]', function (e) {
      let panelName,
          attr,
          row,
          col,
          dindex,
          doindex,
          rowIndex,
          colIndex,
          targetDBLClick = {
        "default": function (_column) {
          if (self.isInlineEditing) {
            for (let columnKey in self.inlineEditing) {
              if (columnKey == _column.dindex + "_" + _column.colIndex + "_" + _column.rowIndex) {
                return this;
              }
            }
          }

          let column = self.bodyRowMap[_column.rowIndex + "_" + _column.colIndex],
              value = "";
          if (column) {
            if (!self.list[dindex].__isGrouping) {
              value = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(self, dindex, doindex, column.key);
            }
          }

          let editor = self.colGroup[_column.colIndex].editor;
          if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isObject(editor)) {
            inlineEdit.active.call(self, self.focusedColumn, e, value);
          } else {
            // 더블클릭 실행
            if (self.config.body.onDBLClick) {
              let that = {
                self: self,
                page: self.page,
                list: self.list,
                item: self.list[_column.dindex],
                dindex: _column.dindex,
                doindex: _column.doindex,
                rowIndex: _column.rowIndex,
                colIndex: _column.colIndex,
                column: column,
                value: self.list[_column.dindex][column.key]
              };
              self.config.body.onDBLClick.call(that);
            }
          }
        },
        "rowSelector": function (_column) {},
        "lineNumber": function (_column) {}
      };

      panelName = this.getAttribute("data-ax6grid-panel-name");
      attr = this.getAttribute("data-ax6grid-column-attr");
      row = Number(this.getAttribute("data-ax6grid-column-row"));
      col = Number(this.getAttribute("data-ax6grid-column-col"));
      rowIndex = Number(this.getAttribute("data-ax6grid-column-rowIndex"));
      colIndex = Number(this.getAttribute("data-ax6grid-column-colIndex"));
      dindex = Number(this.getAttribute("data-ax6grid-data-index"));
      doindex = Number(this.getAttribute("data-ax6grid-data-o-index"));

      if (attr in targetDBLClick) {
        targetDBLClick[attr]({
          panelName: panelName,
          attr: attr,
          row: row,
          col: col,
          dindex: dindex,
          doindex: doindex,
          rowIndex: rowIndex,
          colIndex: colIndex
        });

        __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
      }
    });

    this.$["container"]["body"].on("click", '[data-ax6grid-column-attr]', function (e) {
      let panelName,
          attr,
          row,
          col,
          dindex,
          doindex,
          rowIndex,
          colIndex,
          disableSelection,
          targetClick = {
        "default": function (_column) {
          let column = self.bodyRowMap[_column.rowIndex + "_" + _column.colIndex],
              that = {
            self: self,
            page: self.page,
            list: self.list,
            item: self.list[_column.doindex],
            dindex: _column.dindex,
            doindex: _column.doindex,
            rowIndex: _column.rowIndex,
            colIndex: _column.colIndex,
            column: column,
            value: self.list[_column.dindex][column.key]
          };

          if (column.editor && column.editor.type == "checkbox") {
            // todo : INLINE_EDITOR에서 처리 할수 있도록 구문 변경 필요.
            let value = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].getValue.call(self, _column.dindex, _column.doindex, column.key),
                checked,
                newValue;

            if (column.editor.config && column.editor.config.trueValue) {
              if (checked = !(value == column.editor.config.trueValue)) {
                newValue = column.editor.config.trueValue;
              } else {
                newValue = column.editor.config.falseValue;
              }
            } else {
              newValue = checked = value == false || value == "false" || value < "1" ? "true" : "false";
            }

            __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].setValue.call(self, _column.dindex, _column.doindex, column.key, newValue);

            updateRowState.call(self, ["cellChecked"], _column.dindex, _column.doindex, {
              key: column.key, rowIndex: _column.rowIndex, colIndex: _column.colIndex,
              editorConfig: column.editor.config, checked: checked
            });
          } else {
            if (self.config.body.onClick) {
              self.config.body.onClick.call(that);
            }
          }
        },
        "rowSelector": function (_column) {
          let item = self.list[_column.doindex];
          if (item[self.config.columnKeys.disableSelection]) {
            return false;
          }

          if (!self.config.multipleSelect && self.selectedDataIndexs[0] !== _column.doindex) {
            updateRowState.call(self, ["selectedClear"]);
            __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].clearSelect.call(self);
          }

          __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_data__["a" /* default */].select.call(self, _column.dindex, _column.doindex, undefined, {
            internalCall: true
          });
          updateRowState.call(self, ["selected"], _column.dindex, _column.doindex);
        },
        "lineNumber": function (_column) {},
        "tree-control": function (_column, _el) {
          //console.log(_column);
          toggleCollapse.call(self, _column.dindex, _column.doindex);
        }
      };

      panelName = this.getAttribute("data-ax6grid-panel-name");
      attr = this.getAttribute("data-ax6grid-column-attr");
      row = Number(this.getAttribute("data-ax6grid-column-row"));
      col = Number(this.getAttribute("data-ax6grid-column-col"));
      rowIndex = Number(this.getAttribute("data-ax6grid-column-rowIndex"));
      colIndex = Number(this.getAttribute("data-ax6grid-column-colIndex"));
      dindex = Number(this.getAttribute("data-ax6grid-data-index"));
      doindex = Number(this.getAttribute("data-ax6grid-data-o-index"));

      if (attr in targetClick) {
        targetClick[attr]({
          panelName: panelName,
          attr: attr,
          row: row,
          col: col,
          dindex: dindex,
          doindex: doindex,
          rowIndex: rowIndex,
          colIndex: colIndex
        }, this);
      }
    });

    this.$["container"]["body"].on("contextmenu", function (e) {
      let target,
          dindex,
          doindex,
          rowIndex,
          colIndex,
          item,
          column,
          param = {};

      target = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].findParentNode(e.target, function (t) {
        if (t.getAttribute("data-ax6grid-column-attr")) {
          return true;
        }
      });

      if (target) {
        // item 찾기
        rowIndex = Number(target.getAttribute("data-ax6grid-column-rowIndex"));
        colIndex = Number(target.getAttribute("data-ax6grid-column-colIndex"));
        dindex = Number(target.getAttribute("data-ax6grid-data-index"));
        doindex = Number(target.getAttribute("data-ax6grid-data-o-index"));
        column = self.bodyRowMap[rowIndex + "_" + colIndex];
        item = self.list[dindex];
      }

      if (self.config.body.onContextMenu) {
        param = {
          element: target,
          dindex: dindex,
          doindex: doindex,
          rowIndex: rowIndex,
          colIndex: colIndex,
          item: item,
          column: column,
          gridSelf: self
        };
        self.config.body.onContextMenu.call({
          self: self,
          item: item,
          column: column,
          dindex: dindex,
          doindex: doindex,
          rowIndex: rowIndex,
          colIndex: colIndex
        }, e, param);
      }

      __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e.originalEvent);
      target = null;
      dindex = null;
      doindex = null;
      rowIndex = null;
      colIndex = null;
      item = null;
      column = null;
      param = null;
    });

    this.$["container"]["body"].on("mousedown", '[data-ax6grid-column-attr="default"]', function (e) {
      if (self.xvar.touchmoved) return false;
      if (this.getAttribute("data-ax6grid-column-rowIndex")) {
        columnSelector.on.call(self, {
          panelName: this.getAttribute("data-ax6grid-panel-name"),
          dindex: Number(this.getAttribute("data-ax6grid-data-index")),
          doindex: Number(this.getAttribute("data-ax6grid-data-o-index")),
          rowIndex: Number(this.getAttribute("data-ax6grid-column-rowIndex")),
          colIndex: Number(this.getAttribute("data-ax6grid-column-colIndex")),
          colspan: Number(this.getAttribute("colspan"))
        });
      }
    }).on("dragstart", function (e) {
      __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
      return false;
    });

    resetFrozenColumn.call(this);

    // 그리드 바디에 출력할 여유 카운트
    this.xvar.paintRowCountMargin = this.config.virtualScrollYCountMargin;
    this.xvar.paintRowCountTopMargin = this.config.virtualScrollYCountMargin - Math.floor(this.config.virtualScrollYCountMargin / 2);

    if (this.config.virtualScrollAccelerated) {
      this.__throttledScroll = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].throttle(function (css, opts) {
        if (this.config.virtualScrollY && !opts.noRepaint && "top" in css) {
          repaint.call(this);
        } else if (this.config.virtualScrollX && !opts.noRepaint && "left" in css) {
          repaint.call(this);
        }
        if (opts.callback) {
          opts.callback();
        }
      }, this.config.virtualScrollAcceleratedDelayTime);
    } else {
      this.__throttledScroll = false;
    }
  },
  /**
   *
   * @param _reset
   * @return {module:AX6UIGrid_body}
   */
  repaint: repaint,
  /**
   *
   * @param _panelName
   * @param _dindex
   * @param _doindex
   * @param _rowIndex
   * @param _colIndex
   * @param _newValue
   */
  repaintCell: repaintCell,
  /**
   *
   * @param _dindex
   */
  repaintRow: repaintRow,
  /**
   *
   * @param _states
   * @param _dindex
   * @param _doindex
   * @param _data
   */
  updateRowState: updateRowState,
  /**
   *
   * @param _states
   * @param _data
   */
  updateRowStateAll: updateRowStateAll,
  /**
   *
   * @param css
   * @param opts
   */
  scrollTo: scrollTo,
  /**
   *
   */
  blur: blur,
  /**
   *
   * @param _position
   * @return {*}
   */
  moveFocus: moveFocus,
  inlineEdit: inlineEdit,
  /**
   *
   * @return {string}
   */
  getExcelString: getExcelString,
  /**
   *
   * @param _dindex
   * @param _doindex
   * @param _collapse
   */
  toggleCollapse: toggleCollapse,
  /**
   *
   * @param _dindex
   * @param _doindex
   */
  click: click,
  /**
   *
   * @param _dindex
   * @param _doindex
   */
  dblClick: dblClick
});

/***/ }),
/* 7 */
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function(useSourceMap) {
	var list = [];

	// return the list of modules as css string
	list.toString = function toString() {
		return this.map(function (item) {
			var content = cssWithMappingToString(item, useSourceMap);
			if(item[2]) {
				return "@media " + item[2] + "{" + content + "}";
			} else {
				return content;
			}
		}).join("");
	};

	// import a list of modules into the list
	list.i = function(modules, mediaQuery) {
		if(typeof modules === "string")
			modules = [[null, modules, ""]];
		var alreadyImportedModules = {};
		for(var i = 0; i < this.length; i++) {
			var id = this[i][0];
			if(typeof id === "number")
				alreadyImportedModules[id] = true;
		}
		for(i = 0; i < modules.length; i++) {
			var item = modules[i];
			// skip already imported module
			// this implementation is not 100% perfect for weird media query combinations
			//  when a module is imported multiple times with different media queries.
			//  I hope this will never occur (Hey this way we have smaller bundles)
			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
				if(mediaQuery && !item[2]) {
					item[2] = mediaQuery;
				} else if(mediaQuery) {
					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
				}
				list.push(item);
			}
		}
	};
	return list;
};

function cssWithMappingToString(item, useSourceMap) {
	var content = item[1] || '';
	var cssMapping = item[3];
	if (!cssMapping) {
		return content;
	}

	if (useSourceMap && typeof btoa === 'function') {
		var sourceMapping = toComment(cssMapping);
		var sourceURLs = cssMapping.sources.map(function (source) {
			return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'
		});

		return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
	}

	return [content].join('\n');
}

// Adapted from convert-source-map (MIT)
function toComment(sourceMap) {
	// eslint-disable-next-line no-undef
	var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
	var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;

	return '/*# ' + data + ' */';
}


/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__ = __webpack_require__(5);




/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

const clearGroupingData = function (_list) {
  let i = 0,
      l = _list.length,
      returnList = [];
  for (; i < l; i++) {
    if (_list[i] && !_list[i]["__isGrouping"]) {
      if (_list[i][this.config.columnKeys.selected]) {
        this.selectedDataIndexs.push(i);
      }
      returnList.push(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, _list[i]));
    }
  }
  return returnList;
};

const initData = function (_list) {
  this.selectedDataIndexs = [];
  // this.deletedList = [];
  // todo : deletedList 초기화 시점이 언제로 하는게 좋은가. set 메소드에서 초기화 하는 것으로 수정

  let i = 0,
      l = _list.length,
      returnList = [],
      appendIndex = 0,
      dataRealRowCount = 0,
      lineNumber = 0;

  if (this.config.body.grouping) {

    let groupingKeys = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].map(this.bodyGrouping.by, function () {
      return {
        key: this,
        compareString: "",
        grouping: false,
        list: []
      };
    });

    let gi = 0,
        gl = groupingKeys.length,
        compareString,
        appendRow = [],
        ari;
    for (; i < l + 1; i++) {
      gi = 0;

      if (_list[i] && _list[i][this.config.columnKeys.deleted]) {
        this.deletedList.push(_list[i]);
      } else {
        compareString = ""; // 그룹핑 구문검사용
        appendRow = []; // 현재줄 앞에 추가해줘야 하는 줄

        // 그룹핑 구문검사
        for (; gi < gl; gi++) {
          if (_list[i]) {
            compareString += "$|$" + _list[i][groupingKeys[gi].key];
          }

          if (appendIndex > 0 && compareString != groupingKeys[gi].compareString) {
            let appendRowItem = { keys: [], labels: [], list: groupingKeys[gi].list };
            for (let ki = 0; ki < gi + 1; ki++) {
              appendRowItem.keys.push(groupingKeys[ki].key);
              appendRowItem.labels.push(_list[i - 1][groupingKeys[ki].key]);
            }
            appendRow.push(appendRowItem);
            groupingKeys[gi].list = [];
          }

          groupingKeys[gi].list.push(_list[i]);
          groupingKeys[gi].compareString = compareString;
        }

        // 새로 추가해야할 그룹핑 row
        ari = appendRow.length;
        while (ari--) {
          returnList.push({ __isGrouping: true, __groupingList: appendRow[ari].list, __groupingBy: { keys: appendRow[ari].keys, labels: appendRow[ari].labels } });
        }
        //~ 그룹핑 구문 검사 완료

        if (_list[i]) {
          if (_list[i][this.config.columnKeys.selected]) {
            this.selectedDataIndexs.push(i);
          }
          // 그룹핑이 적용된 경우 오리지널 인덱스 의미 없음 : 정렬보다 그룹핑이 더 중요하므로.
          _list[i]["__original_index"] = _list[i]["__index"] = lineNumber;
          returnList.push(_list[i]);

          dataRealRowCount++;
          appendIndex++;
          lineNumber++;
        }
      }
    }
  } else {
    for (; i < l; i++) {
      if (_list[i]) {
        if (_list[i][this.config.columnKeys.deleted]) {
          this.deletedList.push(_list[i]);
        } else {

          if (_list[i][this.config.columnKeys.selected]) {
            this.selectedDataIndexs.push(i);
          }

          // __original_index 인덱스 키가 없다면 추가.
          if (typeof _list[i]["__original_index"] === "undefined") {
            _list[i]["__original_index"] = lineNumber;
          }
          _list[i]["__index"] = lineNumber;
          dataRealRowCount++;
          lineNumber++;
          returnList.push(_list[i]);
        }
      }
    }
  }

  // 원본 데이터의 갯수
  // grouping은 제외하고 수집됨.
  this.xvar.dataRealRowCount = dataRealRowCount;
  return returnList;
};

const arrangeData4tree = function (_list) {
  this.selectedDataIndexs = [];
  this.deletedList = [];
  let i = 0,
      seq = 0,
      appendIndex = 0,
      dataRealRowCount = 0,
      lineNumber = 0;

  let li = _list.length;
  let keys = this.config.tree.columnKeys;
  let hashDigit = this.config.tree.hashDigit;
  let listIndexMap = {};

  while (li--) {
    delete _list[li][keys.parentHash];
    delete _list[li][keys.selfHash];
    //delete _list[li][keys.childrenLength];
  }

  /// 루트 아이템 수집
  i = 0;
  seq = 0;
  li = _list.length;
  for (; i < li; i++) {
    if (_list[i]) {
      listIndexMap[_list[i][keys.selfKey]] = i; // 인덱싱

      if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(_list[i][keys.parentKey]) || _list[i][keys.parentKey] === "top") {
        // 최상위 아이템인 경우
        _list[i][keys.parentKey] = "top";
        _list[i][keys.children] = [];
        _list[i][keys.parentHash] = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].setDigit("0", hashDigit);
        _list[i][keys.selfHash] = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].setDigit("0", hashDigit) + "." + __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].setDigit(seq, hashDigit);
        _list[i][keys.depth] = 0;
        _list[i][keys.hidden] = false;

        seq++;
      }
    }
  }

  /// 자식 아이템 수집
  i = 0;
  lineNumber = 0;
  for (; i < li; i++) {
    let _parent, _parentHash;
    if (_list[i] && _list[i][keys.parentKey] !== "top" && typeof _list[i][keys.parentHash] === "undefined") {

      if (_parent = _list[listIndexMap[_list[i][keys.parentKey]]]) {
        _parentHash = _parent[keys.selfHash];
        _list[i][keys.children] = [];
        _list[i][keys.parentHash] = _parentHash;
        _list[i][keys.selfHash] = _parentHash + "." + __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].setDigit(_parent[keys.children].length, hashDigit);
        _list[i][keys.depth] = _parent[keys.depth] + 1;
        if (_parent[keys.collapse] || _parent[keys.hidden]) _list[i][keys.hidden] = true;
        _parent[keys.children].push(_list[i][keys.selfKey]);
      } else {
        _list[i][keys.parentKey] = "top";
        _list[i][keys.children] = [];
        _list[i][keys.parentHash] = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].setDigit("0", hashDigit);
        _list[i][keys.selfHash] = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].setDigit("0", hashDigit) + "." + __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].setDigit(seq, hashDigit);
        _list[i][keys.hidden] = false;

        seq++;
      }
    }

    if (_list[i]) {
      if (_list[i][this.config.columnKeys.deleted]) {
        this.deletedList.push(_list[i]);
        _list[i][keys.hidden] = true;
      } else if (_list[i][this.config.columnKeys.selected]) {
        this.selectedDataIndexs.push(i);
      }

      _list[i]["__index"] = lineNumber;
      dataRealRowCount++;
      lineNumber++;
    }
  }

  this.listIndexMap = listIndexMap;
  this.xvar.dataRealRowCount = dataRealRowCount;

  return _list;
};

const set = function (data) {
  let list;
  if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isArray(data)) {
    this.page = null;
    list = data;
  } else if ("page" in data) {
    this.page = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, data.page);
    list = data.list;
  }

  // console.log(this.list.length);

  if (this.config.tree.use) {
    this.list = arrangeData4tree.call(this, list);
    this.proxyList = getProxyList.call(this, sort.call(this, this.sortInfo, this.list));
  } else {
    this.proxyList = null;
    this.list = initData.call(this, !this.config.remoteSort && Object.keys(this.sortInfo).length ? sort.call(this, this.sortInfo, list) : list);
  }
  this.selectedDataIndexs = [];
  this.deletedList = [];

  this.needToPaintSum = true;
  this.xvar.frozenRowIndex = this.config.frozenRowIndex > this.list.length ? this.list.length : this.config.frozenRowIndex;
  this.xvar.paintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  this.xvar.virtualPaintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__["a" /* default */].navigationUpdate.call(this);

  if (this.config.body.grouping) {}
  return this;
};

const get = function () {
  return {
    list: this.list,
    page: this.page
  };
};

const getList = function (_type) {
  let returnList = [];
  //let list = (this.proxyList) ? this.proxyList : this.list;
  let list = this.list;
  let i = 0,
      l = list.length;
  switch (_type) {
    case "modified":
      for (; i < l; i++) {
        if (list[i] && !list[i]["__isGrouping"] && list[i][this.config.columnKeys.modified]) {
          returnList.push(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, list[i]));
        }
      }
      break;
    case "selected":
      for (; i < l; i++) {
        if (list[i] && !list[i]["__isGrouping"] && list[i][this.config.columnKeys.selected]) {
          returnList.push(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, list[i]));
        }
      }
      break;
    case "deleted":
      //_list = clearGroupingData(this.list);
      returnList = [].concat(this.deletedList);
      break;
    default:
      returnList = clearGroupingData.call(this, list);
  }
  return returnList;
};

const getProxyList = function (_list) {
  let i = 0,
      l = _list.length,
      returnList = [];
  for (; i < l; i++) {

    if (_list[i] && !_list[i][this.config.tree.columnKeys.hidden]) {
      _list[i].__origin_index__ = i;
      returnList.push(_list[i]);
    }
  }
  return returnList;
};

const setValue = function (_dindex, _doindex, _key, _value) {
  let originalValue = getValue.call(this, _dindex, _doindex, _key);
  let list = this.list;
  let listIndex = typeof _doindex === "undefined" ? _dindex : _doindex;
  this.needToPaintSum = true;

  if (originalValue !== _value) {
    if (/[\.\[\]]/.test(_key)) {
      try {
        list[listIndex][this.config.columnKeys.modified] = true;
        Function("val", "this" + __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getRealPathForDataItem(_key) + " = val;").call(list[listIndex], _value);
      } catch (e) {}
    } else {
      list[listIndex][this.config.columnKeys.modified] = true;
      list[listIndex][_key] = _value;
    }

    if (this.onDataChanged) {
      this.onDataChanged.call({
        self: this,
        list: this.list,
        dindex: _dindex,
        doindex: _doindex,
        item: this.list[_dindex],
        key: _key,
        value: _value
      });
    }
  }

  return true;
};

const getValue = function (_dindex, _doindex, _key, _value) {
  let list = this.list;
  let listIndex = typeof _doindex === "undefined" ? _dindex : _doindex;

  if (/[\.\[\]]/.test(_key)) {
    try {
      _value = Function("", "return this" + __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getRealPathForDataItem(_key) + ";").call(list[listIndex]);
    } catch (e) {}
  } else {
    _value = list[listIndex][_key];
  }
  return _value;
};

const clearSelect = function () {
  this.selectedDataIndexs = [];
};

const select = function (_dindex, _doindex, _selected, _options) {
  let cfg = this.config;

  if (typeof _doindex === "undefined") _doindex = _dindex;

  if (!this.list[_doindex]) return false;
  if (this.list[_doindex].__isGrouping) return false;
  if (this.list[_doindex][cfg.columnKeys.disableSelection]) return false;

  if (typeof _selected === "undefined") {
    if (this.list[_doindex][cfg.columnKeys.selected] = !this.list[_doindex][cfg.columnKeys.selected]) {
      this.selectedDataIndexs.push(_doindex);
    } else {
      this.selectedDataIndexs.splice(__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].search(this.selectedDataIndexs, function () {
        return this == _doindex;
      }), 1);
    }
  } else {
    if (this.list[_doindex][cfg.columnKeys.selected] = _selected) {
      this.selectedDataIndexs.push(_doindex);
    } else {
      this.selectedDataIndexs.splice(__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].search(this.selectedDataIndexs, function () {
        return this == _doindex;
      }), 1);
    }
  }

  if (this.onDataChanged && _options && _options.internalCall) {
    this.onDataChanged.call({
      self: this,
      list: this.list,
      dindex: _dindex,
      doindex: _doindex,
      item: this.list[_doindex],
      key: cfg.columnKeys.selected,
      value: this.list[_doindex][cfg.columnKeys.selected]
    });
  }

  return this.list[_doindex][cfg.columnKeys.selected];
};

const selectAll = function (_selected, _options) {
  let cfg = this.config,
      dindex = this.list.length;

  this.selectedDataIndexs = [];

  if (typeof _selected === "undefined") {
    while (dindex--) {
      if (this.list[dindex].__isGrouping) continue;
      if (_options && _options.filter) {
        if (_options.filter.call(this.list[dindex]) !== true) {
          continue;
        }
      }
      if (this.list[dindex][cfg.columnKeys.disableSelection]) continue;

      if (this.list[dindex][cfg.columnKeys.selected] = !this.list[dindex][cfg.columnKeys.selected]) {
        this.selectedDataIndexs.push(dindex);
      }
    }
  } else {
    while (dindex--) {
      if (this.list[dindex].__isGrouping) continue;
      if (_options && _options.filter) {
        if (_options.filter.call(this.list[dindex]) !== true) {
          continue;
        }
      }
      if (this.list[dindex][cfg.columnKeys.disableSelection]) continue;

      if (this.list[dindex][cfg.columnKeys.selected] = _selected) {
        this.selectedDataIndexs.push(dindex);
      }
    }
  }

  if (this.onDataChanged && _options && _options.internalCall) {
    this.onDataChanged.call({
      self: this,
      list: this.list
    });
  }

  return this.list;
};

const add = function (_row, _dindex, _options) {
  let list = this.config.body.grouping ? clearGroupingData.call(this, this.list) : this.list;
  let processor = {
    "first"() {
      list = [].concat(_row).concat(list);
    },
    "last"() {
      list = list.concat([].concat(_row));
    }
  };

  if (this.config.tree.use) {
    let list = this.list.concat([].concat(_row));

    this.list = arrangeData4tree.call(this, list);
    this.proxyList = getProxyList.call(this, sort.call(this, this.sortInfo, this.list));
  } else {
    if (typeof _dindex === "undefined") _dindex = "last";
    if (_dindex in processor) {
      _row[this.config.columnKeys.modified] = true;
      processor[_dindex].call(this, _row);
    } else {
      if (!__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNumber(_dindex)) {
        throw 'invalid argument _dindex';
      }
      if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isArray(_row)) {
        for (let _i = 0, _l = _row.length; _i < _l; _i++) {
          list.splice(_dindex + _i, 0, _row[_i]);
        }
      } else {
        list.splice(_dindex, 0, _row);
      }
    }

    if (this.config.body.grouping) {
      list = initData.call(this, sort.call(this, this.sortInfo, list));
    } else if (_options && _options.sort && Object.keys(this.sortInfo).length) {
      list = initData.call(this, sort.call(this, this.sortInfo, list));
    } else {
      list = initData.call(this, list);
    }

    this.list = list;
  }

  this.needToPaintSum = true;
  this.xvar.frozenRowIndex = this.config.frozenRowIndex > this.list.length ? this.list.length : this.config.frozenRowIndex;
  this.xvar.paintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  this.xvar.virtualPaintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__["a" /* default */].navigationUpdate.call(this);
  return this;
};

const remove = function (_dindex) {
  let list = this.config.body.grouping ? clearGroupingData.call(this, this.list) : this.list;
  let processor = {
    "first": function () {
      if (this.config.tree.use) {
        processor.tree.call(this, 0);
      } else {
        list.splice(0, 1);
      }
    },
    "last": function () {
      if (this.config.tree.use) {
        processor.tree.call(this, list.length - 1);
      } else {
        list.splice(list.length - 1, 1);
      }
    },
    "index": function (_dindex) {
      if (this.config.tree.use) {
        processor.tree.call(this, _dindex);
      } else {
        list.splice(_dindex, 1);
      }
    },
    "selected": function () {
      if (this.config.tree.use) {
        processor.tree.call(this, "selected");
      } else {
        let __list = [],
            i,
            l;

        for (i = 0, l = list.length; i < l; i++) {
          if (!list[i][this.config.columnKeys.selected]) {
            __list.push(list[i]);
          }
        }
        list = __list;
        __list = null;
        i = null;
      }
    },
    "tree": function (_dindex) {
      let treeKeys = this.config.tree.columnKeys,
          selfHash = list[_dindex][this.config.tree.columnKeys.selfHash];
      list = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].filter(list, function () {
        return this[treeKeys.selfHash].substr(0, selfHash.length) != selfHash;
      });
      treeKeys = null;
      selfHash = null;
    }
  };

  if (typeof _dindex === "undefined") _dindex = "last";
  if (_dindex in processor) {
    processor[_dindex].call(this, _dindex);
  } else {
    if (!__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNumber(_dindex)) {
      throw 'invalid argument _dindex';
    }
    processor["index"].call(this, _dindex);
  }

  if (this.config.tree.use) {
    this.list = arrangeData4tree.call(this, list);
    this.proxyList = getProxyList.call(this, sort.call(this, this.sortInfo, this.list));
  } else {
    if (this.config.body.grouping) {
      list = initData.call(this, sort.call(this, this.sortInfo, list));
    } else if (Object.keys(this.sortInfo).length) {
      list = initData.call(this, sort.call(this, this.sortInfo, list));
    } else {
      list = initData.call(this, list);
    }
    this.list = list;
  }

  this.needToPaintSum = true;
  this.xvar.frozenRowIndex = this.config.frozenRowIndex > this.list.length ? this.list.length : this.config.frozenRowIndex;
  this.xvar.paintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  this.xvar.virtualPaintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__["a" /* default */].navigationUpdate.call(this);
  return this;
};

const deleteRow = function (_dindex) {
  let list = this.config.body.grouping ? clearGroupingData.call(this, this.list) : this.list;
  let processor = {
    "first": function () {
      if (this.config.tree.use) {
        processor.tree.call(this, 0);
      } else {
        list[0][this.config.columnKeys.deleted] = true;
      }
    },
    "last": function () {
      if (this.config.tree.use) {
        processor.tree.call(this, list.length - 1);
      } else {
        list[list.length - 1][this.config.columnKeys.deleted] = true;
      }
    },
    "selected": function () {
      if (this.config.tree.use) {
        processor.tree.call(this, "selected");
      } else {
        let i = list.length;
        while (i--) {
          if (list[i][this.config.columnKeys.selected]) {
            list[i][this.config.columnKeys.deleted] = true;
          }
        }
        i = null;
      }
    },
    "tree": function (_dindex) {
      let keys = this.config.columnKeys,
          treeKeys = this.config.tree.columnKeys;

      if (_dindex === "selected") {

        let i = list.length;
        while (i--) {
          if (list[i][this.config.columnKeys.selected]) {
            list[i][this.config.columnKeys.deleted] = true;

            let selfHash = list[i][treeKeys.selfHash];
            let ii = list.length;

            while (ii--) {
              if (list[ii][treeKeys.selfHash].substr(0, selfHash.length) === selfHash) {
                list[ii][keys.deleted] = true;
              }
            }

            selfHash = null;
            ii = null;
          }
        }
        i = null;
      } else {
        let selfHash = list[_dindex][treeKeys.selfHash];
        let i = list.length;
        while (i--) {
          if (list[i][treeKeys.selfHash].substr(0, selfHash.length) !== selfHash) {
            list[i][keys.deleted] = true;
          }
        }
        selfHash = null;
        i = null;
      }

      keys = null;
      treeKeys = null;
    }
  };

  if (typeof _dindex === "undefined") _dindex = "last";

  if (_dindex in processor) {
    processor[_dindex].call(this, _dindex);
  } else {
    if (!__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNumber(_dindex)) {
      throw 'invalid argument _dindex';
    }
    list[_dindex][this.config.columnKeys.deleted] = true;
  }

  if (this.config.tree.use) {
    this.list = arrangeData4tree.call(this, list);
    this.proxyList = getProxyList.call(this, sort.call(this, this.sortInfo, this.list));
  } else {
    if (this.config.body.grouping) {
      list = initData.call(this, sort.call(this, this.sortInfo, list));
    } else if (Object.keys(this.sortInfo).length) {
      list = initData.call(this, sort.call(this, this.sortInfo, list));
    } else {
      list = initData.call(this, list);
    }

    this.list = list;
  }

  this.needToPaintSum = true;
  this.xvar.frozenRowIndex = this.config.frozenRowIndex > this.list.length ? this.list.length : this.config.frozenRowIndex;
  this.xvar.paintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  this.xvar.virtualPaintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__["a" /* default */].navigationUpdate.call(this);
  return this;
};

const update = function (_row, _dindex) {
  if (!__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNumber(_dindex)) {
    throw 'invalid argument _dindex';
  }
  //
  this.needToPaintSum = true;
  this.list.splice(_dindex, 1, _row);

  if (this.config.body.grouping) {
    this.list = initData.call(this, clearGroupingData.call(this, this.list));
  }
};

const updateChild = function (_dindex, _updateData, _options) {
  let keys = this.config.tree.columnKeys,
      selfHash,
      originIndex;

  if (typeof _dindex === "undefined") return false;
  originIndex = this.proxyList[_dindex].__origin_index__;

  if (this.list[originIndex][keys.children]) {
    this.proxyList = []; // 리셋 프록시

    if (_options && _options.filter) {
      if (_options.filter.call({ item: this.list[originIndex], dindex: originIndex }, this.list[originIndex])) {
        for (let _k in _updateData) {
          this.list[originIndex][_k] = _updateData[_k];
        }
      }
    } else {
      for (let _k in _updateData) {
        this.list[originIndex][_k] = _updateData[_k];
      }
    }

    selfHash = this.list[originIndex][keys.selfHash];

    let i = 0,
        l = this.list.length;
    for (; i < l; i++) {
      if (this.list[i]) {
        if (this.list[i][keys.parentHash].substr(0, selfHash.length) === selfHash) {

          if (_options && _options.filter) {
            if (_options.filter.call({ item: this.list[i], dindex: i }, this.list[i])) {
              for (let _k in _updateData) {
                this.list[i][_k] = _updateData[_k];
              }
            }
          } else {
            for (let _k in _updateData) {
              this.list[i][_k] = _updateData[_k];
            }
          }
        }

        if (!this.list[i][keys.hidden]) {
          this.proxyList.push(this.list[i]);
        }
      }
    }

    return true;
  } else {
    return false;
  }
};

const sort = function (_sortInfo, _list, _options) {
  let self = this,
      list = _list || this.list,
      sortInfoArray = [],
      lineNumber = 0;
  let getKeyValue = function (_item, _key, _value) {
    if (/[\.\[\]]/.test(_key)) {
      try {
        _value = Function("", "return this" + __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getRealPathForDataItem(_key) + ";").call(_item);
      } catch (e) {}
    } else {
      _value = _item[_key];
    }
    return _value;
  };

  for (let k in _sortInfo) {
    sortInfoArray[_sortInfo[k].seq] = { key: k, order: _sortInfo[k].orderBy };
  }
  sortInfoArray = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].filter(sortInfoArray, function () {
    return typeof this !== "undefined";
  });

  // 정렬조건이 없으면 original_index값을 이용하여 정렬처리
  if (_options && _options.resetLineNumber && sortInfoArray.length === 0) {
    sortInfoArray[0] = { key: '__original_index', order: "asc" };
  }

  let i = 0,
      l = sortInfoArray.length,
      _a_val,
      _b_val;

  list.sort(function (_a, _b) {
    for (i = 0; i < l; i++) {
      _a_val = getKeyValue(_a, sortInfoArray[i].key);
      _b_val = getKeyValue(_b, sortInfoArray[i].key);

      if (typeof _a_val !== typeof _b_val) {
        _a_val = '' + _a_val;
        _b_val = '' + _b_val;
      }
      if (_a_val < _b_val) {
        return sortInfoArray[i].order === "asc" ? -1 : 1;
      } else if (_a_val > _b_val) {
        return sortInfoArray[i].order === "asc" ? 1 : -1;
      }
    }
  });

  if (_options && _options.resetLineNumber) {
    i = 0, l = list.length, lineNumber = 0;
    for (; i < l; i++) {
      if (_list[i] && !_list[i]["__isGrouping"]) {
        _list[i]["__index"] = lineNumber++;
      }
    }
  }

  if (_list) {
    return list;
  } else {
    this.xvar.frozenRowIndex = this.config.frozenRowIndex > this.list.length ? this.list.length : this.config.frozenRowIndex;
    this.xvar.paintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
    this.xvar.virtualPaintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
    __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__["a" /* default */].navigationUpdate.call(this);
    return this;
  }
};

const append = function (_list, _callback) {
  let self = this;

  if (this.config.tree.use) {
    let list = this.list.concat([].concat(_list));

    this.list = arrangeData4tree.call(this, list);
    this.proxyList = getProxyList.call(this, sort.call(this, this.sortInfo, this.list));
    list = null;
  } else {
    this.list = this.list.concat([].concat(_list));
  }

  this.appendProgress = true;
  __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__["a" /* default */].statusUpdate.call(this);

  if (this.appendDebouncer) {
    if (self.appendDebounceTimes < this.config.debounceTime / 10) {
      clearTimeout(this.appendDebouncer);
      self.appendDebounceTimes++;
    } else {
      self.appendDebounceTimes = 0;
      appendIdle.call(self);
      _callback();
      return false;
    }
  }

  this.appendDebouncer = setTimeout(function () {
    self.appendDebounceTimes = 0;
    appendIdle.call(self);
    _callback();
  }, this.config.debounceTime);

  // todo : append bounce animation
};

const appendIdle = function () {
  this.appendProgress = false;
  if (this.config.body.grouping) {
    this.list = initData.call(this, sort.call(this, this.sortInfo, this.list));
  } else {
    this.list = initData.call(this, this.list);
  }

  this.needToPaintSum = true;
  this.xvar.frozenRowIndex = this.config.frozenRowIndex > this.list.length ? this.list.length : this.config.frozenRowIndex;
  this.xvar.paintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  this.xvar.virtualPaintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_page__["a" /* default */].navigationUpdate.call(this);
};

const toggleCollapse = function (_dindex, _doindx, _collapse) {
  let keys = this.config.tree.columnKeys,
      selfHash,
      originIndex;

  if (typeof _dindex === "undefined") return false;
  originIndex = this.proxyList[_dindex].__origin_index__;

  if (this.list[originIndex][keys.children]) {
    this.proxyList = []; // 리셋 프록시
    if (typeof _collapse == "undefined") {
      _collapse = !(this.list[originIndex][keys.collapse] || false);
    }

    this.list[originIndex][keys.collapse] = _collapse;
    selfHash = this.list[originIndex][keys.selfHash];

    let i = this.list.length;
    while (i--) {
      if (this.list[i]) {
        // console.log(this.list[i][keys.parentHash].substr(0, selfHash.length), selfHash);
        if (this.list[i][keys.parentHash].substr(0, selfHash.length) === selfHash) {
          this.list[i][keys.hidden] = _collapse;
        }

        if (!this.list[i][keys.hidden]) {
          this.proxyList.push(this.list[i]);
        }
      }
    }

    return true;
  } else {
    return false;
  }
};

/**
 * @module AX6UIGrid_data
 */
/* harmony default export */ __webpack_exports__["a"] = ({
  init: function () {},
  /**
   * @param data
   * @return {module:AX6UIGrid_data}
   */
  set: set,
  /**
   * @return {*}
   */
  get: get,
  /**
   * @param {String} _type - modified|selected|deleted
   * @return {Array}
   */
  getList: getList,
  /**
   * @param {Array}
   * @return {Array}
   */
  getProxyList: getProxyList,
  /**
   *
   * @param _dindex
   * @param _doindex
   * @param _key
   * @param _value
   * @return {boolean}
   */
  setValue: setValue,
  /**
   *
   * @param _dindex
   * @param _doindex
   * @param _key
   * @param _value
   * @return {*}
   */
  getValue: getValue,
  /**
   *
   */
  clearSelect: clearSelect,
  /**
   *
   * @param _dindex
   * @param _doindex
   * @param _selected
   * @param _options
   * @return {boolean}
   */
  select: select,
  /**
   *
   * @param _selected
   * @param _options
   */
  selectAll: selectAll,
  /**
   *
   * @param _row
   * @param _dindex
   * @param _options
   * @return {add}
   */
  add: add,
  /**
   * list에서 완전 제거 하는 경우 사용.
   * @param _dindex
   * @return {remove}
   */
  remove: remove,
  /**
   * list에서 deleted 처리 repaint
   * @param _dindex
   * @return {deleteRow}
   */
  deleteRow: deleteRow,
  /**
   *
   * @param _row
   * @param _dindex
   */
  update: update,
  /**
   *
   * @param _dindex
   * @param _updateData
   * @param _options
   * @return {boolean}
   */
  updateChild: updateChild,
  /**
   *
   * @param _sortInfo
   * @param _list
   * @param _options
   * @return {*}
   */
  sort: sort,
  /**
   *
   * @param _list
   * @return {Array}
   */
  initData: initData,
  /**
   *
   * @param _list
   * @return {Array}
   */
  clearGroupingData: clearGroupingData,
  /**
   *
   * @param _list
   * @param _callback
   * @return {boolean}
   */
  append: append,
  /**
   *
   * @param _dindex
   * @param _doindx
   * @param _collapse
   * @return {boolean}
   */
  toggleCollapse: toggleCollapse
});

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Mustache__ = __webpack_require__(4);



const onclickPageMove = function (_act) {
  const callback = function (_pageNo) {
    if (this.page.currentPage != _pageNo) {
      this.page.selectPage = _pageNo;
      if (this.config.page.onChange) {
        this.config.page.onChange.call({
          self: this,
          page: this.page,
          data: this.data
        });
      }
    }
  };
  const processor = {
    "first": function () {
      callback.call(this, 0);
    },
    "prev": function () {
      let pageNo = this.page.currentPage - 1;
      if (pageNo < 0) pageNo = 0;
      callback.call(this, pageNo);
    },
    "next": function () {
      let pageNo = this.page.currentPage + 1;
      if (pageNo > this.page.totalPages - 1) pageNo = this.page.totalPages - 1;
      callback.call(this, pageNo);
    },
    "last": function () {
      callback.call(this, this.page.totalPages - 1);
    }
  };

  if (_act in processor) {
    processor[_act].call(this);
  } else {
    callback.call(this, _act - 1);
  }
};

const navigationUpdate = function () {
  let self = this;
  if (this.page) {
    let page = {
      hasPage: false,
      currentPage: this.page.currentPage,
      pageSize: this.page.pageSize,
      totalElements: this.page.totalElements,
      totalPages: this.page.totalPages,
      firstIcon: this.config.page.firstIcon,
      prevIcon: this.config.page.prevIcon || "«",
      nextIcon: this.config.page.nextIcon || "»",
      lastIcon: this.config.page.lastIcon
    };
    let navigationItemCount = this.config.page.navigationItemCount;

    page["@paging"] = function () {
      let returns = [],
          startI,
          endI;

      startI = page.currentPage - Math.floor(navigationItemCount / 2);
      if (startI < 0) startI = 0;
      endI = page.currentPage + navigationItemCount;
      if (endI > page.totalPages) endI = page.totalPages;

      if (endI - startI > navigationItemCount) {
        endI = startI + navigationItemCount;
      }

      if (endI - startI < navigationItemCount) {
        startI = endI - navigationItemCount;
      }
      if (startI < 0) startI = 0;

      for (let p = startI, l = endI; p < l; p++) {
        returns.push({ 'pageNo': p + 1, 'selected': page.currentPage == p });
      }
      return returns;
    }();

    if (page["@paging"].length > 0) {
      page.hasPage = true;
    }

    this.$["page"]["navigation"].html(__WEBPACK_IMPORTED_MODULE_1__AX6Mustache__["a" /* default */].render(this.__tmpl.page_navigation.call(this), page));
    this.$["page"]["navigation"].find("[data-ax6grid-page-move]").on("click", function () {
      onclickPageMove.call(self, this.getAttribute("data-ax6grid-page-move"));
    });
  } else {
    this.$["page"]["navigation"].empty();
  }
};

const statusUpdate = function () {
  if (!this.config.page.statusDisplay) {
    return;
  }

  let toRowIndex,
      rangeCount = Math.min(this.xvar.dataRowCount, this.xvar.virtualPaintRowCount);
  let data = {};

  toRowIndex = this.xvar.virtualPaintStartRowIndex + rangeCount;

  if (toRowIndex > this.xvar.dataRowCount) {
    toRowIndex = this.xvar.dataRowCount;
  }

  data.fromRowIndex = __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.xvar.virtualPaintStartRowIndex + 1, { "money": true });
  data.toRowIndex = __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(toRowIndex, { "money": true });
  data.totalElements = false;
  data.dataRealRowCount = this.xvar.dataRowCount !== this.xvar.dataRealRowCount ? __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.xvar.dataRealRowCount, { "money": true }) : false;
  data.dataRowCount = __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.xvar.dataRowCount, { "money": true });
  data.progress = this.appendProgress ? this.config.appendProgressIcon : "";

  if (this.page) {
    data.fromRowIndex_page = __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.xvar.virtualPaintStartRowIndex + this.page.currentPage * this.page.pageSize + 1, { "money": true });
    data.toRowIndex_page = __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.xvar.virtualPaintStartRowIndex + rangeCount + this.page.currentPage * this.page.pageSize, { "money": true });
    data.totalElements = __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.page.totalElements, { "money": true });

    if (data.toRowIndex_page > this.page.totalElements) {
      data.toRowIndex_page = this.page.totalElements;
    }
  }

  this.$["page"]["status"].html(__WEBPACK_IMPORTED_MODULE_1__AX6Mustache__["a" /* default */].render(this.__tmpl.page_status.call(this), data));
};

/* harmony default export */ __webpack_exports__["a"] = ({
  navigationUpdate: navigationUpdate,
  statusUpdate: statusUpdate
});

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_body__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_data__ = __webpack_require__(8);






const columnResizerEvent = {
  "on": function (_columnResizer, _colIndex) {
    var self = this;
    var $columnResizer = $(_columnResizer);
    var columnResizerPositionLeft = $columnResizer.offset().left;
    var gridTargetOffsetLeft = self.$["container"]["root"].offset().left;
    self.xvar.columnResizerIndex = _colIndex;
    var resizeRange = {
      min: -self.colGroup[_colIndex]._width + 2,
      max: self.$["container"]["root"].width() - self.colGroup[_colIndex]._width
    };

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).on(__WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].ENM["mousemove"] + ".ax5grid-" + this.instanceId, function (e) {
      var mouseObj = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
      self.xvar.__da = mouseObj.clientX - self.xvar.mousePosition.clientX;

      if (resizeRange.min > self.xvar.__da) {
        self.xvar.__da = resizeRange.min;
      } else if (resizeRange.max < self.xvar.__da) {
        self.xvar.__da = resizeRange.max;
      }

      if (!self.xvar.columnResizerLived) {
        self.$["resizer"]["horizontal"].addClass("live");
      }
      self.xvar.columnResizerLived = true;
      self.$["resizer"]["horizontal"].css({
        left: columnResizerPositionLeft + self.xvar.__da - gridTargetOffsetLeft
      });
    }).on(__WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].ENM["mouseup"] + ".ax5grid-" + this.instanceId, function (e) {
      columnResizerEvent.off.call(self);
      __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
    }).on("mouseleave.ax5grid-" + this.instanceId, function (e) {
      columnResizerEvent.off.call(self);
      __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);
  },
  "off": function () {
    this.$["resizer"]["horizontal"].removeClass("live");
    this.xvar.columnResizerLived = false;

    if (typeof this.xvar.__da === "undefined") {} else {
      this.setColumnWidth(this.colGroup[this.xvar.columnResizerIndex]._width + this.xvar.__da, this.xvar.columnResizerIndex);
    }

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off(__WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].ENM["mousemove"] + ".ax5grid-" + this.instanceId).off(__WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].ENM["mouseup"] + ".ax5grid-" + this.instanceId).off("mouseleave.ax5grid-" + this.instanceId);

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');
  }
};

const init = function () {
  // 헤더 초기화
  const self = this;

  this.$["container"]["header"].on("click", '[data-ax6grid-column-attr]', function (e) {
    let key = this.getAttribute("data-ax6grid-column-key"),
        colIndex = this.getAttribute("data-ax6grid-column-colindex"),

    //rowIndex = this.getAttribute("data-ax6grid-column-rowindex"),
    col = self.colGroup[colIndex];

    if (key === "__checkbox_header__") {
      let selected = this.getAttribute("data-ax6grid-selected");
      selected = __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(selected) ? true : selected !== "true";

      $(this).attr("data-ax6grid-selected", selected);
      self.selectAll({ selected: selected });

      selected = null;
    } else {
      if (key && col && col.sortable !== false && !col.sortFixed) {
        if (col.sortable === true || self.config.sortable === true) {
          toggleSort.call(self, col.key);
        }
      }
    }

    __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_body__["a" /* default */].blur.call(self);

    key = null;
    colIndex = null;
    col = null;
  });
  this.$["container"]["header"].on("mousedown", '[data-ax6grid-column-resizer]', function (e) {
    let colIndex = this.getAttribute("data-ax6grid-column-resizer");

    self.xvar.mousePosition = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
    columnResizerEvent.on.call(self, this, Number(colIndex));
    __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);

    colIndex = null;
  }).on("dragstart", function (e) {
    __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
    return false;
  });

  resetFrozenColumn.call(this);
};

const resetFrozenColumn = function () {
  let cfg = this.config,
      dividedHeaderObj = __WEBPACK_IMPORTED_MODULE_2__AX6UIGrid_util__["a" /* default */].divideTableByFrozenColumnIndex(this.headerTable, this.xvar.frozenColumnIndex);

  this.asideHeaderData = function (dataTable) {
    let colGroup = [];
    let data = { rows: [] };
    for (let i = 0, l = dataTable.rows.length; i < l; i++) {
      data.rows[i] = { cols: [] };
      if (i === 0) {
        let col = {
          label: "",
          colspan: 1,
          rowspan: dataTable.rows.length,
          colIndex: null
        },
            _col = {};

        if (cfg.showLineNumber) {
          _col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col, {
            width: cfg.lineNumberColumnWidth,
            _width: cfg.lineNumberColumnWidth,
            columnAttr: "lineNumber",
            key: "__index_header__", label: "&nbsp;"
          });
          colGroup.push(_col);
          data.rows[i].cols.push(_col);
        }
        if (cfg.showRowSelector) {
          _col = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, col, {
            width: cfg.rowSelectorColumnWidth,
            _width: cfg.rowSelectorColumnWidth,
            columnAttr: "rowSelector",
            key: "__checkbox_header__", label: ""
          });
          colGroup.push(_col);
          data.rows[i].cols.push(_col);
        }

        col = null;
      }
    }

    this.asideColGroup = colGroup;
    return data;
  }.call(this, this.headerTable);

  this.leftHeaderData = dividedHeaderObj.leftData;
  this.headerData = dividedHeaderObj.rightData;
};

const getFieldValue = function (_col) {
  return _col.key === "__checkbox_header__" ? `<div class="checkBox" style="max-height: ${_col.width - 10}px;min-height: ${_col.width - 10}px;"></div>` : _col.label || "&nbsp;";
};

const repaint = function (_reset) {
  let cfg = this.config,
      colGroup = this.colGroup;

  if (_reset) {
    resetFrozenColumn.call(this);
    this.xvar.paintStartRowIndex = undefined;
    this.xvar.virtualPaintStartRowIndex = undefined; // 스크롤 포지션 저장변수 초기화
  }
  let asideHeaderData = this.asideHeaderData,
      leftHeaderData = this.leftHeaderData,
      headerData = this.headerData,
      headerAlign = cfg.header.align;

  // this.asideColGroup : asideHeaderData에서 처리 함.
  this.leftHeaderColGroup = colGroup.slice(0, this.config.frozenColumnIndex);
  this.headerColGroup = colGroup.slice(this.config.frozenColumnIndex);

  var repaintHeader = function (_elTarget, _colGroup, _bodyRow) {
    let tableWidth = 0,
        SS = [];
    SS.push('<table border="0" cellpadding="0" cellspacing="0">');
    SS.push('<colgroup>');
    for (var cgi = 0, cgl = _colGroup.length; cgi < cgl; cgi++) {
      SS.push('<col style="width:' + _colGroup[cgi]._width + 'px;"  />');
      tableWidth += _colGroup[cgi]._width;
    }
    SS.push('<col  />');
    SS.push('</colgroup>');

    for (var tri = 0, trl = _bodyRow.rows.length; tri < trl; tri++) {
      var trCSS_class = "";
      SS.push('<tr class="' + trCSS_class + '">');
      for (var ci = 0, cl = _bodyRow.rows[tri].cols.length; ci < cl; ci++) {
        var col = _bodyRow.rows[tri].cols[ci];
        var cellHeight = cfg.header.columnHeight * col.rowspan - cfg.header.columnBorderWidth;
        var colAlign = headerAlign || col.align;
        SS.push('<td ', 'data-ax6grid-column-attr="' + (col.columnAttr || "default") + '" ', 'data-ax6grid-column-row="' + tri + '" ', 'data-ax6grid-column-col="' + ci + '" ', function () {
          return typeof col.key !== "undefined" ? 'data-ax6grid-column-key="' + col.key + '" ' : '';
        }(), 'data-ax6grid-column-colindex="' + col.colIndex + '" ', 'data-ax6grid-column-rowindex="' + col.rowIndex + '" ', 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', 'class="' + function (_col) {
          var tdCSS_class = "";
          if (_col.headerStyleClass) {
            if (__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isFunction(_col.headerStyleClass)) {
              tdCSS_class += _col.headerStyleClass.call({
                column: _col,
                key: _col.key
              }) + " ";
            } else {
              tdCSS_class += _col.headerStyleClass + " ";
            }
          }
          if (cfg.header.columnBorderWidth) tdCSS_class += "hasBorder ";
          if (ci == cl - 1) tdCSS_class += "isLastColumn ";
          return tdCSS_class;
        }.call(this, col) + '" ', 'style="height: ' + cellHeight + 'px;min-height: 1px;">');

        SS.push(function () {
          var lineHeight = cfg.header.columnHeight - cfg.header.columnPadding * 2 - cfg.header.columnBorderWidth;
          return '<span data-ax6grid-cellHolder="" ' + (colAlign ? 'data-ax6grid-text-align="' + colAlign + '"' : '') + ' style="height: ' + (cfg.header.columnHeight - cfg.header.columnBorderWidth) + 'px;line-height: ' + lineHeight + 'px;">';
        }(), function () {
          var _SS = "";

          if (!__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(col.key) && !__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(col.colIndex) && (cfg.sortable === true || col.sortable === true) && col.sortable !== false) {
            _SS += '<span data-ax6grid-column-sort="' + col.colIndex + '" data-ax6grid-column-sort-order="' + (colGroup[col.colIndex].sort || "") + '" />';
          }
          return _SS;
        }(), getFieldValue.call(this, col), '</span>');

        if (!__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(col.colIndex)) {
          if (cfg.enableFilter) {
            SS.push('<span data-ax6grid-column-filter="' + col.colIndex + '" data-ax6grid-column-filter-value=""  />');
          }
        }

        SS.push('</td>');
      }
      SS.push('<td ', 'data-ax6grid-column-row="null" ', 'data-ax6grid-column-col="null" ', 'style="height: ' + cfg.header.columnHeight + 'px;min-height: 1px;" ', '></td>');
      SS.push('</tr>');
    }
    SS.push('</table>');
    _elTarget.html(SS.join(''));

    /// append column-resizer
    (function () {
      let resizerHeight = cfg.header.columnHeight * _bodyRow.rows.length - cfg.header.columnBorderWidth,
          resizerLeft = 0,
          AS = [];

      for (var cgi = 0, cgl = _colGroup.length; cgi < cgl; cgi++) {
        var col = _colGroup[cgi];
        if (!__WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].isNothing(col.colIndex)) {
          //_colGroup[cgi]._width
          resizerLeft += col._width;
          AS.push('<div data-ax6grid-column-resizer="' + col.colIndex + '" style="height:' + resizerHeight + 'px;left: ' + (resizerLeft - 4) + 'px;"  />');
        }
      }
      _elTarget.append(AS);
    }).call(this);

    return tableWidth;
  };

  if (cfg.asidePanelWidth > 0) {
    repaintHeader.call(this, this.$.panel["aside-header"], this.asideColGroup, asideHeaderData);
  }
  if (cfg.frozenColumnIndex > 0) {
    repaintHeader.call(this, this.$.panel["left-header"], this.leftHeaderColGroup, leftHeaderData);
  }
  this.xvar.scrollContentWidth = repaintHeader.call(this, this.$.panel["header-scroll"], this.headerColGroup, headerData);

  if (cfg.rightSum) {}
};

const scrollTo = function (css) {
  this.$.panel["header-scroll"].css(css);
  return this;
};

const toggleSort = function (_key) {
  let sortOrder = "",
      sortInfo = {},
      seq = 0;

  for (var k in this.sortInfo) {
    if (this.sortInfo[k].fixed) {
      sortInfo[k] = this.sortInfo[k];
      seq++;
    }
  }

  for (var i = 0, l = this.colGroup.length; i < l; i++) {
    if (this.colGroup[i].key == _key) {
      if (sortOrder == "") {
        if (typeof this.colGroup[i].sort === "undefined") {
          sortOrder = "desc";
        } else if (this.colGroup[i].sort === "desc") {
          sortOrder = "asc";
        } else {
          sortOrder = undefined;
        }
      }
      this.colGroup[i].sort = sortOrder;
    } else if (!this.config.multiSort) {
      this.colGroup[i].sort = undefined;
    }

    if (typeof this.colGroup[i].sort !== "undefined") {
      if (!sortInfo[this.colGroup[i].key]) {
        sortInfo[this.colGroup[i].key] = {
          seq: seq++,
          orderBy: this.colGroup[i].sort
        };
      }
    }
  }

  this.setColumnSort(sortInfo);
  return this;
};

const applySortStatus = function (_sortInfo) {
  for (var i = 0, l = this.colGroup.length; i < l; i++) {
    for (var _key in _sortInfo) {
      if (this.colGroup[i].key == _key) {
        this.colGroup[i].sort = _sortInfo[_key].orderBy;
      }
    }
  }
  return this;
};

const select = function (_options) {
  __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_data__["a" /* default */].select.call(this, dindex, _options && _options.selected);
  __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_body__["a" /* default */].updateRowState.call(this, ["selected"], dindex);
};

const getExcelString = function () {
  let cfg = this.config,
      colGroup = this.colGroup,
      headerData = this.headerTable,
      getHeader = function (_colGroup, _bodyRow) {
    var SS = [];
    //SS.push('<table border="1">');
    for (var tri = 0, trl = _bodyRow.rows.length; tri < trl; tri++) {
      SS.push('<tr>');
      for (var ci = 0, cl = _bodyRow.rows[tri].cols.length; ci < cl; ci++) {
        var col = _bodyRow.rows[tri].cols[ci];
        SS.push('<td ', 'colspan="' + col.colspan + '" ', 'rowspan="' + col.rowspan + '" ', '>', getFieldValue.call(this, col), '</td>');
      }
      SS.push('</tr>');
    }
    //SS.push('</table>');

    return SS.join('');
  };

  return getHeader.call(this, colGroup, headerData);
};

/* harmony default export */ __webpack_exports__["a"] = ({
  init: init,
  repaint: repaint,
  scrollTo: scrollTo,
  toggleSort: toggleSort,
  applySortStatus: applySortStatus,
  getExcelString: getExcelString
});

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getElement = (function (fn) {
	var memo = {};

	return function(selector) {
		if (typeof memo[selector] === "undefined") {
			memo[selector] = fn.call(this, selector);
		}

		return memo[selector]
	};
})(function (target) {
	return document.querySelector(target)
});

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(36);

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton) options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
	if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else {
		throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	options.attrs.type = "text/css";

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	options.attrs.type = "text/css";
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = options.transform(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__ = __webpack_require__(18);





/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let formatter = {};

const setSelectionRange = function (input, pos) {
  if (typeof pos == "undefined") {
    pos = input.value.length;
  }
  if (input.setSelectionRange) {
    input.focus();
    input.setSelectionRange(pos, pos);
  } else if (input.createTextRange) {
    var range = input.createTextRange();
    range.collapse(true);
    range.moveEnd('character', pos);
    range.moveStart('character', pos);
    range.select();
  } else if (input.selectionStart) {
    input.focus();
    input.selectionStart = pos;
    input.selectionEnd = pos;
  }
};
const formatterEvent = {
  'focus': function (opts, optIdx, e) {
    if (!opts.$input.data("__originValue__")) opts.$input.data("__originValue__", opts.$input.val());
  },
  /* 키 다운 이벤트에서 입력할 수 없는 키 입력을 방어 */
  'keydown': function (opts, optIdx, e) {
    let isStop = false;
    if (!opts.enterableKeyCodes) {} else if (e.which && opts.enterableKeyCodes[e.which]) {} else if (!e.metaKey && !e.ctrlKey && !e.shiftKey) {
      //console.log(e.which, opts.enterableKeyCodes);
      isStop = true;
    }
    if (isStop) __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);
  },
  /* 키 업 이벤트에서 패턴을 적용 */
  'keyup': function (opts, optIdx, e) {
    let elem = opts.$input.get(0),
        elemFocusPosition,
        beforeValue,
        newValue,
        selection,
        selectionLength;

    if ('selectionStart' in elem) {
      // Standard-compliant browsers
      elemFocusPosition = elem.selectionStart;
    } else if (document.selection) {
      // IE
      //elem.focus();
      selection = document.selection.createRange();
      selectionLength = document.selection.createRange().text.length;
      selection.moveStart('character', -elem.value.length);
      elemFocusPosition = selection.text.length - selectionLength;
    }

    beforeValue = elem.value;
    if (opts.pattern in this.customFormatter) {
      newValue = this.customFormatter[opts.pattern].getPatternValue.call(this, opts, optIdx, e, elem.value);
    } else if (opts.pattern in __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */]) {
      newValue = __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */][opts.pattern].getPatternValue.call(this, opts, optIdx, e, elem.value);
    } else {
      newValue = beforeValue;
    }

    if (newValue != beforeValue) {
      opts.$input.val(newValue).trigger("change");
      setSelectionRange(elem, elemFocusPosition + newValue.length - beforeValue.length);
    }
  },
  'blur': function (opts, optIdx, e, _force) {
    let elem = opts.$input.get(0),
        beforeValue,
        newValue;

    opts.$input.removeData("__originValue__");

    beforeValue = elem.value;
    if (opts.pattern in this.customFormatter) {
      newValue = this.customFormatter[opts.pattern].getPatternValue.call(this, opts, optIdx, e, elem.value, 'blur');
    } else if (opts.pattern in __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */]) {
      newValue = __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */][opts.pattern].getPatternValue.call(this, opts, optIdx, e, elem.value, 'blur');
    } else {
      newValue = beforeValue;
    }

    if (_force) {
      opts.$input.val(newValue);
    } else {
      if (newValue != beforeValue) {
        opts.$input.val(newValue).trigger("change");
      }
    }
  }
};
const bindFormatterTarget = function (opts, optIdx) {
  if (!opts.pattern) {
    if (opts.$target.get(0).tagName == "INPUT") {
      opts.pattern = opts.$target.attr('data-ax6formatter');
    } else {
      opts.pattern = opts.$target.find('input[type="text"]').attr('data-ax6formatter');
    }
    if (!opts.pattern) {
      console.log(__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].getError("ax6formatter", "501", "bind"));
      console.log(opts.target);
      return this;
    }
  }

  let re = /[^\(^\))]+/gi,
      matched = opts.pattern.match(re);

  opts.pattern = matched[0];
  opts.patternArgument = matched[1] || "";

  // 함수타입
  if (opts.pattern in this.customFormatter) {
    opts.enterableKeyCodes = this.customFormatter[opts.pattern].getEnterableKeyCodes.call(this, opts, optIdx);
  } else if (opts.pattern in __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */]) {
    opts.enterableKeyCodes = __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */][opts.pattern].getEnterableKeyCodes.call(this, opts, optIdx);
  }

  opts.$input.off('focus.ax6formatter').on('focus.ax6formatter', formatterEvent.focus.bind(this, this.queue[optIdx], optIdx)).off('keydown.ax6formatter').on('keydown.ax6formatter', formatterEvent.keydown.bind(this, this.queue[optIdx], optIdx)).off('keyup.ax6formatter').on('keyup.ax6formatter', formatterEvent.keyup.bind(this, this.queue[optIdx], optIdx)).off('blur.ax6formatter').on('blur.ax6formatter', formatterEvent.blur.bind(this, this.queue[optIdx], optIdx));

  formatterEvent.blur.call(this, this.queue[optIdx], optIdx);

  return this;
};
const unbindFormatterTarget = function (opts, optIdx) {
  opts.$input.off('focus.ax6formatter').off('keydown.ax6formatter').off('keyup.ax6formatter').off('blur.ax6formatter');

  return this;
};
const getQueIdx = function (boundID) {
  if (!__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isString(boundID)) {
    boundID = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(boundID).data("data-formatter");
  }
  /*
   if (!U.isString(boundID)) {
   console.log(info.getError("ax6formatter", "402", "getQueIdx"));
   return;
   }
   */
  return __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].search(this.queue, function () {
    return this.id == boundID;
  });
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIFormatter extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore__["a" /* default */] {
  /**
   * @constructor
   * @param config
   * @param {Object} [config.formatter]
   * @example
   * ```js
   * var formatter = new Formatter();
   *
   * // Extend formatter
   * var myFormatter = new Formatter({
     *  formatter: {
     *      "mystyle": {
     *          getEnterableKeyCodes: function (_opts) {
     *              var enterableKeyCodes = {
     *                  '189': '-' // eventKeyCode
     *              };
     *              return jQuery.extend(enterableKeyCodes, {});
     *          }
     *          getPatternValue: function (_opts, optIdx, e, val, eType) {
     *              val = val.replace(/\D/g, "");
     *              var regExpPattern = /^([0-9]{2})\-?([0-9]{2})?\-?([0-9]{2})?\-?([0-9]{2})?/;
     *              return val.replace(regExpPattern, function (a, b) {
     *                  var nval = [arguments[1]];
     *                  if (arguments[2]) nval.push(arguments[2]);
     *                  if (arguments[3]) nval.push(arguments[3]);
     *                  if (arguments[4]) nval.push(arguments[4]);
     *                  return nval.join("-");
     *              });
     *          }
     *      }
     *  }
     * });
   * ```
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.animateTime=250]
     */
    this.config = {
      animateTime: 250
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * @member
     * @type {Array}
     */
    this.queue = [];
    this.openTimer = null;
    this.closeTimer = null;

    this.init();
  }

  /**
   * @method
   */
  init() {

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   * @return {AX6UIFormatter}
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * @method
   * @param {Object} opts
   * @param {Element} opts.target
   * @return {AX6UIFormatter}
   */
  bind(opts) {
    let formatterConfig = {},
        optIdx;

    // 사용자 포메터 체크
    this.customFormatter = AX6UIFormatter.getFormatter();

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, formatterConfig, this.config);
    if (opts) __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, formatterConfig, opts);
    opts = formatterConfig;

    if (!opts.target) {
      console.log(__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].getError("ax6formatter", "401", "bind"));
      return this;
    }
    opts.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(opts.target);
    if (!opts.$target.get(0)) {
      console.log(__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].getError("ax6formatter", "401", "can't found target element"));
      return this;
    }

    if (opts.$target.get(0).tagName == "INPUT") {
      opts.$input = opts.$target;
    } else {
      opts.$input = opts.$target.find('input[type="text"]');
      if (opts.$input.length > 1) {
        opts.$input.each(function () {
          opts.target = this;
          self.bind(opts);
        });
        return this;
      }
    }

    opts.$input = opts.$target.get(0).tagName == "INPUT" ? opts.$target : opts.$target.find('input[type="text"]');

    if (!opts.id) opts.id = opts.$input.data("ax6-formatter");

    if (!opts.id) {
      opts.id = 'ax6-formatter-' + __WEBPACK_IMPORTED_MODULE_1__AX6UICore__["a" /* default */].getInstanceId();
      opts.$input.data("ax6-formatter", opts.id);
    }
    optIdx = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].search(this.queue, function () {
      return this.id == opts.id;
    });

    if (optIdx === -1) {
      this.queue.push(opts);
      bindFormatterTarget.call(this, this.queue[this.queue.length - 1], this.queue.length - 1);
    } else {
      this.queue[optIdx] = opts;
      bindFormatterTarget.call(this, this.queue[optIdx], optIdx);
    }

    return this;
  }

  /**
   * @method
   * @return {AX6UIFormatter}
   */
  formatting() {
    let queIdx = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID);
    if (queIdx === -1) {
      let i = this.queue.length;
      while (i--) {
        formatterEvent.blur.call(this, this.queue[i], i, null, true);
      }
    } else {
      formatterEvent.blur.call(this, this.queue[queIdx], queIdx, null, true);
    }
    return this;
  }

  /**
   * @method
   * @param opts
   * @return {AX6UIFormatter}
   */
  unbind(opts) {
    let self = this;
    let optIdx;

    if (!opts.target) {
      console.log(__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].getError("ax6formatter", "401", "unbind"));
      return this;
    }
    opts.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(opts.target);

    if (opts.$target.get(0).tagName == "INPUT") {
      opts.$input = opts.$target;
    } else {
      opts.$input = opts.$target.find('input[type="text"]');
      if (opts.$input.length > 1) {
        opts.$input.each(function () {
          opts.target = this;
          self.unbind(opts);
        });
        return this;
      }
    }

    opts.$input = opts.$target.get(0).tagName == "INPUT" ? opts.$target : opts.$target.find('input[type="text"]');
    opts.id = opts.$input.data("ax6-formatter");

    if (opts.id) {
      optIdx = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].search(this.queue, function () {
        return this.id == opts.id;
      });

      unbindFormatterTarget.call(this, this.queue[optIdx]);
      this.queue.splice(optIdx, 1);
    }

    return this;
  }

  /**
   * @static
   * @param _formatter
   */
  static setFormatter(_formatter) {
    return formatter = Object.assign(formatter, _formatter);
  }

  /**
   * @static
   * @return {{}}
   */
  static getFormatter() {
    return formatter || {};
  }

  /**
   * @static
   * @return {{}}
   */
  static getCtrlKeys() {
    return __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */].ctrlKeys;
  }

  /**
   * @static
   * @return {{}}
   */
  static getNumKeys() {
    return __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter_AX6UIFormatter_formatter__["a" /* default */].numKeys;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIFormatter);

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);





/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

const frameTmpl = function (columnKeys) {
  return `
<div data-ax6ui-palette="">
<div data-ax6palette-container="root">
    <div data-ax6palette-container="colors"></div>
    <div data-ax6palette-container="controls"></div>
</div>
</div>
`;
};
const colorsTmpl = function (columnKeys) {
  return `
{{#colors}}
{{#list}}
<div data-ax6palette-color="{{label}}" data-ax6palette-color-index="{{@i}}">
    <div data-panel="color-preview" style="padding:{{preview.cellPadding}}px;width:{{preview.cellWidth}}px;">
        <div data-panel="color-box" style="width:{{preview.width}}px;height:{{preview.height}}px;"><div data-panel="color" style="background-color:{{value}};"></div></div>
    </div>
    <div data-panel="color-label" style="width:{{label.width}}px;">{{label}}</div>
    <div data-panel="color-slider">
        <div data-panel="color-track" style="height:{{slider.trackHeight}}px;background: linear-gradient(90deg, {{_color0value}}, {{_color1value}}, {{_color2value}}); ">
            <div data-panel="color-handle">
                <div data-panel="color-handle-after" style="width:{{slider.handleWidth}}px;height:{{slider.handleWidth}}px;left:{{slider.handleLeft}}px;top:{{slider.handleLeft}}px;"></div>
            </div>
        </div>
    </div>
</div>
{{/list}}
{{/colors}}
`;
};
const ENM = {
  "mousedown": __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].supportTouch ? "touchstart" : "mousedown",
  "mousemove": __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].supportTouch ? "touchmove" : "mousemove",
  "mouseup": __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].supportTouch ? "touchend" : "mouseup"
};
const onStateChanged = function (opts, that) {
  if (opts && opts.onStateChanged) {
    opts.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  that = null;
};
const getMousePosition = function (e) {
  let mouseObj,
      originalEvent = e.originalEvent ? e.originalEvent : e;
  mouseObj = 'changedTouches' in originalEvent && originalEvent.changedTouches ? originalEvent.changedTouches[0] : originalEvent;
  // clientX, Y 쓰면 스크롤에서 문제 발생
  return {
    clientX: mouseObj.pageX,
    clientY: mouseObj.pageY
  };
};
const bindHandle = function (item) {
  item.originalTrackWidth = item.$track.width();
  item.trackWidth = item.originalTrackWidth - this.config.colors.slider.handleWidth / 5;
  let handleLeft = amountToHandleLeft.call(this, item, item._amount);

  // handleLeft 가 범위를 벗어나면?
  if (handleLeft < 0 || handleLeft > item.trackWidth) {
    let amount;
    handleLeft = handleLeft < 0 ? 0 : handleLeft > item.trackWidth ? item.trackWidth : handleLeft;
    amount = handleLeftToAmount.call(this, item, handleLeft);
    updatePreviewColor.call(this, item, amountToColor.call(this, item, amount));
  }

  item.$handle.css({ left: handleLeft });
  item.$item.off(ENM["mousedown"]).on(ENM["mousedown"], '[data-panel="color-handle"]', e => {
    let mouseObj = getMousePosition(e);
    item._originalHandleClientX = mouseObj.clientX;
    item._originalHandleLeft = item.$handle.position().left;
    handleMoveEvent.on.call(this, item);
    __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e.originalEvent);
  }).off("click").on("click", '[data-panel="color-label"], [data-panel="color-preview"]', e => {
    if (this.onClick) {
      this.onClick.call(item, '#' + item._selectedColor.toUpperCase(), e);
    }
  }).on("click", '[data-panel="color-track"]', e => {
    if (e.target.getAttribute("data-panel") == "color-track") {
      let mouseObj = getMousePosition(e),
          newHandleLeft = mouseObj.clientX - item.$track.offset().left,
          amount = handleLeftToAmount(item, newHandleLeft);

      item.$handle.css({ left: newHandleLeft });
      updatePreviewColor.call(this, item, amountToColor.call(this, item, amount), e);

      mouseObj = null;
      newHandleLeft = null;
      amount = null;
    }
  });
};
const updatePreviewColor = function (item, color, event) {
  item.$preview.css({ "background-color": '#' + color });
  item.$label.html('#' + color.toUpperCase());
  item._selectedColor = color;

  if (event && this.onUpdateColor) {
    this.onUpdateColor.call(item, '#' + item._selectedColor.toUpperCase());
  }
};
const amountToColor = function (item, amount) {
  const processor = {
    "black"(_color, _amount) {
      return _color.lighten(this.config.colors.slider.amount / 2).darken(_amount).getHexValue();
    },
    "white"(_color, _amount) {
      return _color.darken(this.config.colors.slider.amount / 2).darken(_amount).getHexValue();
    },
    "normal"(_color, _amount) {
      return _color.darken(_amount).getHexValue();
    }
  };

  if (item._uniqColor in processor) {
    return processor[item._uniqColor].call(this, item._color, amount);
  } else {
    return processor["normal"].call(this, item._color, amount);
  }
};
const colorToAmount = function (item, color) {
  /// todo : 색상에 가까운 색 표현.
  const processor = {
    "black"(_color, _diffColor) {
      let color1 = _color.lighten(this.config.colors.slider.amount / 2);
      return (color1.getHsl().l - _diffColor.getHsl().l) * 100;
    },
    "white"(_color, _diffColor) {
      let color1 = _color.darken(this.config.colors.slider.amount / 2);
      return (color1.getHsl().l - _diffColor.getHsl().l) * 100;
    },
    "normal"(_color, _diffColor) {
      return (_color.getHsl().l - _diffColor.getHsl().l) * 100;
    }
  };

  if (item._uniqColor in processor) {
    return processor[item._uniqColor].call(this, item._color, color);
  } else {
    return processor["normal"].call(this, item._color, color);
  }
};
const handleLeftToAmount = function (item, handleLeft) {
  return this.config.colors.slider.amount * (handleLeft - item.trackWidth / 2) / (item.originalTrackWidth / 2);
};
const amountToHandleLeft = function (item, amount) {
  return amount * (item.originalTrackWidth / 2) / this.config.colors.slider.amount + item.trackWidth / 2;
};
const handleMoveEvent = {
  "on"(item) {
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).on(ENM["mousemove"] + ".ax6palette-" + this.instanceId, e => {
      let mouseObj = getMousePosition(e),
          da = mouseObj.clientX - item._originalHandleClientX,
          newHandleLeft = item._originalHandleLeft + da,
          amount;

      newHandleLeft = newHandleLeft < 0 ? 0 : newHandleLeft > item.trackWidth ? item.trackWidth : newHandleLeft;
      item.$handle.css({ left: newHandleLeft });
      amount = handleLeftToAmount.call(this, item, newHandleLeft);

      updatePreviewColor.call(this, item, amountToColor.call(this, item, amount), e);

      mouseObj = null;
      da = null;
    }).on(ENM["mouseup"] + ".ax6palette-" + this.instanceId, e => {
      handleMoveEvent.off.call(this);
      __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
    }).on("mouseleave.ax6palette-" + this.instanceId, e => {
      handleMoveEvent.off.call(this);
      __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);
  },
  "off"() {
    this.xvar.resizerLived = false;

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off(ENM["mousemove"] + ".ax6palette-" + this.instanceId).off(ENM["mouseup"] + ".ax6palette-" + this.instanceId).off("mouseleave.ax6palette-" + this.instanceId);

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');
  }
};
const repaint = function (selectedColor) {
  let box = {
    width: this.$target.innerWidth(),
    height: this.$target.innerHeight()
  };

  // 패널 프레임 초기화
  this.$target.html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(frameTmpl.call(this), {}, this.config.columnKeys));

  // 각 패널들을 캐싱~
  this.$ = {
    "root": this.$target.find('[data-ax6palette-container="root"]'),
    "colors": this.$target.find('[data-ax6palette-container="colors"]'),
    "controls": this.$target.find('[data-ax6palette-container="controls"]')
  };

  // todo : controls 나중에 고민하여 구현
  // this.$["controls"].css({height: this.config.controls.height});

  /// colors.list 색상 범위 결정 / 초기화
  this.config.colors.list.forEach(c => {
    c._color = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].color(c.value);
    c._selectedColor = c._color.getHexValue();
    if (c._color.r == 0 && c._color.g == 0 && c._color.b == 0) {
      c._amount = this.config.colors.slider.amount;
      c._uniqColor = "black";
      c._color0value = "#" + c._color.lighten(this.config.colors.slider.amount).getHexValue();
      c._color1value = "#" + c._color.lighten(this.config.colors.slider.amount / 2).getHexValue();
      c._color2value = "#" + c._color.getHexValue();
    } else if (c._color.r == 255 && c._color.g == 255 && c._color.b == 255) {
      c._amount = -this.config.colors.slider.amount;
      c._uniqColor = "white";
      c._color0value = "#" + c._color.getHexValue();
      c._color1value = "#" + c._color.darken(this.config.colors.slider.amount / 2).getHexValue();
      c._color2value = "#" + c._color.darken(this.config.colors.slider.amount).getHexValue();
    } else {
      c._amount = 0;
      c._color0value = "#" + c._color.lighten(this.config.colors.slider.amount).getHexValue();
      c._color1value = "#" + c._color.getHexValue();
      c._color2value = "#" + c._color.darken(this.config.colors.slider.amount).getHexValue();
    }
  });

  // 색생조절 핸들의 위치 조정this.config.colors.list[minDiffColorIndex]
  this.config.colors.slider.handleLeft = -this.config.colors.slider.handleWidth / 2;
  this.config.colors.slider.handleTop = -this.config.colors.slider.handleHeight / 2;

  // 팔렛트 컬러 패널 초기화
  this.$["colors"].html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(colorsTmpl.call(this), this.config, this.config.columnKeys));

  this.$["colors"].find('[data-ax6palette-color-index]').each((elIdx, el) => {
    let idx = el.getAttribute("data-ax6palette-color-index");
    let color = this.config.colors.list[idx];
    let item = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, color);
    item._index = idx;
    item.$item = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(el);
    item.$preview = item.$item.find('[data-panel="color"]');
    item.$label = item.$item.find('[data-panel="color-label"]');
    item.$track = item.$item.find('[data-panel="color-track"]');
    item.$handle = item.$item.find('[data-panel="color-handle"]');
    bindHandle.call(this, item);
    /////
    this.colors.push(item);
  });

  if (selectedColor) {
    this.setSelectedColor(selectedColor);
  }
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIPalette extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore__["a" /* default */] {
  /**
   * @constructor
   * @param config
   * @param [config.theme]
   * @param config.target
   * @param [config.animateTime]
   * @param {String} [config.selectedColor]
   * @param {Object} [config.colors]
   * @param {Object} [config.colors.preview]
   * @param {Number} [config.colors.preview.width=24]
   * @param {Number} [config.colors.preview.height=24]
   * @param {Number} [config.colors.preview.cellWidth=30]
   * @param {Object} [config.colors.label]
   * @param {Number} [config.colors.label.width=80]
   * @param {Object} [config.colors.slider]
   * @param {Number} [config.colors.slider.trackHeight=8]
   * @param {Number} [config.colors.slider.amount=32]
   * @param {Number} [config.colors.slider.handleWidth=18]
   * @param {Number} [config.colors.slider.handleHeight=18]
   * @param {Object[]} [config.colors.list=[red,orange,yellow,green,blue,purple,black,white]]
   * @param {String} config.colors.list[].label
   * @param {String} config.colors.list[].value
   * @param {Object} [config.controls]
   * @param {Number} [config.controls.height=0]
   * @param [config.onStateChanged]
   * @param [config.onClick]
   * @param [config.onUpdateColor]
   * @example
   * ```js
   * myPalette = new Palette({
     *  target: $('[data-ax5palette="01"]'),
     *  onClick: function (hexColor) {
     *      alert(hexColor);
     *  }
     * });
   *
   * myPalette = new Palette({
     *  target: $('[data-ax5palette="01"]'),
     *  colors: {
     *      list: [
     *          {label: "red", value: "#ff0000"},
     *          {label: "orange", value: "#ff9802"},
     *          {label: "yellow", value: "#ffff00"},
     *          {label: "skyblue", value: "#84e4ff"},
     *          {label: "white", value: "#ffffff"}
     *      ]
     *  }
     *  onClick: function (hexColor) {
     *
     *  }
     * });
   * ```
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param config.target
     * @param [config.theme=default]
     * @param [config.clickEventName="click"]
     * @param [config.animateTime=100]
     * @param [config.colors]
     * @param [config.colors.preview]
     * @param [config.colors.preview.width=24]
     * @param [config.colors.preview,height=24]
     * @param [config.colors.preview.cellWidth=30]
     * @param [config.colors.label]
     * @param [config.colors.label.width=80]
     * @param [config.colors.slider]
     * @param [config.colors.slider.trackHeight=8]
     * @param [config.colors.slider.amount=32]
     * @param [config.colors.slider.handleWidth=18]
     * @param [config.colors.slider.handleHeight=18]
     * @param [config.colors.list]
     * @param [config.colors.list[].label]
     * @param [config.colors.list[].value]
     * @param [config.controls]
     * @param [config.controls.height=0]
     * @param [config.columnKeys={}]
     * @param [config.onStateChanged]
     * @param [config.onClick]
     */
    this.config = {
      clickEventName: "click",
      theme: 'default',
      animateTime: 100,
      colors: {
        preview: {
          width: 24,
          height: 24,
          cellWidth: 30
        },
        label: {
          width: 80
        },
        slider: {
          trackHeight: 8,
          amount: 32,
          handleWidth: 18,
          handleHeight: 18
        },
        list: [{ label: "red", value: "#ff0000" }, { label: "orange", value: "#ff9802" }, { label: "yellow", value: "#ffff00" }, { label: "green", value: "#00ff36" }, { label: "blue", value: "#0000ff" }, { label: "purple", value: "#ba00ff" },
        //{label: "skyblue", value: "#84e4ff"},
        //{label: "pink", value: "#ff77c4"},
        { label: "black", value: "#000000" }, { label: "white", value: "#ffffff" }]
      },
      controls: {
        height: 0
      },
      columnKeys: {}
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * @member {Object}
     */
    this.$target = null;
    /**
     * @member {Object}
     */
    this.xvar = {};
    /**
     * @member {Array}
     */
    this.colors = [];

    this.init();
  }

  /**
   * @method
   * @param config
   * @param [config.theme]
   * @param config.target
   * @param [config.animateTime]
   * @param {String} [config.selectedColor]
   * @param {Object} [config.colors]
   * @param {Object} [config.colors.preview]
   * @param {Number} [config.colors.preview.width=24]
   * @param {Number} [config.colors.preview.height=24]
   * @param {Number} [config.colors.preview.cellWidth=30]
   * @param {Object} [config.colors.label]
   * @param {Number} [config.colors.label.width=80]
   * @param {Object} [config.colors.slider]
   * @param {Number} [config.colors.slider.trackHeight=8]
   * @param {Number} [config.colors.slider.amount=32]
   * @param {Number} [config.colors.slider.handleWidth=18]
   * @param {Number} [config.colors.slider.handleHeight=18]
   * @param {Object[]} [config.colors.list=[red,orange,yellow,green,blue,purple,black,white]]
   * @param {String} config.colors.list[].label
   * @param {String} config.colors.list[].value
   * @param {Object} [config.controls]
   * @param {Number} [config.controls.height=0]
   * @param [config.onStateChanged]
   * @param [config.onClick]
   * @param [config.onUpdateColor]
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;
    this.onClick = this.config.onClick;
    delete this.config.onClick;
    this.onUpdateColor = this.config.onUpdateColor;
    delete this.config.onUpdateColor;

    if (!this.config.target) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6palette", "401", "setConfig"));
    }
    this.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.target);

    setTimeout(() => {
      repaint.call(this, (this.config.selectedColor || "").trim()); // 팔렛트 그리기.
    });

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * @method
   * @return {AX6UIPalette}
   */
  repaint() {
    repaint.call(this);
    return this;
  }

  /**
   * @method
   * @param selectedColor
   * @return {AX6UIPalette}
   */
  setSelectedColor(selectedColor) {
    let sColor = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].color(selectedColor.trim());
    // 지정된 색이 가장 가까운 파렛 검색
    let minDiffColor = 255 * 3,
        minDiffColorIndex = -1;

    this.colors.forEach(function (c, cidx) {
      let c1hsl = c._color.getHsl(),
          c2hsl = sColor.getHsl();
      let diffColor = Math.abs(c1hsl.h - c2hsl.h) + Math.abs(c1hsl.s - c2hsl.s) + Math.abs(c1hsl.l - c2hsl.l);
      if (diffColor < minDiffColor) {
        minDiffColor = diffColor;
        minDiffColorIndex = cidx;
      }
    });

    if (minDiffColorIndex > -1) {
      let amount,
          handleLeft,
          item = this.colors[minDiffColorIndex];

      item._amount = colorToAmount.call(this, item, sColor);
      handleLeft = amountToHandleLeft.call(this, item, item._amount);
      //handleLeft = handleLeft < 0 ? 0 : handleLeft > item.trackWidth ? item.trackWidth : handleLeft;
      item.$handle.css({ left: handleLeft });

      amount = handleLeftToAmount.call(this, item, handleLeft);
      updatePreviewColor.call(this, item, amountToColor.call(this, item, amount));
    }

    return this;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIPalette);

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);





/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let tmpl = {
  frame(columnKeys) {
    return `
<div data-ax6ui-calendar="" class="ax6-ui-calendar {{theme}}" data-calendar-els="root" onselectstart="return false;">
    {{#control}}
    <div class="calendar-control" data-calendar-els="control" style="{{controlCSS}}">
        <a class="date-move-left" data-calendar-move="left" style="{{controlButtonCSS}}">{{{left}}}</a>
        <div class="date-display" data-calendar-els="control-display" style="{{controlCSS}}"></div>
        <a class="date-move-right" data-calendar-move="right" style="{{controlButtonCSS}}">{{{right}}}</a>
    </div>
    {{/control}}
    <div class="calendar-body" data-calendar-els="body"></div>
</div>
`;
  },
  day(columnKeys) {
    return `
<table data-calendar-table="day" cellpadding="0" cellspacing="0" style="width:100%;">
    <thead>
        <tr>
        {{#weekNames}}
            <td class="calendar-col-{{col}}" style="height: {{colHeadHeight}}">
            {{label}}
            </td>
        {{/weekNames}}
        </tr>
    </thead>
    <tbody>
        <tr>
            {{#list}}    
            {{#isStartOfWeek}}
            {{^@first}}
        </tr>
        <tr>
            {{/@first}}
            {{/isStartOfWeek}}
            <td class="calendar-col-{{col}}" style="{{itemStyles}}">
                <a class="calendar-item-day {{addClass}}" data-calendar-item-date="{{thisDate}}">
                    <span class="addon addon-header"></span>
                    {{thisDataLabel}}
                    <span class="addon addon-footer"></span>
                </a>
            </td>
            {{/list}}
        </tr>
    </tbody>
</table>
`;
  },
  month(columnKeys) {
    return `
<table data-calendar-table="month" cellpadding="0" cellspacing="0" style="width:100%;">
    <thead>
        <tr>
            <td class="calendar-col-0" colspan="3" style="height: {{colHeadHeight}}">
            {{colHeadLabel}}
            </td>
        </tr>
    </thead>
    <tbody>
        <tr>
            {{#list}}    
            {{#isStartOfRow}}
            {{^@first}}
        </tr>
        <tr>
            {{/@first}}
            {{/isStartOfRow}}
            <td class="calendar-col-{{col}}" style="{{itemStyles}}">
                <a class="calendar-item-month {{addClass}}" data-calendar-item-month="{{thisMonth}}">
                    <span class="addon"></span>
                    {{thisMonthLabel}}
                    <span class="lunar"></span>
                </a>
            </td>
            {{/list}}
        </tr>
    </tbody>
</table>
`;
  },
  year(columnKeys) {
    return `
<table data-calendar-table="year" cellpadding="0" cellspacing="0" style="width:100%;">
    <thead>
        <tr>
            <td class="calendar-col-0" colspan="4" style="height: {{colHeadHeight}}">
            {{colHeadLabel}}
            </td>
        </tr>
    </thead>
    <tbody>
        <tr>
            {{#list}}    
            {{#isStartOfRow}}
            {{^@first}}
        </tr>
        <tr>
            {{/@first}}
            {{/isStartOfRow}}
            <td class="calendar-col-{{col}}" style="{{itemStyles}}">
                <a class="calendar-item-year {{addClass}}" data-calendar-item-year="{{thisYear}}">
                    <span class="addon"></span>
                    {{thisYearLabel}}
                    <span class="lunar"></span>
                </a>
            </td>
            {{/list}}
        </tr>
    </tbody>
</table>
`;
  }
};

const onStateChanged = function (opts, that) {
  if (opts && opts.onStateChanged) {
    opts.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  that = null;
};
const getFrame = function () {
  let data = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, {
    controlCSS: {},
    controlButtonCSS: {}
  });

  data.controlButtonCSS["height"] = data.controlCSS["height"] = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.controlHeight);
  data.controlButtonCSS["line-height"] = data.controlCSS["line-height"] = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.controlHeight);
  data.controlButtonCSS["width"] = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.controlHeight);

  data.controlCSS = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].css(data.controlCSS);
  data.controlButtonCSS = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].css(data.controlButtonCSS);

  try {
    return __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.frame.call(this), data);
  } finally {
    data = null;
  }
};
const setDisplay = function () {
  let myDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate),
      yy = "",
      mm = "",
      yy1,
      yy2;

  if (this.config.control) {
    if (this.config.mode == "day" || this.config.mode == "d") {
      yy = this.config.control.yearTmpl ? this.config.control.yearTmpl.replace('%s', myDate.getFullYear()) : myDate.getFullYear();
      mm = this.config.control.monthTmpl ? this.config.control.monthTmpl.replace('%s', this.config.lang.months[myDate.getMonth()]) : this.config.lang.months[myDate.getMonth()];

      this.$["control-display"].html((() => {
        if (this.config.control.yearFirst) {
          return '<span data-calendar-display="year">' + yy + '</span>' + '<span data-calendar-display="month">' + mm + '</span>';
        } else {
          return '<span data-calendar-display="month">' + mm + '</span>' + '<span data-calendar-display="year">' + yy + '</span>';
        }
      })());
    } else if (this.config.mode == "month" || this.config.mode == "m") {
      yy = this.config.control.yearTmpl ? this.config.control.yearTmpl.replace('%s', myDate.getFullYear()) : myDate.getFullYear();
      this.$["control-display"].html('<span data-calendar-display="year">' + yy + '</span>');
    } else if (this.config.mode == "year" || this.config.mode == "y") {
      yy1 = this.config.control.yearTmpl ? this.config.control.yearTmpl.replace('%s', myDate.getFullYear() - 10) : myDate.getFullYear() - 10;
      yy2 = this.config.control.yearTmpl ? this.config.control.yearTmpl.replace('%s', Number(myDate.getFullYear()) + 9) : Number(myDate.getFullYear()) + 9;
      this.$["control-display"].html(yy1 + ' ~ ' + yy2);
    }

    this.$["control-display"].off(this.config.clickEventName).on(this.config.clickEventName, '[data-calendar-display]', function (e) {
      let target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
        if (target.getAttribute("data-calendar-display")) {
          return true;
        }
      }),
          mode;
      if (target) {
        mode = target.getAttribute("data-calendar-display");
        this.changeMode(mode);
      }
      target = null;
      mode = null;
    }.bind(this));
  }

  myDate = null;
  yy = null;
  mm = null;
  yy1 = null;
  yy2 = null;
  return this;
};
const printDay = function (nowDate) {
  let dotDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(nowDate),
      monthStratDate = new Date(dotDate.getFullYear(), dotDate.getMonth(), 1, 12),
      _today = this.config.displayDate,
      tableStartDate = (() => {
    let day = monthStratDate.getDay();
    if (day == 0) day = 7;
    day -= this.config.startOfWeek;

    try {
      return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(monthStratDate, { add: { d: -day } });
    } finally {
      day = null;
    }
  })(),
      loopDate,
      thisMonth = dotDate.getMonth(),
      itemStyles = {},
      i,
      k,
      _k,
      frameWidth = this.$["body"].width(),
      frameHeight = Math.floor(frameWidth * (6 / 7)),
      // 1week = 7days, 1month = 6weeks
  data;

  if (this.config.dimensions.height) {
    frameHeight = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.height) - __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.colHeadHeight);
  }

  itemStyles['height'] = Math.floor(frameHeight / 6) - __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.itemPadding) * 2 + 'px';
  itemStyles['line-height'] = itemStyles['height'];
  itemStyles['padding'] = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.itemPadding);

  data = {
    weekNames: [].concat(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].weekNames),
    list: []
  };

  if (this.config.startOfWeek) {
    data.weekNames = data.weekNames.concat(data.weekNames.slice(0, this.config.startOfWeek)).splice(this.config.startOfWeek);
  }

  data.weekNames.forEach(n => {
    n.colHeadHeight = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.colHeadHeight);
  });

  loopDate = tableStartDate;
  i = 0;
  while (i < 6) {
    k = 0;
    while (k < 7) {
      _k = (7 + (k - this.config.startOfWeek)) % 7;
      let thisDate = '' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(loopDate, { "return": this.config.dateFormat }),
          _date = {
        'row': i,
        'col': k,
        isStartOfWeek: k == 0,
        thisDate: '' + thisDate,
        thisDataLabel: this.config.lang.dayTmpl.replace('%s', loopDate.getDate()),
        itemStyles: __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].css(itemStyles),
        addClass: (() => {
          let classNames = "";

          if (this.config.selectable) {
            if (this.selectableMap[thisDate]) {
              classNames += loopDate.getMonth() == thisMonth ? " live" : "";
            } else {
              classNames += " disable";
            }
          } else {
            if (loopDate.getMonth() == thisMonth) {
              if (thisDate == __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(_today, { "return": "yyyyMMdd" })) {
                classNames += " focus";
              } else {
                classNames += " live";
              }

              if (loopDate.getDay() == 0) {
                classNames += " sunday";
              }
              if (loopDate.getDay() == 6) {
                classNames += " saturday";
              }
            }
          }

          return classNames;
        })() + ' ' + (() => {
          return this.markerMap[thisDate] ? this.markerMap[thisDate].theme || this.config.defaultMarkerTheme : '';
        })() + ' ' + (() => {
          return this.selectionMap[thisDate] ? "selected-day" : '';
        })()
      };
      data.list.push(_date);

      k++;
      loopDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(loopDate, { add: { d: 1 } });

      thisDate = null;
      _date = null;
    }
    i++;
  }

  this.$["body"].html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.day.call(this), data)).off(this.config.clickEventName).on(this.config.clickEventName, '[data-calendar-item-date]', e => {
    e = e || window.event;
    onclick.call(this, e, 'date');
    __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
  });

  this.printedDay = {
    start: tableStartDate, end: loopDate
  };

  onStateChanged.call(this, null, {
    self: this,
    action: "printDay",
    printedDay: this.printedDay
  });
  setDisplay.call(this);

  dotDate = null;
  monthStratDate = null;
  _today = null;
  tableStartDate = null;
  loopDate = null;
  thisMonth = null;
  itemStyles = null;
  i = null;
  k = null;
  frameWidth = null;
  frameHeight = null;
  data = null;
};
const printMonth = function (nowDate) {
  let dotDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(nowDate),
      nMonth = dotDate.getMonth(),
      itemStyles = {},
      i,
      k,
      m,
      tableStartMonth,
      frameWidth = this.$["body"].width(),
      frameHeight = Math.floor(frameWidth * (6 / 7)),
      data;

  if (this.config.dimensions.height) {
    frameHeight = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.height) - __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.colHeadHeight);
  }

  itemStyles['height'] = Math.floor(frameHeight / 4) - __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.itemPadding) * 2 + 'px';
  itemStyles['line-height'] = itemStyles['height'];
  itemStyles['padding'] = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.itemPadding);

  data = {
    colHeadHeight: __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.colHeadHeight),
    colHeadLabel: this.config.lang.monthHeading,
    list: []
  };

  tableStartMonth = 0;
  m = 0;
  i = 0;
  while (i < 4) {
    k = 0;
    while (k < 3) {
      let _month = {
        row: i,
        col: k,
        isStartOfRow: k == 0,
        thisMonth: dotDate.getFullYear() + '-' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].setDigit(m + 1, 2) + '-' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].setDigit(dotDate.getDate(), 2),
        thisMonthLabel: this.config.lang.months[m],
        itemStyles: __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].css(itemStyles),
        addClass: (() => {
          if (this.config.selectable) {
            return this.selectableMap[m] ? 'live' : 'disable';
          } else {
            return 'live';
          }
        })() + ' ' + (() => {
          return m == nMonth ? "focus" : "";
        })() + ' ' + (() => {
          return this.markerMap[m] ? this.markerMap[m].theme || this.config.defaultMarkerTheme : '';
        })()
      };
      data.list.push(_month);
      m++;
      k++;
      _month = null;
    }
    i++;
  }

  this.$["body"].html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.month.call(this), data)).off(this.config.clickEventName).on(this.config.clickEventName, '[data-calendar-item-month]', e => {
    e = e || window.event;
    onclick.call(this, e, 'month');
    __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
  });

  this.printedDay = {
    start: dotDate.getFullYear() + '-' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].setDigit(tableStartMonth + 1, 2),
    end: dotDate.getFullYear() + '-' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].setDigit(m, 2)
  };

  onStateChanged.call(this, null, {
    self: this,
    action: "printMonth",
    printedDay: this.printedDay
  });
  setDisplay.call(this);

  dotDate = null;
  nMonth = null;
  itemStyles = null;
  i = null;
  k = null;
  m = null;
  tableStartMonth = null;
  frameWidth = null;
  frameHeight = null;
  data = null;
};
const printYear = function (nowDate) {
  let dotDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(nowDate),
      nYear = dotDate.getFullYear(),
      itemStyles = {},
      i,
      k,
      y,
      tableStartYear,
      frameWidth = this.$["body"].width(),
      frameHeight = Math.floor(frameWidth * (6 / 7)),
      data;

  if (this.config.dimensions.height) {
    frameHeight = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.height) - __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.colHeadHeight);
  }

  itemStyles['height'] = Math.floor(frameHeight / 5) - __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.config.dimensions.itemPadding) * 2 + 'px';
  itemStyles['line-height'] = itemStyles['height'];
  itemStyles['padding'] = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.itemPadding);

  data = {
    colHeadHeight: __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(this.config.dimensions.colHeadHeight),
    colHeadLabel: this.config.lang.yearHeading,
    list: []
  };

  tableStartYear = nYear - 10;
  y = nYear - 10;
  i = 0;
  while (i < 5) {
    k = 0;
    while (k < 4) {
      let _year = {
        row: i,
        col: k,
        isStartOfRow: k == 0,
        thisYear: y + '-' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].setDigit(dotDate.getMonth() + 1, 2) + '-' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].setDigit(dotDate.getDate(), 2),
        thisYearLabel: this.config.lang.yearTmpl.replace('%s', y),
        itemStyles: __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].css(itemStyles),
        addClass: (() => {
          if (this.config.selectable) {
            return this.selectableMap[y] ? 'live' : 'disable';
          } else {
            return 'live';
          }
        })() + ' ' + (() => {
          return y == nYear ? "focus" : "";
        })() + ' ' + (() => {
          return this.selectableMap[y] ? this.selectableMap[y].theme || this.config.defaultMarkerTheme : '';
        })()
      };
      data.list.push(_year);
      y++;
      k++;
      _year = null;
    }
    i++;
  }

  this.$["body"].html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.year.call(this), data)).off(this.config.clickEventName).on(this.config.clickEventName, '[data-calendar-item-year]', e => {
    e = e || window.event;
    onclick.call(this, e, 'year');
    __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
  });

  this.printedDay = {
    start: tableStartYear, end: y - 1
  };

  onStateChanged.call(this, null, {
    self: this,
    action: "printYear",
    printedDay: this.printedDay
  });
  setDisplay.call(this);

  dotDate = null;
  nYear = null;
  itemStyles = null;
  i = null;
  k = null;
  y = null;
  tableStartYear = null;
  frameWidth = null;
  frameHeight = null;
  data = null;
};
const onclick = function (e, mode, target, value) {
  let removed, dt, selectable;

  mode = mode || "date";
  target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-calendar-item-" + mode)) {
      return true;
    }
  });
  if (target) {
    value = target.getAttribute("data-calendar-item-" + mode);

    dt = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(value, { "return": this.config.dateFormat });
    selectable = true;
    this.selectableCount = this.config.multipleSelect ? __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(this.config.multipleSelect) ? this.config.multipleSelect : 2 : 1;

    if (this.config.selectable) {
      if (!this.selectableMap[dt]) selectable = false;
    }

    if (mode == "date") {
      if (selectable) {

        if (this.selection.length >= this.selectableCount) {
          removed = this.selection.splice(0, this.selection.length - (this.selectableCount - 1));
          removed.forEach(d => {
            this.$["body"].find('[data-calendar-item-date="' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": this.config.dateFormat }) + '"]').removeClass("selected-day");
          });
        }

        __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(target).addClass("selected-day");
        this.selection.push(value);

        if (this.onClick) {
          this.onClick.call({
            self: this, date: value, target: this.target, dateElement: target
          });
        }
      }
    } else if (mode == "month") {
      if (this.config.selectMode == "month") {
        if (selectable) {
          if (this.selection.length >= this.selectableCount) {
            removed = this.selection.splice(0, this.selection.length - (this.selectableCount - 1));
            removed.forEach(d => {
              this.$["body"].find('[data-calendar-item-month="' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": 'yyyy-MM-dd' }) + '"]').removeClass("selected-month");
            });
          }

          __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(target).addClass("selected-month");
          this.selection.push(value);

          if (this.onClick) {
            this.onClick.call({
              self: this, date: value, target: this.target, dateElement: target
            });
          }
        }
      } else {
        this.changeMode("day", value);
      }
    } else if (mode == "year") {
      if (this.config.selectMode == "year") {
        if (selectable) {
          if (this.selection.length >= this.selectableCount) {
            removed = this.selection.splice(0, this.selection.length - (this.selectableCount - 1));
            removed.forEach(d => {
              this.$["body"].find('[data-calendar-item-year="' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": 'yyyy-MM-dd' }) + '"]').removeClass("selected-year");
            });
          }

          __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(target).addClass("selected-year");
          this.selection.push(value);

          if (this.onClick) {
            this.onClick.call({
              self: this, date: value, target: this.target, dateElement: target
            });
          }
        }
      } else {
        this.changeMode("month", value);
      }
    }
  }

  mode = null;
  target = null;
  value = null;
  removed = null;
  dt = null;
  selectable = null;
};
const move = function (e, target, value) {
  target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-calendar-move")) {
      return true;
    }
  });
  if (target) {
    value = target.getAttribute("data-calendar-move");
    if (this.config.mode == "day" || this.config.mode == "d") {
      if (value == "left") {
        this.config.displayDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate, { add: { m: -1 } });
      } else {
        this.config.displayDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate, { add: { m: 1 } });
      }
      printDay.call(this, this.config.displayDate);
    } else if (this.config.mode == "month" || this.config.mode == "m") {
      if (value == "left") {
        this.config.displayDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate, { add: { y: -1 } });
      } else {
        this.config.displayDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate, { add: { y: 1 } });
      }
      printMonth.call(this, this.config.displayDate);
    } else if (this.config.mode == "year" || this.config.mode == "y") {
      if (value == "left") {
        this.config.displayDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate, { add: { y: -10 } });
      } else {
        this.config.displayDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate, { add: { y: 10 } });
      }
      printYear.call(this, this.config.displayDate);
    }
  }

  target = null;
  value = null;
};
const applyMarkerMap = function () {
  setTimeout(function () {
    if (this.config.mode === "day" || this.config.mode === "d") {
      for (let k in this.markerMap) {
        this.$["body"].find('[data-calendar-item-date="' + k + '"]').addClass(this.markerMap[k].theme || this.config.defaultMarkerTheme);
      }
    }
  }.bind(this));
};
const applySelectionMap = function () {
  setTimeout(function () {
    for (let k in this.selectionMap) {
      this.$["body"].find('[data-calendar-item-date="' + k + '"]').addClass("selected-day");
    }
  }.bind(this));
};
const applyPeriodMap = function () {
  setTimeout(function () {
    if (this.config.mode === "day" || this.config.mode === "d") {
      for (let k in this.periodMap) {
        if (this.periodMap[k].label) {
          this.$["body"].find('[data-calendar-item-date="' + k + '"]').find(".addon-footer").html(this.periodMap[k].label);
        }
        this.$["body"].find('[data-calendar-item-date="' + k + '"]').addClass(this.periodMap[k].theme);
      }
    }
  }.bind(this));
};
const clearPeriodMap = function () {
  if (this.config.mode === "day" || this.config.mode === "d") {
    for (let k in this.periodMap) {
      this.$["body"].find('[data-calendar-item-date="' + k + '"]').find(".addon-footer").empty();
      this.$["body"].find('[data-calendar-item-date="' + k + '"]').removeClass(this.periodMap[k].theme);
    }
  }
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UICalendar extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore__["a" /* default */] {
  /**
   * @constructor
   * @param {object} config
   * @param {string} [config.theme = 'default']
   * @param {!(object|string)} [config.target]
   * @param {number} [config.animateTime = 100]
   * @param {function} [config.onStateChanged]
   * @param {function} [config.onClick]
   * @param [config.content]
   * @example
   * ```js
   * var myCalendar = new AX6UICalendar();
   * ```
   */
  constructor(config) {
    super();

    this.config = {
      clickEventName: "click",
      theme: 'default',
      startOfWeek: 0,
      mode: 'day', // day|month|year,
      dateFormat: 'yyyy-MM-dd',
      displayDate: new Date(),
      animateTime: 100,
      dimensions: {
        controlHeight: '40',
        controlButtonWidth: '40',
        colHeadHeight: '30',
        itemPadding: 2
      },
      lang: {
        yearHeading: "Choose the year",
        monthHeading: "Choose the month",
        yearTmpl: "%s",
        months: __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].months || ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'],
        dayTmpl: "%s"
      },
      multipleSelect: false,
      selectMode: 'day',
      defaultMarkerTheme: 'holiday',
      defaultPeriodTheme: 'period'
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    this.$target = null;
    this.selection = [];
    this.selectionMap = {};
    this.selectableMap = {};
    this.markerMap = {};
    this.printedDay = {
      start: "", end: ""
    };
    this.selectableCount = 1;

    this.init();
  }

  /**
   * @method AX6UICalendar.init
   * @example
   * ```js
   * myCalendar.init();
   * ```
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;
    this.onClick = this.config.onClick;
    delete this.config.onClick;

    if (!this.config.target) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6calendar", "401", "setConfig"));
    }
    this.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.target);
    this.config.displayDate = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(this.config.displayDate);

    this.$target.html(getFrame.call(this));

    // 부속수집
    this.$ = {
      "root": this.$target.find('[data-calendar-els="root"]'),
      "control": this.$target.find('[data-calendar-els="control"]'),
      "control-display": this.$target.find('[data-calendar-els="control-display"]'),
      "body": this.$target.find('[data-calendar-els="body"]')
    };

    if (this.config.control) {
      this.$["root"].on(this.config.clickEventName, '[data-calendar-move]', e => {
        move.call(this, e || window.event);
      });
    }

    // collect selectableMap
    if (this.config.selection) {
      this.setSelection(this.config.selection, false);
    }
    // collect selectableMap
    if (this.config.selectable) {
      this.setSelectable(this.config.selectable, false);
    }
    // collect markerMap
    if (this.config.marker) {
      this.setMarker(this.config.marker, false);
    }

    setTimeout(function () {
      if (this.config.mode === "day" || this.config.mode === "d") {
        printDay.call(this, this.config.displayDate);
      } else if (this.config.mode === "month" || this.config.mode === "m") {
        printMonth.call(this, this.config.displayDate);
      } else if (this.config.mode === "year" || this.config.mode === "y") {
        printYear.call(this, this.config.displayDate);
      }
    }.bind(this));

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method AX6UICalendar.initOnce
   * @example
   * ```js
   * myCalendar.initOnce();
   * ```
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * Outputs to the screen in the output mode defined in the Calendar. If you pass an argument, you can change the output mode and output reference date.
   * 캘린더의 모드를 변경합니다.
   * @method AX6UICalendar.changeMode
   * @param {string} mode - day, d, month, m , year, y
   * @param {(Date|string)} [changeDate]
   * @return {AX6UICalendar}
   * @example
   * ```js
   * myCalendar.changeMode("y");
   * myCalendar.changeMode("year");
   * myCalendar.changeMode("month");
   * myCalendar.changeMode("m");
   * myCalendar.changeMode("day");
   * myCalendar.changeMode("d");
   * ```
   */
  changeMode(mode, changeDate) {
    if (typeof changeDate != "undefined") this.config.displayDate = changeDate;
    if (mode) this.config.mode = mode;

    this.$["body"].removeClass("fadein").addClass("fadeout");

    setTimeout(() => {
      if (this.config.mode == "day" || this.config.mode == "d") {
        printDay.call(this, this.config.displayDate);
      } else if (this.config.mode == "month" || this.config.mode == "m") {
        printMonth.call(this, this.config.displayDate);
      } else if (this.config.mode == "year" || this.config.mode == "y") {
        printYear.call(this, this.config.displayDate);
      }
      this.$["body"].removeClass("fadeout").addClass("fadein");
    }, this.config.animateTime);

    return this;
  }

  /**
   * Changes to state a date is selected, which is included in the selection.
   * 캘린더에 해당일자를 선택된 상태로 설정합니다.
   * @method AX6UICalendar.setSelection
   * @param {Array} selection
   * @param {boolean} [isPrint]
   * @return {AX6UICalendar}
   * @example
   * ```js
   * myCalendar.setSelection([new Date()]);
   * ```
   */
  setSelection(selection, isPrint) {
    this.selectionMap = {};
    let result = {};
    const processor = {
      'arr': function (v, map, count) {
        map = {};
        if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(v)) return map;
        this.selection = v = v.splice(0, count);
        v.forEach(n => {
          if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDate(n)) n = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n, { 'return': this.config.dateFormat });
          map[n] = true;
        });
        return map;
      }
    };

    this.selectableCount = this.config.multipleSelect ? __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(this.config.multipleSelect) ? this.config.multipleSelect : 2 : 1;

    if (this.config.selection = selection) {
      if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(selection)) {
        result = processor.arr.call(this, selection, {}, this.selectableCount);
      } else {
        return this;
      }
    }

    this.selectionMap = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, result);
    // 변경내용 적용하여 출력

    if (isPrint !== false) applySelectionMap.call(this);

    result = null;

    return this;
  }

  /**
   * 캘린더에서 선택된 일자를 반환합니다.
   * @method AX6UICalendar.getSelection
   * @return {Array}
   * @example
   * ```js
   * myCalendar.getSelection();
   * ```
   */
  getSelection() {
    return this.selection;
  }

  /**
   * Set the date / year / month that can be selected from the Calendar. selectable is, Array and Object({from: '', to: ''}) is made up of.
   * 캘린더에 해당일자를 선택할 수 있는 상태로 설정합니다.
   * @method AX6UICalendar.setSelectable
   * @param {Array} selectable
   * @param {boolean} [isPrint]
   * @return {AX6UICalendar}
   * @example
   * ```js
   * myCalendar.setSelectable(['2016-01-01', ...]);
   * myCalendar.setSelectable([new Date(), ...]);
   * myCalendar.setSelectable({ range: [{from: '2016-01-01', to: '2016-01-10'}] });
   * myCalendar.setSelectable({ range: [{from: new Date(), to: new Date()}] });
   * myCalendar.setSelectable({ '2016-01-01': true, '2016-01-02': true });
   * ```
   */
  setSelectable(selectable, isPrint) {
    this.selectableMap = {};
    let key,
        result = {};
    const processor = {
      'arr': function (v, map) {
        map = {};
        if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(v)) return map;
        v.forEach(n => {
          if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDate(n)) n = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n, { 'return': this.config.dateFormat });
          map[n] = true;
        });
        return map;
      },
      'obj': function (v, map) {
        map = {};
        if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(v)) return map;
        if (v.range) return map;
        for (let k in v) {
          map[k] = v[k];
        }
        return map;
      },
      'range': function (v, map) {
        map = {};
        if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(v)) return map;
        if (!v.range) return map;

        v.range.forEach(n => {
          if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDateFormat(n.from) && __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDateFormat(n.to)) {
            for (let d = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.from); d <= __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.to); d.setDate(d.getDate() + 1)) {
              map[__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": this.config.dateFormat })] = true;
            }
          } else {
            for (let i = n.from; i <= n.to; i++) {
              map[i] = true;
            }
          }
        });

        return map;
      }
    };

    if (this.config.selectable = selectable) {
      if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(selectable)) {
        result = processor.arr.call(this, selectable);
      } else {
        for (key in processor) {
          if (selectable[key]) {
            result = processor[key].call(this, selectable);
            break;
          }
        }
        if (Object.keys(result).length === 0) {
          result = processor.obj.call(this, selectable);
        }
      }
    }

    this.selectableMap = result;
    // 변경내용 적용하여 출력
    if (isPrint !== false) this.changeMode();

    return this;
  }

  /**
   * 캘린더에 휴일을 표시합니다.
   * @method AX6UICalendar.marker
   * @param {Object} marker
   * @param {boolean} [isApply]
   * @return {AX6UICalendar}
   * @example
   * ```js
   * myCalendar.setMarker({
     * '2016-02-07': {theme: 'holiday', label: '설날'},
     * '2016-02-08': {theme: 'holiday', label: '설날'},
     * '2016-02-09': {theme: 'holiday', label: '설날'},
     * '2016-02-10': {theme: 'holiday', label: '대체휴일'}
     *  });
   * ```
   */
  setMarker(marker, isApply) {
    this.markerMap = {};
    let key,
        result = {};
    const processor = {
      'obj': function (v, map) {
        map = {};
        if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(v)) return map;
        if (v.range) return map;
        for (let k in v) {
          map[k] = v[k];
        }

        v = null;
        return map;
      },
      'range': function (v, map) {
        map = {};
        if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(v)) return map;
        if (!v.range) return map;

        v.range.forEach(n => {
          if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDateFormat(n.from) && __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDateFormat(n.to)) {
            for (let d = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.from); d <= __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.to); d.setDate(d.getDate() + 1)) {
              map[__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": this.config.dateFormat })] = { theme: n.theme, label: n.label };
            }
          } else {
            for (let i = n.from; i <= n.to; i++) {
              map[i] = { theme: n.theme, label: n.label };
            }
          }
        });

        v = null;
        return map;
      }
    };

    if (this.config.marker = marker) {
      for (key in processor) {
        if (marker[key]) {
          result = processor[key].call(this, marker);
          break;
        }
      }
      if (Object.keys(result).length === 0) {
        result = processor.obj.call(this, marker);
      }
    }

    this.markerMap = result;
    // 변경내용 적용하여 출력
    if (isApply !== false) applyMarkerMap.call(this);
    return this;
  }

  /**
   * @method AX6UICalendar.setPeriod
   * @param {Object} period
   * @param {boolean} [isApply]
   * @return {AX6UICalendar}
   * @example
   * ```js
   * myCalendar.setPeriod({
     *  range: [
     *      {from: '2016-07-05', to: '2016-07-09', fromLabel: '시작', toLabel: '종료'},
     *      {from: '2016-07-11', to: '2016-07-15', fromLabel: '시작', toLabel: '종료'}
     *  ]
     * });
   * ```
   */
  setPeriod(period, isApply) {
    let key,
        result = {};
    const processor = {
      'range': function (v, map) {
        map = {};
        if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(v)) return map;
        if (!v.range) return map;

        v.range.forEach(n => {
          if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDateFormat(n.from) && __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isDateFormat(n.to)) {
            for (let d = new Date(__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.from)); d <= __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.to); d.setDate(d.getDate() + 1)) {
              if (d.getTime() == __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.from).getTime()) {
                map[__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": this.config.dateFormat })] = {
                  theme: n.theme || this.config.defaultPeriodTheme,
                  label: n.fromLabel
                };
              } else if (d.getTime() == __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(n.to).getTime()) {
                map[__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": this.config.dateFormat })] = {
                  theme: n.theme || this.config.defaultPeriodTheme,
                  label: n.toLabel
                };
              } else {
                map[__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(d, { "return": this.config.dateFormat })] = { theme: n.theme || this.config.defaultPeriodTheme };
              }
            }
          }
        });

        v = null;
        return map;
      }
    };

    // 변경내용 적용하여 출력
    if (isApply !== false) {
      clearPeriodMap.call(this);
    }

    if (this.config.period = period) {
      result = processor.range.call(this, period);
    }

    this.periodMap = result;

    // 변경내용 적용하여 출력
    if (isApply !== false) {
      applyPeriodMap.call(this);
    }
    return this;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UICalendar);

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_header__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__ = __webpack_require__(6);







let moveout_timer = new Date().getTime();

const convertScrollPosition = {
  "vertical": function (css, _var) {
    let _content_height = _var._content_height - _var._panel_height,
        _scroller_height = _var._vertical_scroller_height - _var.verticalScrollBarHeight,
        top = _content_height * css.top / _scroller_height;

    if (top < 0) top = 0;else if (_content_height < top) {
      top = _content_height;
    }
    return {
      top: -top
    };
  },
  "horizontal": function (css, _var) {
    let _content_width = _var._content_width - _var._panel_width,
        _scroller_width = _var._horizontal_scroller_width - _var.horizontalScrollBarWidth,
        left = _content_width * css.left / _scroller_width;

    if (left < 0) left = 0;else if (_content_width < left) {
      left = _content_width;
    }
    return {
      left: -left
    };
  }
};

const convertScrollBarPosition = {
  "vertical": function (_top, _var) {

    let self = this,
        type = "vertical",
        _content_height = _var._content_height - _var._panel_height,
        _scroller_height = _var._vertical_scroller_height - _var.verticalScrollBarHeight,
        top = _scroller_height * _top / _content_height,
        scrollPositon;

    if (-top > _scroller_height) {
      top = -_scroller_height;

      scrollPositon = convertScrollPosition[type].call(this, { top: -top }, {
        _content_width: _var._content_width,
        _content_height: _var._content_height,
        _panel_width: _var._panel_width,
        _panel_height: _var._panel_height,
        _horizontal_scroller_width: _var._horizontal_scroller_width,
        _vertical_scroller_height: _var._vertical_scroller_height,
        verticalScrollBarHeight: _var.verticalScrollBarHeight,
        horizontalScrollBarWidth: _var.horizontalScrollBarWidth
      });

      __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__["a" /* default */].scrollTo.call(self, scrollPositon);
    }

    return -top;
  },
  "horizontal": function (_left, _var) {
    let self = this,
        type = "horizontal",
        _content_width = _var._content_width - _var._panel_width,
        _scroller_width = _var._horizontal_scroller_width - _var.horizontalScrollBarWidth,
        left = _scroller_width * _left / _content_width,
        scrollPositon;

    if (-left > _scroller_width) {
      left = -_scroller_width;
      scrollPositon = convertScrollPosition[type].call(this, { left: -left }, {
        _content_width: _var._content_width,
        _content_height: _var._content_height,
        _panel_width: _var._panel_width,
        _panel_height: _var._panel_height,
        _horizontal_scroller_width: _var._horizontal_scroller_width,
        _vertical_scroller_height: _var._vertical_scroller_height,
        verticalScrollBarHeight: _var.verticalScrollBarHeight,
        horizontalScrollBarWidth: _var.horizontalScrollBarWidth
      });

      __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_header__["a" /* default */].scrollTo.call(self, scrollPositon);
      __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__["a" /* default */].scrollTo.call(self, scrollPositon);
    }

    return -left;
  }
};

const scrollBarMover = {
  "click": function (track, bar, type, e) {

    // 마우스 무브 완료 타임과 클릭타임 차이가 20 보다 작으면 클릭이벤트 막기.
    if (new Date().getTime() - moveout_timer < 20) {
      return false;
    }

    let self = this,
        trackOffset = track.offset(),
        barBox = {
      width: bar.outerWidth(), height: bar.outerHeight()
    },
        trackBox = {
      width: track.innerWidth(), height: track.innerHeight()
    },
        _vertical_scroller_height = self.$["scroller"]["vertical"].innerHeight(),
        _panel_height = self.$["panel"]["body"].height(),
        _horizontal_scroller_width = self.$["scroller"]["horizontal"].innerWidth(),
        _panel_width = self.$["panel"]["body"].width(),
        _content_height = self.xvar.scrollContentHeight,
        _content_width = self.xvar.scrollContentWidth,
        verticalScrollBarHeight = self.$["scroller"]["vertical-bar"].outerHeight(),
        horizontalScrollBarWidth = self.$["scroller"]["horizontal-bar"].outerWidth(),
        getScrollerPosition = {
      "vertical": function (e) {
        let mouseObj = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
        // track을 벗어 나지 안도록 범위 체크
        let newTop = mouseObj.clientY - trackOffset.top;
        if (newTop < 0) {
          newTop = 0;
        } else if (newTop + barBox.height > trackBox.height) {
          newTop = trackBox.height - barBox.height;
        }
        return { top: newTop };
      },
      "horizontal": function (e) {
        let mouseObj = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
        // track을 벗어 나지 안도록 범위 체크
        let newLeft = mouseObj.clientX - trackOffset.left;
        if (newLeft < 0) {
          newLeft = 0;
        } else if (newLeft + barBox.width > trackBox.width) {
          newLeft = trackBox.width - barBox.width;
        }
        return { left: newLeft };
      }
    },
        css = getScrollerPosition[type](e);

    bar.css(css);

    let scrollPositon = convertScrollPosition[type].call(self, css, {
      _content_width: _content_width,
      _content_height: _content_height,
      _panel_width: _panel_width,
      _panel_height: _panel_height,
      _horizontal_scroller_width: _horizontal_scroller_width,
      _vertical_scroller_height: _vertical_scroller_height,
      verticalScrollBarHeight: verticalScrollBarHeight,
      horizontalScrollBarWidth: horizontalScrollBarWidth
    });
    if (type === "horizontal") __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_header__["a" /* default */].scrollTo.call(self, scrollPositon);
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__["a" /* default */].scrollTo.call(self, scrollPositon);

    scrollPositon = null;
  },
  "on": function (track, bar, type, e) {
    let self = this,
        barOffset = bar.position(),
        barBox = {
      width: bar.outerWidth(), height: bar.outerHeight()
    },
        trackBox = {
      width: track.innerWidth(), height: track.innerHeight()
    },
        _vertical_scroller_height = self.$["scroller"]["vertical"].innerHeight(),
        _panel_height = self.$["panel"]["body"].height(),
        _horizontal_scroller_width = self.$["scroller"]["horizontal"].innerWidth(),
        _panel_width = self.$["panel"]["body"].width(),
        _content_height = self.xvar.scrollContentHeight,
        _content_width = self.xvar.scrollContentWidth,
        verticalScrollBarHeight = self.$["scroller"]["vertical-bar"].outerHeight(),
        horizontalScrollBarWidth = self.$["scroller"]["horizontal-bar"].outerWidth(),
        getScrollerPosition = {
      "vertical": function (e) {
        var mouseObj = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
        self.xvar.__da = mouseObj.clientY - self.xvar.mousePosition.clientY;
        // track을 벗어 나지 안도록 범위 체크
        var newTop = barOffset.top + self.xvar.__da;
        if (newTop < 0) {
          newTop = 0;
        } else if (newTop + barBox.height > trackBox.height) {
          newTop = trackBox.height - barBox.height;
        }
        return { top: newTop };
      },
      "horizontal": function (e) {
        var mouseObj = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
        self.xvar.__da = mouseObj.clientX - self.xvar.mousePosition.clientX;
        // track을 벗어 나지 안도록 범위 체크
        var newLeft = barOffset.left + self.xvar.__da;
        if (newLeft < 0) {
          newLeft = 0;
        } else if (newLeft + barBox.width > trackBox.width) {
          newLeft = trackBox.width - barBox.width;
        }
        return { left: newLeft };
      }
    };

    self.xvar.__da = 0; // 이동량 변수 초기화 (계산이 잘못 될까바)

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).on(__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].ENM["mousemove"] + ".ax6grid-" + this.instanceId, function (e) {
      let css = getScrollerPosition[type](e);
      bar.css(css);

      let scrollPositon = convertScrollPosition[type].call(self, css, {
        _content_width: _content_width,
        _content_height: _content_height,
        _panel_width: _panel_width,
        _panel_height: _panel_height,
        _horizontal_scroller_width: _horizontal_scroller_width,
        _vertical_scroller_height: _vertical_scroller_height,
        verticalScrollBarHeight: verticalScrollBarHeight,
        horizontalScrollBarWidth: horizontalScrollBarWidth
      });

      if (type === "horizontal") __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_header__["a" /* default */].scrollTo.call(self, scrollPositon);

      __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__["a" /* default */].scrollTo.call(self, scrollPositon);
    }).on(__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].ENM["mouseup"] + ".ax6grid-" + this.instanceId, function (e) {
      scrollBarMover.off.call(self);
    }).on("mouseleave.ax6grid-" + this.instanceId, function (e) {
      scrollBarMover.off.call(self);
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);
  },
  "off": function () {
    moveout_timer = new Date().getTime();

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off(__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].ENM["mousemove"] + ".ax6grid-" + this.instanceId).off(__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].ENM["mouseup"] + ".ax6grid-" + this.instanceId).off("mouseleave.ax6grid-" + this.instanceId);

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');
  }
};

const scrollContentMover = {
  "wheel": function (delta) {
    let self = this,
        _body_scroll_position = self.$["panel"]["body-scroll"].position(),
        _panel_height = self.xvar.body_panel_height,
        _panel_width = self.xvar.body_panel_width,
        _content_height = self.xvar.scrollContentHeight,
        _content_width = self.xvar.scrollContentWidth;

    if (isNaN(_content_height) || isNaN(_content_width)) {
      return false;
    }

    let newLeft,
        newTop,
        _top_is_end = false,
        _left_is_end = false;

    newLeft = _body_scroll_position.left - delta.x;
    newTop = _body_scroll_position.top - delta.y;

    // newTop이 범위를 넘었는지 체크
    if (newTop >= 0) {
      newTop = 0;
      _top_is_end = true;
    } else if (newTop <= _panel_height - _content_height) {
      newTop = _panel_height - _content_height;
      if (newTop >= 0) newTop = 0;
      _top_is_end = true;
    } else {
      if (delta.y == 0) _top_is_end = true;
    }

    // newLeft이 범위를 넘었는지 체크
    if (newLeft >= 0) {
      newLeft = 0;
      _left_is_end = true;
    } else if (newLeft <= _panel_width - _content_width) {
      newLeft = _panel_width - _content_width;
      if (newLeft >= 0) newLeft = 0;
      _left_is_end = true;
    } else {
      if (delta.x == 0) _left_is_end = true;
    }

    __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_header__["a" /* default */].scrollTo.call(self, { left: newLeft });
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__["a" /* default */].scrollTo.call(self, { left: newLeft, top: newTop }, {
      callback: function () {
        resize.call(self);
      }
    });

    return !_top_is_end || !_left_is_end;
  },
  "on": function () {
    let self = this,
        _body_scroll_position = self.$["panel"]["body-scroll"].position(),
        _panel_height = self.xvar.body_panel_height,
        _panel_width = self.xvar.body_panel_width,
        _content_height = self.xvar.scrollContentHeight,
        _content_width = self.xvar.scrollContentWidth,
        getContentPosition = function (e) {
      let mouseObj = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e),
          newLeft,
          newTop;

      self.xvar.__x_da = mouseObj.clientX - self.xvar.mousePosition.clientX;
      self.xvar.__y_da = mouseObj.clientY - self.xvar.mousePosition.clientY;

      newLeft = _body_scroll_position.left + self.xvar.__x_da;
      newTop = _body_scroll_position.top + self.xvar.__y_da;

      // newTop이 범위를 넘었는지 체크
      if (newTop >= 0) {
        newTop = 0;
      } else if (newTop <= _panel_height - _content_height) {
        newTop = _panel_height - _content_height;
        if (newTop >= 0) newTop = 0;
      }

      // newLeft이 범위를 넘었는지 체크
      if (newLeft >= 0) {
        newLeft = 0;
      } else if (newLeft <= _panel_width - _content_width) {
        newLeft = _panel_width - _content_width;
        if (newLeft >= 0) newLeft = 0;
      }

      return {
        left: newLeft, top: newTop
      };
    };

    this.xvar.__x_da = 0; // 이동량 변수 초기화
    this.xvar.__y_da = 0; // 계산이 잘못 될까바
    this.xvar.touchmoved = false;

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).on("touchmove" + ".ax6grid-" + this.instanceId, function (e) {
      let css = getContentPosition(e);

      resize.call(self);
      __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_header__["a" /* default */].scrollTo.call(self, { left: css.left });
      __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__["a" /* default */].scrollTo.call(self, css, { noRepaint: "noRepaint" });
      __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e.originalEvent);
      self.xvar.touchmoved = true;
    }).on("touchend" + ".ax6grid-" + this.instanceId, function (e) {
      if (self.xvar.touchmoved) {
        let css = getContentPosition(e);

        resize.call(self);
        __WEBPACK_IMPORTED_MODULE_4__AX6UIGrid_header__["a" /* default */].scrollTo.call(self, { left: css.left });
        __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_body__["a" /* default */].scrollTo.call(self, css);
        __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e.originalEvent);
        scrollContentMover.off.call(self);
      }
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);
  },
  "off": function () {

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off("touchmove" + ".ax6grid-" + this.instanceId).off("touchend" + ".ax6grid-" + this.instanceId);

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');
  }
};

const init = function () {
  let self = this,
      margin = this.config.scroller.trackPadding;

  if (margin == 0) {
    this.$["scroller"]["vertical-bar"].css({ width: this.config.scroller.size, left: -1 });
    this.$["scroller"]["horizontal-bar"].css({ height: this.config.scroller.size, top: -1 });
  } else {
    this.$["scroller"]["vertical-bar"].css({ width: this.config.scroller.size - (margin + 1), left: margin / 2 });
    this.$["scroller"]["horizontal-bar"].css({ height: this.config.scroller.size - (margin + 1), top: margin / 2 });
  }

  this.$["scroller"]["vertical-bar"].on(__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].ENM["mousedown"], function (e) {
    this.xvar.mousePosition = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
    scrollBarMover.on.call(this, this.$["scroller"]["vertical"], this.$["scroller"]["vertical-bar"], "vertical", e);
  }.bind(this)).on("dragstart", function (e) {
    __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
    return false;
  });

  this.$["scroller"]["vertical"].on("click", function (e) {
    if (e.target.getAttribute("data-ax6grid-scroller") == "vertical") {
      scrollBarMover.click.call(this, this.$["scroller"]["vertical"], this.$["scroller"]["vertical-bar"], "vertical", e);
    }
  }.bind(this));

  this.$["scroller"]["horizontal-bar"].on(__WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].ENM["mousedown"], function (e) {
    this.xvar.mousePosition = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
    scrollBarMover.on.call(this, this.$["scroller"]["horizontal"], this.$["scroller"]["horizontal-bar"], "horizontal", e);
  }.bind(this)).on("dragstart", function (e) {
    __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
    return false;
  });

  this.$["scroller"]["horizontal"].on("click", function (e) {
    if (e.target.getAttribute("data-ax6grid-scroller") == "horizontal") {
      scrollBarMover.click.call(this, this.$["scroller"]["horizontal"], this.$["scroller"]["horizontal-bar"], "horizontal", e);
    }
  }.bind(this));

  this.$["container"]["body"].on('mousewheel DOMMouseScroll', function (e) {
    let E = e.originalEvent,
        delta = { x: 0, y: 0 };

    if (E.detail) {
      delta.y = E.detail * 10;
    } else {
      if (typeof E.deltaY === "undefined") {
        delta.y = -E.wheelDelta;
        delta.x = 0;
      } else {
        delta.y = E.deltaY;
        delta.x = E.deltaX;
      }
    }

    if (scrollContentMover.wheel.call(this, delta)) {
      __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */].stopEvent(e);
    }
  }.bind(this));

  if (__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].supportTouch) {
    this.$["container"]["body"].on("touchstart", '[data-ax6grid-panel]', function (e) {
      self.xvar.mousePosition = __WEBPACK_IMPORTED_MODULE_3__AX6UIGrid_util__["a" /* default */].getMousePosition(e);
      scrollContentMover.on.call(self);
    });
  }

  this.xvar.body_panel_height = this.$["panel"]["body"].height();
  this.xvar.body_panel_width = this.$["panel"]["body"].width();
};

const resize = function () {
  let _vertical_scroller_height = this.$["scroller"]["vertical"].height(),
      _horizontal_scroller_width = this.$["scroller"]["horizontal"].width(),
      _panel_height = this.$["panel"]["body"].height(),
      _panel_width = this.$["panel"]["body"].width(),
      _content_height = this.xvar.scrollContentHeight,
      _content_width = this.xvar.scrollContentWidth,
      verticalScrollBarHeight = _panel_height * _vertical_scroller_height / _content_height,
      horizontalScrollBarWidth = _panel_width * _horizontal_scroller_width / _content_width;

  if (verticalScrollBarHeight < this.config.scroller.barMinSize) verticalScrollBarHeight = this.config.scroller.barMinSize;
  if (horizontalScrollBarWidth < this.config.scroller.barMinSize) horizontalScrollBarWidth = this.config.scroller.barMinSize;

  this.$["scroller"]["vertical-bar"].css({
    top: convertScrollBarPosition.vertical.call(this, this.$.panel["body-scroll"].position().top, {
      _content_width: _content_width,
      _content_height: _content_height,
      _panel_width: _panel_width,
      _panel_height: _panel_height,
      _horizontal_scroller_width: _horizontal_scroller_width,
      _vertical_scroller_height: _vertical_scroller_height,
      verticalScrollBarHeight: verticalScrollBarHeight,
      horizontalScrollBarWidth: horizontalScrollBarWidth
    }),
    height: verticalScrollBarHeight
  });

  this.$["scroller"]["horizontal-bar"].css({
    left: convertScrollBarPosition.horizontal.call(this, this.$.panel["body-scroll"].position().left, {
      _content_width: _content_width,
      _content_height: _content_height,
      _panel_width: _panel_width,
      _panel_height: _panel_height,
      _horizontal_scroller_width: _horizontal_scroller_width,
      _vertical_scroller_height: _vertical_scroller_height,
      verticalScrollBarHeight: verticalScrollBarHeight,
      horizontalScrollBarWidth: horizontalScrollBarWidth
    }),
    width: horizontalScrollBarWidth
  });

  this.xvar.body_panel_height = _panel_height;
  this.xvar.body_panel_width = _panel_width;

  _vertical_scroller_height = null;
  _horizontal_scroller_width = null;
  _panel_height = null;
  _panel_width = null;
  _content_height = null;
  _content_width = null;
  verticalScrollBarHeight = null;
  horizontalScrollBarWidth = null;
};

/* harmony default export */ __webpack_exports__["a"] = ({
  // 타이머
  moveout_timer: moveout_timer,
  init: init,
  resize: resize
});

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Mustache__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6UICore__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__AX6UIMask__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AX6UIPalette__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__AX6UIDialog__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__AX6UIPicker__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__AX6UICalendar__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__AX6UISelect__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__AX6UIMenu__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__AX6UIToast__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__AX6UIModal__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__AX6UIUploader__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__AX6UIAutocomplete__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__AX6UISideNav__ = __webpack_require__(33);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6Info", function() { return __WEBPACK_IMPORTED_MODULE_0__AX6Info__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6Util", function() { return __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UICore", function() { return __WEBPACK_IMPORTED_MODULE_3__AX6UICore__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6Mustache", function() { return __WEBPACK_IMPORTED_MODULE_2__AX6Mustache__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIFormatter", function() { return __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIMask", function() { return __WEBPACK_IMPORTED_MODULE_5__AX6UIMask__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIPalette", function() { return __WEBPACK_IMPORTED_MODULE_6__AX6UIPalette__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIDialog", function() { return __WEBPACK_IMPORTED_MODULE_7__AX6UIDialog__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIPicker", function() { return __WEBPACK_IMPORTED_MODULE_8__AX6UIPicker__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UICalendar", function() { return __WEBPACK_IMPORTED_MODULE_9__AX6UICalendar__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UISelect", function() { return __WEBPACK_IMPORTED_MODULE_10__AX6UISelect__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIGrid", function() { return __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIMenu", function() { return __WEBPACK_IMPORTED_MODULE_12__AX6UIMenu__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIToast", function() { return __WEBPACK_IMPORTED_MODULE_13__AX6UIToast__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIModal", function() { return __WEBPACK_IMPORTED_MODULE_14__AX6UIModal__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIUploader", function() { return __WEBPACK_IMPORTED_MODULE_15__AX6UIUploader__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UIAutocomplete", function() { return __WEBPACK_IMPORTED_MODULE_16__AX6UIAutocomplete__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AX6UISideNav", function() { return __WEBPACK_IMPORTED_MODULE_17__AX6UISideNav__["a"]; });



















/**
 * @module AX6UI
 */


/* harmony default export */ __webpack_exports__["default"] = ({
  AX6Info: __WEBPACK_IMPORTED_MODULE_0__AX6Info__["a" /* default */],
  AX6Util: __WEBPACK_IMPORTED_MODULE_1__AX6Util__["a" /* default */],
  AX6UICore: __WEBPACK_IMPORTED_MODULE_3__AX6UICore__["a" /* default */],
  AX6Mustache: __WEBPACK_IMPORTED_MODULE_2__AX6Mustache__["a" /* default */],
  AX6UIFormatter: __WEBPACK_IMPORTED_MODULE_4__AX6UIFormatter__["a" /* default */],
  AX6UIMask: __WEBPACK_IMPORTED_MODULE_5__AX6UIMask__["a" /* default */],
  AX6UIPalette: __WEBPACK_IMPORTED_MODULE_6__AX6UIPalette__["a" /* default */],
  AX6UIDialog: __WEBPACK_IMPORTED_MODULE_7__AX6UIDialog__["a" /* default */],
  AX6UIPicker: __WEBPACK_IMPORTED_MODULE_8__AX6UIPicker__["a" /* default */],
  AX6UICalendar: __WEBPACK_IMPORTED_MODULE_9__AX6UICalendar__["a" /* default */],
  AX6UISelect: __WEBPACK_IMPORTED_MODULE_10__AX6UISelect__["a" /* default */],
  AX6UIGrid: __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid__["a" /* default */],
  AX6UIMenu: __WEBPACK_IMPORTED_MODULE_12__AX6UIMenu__["a" /* default */],
  AX6UIToast: __WEBPACK_IMPORTED_MODULE_13__AX6UIToast__["a" /* default */],
  AX6UIModal: __WEBPACK_IMPORTED_MODULE_14__AX6UIModal__["a" /* default */],
  AX6UIUploader: __WEBPACK_IMPORTED_MODULE_15__AX6UIUploader__["a" /* default */],
  AX6UIAutocomplete: __WEBPACK_IMPORTED_MODULE_16__AX6UIAutocomplete__["a" /* default */],
  AX6UISideNav: __WEBPACK_IMPORTED_MODULE_17__AX6UISideNav__["a" /* default */]
});

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _jqmin = __webpack_require__(1);

var _jqmin2 = _interopRequireDefault(_jqmin);

var _ax6ui = __webpack_require__(16);

__webpack_require__(34);

__webpack_require__(37);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var $slide_out = void 0;
var $body = void 0;
var _module = void 0;
var currentModule = '';
var sideNav = void 0;

function loadModule(moduleName) {
  if (_module && _module.fn) _module.fn.moduleDestroy($body);
  _module = null;
  $body.empty();
  currentModule = moduleName;

  switch (moduleName) {
    case "AX6Util":
      __webpack_require__.e/* require.ensure */(14).then((function (n) {
        _module = __webpack_require__(44).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case "AX6UIMask":
      __webpack_require__.e/* require.ensure */(9).then((function (n) {
        _module = __webpack_require__(45).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case "AX6UIFormatter":
      __webpack_require__.e/* require.ensure */(15).then((function (n) {
        _module = __webpack_require__(46).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UICalendar':
      __webpack_require__.e/* require.ensure */(12).then((function (n) {
        _module = __webpack_require__(47).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIPicker':
      __webpack_require__.e/* require.ensure */(2).then((function (n) {
        _module = __webpack_require__(48).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIPalette':
      __webpack_require__.e/* require.ensure */(6).then((function (n) {
        _module = __webpack_require__(49).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIDialog':
      __webpack_require__.e/* require.ensure */(11).then((function (n) {
        _module = __webpack_require__(50).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIToast':
      __webpack_require__.e/* require.ensure */(4).then((function (n) {
        _module = __webpack_require__(51).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UISelect':
      __webpack_require__.e/* require.ensure */(5).then((function (n) {
        _module = __webpack_require__(52).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIAutocomplete':
      __webpack_require__.e/* require.ensure */(13).then((function (n) {
        _module = __webpack_require__(53).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIMenu':
      __webpack_require__.e/* require.ensure */(8).then((function (n) {
        _module = __webpack_require__(54).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIGrid':
      __webpack_require__.e/* require.ensure */(0).then((function (n) {
        _module = __webpack_require__(55).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIModal':
      __webpack_require__.e/* require.ensure */(7).then((function (n) {
        _module = __webpack_require__(56).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIUploader':
      __webpack_require__.e/* require.ensure */(1).then((function (n) {
        _module = __webpack_require__(57).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UITooltip':
      __webpack_require__.e/* require.ensure */(3).then((function (n) {
        _module = __webpack_require__(58).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;

    case 'AX6UIDocker':
      __webpack_require__.e/* require.ensure */(10).then((function (n) {
        _module = __webpack_require__(59).default;
        $body.html(_module.html);
        _module.fn.moduleRun($body);
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
      break;
  }
}

window.onpopstate = function (e) {
  var param = _ax6ui.AX6Util.param(document.location.search.replace("?", ""));
  if (typeof param.module !== 'undefined' && param.module != currentModule) {
    loadModule(param.module);
  }
};

(0, _jqmin2.default)(document).ready(function (e) {
  sideNav = new _ax6ui.AX6UISideNav({
    menu: {
      target: document.querySelector('[data-ax6ui-sidenav-menu]')
    },
    panel: {
      target: document.querySelector('[data-ax6ui-sidenav-panel]')
    }
  });

  $slide_out = (0, _jqmin2.default)('#slide-out');
  $body = (0, _jqmin2.default)("#sample-body");

  (0, _jqmin2.default)('[data-activates="slide-out"]').on('click', function () {
    sideNav.open();
  });

  (0, _jqmin2.default)('[data-href]').on("click", function (e) {
    sideNav.close();

    var moduleName = this.getAttribute("data-href");
    history.pushState(null, null, "?module=" + moduleName);
    loadModule(moduleName);
  });

  var param = _ax6ui.AX6Util.param(document.location.search.replace("?", ""));

  if (typeof param.module == 'undefined') {
    loadModule("AX6Util");
  } else if (param.module != currentModule) {
    loadModule(param.module);
  }
});

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AX6Util__ = __webpack_require__(0);


let TODAY = new Date();

/**
 * @module AX6UIFormatter_formatter
 */

let ctrlKeys = {
  "18": "KEY_ALT",
  "8": "KEY_BACKSPACE",
  "17": "KEY_CONTROL",
  "46": "KEY_DELETE",
  "40": "KEY_DOWN",
  "35": "KEY_END",
  "187": "KEY_EQUAL",
  "27": "KEY_ESC",
  "36": "KEY_HOME",
  "45": "KEY_INSERT",
  "37": "KEY_LEFT",
  "189": "KEY_MINUS",
  "34": "KEY_PAGEDOWN",
  "33": "KEY_PAGEUP",
  // "190": "KEY_PERIOD",
  "13": "KEY_RETURN",
  "39": "KEY_RIGHT",
  "16": "KEY_SHIFT",
  // "32": "KEY_SPACE",
  "9": "KEY_TAB",
  "38": "KEY_UP",
  "91": "KEY_WINDOW"
  //"107" : "NUMPAD_ADD",
  //"194" : "NUMPAD_COMMA",
  //"110" : "NUMPAD_DECIMAL",
  //"111" : "NUMPAD_DIVIDE",
  //"12" : "NUMPAD_EQUAL",
  //"106" : "NUMPAD_MULTIPLY",
  //"109" : "NUMPAD_SUBTRACT"
};

let numKeys = {
  '48': 1, '49': 1, '50': 1, '51': 1, '52': 1, '53': 1, '54': 1, '55': 1, '56': 1, '57': 1,
  '96': 1, '97': 1, '98': 1, '99': 1, '100': 1, '101': 1, '102': 1, '103': 1, '104': 1, '105': 1
};

let pattern_money = {
  getEnterableKeyCodes: function (_opts) {
    let enterableKeyCodes = {
      '188': ','
    };
    if (_opts.patternArgument == "int") {
      // 소수점 입력 안됨
    } else {
      enterableKeyCodes['190'] = "."; // 소수점 입력 허용
    }
    return Object.assign(enterableKeyCodes, ctrlKeys, numKeys);
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    val = val.replace(/[^0-9^\.^\-]/g, "");
    let regExpPattern = new RegExp('([0-9])([0-9][0-9][0-9][,.])'),
        arrNumber = val.split('.'),
        returnValue;

    arrNumber[0] += '.';

    do {
      arrNumber[0] = arrNumber[0].replace(regExpPattern, '$1,$2');
    } while (regExpPattern.test(arrNumber[0]));

    if (arrNumber.length > 1) {
      if (__WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].isNumber(_opts.maxRound)) {
        returnValue = arrNumber[0] + __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].left(arrNumber[1], _opts.maxRound);
      } else {
        returnValue = arrNumber.join('');
      }
    } else {
      returnValue = arrNumber[0].split('.')[0];
    }

    return returnValue;
  }
};

let pattern_number = {
  getEnterableKeyCodes: function getEnterableKeyCodes(_opts) {
    let enterableKeyCodes = {
      '190': '.',
      '110': '.'

    };
    return Object.assign(enterableKeyCodes, ctrlKeys, numKeys);
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    val = val.replace(/[^0-9^\.^\-]/g, "");
    let arrNumber = val.split('.'),
        returnValue;

    arrNumber[0] += ".";

    if (arrNumber.length > 1) {
      if (__WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].isNumber(_opts.maxRound)) {
        returnValue = arrNumber[0] + __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].left(arrNumber[1], _opts.maxRound);
      } else {
        returnValue = arrNumber.join('');
      }
    } else {
      returnValue = arrNumber[0].split('.')[0];
    }

    return returnValue;
  }
};

let pattern_date = {
  getEnterableKeyCodes: function (_opts) {
    let enterableKeyCodes = {
      '189': '-', '191': '/'
    };
    return Object.assign(enterableKeyCodes, ctrlKeys, numKeys);
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    val = val.replace(/\D/g, "");
    if (val == "") return val;
    let regExpPattern = /^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;

    if (_opts.patternArgument == "time") {
      regExpPattern = /^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/;
    } else if (_opts.patternArgument == "year") {
      regExpPattern = /^([0-9]{0,4})?.*$/;
    } else if (_opts.patternArgument == "month") {
      regExpPattern = /^([0-9]{4})\-?([0-9]{1,2})?.*$/;
    }

    let matchedPattern = val.match(regExpPattern),
        returnValue = "",
        inspectValue = function (val, format, inspect, data) {
      let _val = {
        'Y': function (v) {
          if (typeof v == "undefined") v = TODAY.getFullYear();
          if (v == '' || v == '0000') v = TODAY.getFullYear();
          return v.length < 4 ? __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].setDigit(v, 4) : v;
        },
        'M': function (v) {
          if (typeof v == "undefined") v = TODAY.getMonth() + 1;
          return v > 12 ? 12 : v == 0 ? '01' : __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].setDigit(v, 2);
        },
        'D': function (v) {
          if (typeof v == "undefined") v = TODAY.getDate() + 1;
          let dLen = __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].daysOfMonth(data[1], data[2] - 1);
          return v > dLen ? dLen : v == 0 ? '01' : __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].setDigit(v, 2);
        },
        'h': function (v) {
          if (!v) v = 0;
          return v > 23 ? 23 : __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].setDigit(v, 2);
        },
        'm': function (v) {
          if (!v) v = 0;
          return v > 59 ? 59 : __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].setDigit(v, 2);
        },
        's': function (v) {
          if (!v) v = 0;
          return v > 59 ? 59 : __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].setDigit(v, 2);
        }
      };
      return inspect ? _val[format](val) : val;
    };

    returnValue = val.replace(regExpPattern, function (a, b) {
      let nval = [];

      if (_opts.patternArgument == "year") {
        nval.push(inspectValue(arguments[1], "Y", eType));
      } else if (_opts.patternArgument == "month") {
        nval.push(inspectValue(arguments[1], "Y", eType));
        if (arguments[2] || eType) nval.push('-' + inspectValue(arguments[2], "M", eType));
      } else if (_opts.patternArgument == "time") {
        nval.push(inspectValue(arguments[1], "Y", eType));
        if (arguments[2] || eType) nval.push('-' + inspectValue(arguments[2], "M", eType));
        if (arguments[3] || eType) nval.push('-' + inspectValue(arguments[3], "D", eType, arguments));
        if (arguments[4] || eType) nval.push(' ' + inspectValue(arguments[4], "h", eType));
        if (arguments[5] || eType) nval.push(':' + inspectValue(arguments[5], "m", eType));
        if (arguments[6] || eType) nval.push(':' + inspectValue(arguments[6], "s", eType));
      } else {
        nval.push(inspectValue(arguments[1], "Y", eType));
        if (arguments[2] || eType) nval.push('-' + inspectValue(arguments[2], "M", eType));
        if (arguments[3] || eType) nval.push('-' + inspectValue(arguments[3], "D", eType, arguments));
      }
      return nval.join('');
    });

    if (eType == 'blur' && !matchedPattern) {
      returnValue = function () {
        let nval = [];

        if (_opts.patternArgument == "year") {
          nval.push(inspectValue(0, "Y", eType));
        } else if (_opts.patternArgument == "month") {
          nval.push(inspectValue(0, "Y", eType));
          nval.push('-' + inspectValue(0, "M", eType));
        } else if (_opts.patternArgument == "time") {
          nval.push(inspectValue(0, "Y", eType));
          nval.push('-' + inspectValue(0, "M", eType));
          nval.push('-' + inspectValue(0, "D", eType, arguments));
          nval.push(' ' + inspectValue(0, "h", eType));
          nval.push(':' + inspectValue(0, "m", eType));
          nval.push(':' + inspectValue(0, "s", eType));
        } else {
          nval.push(inspectValue(0, "Y", eType));
          nval.push('-' + inspectValue(0, "M", eType));
          nval.push('-' + inspectValue(0, "D", eType, arguments));
        }
        return nval.join('');
      }();
    } else if (!matchedPattern) returnValue = returnValue.length > 4 ? __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].left(returnValue, 4) : returnValue;

    return returnValue;
  }
};

let pattern_time = {
  getEnterableKeyCodes: function (_opts) {
    let enterableKeyCodes = {
      '186': ':'
    };
    return Object.assign(enterableKeyCodes, ctrlKeys, numKeys);
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    val = val.replace(/\D/g, "");
    let regExpPattern = /^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/;

    let matchedPattern = val.match(regExpPattern),
        returnValue = val.replace(regExpPattern, function (a, b) {
      let nval = [arguments[1]];
      if (arguments[2]) nval.push(':' + arguments[2]);
      if (arguments[3]) nval.push(':' + arguments[3]);
      return nval.join('');
    });

    if (!matchedPattern) returnValue = returnValue.length > 2 ? __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].left(returnValue, 2) : returnValue;

    return returnValue;
  }
};

let pattern_bizno = {
  getEnterableKeyCodes: function (_opts) {
    let enterableKeyCodes = {
      '189': '-'
    };
    return Object.assign(enterableKeyCodes, ctrlKeys, numKeys);
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    val = val.replace(/\D/g, "");
    let regExpPattern = /^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,
        returnValue = val.replace(regExpPattern, function (a, b) {
      let nval = [arguments[1]];
      if (arguments[2]) nval.push(arguments[2]);
      if (arguments[3]) nval.push(arguments[3]);
      return nval.join("-");
    });

    return returnValue;
  }
};

let pattern_phone = {
  getEnterableKeyCodes: function (_opts) {
    let enterableKeyCodes = {
      '189': '-', '188': ','
    };
    return Object.assign(enterableKeyCodes, ctrlKeys, numKeys);
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    val = val.replace(/\D/g, "");
    let regExpPattern3 = /^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;
    if (val.substr(0, 2) == "02") {
      regExpPattern3 = /^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;
    }

    let returnValue = val.replace(regExpPattern3, function (a, b) {
      let nval = [arguments[1]];
      if (arguments[2]) nval.push(arguments[2]);
      if (arguments[3]) nval.push(arguments[3]);
      if (arguments[4]) nval.push(arguments[4]);
      if (arguments[5]) nval.push(arguments[5]);
      return nval.join("-");
    });
    return returnValue;
  }
};

let pattern_credit = {
  getEnterableKeyCodes: function (_opts) {
    let enterableKeyCodes = {
      '189': '-'
    };
    return Object.assign(enterableKeyCodes, ctrlKeys, numKeys);
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    val = val.replace(/\D/g, "").substring(0, 16);

    let regExpPattern3 = /^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/,
        returnValue = val.replace(regExpPattern3, function (a, b) {
      let nval = [arguments[1]];
      if (arguments[2]) nval.push(arguments[2]);
      if (arguments[3]) nval.push(arguments[3]);
      if (arguments[4]) nval.push(arguments[4]);
      return nval.join("-");
    });
    return returnValue;
  }
};

let pattern_custom = {
  getEnterableKeyCodes: function (_opts) {
    if (_opts.getEnterableKeyCodes) {
      return _opts.getEnterableKeyCodes.call(_opts, { $input: _opts.$input });
    } else {
      return null;
    }
  },
  getPatternValue: function (_opts, optIdx, e, val, eType) {
    if (_opts.getPatternValue) {
      return _opts.getPatternValue.call(_opts, { event: e, $input: _opts.$input, value: val });
    }
  }
};

/* harmony default export */ __webpack_exports__["a"] = ({
  /**
   * 컨트롤 keycodes
   * @example
   * ```js
   * let ctrlKeys = {
    "18": "KEY_ALT",
    "8": "KEY_BACKSPACE",
    "17": "KEY_CONTROL",
    "46": "KEY_DELETE",
    "40": "KEY_DOWN",
    "35": "KEY_END",
    "187": "KEY_EQUAL",
    "27": "KEY_ESC",
    "36": "KEY_HOME",
    "45": "KEY_INSERT",
    "37": "KEY_LEFT",
    "189": "KEY_MINUS",
    "34": "KEY_PAGEDOWN",
    "33": "KEY_PAGEUP",
    "13": "KEY_RETURN",
    "39": "KEY_RIGHT",
    "16": "KEY_SHIFT",
    // "32": "KEY_SPACE",
    "9": "KEY_TAB",
    "38": "KEY_UP",
    "91": "KEY_WINDOW"
  };
   * ```
   */
  ctrlKeys: ctrlKeys,
  /**
   * 숫자키패드 keycodes
   * @example
   * ```js
   * let numKeys = {
    '48': 1, '49': 1, '50': 1, '51': 1, '52': 1, '53': 1, '54': 1, '55': 1, '56': 1, '57': 1,
    '96': 1, '97': 1, '98': 1, '99': 1, '100': 1, '101': 1, '102': 1, '103': 1, '104': 1, '105': 1
  };
   * ```
   */
  numKeys: numKeys,
  /**
   * 통화패턴
   */
  money: pattern_money,
  /**
   * 숫자패턴
   */
  number: pattern_number,
  /**
   * 날짜패턴
   */
  date: pattern_date,
  /**
   * 시간패턴
   */
  time: pattern_time,
  /**
   * 한국 사업자 번호 패턴
   */
  bizno: pattern_bizno,
  /**
   * 전화번호 패턴
   */
  phone: pattern_phone,
  credit: pattern_credit,
  /**
   * 사용자 정의 패턴 사용시
   */
  custom: pattern_custom
});

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Mustache_js__ = __webpack_require__(4);




/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

const getBodyTmpl = function (data, columnKeys) {
  const defaultMask = function (columnKeys) {
    return `
            <div data-ax6ui-mask="" class="{{theme}}" id="{{maskId}}">
                <div class="ax-mask-bg"></div>
                <div class="ax-mask-content">
                    <div class="ax-mask-body">
                    {{{body}}}
                    </div>
                </div>
            </div>
        `;
  };
  return __WEBPACK_IMPORTED_MODULE_3__AX6Mustache_js__["a" /* default */].render(defaultMask.call(this, columnKeys), data);
};
const onStateChanged = function (opts, that) {
  if (opts && opts.onStateChanged) {
    opts.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  opts = null;
  that = null;
  return true;
};
const setBody = function (content) {
  this.maskContent = content;
};

/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIMask extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.theme]
     * @param [config.target=document.body]
     * @param [config.animateTime=250]
     * @param [config.onStateChanged]
     * @param [config.onClick]
     * @param [config.content]
     *
     */
    this.config = {
      theme: '',
      target: __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).get(0),
      animateTime: 250
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * @member {String}
     */
    this.maskContent = '';
    /**
     * @member {String}
     */
    this.status = "off";
    /**
     * @member {JSON}
     */
    this.activeConfig = {};

    if (typeof config !== "undefined") this.init();
  }

  /**
   * @method
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;
    this.onClick = this.config.onClick;
    delete this.config.onClick;

    setBody.call(this, this.config.content || "");

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * @method
   * @param options
   * @param {number} [options.zIndex] - 마스크 엘리먼트의 z-index 값을 정합니다
   * @return {AX6UIMask}
   * @example
   * ```js
   * let myMask = new Mask();
   * myMask.setConfig({
     *  zIndex: 1000
     * });
   *
   * myMask.open();
   * ```
   */
  open(options) {
    if (this.status === "on") this.close();
    setBody.call(this, options ? options.content || "" : "");

    let _cfg = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, options),
        target = _cfg.target,
        $target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(target),
        maskId = 'ax-mask-' + this.instanceId,
        $mask,
        css = {},
        that = {},
        templateName = _cfg.templateName,
        body = getBodyTmpl({
      theme: _cfg.theme,
      maskId: maskId,
      body: this.maskContent,
      templateName: templateName
    }).trim();

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(body);

    // 마스크의 타겟이 html body 가 아니라면
    if (target && target !== __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).get(0)) {
      css = {
        position: _cfg.position || "absolute",
        left: $target.offset().left,
        top: $target.offset().top,
        width: $target.outerWidth(),
        height: $target.outerHeight()
      };

      $target.addClass("ax-masking");

      // 마스크의 타겟이 html body가 아닌경우 window resize 이벤트를 추적하여 엘리먼트 마스크의 CSS 속성 변경
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6ui-mask-" + this.instanceId).on("resize.ax6ui-mask-" + this.instanceId, __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].throttle(function (e) {
        this.align();
      }, 100).bind(this));
    }

    if (typeof _cfg.zIndex !== "undefined") {
      css["z-index"] = _cfg.zIndex;
    }

    this.$mask = $mask = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()("#" + maskId);
    this.$target = $target;
    this.status = "on";
    $mask.css(css);

    if (this.onClick) {
      $mask.on("click", e => {
        that = {
          self: this,
          state: "open",
          type: "click"
        };
        this.onClick.call(that, that);
      });
    }

    onStateChanged.call(this, null, {
      self: this,
      state: "open"
    });

    // 현재 활성화된 설정 기억
    this.activeConfig = _cfg;

    options = null;
    _cfg = null;
    target = null;
    $target = null;
    maskId = null;
    $mask = null;
    css = null;
    that = null;
    templateName = null;
    body = null;

    return this;
  }

  /**
   * @method
   * @param delay
   * @return {AX6UIMask}
   */
  close(delay) {
    if (this.$mask) {

      let _close = function () {
        this.status = "off";
        this.$mask.remove();
        this.$target.removeClass("ax-masking");

        onStateChanged.call(this, null, {
          self: this,
          state: "close"
        });

        __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6ui-mask-" + this.instanceId);
      };

      if (delay) {
        setTimeout(function () {
          _close.call(this);
        }.bind(this), delay);
      } else {
        _close.call(this);
      }
    }
    return this;
  }

  /**
   * @method
   * @return {AX6UIMask}
   */
  fadeOut() {
    if (this.$mask) {
      let _close = function () {
        this.status = "off";
        this.$mask.remove();
        this.$target.removeClass("ax-masking");

        onStateChanged.call(this, null, {
          self: this,
          state: "close"
        });

        __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6ui-mask-" + this.instanceId);
      };

      this.$mask.addClass("fade-out");
      setTimeout(function () {
        _close.call(this);
      }.bind(this), this.activeConfig.animateTime);
    }
    return this;
  }

  /**
   * @method
   * @return {AX6UIMask}
   */
  align() {
    if (this.$mask && this.activeConfig && this.activeConfig.target && this.activeConfig.target !== __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).get(0)) {
      try {
        let css = {
          position: this.activeConfig.position || "absolute",
          left: this.$target.offset().left,
          top: this.$target.offset().top,
          width: this.$target.outerWidth(),
          height: this.$target.outerHeight()
        };
        this.$mask.css(css);
      } catch (e) {}
    }
    return this;
  }

  destory() {
    if (this.$mask) this.$mask.remove();
    if (this.$target) this.$target.removeClass("ax-masking");
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6ui-mask-" + this.instanceId);
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIMask);

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Util_js__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Info_js__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache_js__ = __webpack_require__(4);






/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

const dialogTmpl = function (columnKeys) {
  return ` 
<div id="{{dialogId}}" data-dialog-els="root" data-ax6ui-dialog="" class="{{theme}}">
    <div class="ax-dialog-header" data-dialog-els="header">
        {{{title}}}
    </div>
    <div class="ax-dialog-body" data-dialog-els="body">
        <div class="ax-dialog-msg">{{{msg}}}</div>
        
        {{#input}}
        <div class="ax-dialog-prompt">
            {{#@each}}
            <div class="form-group">
            {{#@value.label}}
            <label>{{#_crlf}}{{{.}}}{{/_crlf}}</label>
            {{/@value.label}}
            <input type="{{@value.type}}" placeholder="{{@value.placeholder}}" class="form-control {{@value.theme}}" data-dialog-prompt="{{@key}}" style="width:100%;" value="{{@value.value}}" />
            {{#@value.help}}
            <p class="help-block">{{#_crlf}}{{.}}{{/_crlf}}</p>
            {{/@value.help}}
            </div>
            {{/@each}}
        </div>
        {{/input}}
        
        <div class="ax-dialog-buttons" data-dialog-els="buttons">
            <div class="ax-button-wrap">
            {{#btns}}
                {{#@each}}
                <button type="button" data-dialog-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{@value.label}}</button>
                {{/@each}}
            {{/btns}}
            </div>
        </div>
        
        {{#additionalContent}}
        <div data-dialog-els="additional-content">{{{.}}}</div>
        {{/additionalContent}}
    </div>
</div>  
`;
};
const onStateChanged = function (opts, that) {
  if (opts && opts.onStateChanged) {
    opts.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  opts = null;
  that = null;
  return true;
};
const getContent = function (dialogId, opts) {
  let data = {
    dialogId: dialogId,
    title: opts.title || this.config.title || "",
    msg: (opts.msg || this.config.msg || "").replace(/\n/g, "<br/>"),
    input: opts.input,
    btns: opts.btns,
    '_crlf': function () {
      return this.replace(/\n/g, "<br/>");
    },
    additionalContent: function (additionalContent) {
      if (__WEBPACK_IMPORTED_MODULE_2__AX6Util_js__["a" /* default */].isFunction(additionalContent)) {
        return additionalContent.call(opts);
      } else {
        return additionalContent;
      }
    }(opts.additionalContent)
  };

  return __WEBPACK_IMPORTED_MODULE_4__AX6Mustache_js__["a" /* default */].render(dialogTmpl.call(this), data);
};
const open = function (opts, callback) {
  let pos = {},
      box = {
    width: opts.width
  };

  this.dialogConfig = opts;
  this.$activeDialog = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(getContent.call(this, opts.id, opts));
  this.$activeDialog.css({ width: box.width });
  __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.$activeDialog);

  if (typeof callback === "undefined") {
    callback = opts.callback;
  }

  // dialog 높이 구하기 - 너비가 정해지면 높이가 변경 될 것.
  opts.height = box.height = this.$activeDialog.height();

  //- position 정렬
  if (typeof opts.position === "undefined" || opts.position === "center") {
    pos.top = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).height() / 2 - box.height / 2;
    pos.left = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).width() / 2 - box.width / 2;
  } else {
    pos.left = opts.position.left || 0;
    pos.top = opts.position.top || 0;
  }
  if (this.config.zIndex) {
    pos["z-index"] = this.config.zIndex;
  }

  this.$activeDialog.css(pos).on(opts.clickEventName, "[data-dialog-btn]", e => {
    btnOnClick.call(this, e || window.event, opts, callback);
  }).find(opts.dialogType === "prompt" ? "[data-dialog-prompt]" : "[data-dialog-btn]").trigger("focus");

  // bind key event
  __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("keydown.ax6dialog", e => {
    onKeyup.call(this, e || window.event, opts, callback);
  }).on("resize.ax6dialog", __WEBPACK_IMPORTED_MODULE_2__AX6Util_js__["a" /* default */].throttle(function (e) {
    align.call(this, e || window.event);
  }, 30).bind(this));

  onStateChanged.call(this, opts, {
    self: this,
    state: "open"
  });

  if (opts.autoCloseTime) {
    this.autoCloseTimer = setTimeout(() => {
      this.close();
    }, opts.autoCloseTime);
  }

  pos = null;
  box = null;
};
const align = function (e) {
  if (!this.$activeDialog) return this;
  let opts = this.dialogConfig,
      box = {
    width: opts.width,
    height: opts.height
  };

  //- position 정렬
  if (typeof opts.position === "undefined" || opts.position === "center") {
    box.top = window.innerHeight / 2 - box.height / 2;
    box.left = window.innerWidth / 2 - box.width / 2;
  } else {
    box.left = opts.position.left || 0;
    box.top = opts.position.top || 0;
  }
  if (box.left < 0) box.left = 0;
  if (box.top < 0) box.top = 0;

  this.$activeDialog.css(box);

  opts = null;
  box = null;

  return this;
};
const btnOnClick = function (e, opts, callback, target, k) {
  let that,
      emptyKey = null;

  if (e.srcElement) e.target = e.srcElement;

  target = __WEBPACK_IMPORTED_MODULE_2__AX6Util_js__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-dialog-btn")) {
      return true;
    }
  });

  if (target) {
    k = target.getAttribute("data-dialog-btn");

    that = {
      self: this,
      key: k, value: opts.btns[k],
      dialogId: opts.id,
      btnTarget: target
    };
    if (opts.dialogType === "prompt") {
      that.input = {};
      for (let oi in opts.input) {
        that.input[oi] = this.$activeDialog.find('[data-dialog-prompt=' + oi + ']').val();
        if (opts.input[oi].required && (that.input[oi] == "" || that.input[oi] == null)) {
          emptyKey = oi;
          break;
        }
      }
    }
    if (opts.btns[k].onClick) {
      opts.btns[k].onClick.call(that, that);
    } else if (opts.dialogType === "alert") {
      if (callback) callback.call(that, that);
      this.close({ doNotCallback: true });
    } else if (opts.dialogType === "confirm") {
      if (callback) callback.call(that, that);
      this.close({ doNotCallback: true });
    } else if (opts.dialogType === "prompt") {
      if (k === 'ok') {
        if (emptyKey) {
          this.$activeDialog.find('[data-dialog-prompt="' + emptyKey + '"]').get(0).focus();
          return false;
        }
      }
      if (callback) callback.call(that, that);
      this.close({ doNotCallback: true });
    }
  }

  that = null;
  opts = null;
  callback = null;
  target = null;
  k = null;
};
const onKeyup = function (e, opts, callback, target, k) {
  let that,
      emptyKey = null;

  if (e.keyCode == __WEBPACK_IMPORTED_MODULE_3__AX6Info_js__["a" /* default */].eventKeys.ESC) {
    this.close();
  }
  if (opts.dialogType === "prompt") {
    if (e.keyCode == __WEBPACK_IMPORTED_MODULE_3__AX6Info_js__["a" /* default */].eventKeys.RETURN) {
      that = {
        self: this,
        key: k, value: opts.btns[k],
        dialogId: opts.id,
        btnTarget: target
      };
      that.input = {};

      for (let oi in opts.input) {
        that.input[oi] = this.$activeDialog.find('[data-dialog-prompt=' + oi + ']').val();
        if (opts.input[oi].required && (that.input[oi] == "" || that.input[oi] == null)) {
          emptyKey = oi;
          break;
        }
      }
      if (emptyKey) {
        that = null;
        emptyKey = null;
        return false;
      }
      if (callback) callback.call(that, that);
      this.close({ doNotCallback: true });
    }
  }

  that = null;
  emptyKey = null;
  opts = null;
  callback = null;
  target = null;
  k = null;
};

/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIDialog extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.theme='default']
     * @param [config.width=300]
     * @param [config.title='']
     * @param [config.msg='']
     * @param [config.lang]
     * @param [config.lang.ok='ok']
     * @param [config.lang.cancel='cancel']
     * @param [config.animateTime=150]
     * @param [config.autoCloseTime=0]
     * @param [config.onStateChanged]
     *
     */
    this.config = {
      id: 'ax6-dialog-' + this.instanceId,
      clickEventName: "click",
      theme: 'default',
      width: 300,
      title: 'AX6UIDialog',
      msg: '',
      lang: {
        "ok": "ok", "cancel": "cancel"
      },
      animateTime: 150,
      autoCloseTime: 0
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * dialog가 열려있는 상태에서 다시 open이 되면 queue에 보관 하였다가 close후 open
     * @member {Array}
     */
    this.queue = [];
    /**
     * @member {jQueryElement}
     */
    this.$activeDialog = null;
    /**
     * @member {Object}
     */
    this.autoCloseTimer = null;

    this.init();
  }

  /**
   * @method
   * @param config
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * @method
   * @param opts
   * @param callback
   * @param tryCount
   * @return {AX6UIDialog}
   * @example
   * ```js
   * import {Dialog} from "ax6ui"
   *
   * const dialog = new Dialog();
   * dialog.alert("Alert Message");
   * dialog.alert({
     *     title: "Title",
     *     msg: "Alert Message"
     * });
   * ```
   */
  alert(opts, callback, tryCount) {
    if (typeof opts === "undefined") {
      opts = {
        title: this.config.title,
        msg: ""
      };
    } else if (__WEBPACK_IMPORTED_MODULE_2__AX6Util_js__["a" /* default */].isString(opts)) {
      opts = {
        title: this.config.title,
        msg: opts
      };
    }

    opts = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, opts, {
      dialogType: "alert",
      callback: callback
    });

    if (typeof opts.btns === "undefined") {
      opts.btns = {
        ok: { label: opts.lang["ok"], theme: opts.theme }
      };
    }

    if (this.$activeDialog) {
      this.queue.push(opts);
    } else {
      open.call(this, opts, callback);
    }
  }

  /**
   * @method
   * @param opts
   * @param callback
   * @param tryCount
   * @return {AX6UIDialog}
   * @example
   * ```js
   * import {Dialog} from "ax6ui"
   *
   * const dialog = new Dialog();
   * dialog.confirm({
     *     title: "확인",
     *     msg: "확인 또는 취소를 누르세요"
     * }, function (res) {
     *     //console.log(this, a, b);
     *     if(res.key == "ok"){
     *         console.log("OK");
     *     }
     *     else if(res.key == "cancel"){
     *         console.log("CANCEL");
     *     }
     * });
   *
   * // btns custom
   * dialog.config({
     *  title: "예/아니오",
     *  msg: "당신은 개발자 입니까?",
     *  btns: {
     *      Y: {label: "예"},
     *      N: {label: "아니오"}
     *  }
     * }, function (res) {
     *      console.log(res);
     * });
   * ```
   */
  confirm(opts, callback, tryCount) {
    if (typeof opts === "undefined") {
      opts = {
        title: this.config.title,
        msg: ""
      };
    } else if (__WEBPACK_IMPORTED_MODULE_2__AX6Util_js__["a" /* default */].isString(opts)) {
      opts = {
        title: this.config.title,
        msg: opts
      };
    }

    opts = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, opts, {
      dialogType: "confirm",
      callback: callback
    });

    if (typeof opts.btns === "undefined") {
      opts.btns = {
        ok: { label: opts.lang["ok"], theme: opts.theme },
        cancel: { label: opts.lang["cancel"] }
      };
    }

    if (this.$activeDialog) {
      this.queue.push(opts);
    } else {
      open.call(this, opts, callback);
    }

    return this;
  }

  /**
   * @method
   * @param opts
   * @param callback
   * @param tryCount
   * @return {AX6UIDialog}
   * @example
   * ```js
   * import {Dialog} from "ax6ui"
   *
   * const dialog = new Dialog();
   *
   * dialog.prompt({
     *  title: "prompt",
     *  msg: '다음의 값을 입력하세요.',
     *  input: {
     *      data1: {label: "data1의 라벨", type: "password"},
     *      data2: {label: "data2의 라벨"}
     *  }
     * }, function(res){
     *      console.log(res);
     * });
   * ```
   */
  prompt(opts, callback, tryCount) {
    if (typeof opts === "undefined") {
      opts = {
        title: this.config.title,
        msg: ""
      };
    } else if (__WEBPACK_IMPORTED_MODULE_2__AX6Util_js__["a" /* default */].isString(opts)) {
      opts = {
        title: this.config.title,
        msg: opts
      };
    }

    opts = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, opts, {
      dialogType: "prompt",
      callback: callback
    });

    if (typeof opts.input === "undefined") {
      opts.input = {
        value: { label: "" }
      };
    }
    if (typeof opts.btns === "undefined") {
      opts.btns = {
        ok: { label: opts.lang["ok"], theme: opts.theme },
        cancel: { label: opts.lang["cancel"] }
      };
    }

    if (this.$activeDialog) {
      this.queue.push(opts);
    } else {
      open.call(this, opts, callback);
    }

    return this;
  }

  /**
   * @method
   * @param _option
   * @return {AX6UIDialog}
   * @example
   * ```js
   * dialog.close();
   * dialog.close({callback: function(){
     *
     * });
     * ```
     */
  close(_option) {
    let opts, that;

    if (this.$activeDialog) {
      if (this.autoCloseTimer) clearTimeout(this.autoCloseTimer);

      opts = this.dialogConfig;

      this.$activeDialog.addClass("destroy");
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("keydown.ax6dialog").off("resize.ax6dialog");

      setTimeout(function () {
        if (this.$activeDialog) {
          this.$activeDialog.remove();
          this.$activeDialog = null;
        }

        that = {
          self: this,
          state: "close",
          dialogId: opts.id
        };

        if (_option && __WEBPACK_IMPORTED_MODULE_2__AX6Util_js__["a" /* default */].isFunction(_option.callback)) {
          _option.callback.call(that, that);
        } else if (opts.callback && (!_option || !_option.doNotCallback)) {
          opts.callback.call(that, that);
        }

        if (opts && opts.onStateChanged) {
          opts.onStateChanged.call(that, that);
        } else if (this.onStateChanged) {
          this.onStateChanged.call(that, that);
        }

        // 열려야 할 큐가 남아 있다면 큐아이템으로 다시 open
        if (this.queue && this.queue.length) {
          open.call(this, this.queue.shift());
        }

        opts = null;
        that = null;
      }.bind(this), this.config.animateTime);
    }
    return this;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIDialog);

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__AX6UIFormatter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AX6UICalendar__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__AX6UIPalette__ = __webpack_require__(13);








/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let tmpl = {
  pickerTmpl(columnKeys) {
    return `
<div data-ax6ui-picker="" class="{{theme}}" id="{{id}}" data-picker-els="root" {{#zIndex}}style="z-index:{{zIndex}};"{{/zIndex}}>
    {{#title}}
        <div class="ax-picker-heading">{{title}}</div>
    {{/title}}
    <div class="ax-picker-body">
        <div class="ax-picker-content" data-picker-els="content" style="width:{{contentWidth}}px;"></div>
        {{#btns}}
            <div class="ax-picker-buttons">
            {{#btns}}
                {{#@each}}
                <button data-picker-btn="{{@key}}" class="{{@value.theme}}">{{@value.label}}</button>
                {{/@each}}
            {{/btns}}
            </div>
        {{/btns}}
    </div>
    <div class="ax-picker-arrow"></div>
</div>
`;
  }
};

const onStateChanged = function (item, that) {
  if (item && item.onStateChanged) {
    item.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }
  return true;
};
const bindPickerTarget = function () {
  const pickerEvent = {
    'focus': function (queIdx, e) {
      this.open(queIdx);
    },
    'click': function (queIdx, e) {
      this.open(queIdx);
    }
  };
  const pickerType = {
    '@fn': function (queIdx, _input) {
      let item = this.queue[queIdx],
          inputLength = _input.length,
          config = {
        inputLength: inputLength || 1
      };

      if (inputLength > 1) {
        config.btns = {
          ok: { label: this.config.lang["ok"], theme: this.config.theme }
        };
      }

      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, config, item);

      config = null;
      inputLength = null;
    },
    'date': function (queIdx, _input) {
      let item = this.queue[queIdx],
          contentWidth = item.content ? item.content.width || 270 : 270,
          contentMargin = item.content ? item.content.margin || 5 : 5,
          inputLength = _input.length,
          config = {
        contentWidth: contentWidth * inputLength + (inputLength - 1) * contentMargin,
        content: { width: contentWidth, margin: contentMargin },
        inputLength: inputLength || 1
      };

      if (inputLength > 1 && !item.btns) {
        config.btns = {
          ok: { label: this.config.lang["ok"], theme: this.config.theme }
        };
      }

      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, config, item);

      contentWidth = null;
      contentMargin = null;
      config = null;
      inputLength = null;
    },
    'secure-num': function (queIdx, _input) {
      let item = this.queue[queIdx],
          inputLength = _input.length,
          config = {
        inputLength: inputLength || 1
      };

      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, config, item);

      config = null;
      inputLength = null;
    },
    'keyboard': function (queIdx, _input) {
      let item = this.queue[queIdx],
          inputLength = _input.length,
          config = {
        inputLength: inputLength || 1
      };

      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, config, item);

      config = null;
      inputLength = null;
    },
    'numpad': function (queIdx, _input) {
      let item = this.queue[queIdx],
          inputLength = _input.length,
          config = {
        inputLength: inputLength || 1
      };

      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, config, item);

      config = null;
      inputLength = null;
    },
    'color': function (queIdx, _input) {
      let item = this.queue[queIdx],
          contentWidth = item.content ? item.content.width || 270 : 270,
          contentMargin = item.content ? item.content.margin || 5 : 5,
          inputLength = _input.length,
          config = {
        contentWidth: contentWidth * inputLength + (inputLength - 1) * contentMargin,
        content: { width: contentWidth, margin: contentMargin },
        inputLength: inputLength || 1
      },
          $colorPreview = item.$target.find('[data-ax6picker-color="preview"]');

      if ($colorPreview.get(0)) {
        $colorPreview.css({ "background-color": "#" + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].color(_input.val() || "#000000").getHexValue() });
        // 컬러 피커인 경우 input의 값이 변경되면 preview를 수정
        _input.on("change", function () {
          $colorPreview.css({ "background-color": "#" + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].color(this.value || "#000000").getHexValue() });
        });
      }

      if (inputLength > 1 && !item.btns) {
        config.btns = {
          ok: { label: this.config.lang["ok"], theme: this.config.theme }
        };
      }

      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, config, item);

      contentWidth = null;
      contentMargin = null;
      config = null;
      inputLength = null;
    }
  };

  return function (queIdx) {
    let item = this.queue[queIdx],
        input;

    if (!item.content) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6picker", "501", "bind"));
      return this;
    }

    input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : item.$target.find('input[type]');

    // 함수타입
    if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isFunction(item.content)) {
      pickerType["@fn"].call(this, queIdx, input);
    } else {
      for (var key in pickerType) {
        if (item.content.type == key) {
          pickerType[key].call(this, queIdx, input);
          break;
        }
      }
    }

    input.off('focus.ax6picker').off('click.ax6picker').on('focus.ax6picker', pickerEvent.focus.bind(this, queIdx)).on('click.ax6picker', pickerEvent.click.bind(this, queIdx));

    item.$target.find('.input-group-addon').off('click.ax6picker').on('click.ax6picker', pickerEvent.click.bind(this, queIdx));

    if (item.content.formatter) {
      this.formatter.bind(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, item.content.formatter, { target: input }));
    }

    input = null;
    item = null;
    queIdx = null;
    return this;
  };
}();
const alignPicker = function (append) {
  if (!this.activePicker) return this;

  let _alignPicker = function (item) {
    let $window = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window),
        $body = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body);
    let pos = {},
        positionMargin = 12,
        dim = {},
        pickerDim = {},
        pickerDirection;

    pos = item.$target.offset();
    dim = {
      width: item.$target.outerWidth(),
      height: item.$target.outerHeight()
    };
    pickerDim = {
      winWidth: Math.max($window.width(), $body.width()),
      winHeight: Math.max($window.height(), $body.height()),
      width: this.activePicker.outerWidth(),
      height: this.activePicker.outerHeight()
    };

    // picker css(width, left, top) & direction 결정

    if (!item.direction || item.direction === "" || item.direction === "auto") {
      // set direction
      pickerDirection = "top";
      if (pos.top - pickerDim.height - positionMargin < 0) {
        pickerDirection = "top";
      } else if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {
        pickerDirection = "bottom";
      }
    } else {
      pickerDirection = item.direction;
    }

    if (append) {
      this.activePicker.addClass("direction-" + pickerDirection);
    }

    let positionCSS = function () {
      let css = { left: 0, top: 0 };
      switch (pickerDirection) {
        case "top":
          css.left = pos.left + dim.width / 2 - pickerDim.width / 2;
          css.top = pos.top + dim.height + positionMargin;
          break;
        case "bottom":
          css.left = pos.left + dim.width / 2 - pickerDim.width / 2;
          css.top = pos.top - pickerDim.height - positionMargin;
          break;
        case "left":
          css.left = pos.left + dim.width + positionMargin;
          css.top = pos.top - pickerDim.height / 2 + dim.height / 2;
          break;
        case "right":
          css.left = pos.left - pickerDim.width - positionMargin;
          css.top = pos.top - pickerDim.height / 2 + dim.height / 2;
          break;
      }
      return css;
    }();

    {
      if (pickerDirection == "top" || pickerDirection == "bottom") {
        if (positionCSS.left < 0) {
          positionCSS.left = positionMargin;
          this.activePickerArrow.css({ left: pos.left + dim.width / 2 - positionCSS.left });
        } else if (positionCSS.left + pickerDim.width > pickerDim.winWidth) {
          positionCSS.left = pickerDim.winWidth - pickerDim.width - positionMargin;
          this.activePickerArrow.css({ left: pos.left + dim.width / 2 - positionCSS.left });
        }
      }
    }

    this.activePicker.css(positionCSS);
  };
  let item = this.queue[this.activePickerQueueIndex];

  if (append) {
    this.activePicker.css({ top: -999 });
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.activePicker);
  }

  setTimeout(function () {
    _alignPicker.call(this, item);
  }.bind(this));
};
const onBodyClick = function (e, target) {
  if (!this.activePicker) return this;

  let item = this.queue[this.activePickerQueueIndex];

  target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-picker-els")) {
      return true;
    } else if (item.$target.get(0) == target) {
      return true;
    }
  });
  if (!target) {
    this.close();
    return this;
  }
  //console.log("i'm picker");
  return this;
};
const onBtnClick = function (e, target) {
  // console.log('btn click');
  if (e.srcElement) e.target = e.srcElement;

  target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-picker-btn")) {
      return true;
    }
  });

  if (target) {
    let item = this.queue[this.activePickerQueueIndex],
        k = target.getAttribute("data-picker-btn");

    if (item.btns && item.btns[k].onClick) {
      let that = {
        key: k,
        value: item.btns[k],
        self: this,
        item: item
      };
      item.btns[k].onClick.call(that, k);
    } else {
      this.close();
    }
  }
};
const onBodyKeyup = function (e) {
  if (e.keyCode == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.ESC) {
    this.close();
  }
};
const getQueIdx = function (boundID) {
  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(boundID)) {
    boundID = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(boundID).data("data-axpicker-id");
  }
  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(boundID)) {
    console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6picker", "402", "getQueIdx"));
    return;
  }
  return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(this.queue, function () {
    return this.id == boundID;
  });
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIPicker extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore__["a" /* default */] {
  /**
   * @constructor
   * @param config
   * @param [config.theme]
   * @param [config.target]
   * @param [config.animateTime]
   * @param [config.onStateChanged]
   * @param [config.onClick]
   * @param [config.content]
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.theme=default]
     * @param config.target
     * @param [config.animateTime=100]
     * @param [config.calendar]
     * @param [config.calendar.multipleSelect=false]
     * @param [config.calendar.control]
     * @param [config.calendar.control.left='&#x02190']
     * @param [config.calendar.control.yearTmpl='%s']
     * @param [config.calendar.control.monthTmpl='%s']
     * @param [config.calendar.control.right='&#x02192']
     * @param [config.calendar.control.yearFirst=true]
     * @param [config.palette={}]
     * @param [config.formatter={}]
     * @param [config.onStateChanged]
     * @param [config.onClick]
     */
    this.config = {
      clickEventName: "click", //(('ontouchstart' in document.documentElement) ? "touchend" : "click"),
      theme: 'default',
      title: '',
      lang: {
        "ok": "ok",
        "cancel": "cancel"
      },
      animateTime: 100,
      calendar: {
        multipleSelect: false,
        control: {
          left: '&#x02190',
          yearTmpl: '%s',
          monthTmpl: '%s',
          right: '&#x02192',
          yearFirst: true
        }
      },
      palette: {},
      formatter: {}
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * @member {Array}
     */
    this.queue = [];
    /**
     * @member {Object}
     */
    this.activePicker = null;
    /**
     * @member {Number}
     */
    this.activePickerQueueIndex = -1;
    /**
     * @member {Object}
     */
    this.openTimer = null;
    /**
     * @member {Object}
     */
    this.closeTimer = null;

    this.init();
  }

  /**
   * @method
   * @param config
   * @param [config.theme]
   * @param [config.target]
   * @param [config.animateTime]
   * @param [config.onStateChanged]
   * @param [config.onClick]
   * @param [config.content]
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;

    // formatter 인스턴스
    this.formatter = new __WEBPACK_IMPORTED_MODULE_5__AX6UIFormatter__["a" /* default */]();
  }

  /**
   * @method
   * @param item
   * @param {Element} item.target
   * @param {String} item.direction - top|left|right|bottom|auto
   * @param {Number} item.contentWidth
   * @param {Boolean} item.disableChangeTrigger
   * @param {Function} item.onStateChanged
   * @param {Object} item.btns
   * @param {Object} item.content
   * @param {Number} item.content.width
   * @param {Number} item.content.margin
   * @param {String} item.content.type
   * @param {Object} item.content.config - binded UI config
   * @param {Object} item.content.formatter
   * @param {String} item.content.formatter.pattern
   * @return {AX6UIPicker}
   * @example
   * ```js
   * import $ from "jqmin";
   * import Picker from "../../src/AX6UIPicker";
   *
   * let picker = new Picker();
   * picker.bind({
     *     target: $("#color-0"),
     *     direction: "auto",
     *     content: {
     *         width: 250,
     *         margin: 10,
     *         type: 'color',
     *         config: {
     *
     *         }
     *     },
     *     onStateChanged: function () {
     *
     *     }
     * });
   * ```
   */
  bind(item) {
    let pickerConfig = {},
        queIdx;
    item = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, pickerConfig, this.config, item);

    if (!item.target) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6picker", "401", "bind"));
      return this;
    }
    item.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.target);

    if (!item.$target.get(0)) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6picker", "401", "bind"));
      return this;
    }

    if (!item.id) item.id = item.$target.data("data-axpicker-id");
    if (!item.id) {
      item.id = 'ax6-picker-' + __WEBPACK_IMPORTED_MODULE_1__AX6UICore__["a" /* default */].getInstanceId();
      item.$target.data("data-axpicker-id", item.id);
    }
    queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(this.queue, function () {
      return this.id == item.id;
    });

    if (queIdx === -1) {
      this.queue.push(item);
      bindPickerTarget.call(this, this.queue.length - 1);
    } else {
      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.queue[queIdx], item);
      bindPickerTarget.call(this, queIdx);
    }

    pickerConfig = null;
    queIdx = null;
    return this;
  }

  /**
   * @method
   * @param boundID
   * @param inputIndex
   * @param val
   * @param _option
   * @return {AX6UIPicker}
   */
  setContentValue(boundID, inputIndex, val, _option) {
    const multipleInputProcessor = {
      "date": function (_item, _inputIndex, _val) {
        var values = [],
            diffDay,
            prevInputValue,
            nextInputValue;

        if (_item.$target.get(0).tagName.toUpperCase() !== "INPUT") {
          _item.$target.find('input[type]').each(function () {
            values.push(this.value);
          });
        }

        if (_inputIndex == 0) {
          if (values.length > 1 && values[1] !== "") {
            // 값 검증
            diffDay = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].dday(values[1], { today: values[0] });
            if (diffDay < 0) {
              // 다음날짜 달력을 변경합니다.
              nextInputValue = _val;
            } else {}
          } else {
            nextInputValue = _val;
          }

          if (nextInputValue) {
            _item.pickerCalendar[1].calendar.setSelection([nextInputValue], false).changeMode("d", nextInputValue);
            this.setContentValue(_item.id, 1, nextInputValue);
          }

          return _val;
        } else if (_inputIndex == 1) {

          if (values.length > 1) {
            // 값 검증
            diffDay = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].dday(values[1], { today: values[0] });
            if (diffDay < 0) {
              // 다음날짜 달력을 변경합니다.
              prevInputValue = values[1];
            }
          }

          if (prevInputValue) {
            _item.pickerCalendar[0].calendar.setSelection([prevInputValue], false).changeMode("d", prevInputValue);
            this.setContentValue(_item.id, 0, prevInputValue);
          }

          return _val;
        }
      }
    };

    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID),
        item = this.queue[queIdx],
        _input;

    if (!_option) _option = {};
    if (item) {

      _input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.$target.find('input[type]').get(inputIndex));
      _input.val(val);

      if (!item.disableChangeTrigger) {
        _input.trigger("change");
      } else {
        let $colorPreview = item.$target.find('[data-ax6picker-color="preview"]');
        if ($colorPreview.get(0)) {
          $colorPreview.css({ "background-color": val });
        }
      }

      // picker의 입력이 2개이상인 경우
      //console.log(item.inputLength);
      if (item.inputLength > 1) {
        // 경우에 따라 첫번 선택에 따라 해야할 일들 처리
        if (multipleInputProcessor[item.content.type]) {
          val = multipleInputProcessor[item.content.type].call(this, item, inputIndex, val);
        }
      }

      let that = {
        self: this,
        state: "changeValue",
        item: item,
        inputIndex: inputIndex,
        value: val,
        values: [val]
      };
      if (item.$target.get(0).tagName.toUpperCase() !== "INPUT") {
        that.values = [];
        item.$target.find('input[type]').each(function () {
          that.values.push(this.value);
        });
      }

      onStateChanged.call(this, item, that);

      if (item.inputLength == 1 && !_option.doNotClose) {
        this.close();
      }
    }

    item = null;
    boundID = null;
    inputIndex = null;
    val = null;
    return this;
  }

  /**
   * @method
   * @param boundID
   * @param inputIndex
   * @return {*}
   */
  getContentValue(boundID, inputIndex) {
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID),
        item = this.queue[queIdx],
        _input;

    if (item) {
      _input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.$target.find('input[type]').get(inputIndex));
      return _input.val();
    }

    item = null;
    boundID = null;
    inputIndex = null;
    return this;
  }

  /**
   * @method
   * @param boundID
   * @param tryCount
   * @return {AX6UIPicker}
   */
  open(boundID, tryCount) {
    const pickerContent = {
      '@fn': function (queIdx, callback) {
        let item = this.queue[queIdx];
        item.content.call(item, function (html) {
          callback(html);
        });
        return true;
      },
      'date': function (queIdx) {
        let item = this.queue[queIdx],
            html = [],
            calendarConfig = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.config.calendar, { displayDate: new Date() }),
            input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : item.$target.find('input[type]');

        for (let i = 0; i < item.inputLength; i++) {
          html.push('<div ' + 'style="width:' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(item.content.width) + ';float:left;" ' + 'class="ax-picker-content-box" ' + 'data-calendar-target="' + i + '"></div>');
          if (i < item.inputLength - 1) html.push('<div style="width:' + item.content.margin + 'px;float:left;height: 5px;"></div>');
        }
        html.push('<div style="clear:both;"></div>');
        item.pickerContent.html(html.join(''));

        // calendar bind
        item.pickerCalendar = [];
        item.pickerContent.find('[data-calendar-target]').each(function () {

          // calendarConfig extend ~
          let idx = this.getAttribute("data-calendar-target"),
              dValue = input.get(idx).value,
              d = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(dValue),
              dateConvert = {
            "year"(_d) {
              return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(_d, { "return": "yyyy" });
            },
            "month"(_d) {
              return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].date(_d, { "return": "yyyy-MM" });
            },
            "day"(_d) {
              return _d;
            }
          };

          calendarConfig.displayDate = d;

          if (dValue) calendarConfig.selection = [d];

          calendarConfig = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, calendarConfig, item.content.config || {});
          calendarConfig.target = this;
          calendarConfig.onClick = function () {
            self.setContentValue(item.id, idx, dateConvert[calendarConfig.selectMode || "day"](this.date));
          };

          item.pickerCalendar.push({
            itemId: item.id,
            inputIndex: idx,
            calendar: new __WEBPACK_IMPORTED_MODULE_6__AX6UICalendar__["a" /* default */](calendarConfig)
          });
        });
      },
      'secure-num': function (queIdx) {
        let item = this.queue[queIdx],
            html = [];
        for (let i = 0; i < item.inputLength; i++) {
          html.push('<div ' + 'style="width:' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(item.content.width) + ';float:left;" ' + 'class="ax-picker-content-box" ' + 'data-secure-num-target="' + i + '"></div>');
          if (i < item.inputLength - 1) html.push('<div style="width:' + item.content.margin + 'px;float:left;height: 5px;"></div>');
        }
        html.push('<div style="clear:both;"></div>');
        item.pickerContent.html(html.join(''));

        // secure-num bind
        item.pickerContent.find('[data-secure-num-target]').each((elIdx, el) => {
          let idx = el.getAttribute("data-secure-num-target"),
              po = [];

          let numArray = function (a) {
            let j, x, i;
            for (i = a.length; i; i -= 1) {
              j = Math.floor(Math.random() * i);
              x = a[i - 1];
              a[i - 1] = a[j];
              a[j] = x;
            }
            return a;
          }([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]);

          let specialArray = [{ label: "&#x02190", fn: "back" }, { label: "C", fn: "clear" }];

          numArray.forEach(function (n) {
            po.push('<div style="float:left;' + item.content.config.btnWrapStyle + '">');
            po.push('<button class="' + item.content.config.btnTheme + '" ' + 'style="' + item.content.config.btnStyle + '" data-secure-num-value="' + n + '">' + n + '</button>');
            po.push('</div>');
          });
          specialArray.forEach(function (n) {
            po.push('<div style="float:left;' + item.content.config.btnWrapStyle + '">');
            po.push('<button class="' + item.content.config.specialBtnTheme + '" ' + 'style="' + item.content.config.btnStyle + '" data-secure-num-value="' + n.fn + '">' + n.label + '</button>');
            po.push('</div>');
          });

          po.push('<div style="clear:both;"></div>');

          $(el).html(po.join('')).on("click", '[data-secure-num-value]', e => {
            let act = e.currentTarget.getAttribute("data-secure-num-value");
            let _input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.$target.find('input[type]').get(idx));
            let val = _input.val();

            if (act == "back") {
              _input.val(val.substring(0, val.length - 1));
            } else if (act == "clear") {
              _input.val('');
            } else {
              _input.val(val + act);
            }

            onStateChanged.call(this, item, {
              self: this,
              state: "changeValue",
              item: item,
              value: _input.val()
            });
          });
        });
      },
      'keyboard': function (queIdx) {
        let item = this.queue[queIdx];
        let html = [];
        for (let i = 0; i < item.inputLength; i++) {
          html.push('<div ' + 'style="width:' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(item.content.width) + ';float:left;" ' + 'class="ax-picker-content-box" ' + 'data-keyboard-target="' + i + '"></div>');
          if (i < item.inputLength - 1) html.push('<div style="width:' + item.content.margin + 'px;float:left;height: 5px;"></div>');
        }
        html.push('<div style="clear:both;"></div>');
        item.pickerContent.html(html.join(''));

        let keyArray = [[{ value: "`", shiftValue: "~" }, { value: "1", shiftValue: "!" }, { value: "2", shiftValue: "@" }, { value: "3", shiftValue: "#" }, { value: "4", shiftValue: "$" }, { value: "5", shiftValue: "%" }, { value: "6", shiftValue: "^" }, { value: "7", shiftValue: "&" }, { value: "8", shiftValue: "*" }, { value: "9", shiftValue: "(" }, { value: "0", shiftValue: ")" }, { value: "-", shiftValue: "_" }, { value: "=", shiftValue: "+" }, { label: "&#x02190", fn: "back" }], [{ value: "q", shiftValue: "Q" }, { value: "w", shiftValue: "W" }, { value: "e", shiftValue: "E" }, { value: "r", shiftValue: "R" }, { value: "t", shiftValue: "T" }, { value: "y", shiftValue: "Y" }, { value: "u", shiftValue: "U" }, { value: "i", shiftValue: "I" }, { value: "o", shiftValue: "O" }, { value: "p", shiftValue: "P" }, { value: "[", shiftValue: "{" }, { value: "]", shiftValue: "}" }, { value: "\\", shiftValue: "|" }], [{ label: "Clear", fn: "clear" }, { value: "a", shiftValue: "A" }, { value: "s", shiftValue: "S" }, { value: "d", shiftValue: "D" }, { value: "f", shiftValue: "F" }, { value: "g", shiftValue: "G" }, { value: "h", shiftValue: "H" }, { value: "j", shiftValue: "J" }, { value: "k", shiftValue: "K" }, { value: "l", shiftValue: "L" }, { value: ";", shiftValue: ":" }, { value: "'", shiftValue: "\"" }], [{ label: "Shift", fn: "shift" }, { value: "z", shiftValue: "Z" }, { value: "x", shiftValue: "X" }, { value: "c", shiftValue: "C" }, { value: "v", shiftValue: "V" }, { value: "b", shiftValue: "B" }, { value: "n", shiftValue: "N" }, { value: "m", shiftValue: "M" }, { value: ",", shiftValue: "<" }, { value: ".", shiftValue: ">" }, { value: "/", shiftValue: "?" }, { label: "Close", fn: "close" }]];
        let specialArray = [{ label: "&#x02190", fn: "back" }, { label: "C", fn: "clear" }];
        const getKeyBoard = function (isShiftKey) {
          let po = [];
          keyArray.forEach(function (row) {
            po.push('<div style="display: table;margin:0 auto;">');
            row.forEach(function (n) {

              let keyValue, keyLabel, btnWrapStyle, btnTheme, btnStyle;
              if (n.fn) {
                keyValue = n.fn;
                keyLabel = n.label;
                btnWrapStyle = item.content.config.specialBtnWrapStyle;
                btnTheme = item.content.config.specialBtnTheme;
                btnStyle = item.content.config.specialBtnStyle;
              } else {
                keyLabel = keyValue = isShiftKey ? n.shiftValue : n.value;
                btnWrapStyle = item.content.config.btnWrapStyle;
                btnTheme = item.content.config.btnTheme;
                btnStyle = item.content.config.btnStyle;
              }

              po.push('<div style="display: table-cell;' + btnWrapStyle + '">');
              po.push('<button class="' + btnTheme + '" ' + 'style="' + btnStyle + '" data-keyboard-value="' + keyValue + '">' + keyLabel + '</button>');
              po.push('</div>');
            });
            po.push('</div>');
          });
          return po.join('');
        };

        // secure-num bind
        item.pickerContent.find('[data-keyboard-target]').each(function () {
          let idx = this.getAttribute("data-keyboard-target"),
              $this = $(this),
              isShiftKey = false,
              toggleShift = function () {
            isShiftKey = !isShiftKey;
            $this.html(getKeyBoard(isShiftKey));
          };

          $this.html(getKeyBoard(isShiftKey)).on("mousedown", '[data-keyboard-value]', function () {
            let act = this.getAttribute("data-keyboard-value"),
                _input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.$target.find('input[type]').get(idx)),
                val = _input.val();

            switch (act) {
              case "back":
                _input.val(val.substring(0, val.length - 1));
                break;
              case "clear":
                _input.val('');
                break;
              case "shift":
                toggleShift();
                return false;
                break;
              case "close":
                self.close();
                return false;
                break;
              default:
                _input.val(val + act);
            }

            onStateChanged.call(this, item, {
              self: self,
              state: "changeValue",
              item: item,
              value: _input.val()
            });
          });
        });
      },
      'numpad': function (queIdx) {
        let item = this.queue[queIdx],
            html = [];
        for (let i = 0; i < item.inputLength; i++) {
          html.push('<div ' + 'style="width:' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(item.content.width) + ';float:left;" ' + 'class="ax-picker-content-box" ' + 'data-numpad-target="' + i + '"></div>');
          if (i < item.inputLength - 1) html.push('<div style="width:' + item.content.margin + 'px;float:left;height: 5px;"></div>');
        }
        html.push('<div style="clear:both;"></div>');
        item.pickerContent.html(html.join(''));

        // secure-num bind
        item.pickerContent.find('[data-numpad-target]').each(function () {
          let idx = this.getAttribute("data-numpad-target"),
              po = [],
              keyArray = item.content.config.keyArray || [{ value: "7" }, { value: "8" }, { value: "9" }, { label: "BS", fn: "back" }, { value: "4" }, { value: "5" }, { value: "6" }, { label: "CLS", fn: "clear" }, { value: "1" }, { value: "2" }, { value: "3" }, { value: "" }, { value: "." }, { value: "0" }, { value: "" }, { label: "OK", fn: "enter" }];

          keyArray.forEach(function (n) {
            let keyValue, keyLabel, btnWrapStyle, btnTheme, btnStyle;

            if (n.fn) {
              keyValue = n.fn;
              keyLabel = n.label;
              btnTheme = item.content.config.specialBtnTheme;
              btnWrapStyle = item.content.config.specialBtnWrapStyle;
              btnStyle = item.content.config.specialBtnStyle;
            } else {
              keyLabel = keyValue = n.value;
              btnTheme = keyValue ? item.content.config.btnTheme : "";
              btnWrapStyle = item.content.config.btnWrapStyle;
              btnStyle = item.content.config.btnStyle;
            }

            po.push('<div style="float:left;' + btnWrapStyle + '">');
            po.push('<button class="btn btn-default btn-' + btnTheme + '" ' + 'style="' + btnStyle + '" data-numpad-value="' + keyValue + '">' + (keyLabel || "&nbsp;") + '</button>');
            po.push('</div>');
          });

          po.push('<div style="clear:both;"></div>');

          $(this).html(po.join('')).on("mousedown", '[data-numpad-value]', function () {
            let act = this.getAttribute("data-numpad-value"),
                _input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.$target.find('input[type]').get(idx)),
                val = _input.val(),
                state = "";

            switch (act) {
              case "back":
                state = "changeValue";
                _input.val(val.substring(0, val.length - 1));
                break;
              case "clear":
                state = "changeValue";
                _input.val('');
                break;
              case "enter":
                self.close(item, "enter");
                return false;
                break;
              case "close":
                self.close();
                return false;
                break;
              default:
                state = "changeValue";
                _input.val(val + act);
            }

            onStateChanged.call(this, item, {
              self: self,
              state: state,
              item: item,
              value: _input.val()
            });
          });
        });
      },
      'color': function (queIdx) {
        let item = this.queue[queIdx],
            html = [],
            paletteConfig = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.config.palette),
            input = item.$target.get(0).tagName.toUpperCase() == "INPUT" ? item.$target : item.$target.find('input[type]');

        for (let i = 0; i < item.inputLength; i++) {
          html.push('<div ' + 'style="padding: 5px;width:' + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].cssNumber(item.content.width) + ';float:left;" ' + 'class="ax-picker-content-box" ' + 'data-palette-target="' + i + '" data-ax5palette="ax6picker-' + item.id + '"></div>');
          if (i < item.inputLength - 1) html.push('<div style="width:' + item.content.margin + 'px;float:left;height: 5px;"></div>');
        }
        html.push('<div style="clear:both;"></div>');
        item.pickerContent.html(html.join(''));

        // calendar bind
        item.pickerPalette = [];
        item.pickerContent.find('[data-palette-target]').each(function () {
          // calendarConfig extend ~
          let idx = this.getAttribute("data-palette-target"),
              dColor = input.get(idx).value;

          paletteConfig.selectedColor = dColor;
          paletteConfig = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, paletteConfig, item.content.config || {});
          paletteConfig.target = this;
          paletteConfig.onClick = function (color) {
            self.setContentValue(item.id, idx, color);
          };
          paletteConfig.onUpdateColor = function (color) {
            self.setContentValue(item.id, idx, color, { doNotClose: true });
          };

          item.pickerPalette.push({
            itemId: item.id,
            inputIndex: idx,
            palette: new __WEBPACK_IMPORTED_MODULE_7__AX6UIPalette__["a" /* default */](paletteConfig)
          });
        });
      }
    };

    let self = this;
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID),
        item = this.queue[queIdx];

    /**
     다른 피커가 있는 경우와 다른 피커를 닫고 다시 오픈 명령이 내려진 경우에 대한 예외 처리 구문
     */
    if (this.openTimer) clearTimeout(this.openTimer);
    if (this.activePicker) {
      if (this.activePickerQueueIndex == queIdx) {
        return this;
      }

      if (tryCount > 2) return this;
      this.close();
      this.openTimer = setTimeout(function () {
        this.open(queIdx, (tryCount || 0) + 1);
      }.bind(this), this.config.animateTime);
      return this;
    }

    this.activePicker = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.pickerTmpl.call(this), item));
    this.activePickerArrow = this.activePicker.find(".ax-picker-arrow");
    this.activePickerQueueIndex = queIdx;
    item.pickerContent = this.activePicker.find('[data-picker-els="content"]');

    if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isFunction(item.content)) {
      // 함수타입
      item.pickerContent.html("Loading..");
      pickerContent["@fn"].call(this, queIdx, function (html) {
        item.pickerContent.html(html);
      });
    } else {
      if (item.content.type in pickerContent) {
        pickerContent[item.content.type].call(this, queIdx);
      }
    }

    // bind event picker btns
    this.activePicker.find("[data-picker-btn]").on(this.config.clickEventName, function (e) {
      onBtnClick.call(this, e || window.event, queIdx);
    }.bind(this));

    alignPicker.call(this, "append");

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("resize.ax6picker", __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].throttle(function (e) {
      alignPicker.call(this, e || window.event);
    }, 100).bind(this)).on("keyup.ax6picker", e => {
      e = e || window.event;
      onBodyKeyup.call(this, e);
      __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
    }).on("click.ax6picker", e => {
      e = e || window.event;
      onBodyClick.call(this, e);
      __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
    });

    onStateChanged.call(this, item, {
      self: this,
      state: "open",
      item: item
    });

    return this;
  }

  /**
   * @method
   * @param item
   * @param state
   * @return {AX6UIPicker}
   */
  close(item, state) {
    if (this.closeTimer) clearTimeout(this.closeTimer);
    if (!this.activePicker) return this;

    item = this.queue[this.activePickerQueueIndex];

    this.activePicker.addClass("destroy");
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6picker");
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("click.ax6picker");
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("keyup.ax6picker");

    this.closeTimer = setTimeout(function () {
      if (this.activePicker) this.activePicker.remove();
      this.activePicker = null;
      this.activePickerQueueIndex = -1;

      onStateChanged.call(this, item, {
        self: this,
        state: state || "close"
      });
    }.bind(this), this.config.animateTime);

    return this;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIPicker);

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);





/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let ctrlKeys = {
  "18": "KEY_ALT",
  "8": "KEY_BACKSPACE",
  "17": "KEY_CONTROL",
  "46": "KEY_DELETE",
  "40": "KEY_DOWN",
  "35": "KEY_END",
  "187": "KEY_EQUAL",
  "27": "KEY_ESC",
  "36": "KEY_HOME",
  "45": "KEY_INSERT",
  "37": "KEY_LEFT",
  "189": "KEY_MINUS",
  "34": "KEY_PAGEDOWN",
  "33": "KEY_PAGEUP",
  // "190": "KEY_PERIOD",
  "13": "KEY_RETURN",
  "39": "KEY_RIGHT",
  "16": "KEY_SHIFT",
  // "32": "KEY_SPACE",
  "9": "KEY_TAB",
  "38": "KEY_UP",
  "91": "KEY_WINDOW"
  //"107" : "NUMPAD_ADD",
  //"194" : "NUMPAD_COMMA",
  //"110" : "NUMPAD_DECIMAL",
  //"111" : "NUMPAD_DIVIDE",
  //"12" : "NUMPAD_EQUAL",
  //"106" : "NUMPAD_MULTIPLY",
  //"109" : "NUMPAD_SUBTRACT"
};
let tmpl = {
  "display"(columnKeys) {
    return `
<a {{^tabIndex}}href="#ax6ui-select-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}class="ax6ui-select-display {{theme}}" 
data-ax6ui-select-display="{{id}}" data-ax6ui-select-instance="{{instanceId}}" style="height: {{height}}px;">
    <div class="ax6ui-select-display-table" data-els="display-table">
        <div data-ax6ui-select-display="label">{{label}}</div>
        <div data-ax6ui-select-display="addon"> 
            {{#multiple}}{{#reset}}
            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>
            {{/reset}}{{/multiple}}
            {{#icons}}
            <span class="addon-icon-closed">{{clesed}}</span>
            <span class="addon-icon-opened">{{opened}}</span>
            {{/icons}}
            {{^icons}}
            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>
            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>
            {{/icons}}
        </div>
    </div>
    <input type="text" tabindex="-1" data-ax6ui-select-display="input" 
    style="position:absolute;z-index:0;left:0px;top:0px;font-size:1px;opacity: 0;width:1px;height:1px;border: 0 none;color : transparent;text-indent: -9999em;" />
</a>
`;
  },
  "select"(columnKeys) {
    return `
<select tabindex="-1" class="" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}} style="height: {{height}}px;"></select>
`;
  },
  "optionGroup"(columnKeys) {
    return `
<div class="ax6ui-select-option-group {{theme}}" data-ax6ui-select-option-group="{{id}}">
    <div class="ax-select-body">
        <div class="ax-select-option-group-content" data-els="content"></div>
    </div>
    <div class="ax-select-arrow"></div> 
</div>
`;
  },
  "options"(columnKeys) {
    return `
{{#waitOptions}}
    <div class="ax-select-option-item">
            <div class="ax-select-option-item-holder">
                <span class="ax-select-option-item-cell ax-select-option-item-label">
                    {{{lang.loading}}}
                </span>
            </div>
        </div>
{{/waitOptions}}
{{^waitOptions}}
    {{#options}}
        {{#optgroup}}
            <div class="ax-select-option-group">
                <div class="ax-select-option-item-holder">
                    <span class="ax-select-option-group-label">
                        {{{.}}}
                    </span>
                </div>
                {{#options}}
                <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" 
                data-option-value="{{${columnKeys.optionValue}}}" 
                {{#${columnKeys.optionSelected}}}data-option-selected="true"{{/${columnKeys.optionSelected}}}>
                    <div class="ax-select-option-item-holder">
                        {{#multiple}}
                        <span class="ax-select-option-item-cell ax-select-option-item-checkbox">
                            <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>
                        </span>
                        {{/multiple}}
                        <span class="ax-select-option-item-cell ax-select-option-item-label">{{{${columnKeys.optionText}}}}</span>
                    </div>
                </div>
                {{/options}}
            </div>                            
        {{/optgroup}}
        {{^optgroup}}
        <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{${columnKeys.optionValue}}}" {{#${columnKeys.optionSelected}}}data-option-selected="true"{{/${columnKeys.optionSelected}}}>
            <div class="ax-select-option-item-holder">
                {{#multiple}}
                <span class="ax-select-option-item-cell ax-select-option-item-checkbox">
                    <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>
                </span>
                {{/multiple}}
                <span class="ax-select-option-item-cell ax-select-option-item-label">{{{${columnKeys.optionText}}}}</span>
            </div>
        </div>
        {{/optgroup}}
    {{/options}}
    {{^options}}
        <div class="ax-select-option-item">
            <div class="ax-select-option-item-holder">
                <span class="ax-select-option-item-cell ax-select-option-item-label">
                    {{{lang.noOptions}}}
                </span>
            </div>
        </div>
    {{/options}}
{{/waitOptions}}
`;
  }
};

const $window = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window);
const onStateChanged = function (item, that) {
  if (item && item.onStateChanged) {
    item.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  if (that.state == "changeValue") {
    if (item && item.onChange) {
      item.onChange.call(that, that);
    } else if (this.onChange) {
      this.onChange.call(that, that);
    }
  }

  item = null;
  that = null;
  return true;
};
const alignSelectDisplay = function () {
  let i = this.queue.length,
      w;
  while (i--) {
    if (this.queue[i].$display) {
      w = Math.max(this.queue[i].$select.outerWidth(), __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(this.queue[i].minWidth));
      this.queue[i].$display.css({
        "min-width": w
      });
      if (this.queue[i].reset) {
        this.queue[i].$display.find(".addon-icon-reset").css({
          "line-height": this.queue[i].$display.height() + "px"
        });
      }
    }
  }

  i = null;
  w = null;
  return this;
};
const alignSelectOptionGroup = function (append) {
  if (!this.activeSelectOptionGroup) return this;

  let item = this.queue[this.activeSelectQueueIndex],
      pos = {},
      positionMargin = 0,
      dim = {},
      pickerDim = {},
      pickerDirection;

  if (append) __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.activeSelectOptionGroup);

  pos = item.$target.offset();
  dim = {
    width: item.$target.outerWidth(),
    height: item.$target.outerHeight()
  };
  pickerDim = {
    winWidth: Math.max($window.width(), __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).width()),
    winHeight: Math.max($window.height(), __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).height()),
    width: this.activeSelectOptionGroup.outerWidth(),
    height: this.activeSelectOptionGroup.outerHeight()
  };

  // picker css(width, left, top) & direction 결정
  if (!item.direction || item.direction === "" || item.direction === "auto") {
    // set direction
    pickerDirection = "top";

    if (pos.top - pickerDim.height - positionMargin < 0) {
      pickerDirection = "top";
    } else if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {
      pickerDirection = "bottom";
    }
  } else {
    pickerDirection = item.direction;
  }
  // todo : 표현할 공간이 없다면..
  if (append) {
    this.activeSelectOptionGroup.addClass("direction-" + pickerDirection);
  }
  this.activeSelectOptionGroup.css(function () {
    if (pickerDirection == "top") {
      if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {

        var newTop = pos.top + dim.height / 2 - pickerDim.height / 2;
        if (newTop + pickerDim.height + positionMargin > pickerDim.winHeight) {
          newTop = 0;
        }
        if (newTop < 0) {
          newTop = 0;
        }

        return {
          left: pos.left,
          top: newTop,
          width: dim.width
        };
      }
      return {
        left: pos.left,
        top: pos.top + dim.height + 1,
        width: dim.width
      };
    } else if (pickerDirection == "bottom") {
      return {
        left: pos.left,
        top: pos.top - pickerDim.height - 1,
        width: dim.width
      };
    }
  }.call(this));
};
const onBodyClick = function (e, target) {
  if (!this.activeSelectOptionGroup) return this;

  let item = this.queue[this.activeSelectQueueIndex],
      clickEl = "display";

  target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-option-value") || target.getAttribute("data-option-value") == "") {
      clickEl = "optionItem";
      return true;
    } else if (item.$target.get(0) == target) {
      clickEl = "display";
      return true;
    }
  });

  if (!target) {
    this.close();
    return this;
  } else if (clickEl === "optionItem") {
    this.val(item.id, {
      index: {
        gindex: target.getAttribute("data-option-group-index"),
        index: target.getAttribute("data-option-index")
      }
    }, undefined, "internal");
    item.$select.trigger("change");
    item.$display.focus();
    if (!item.multiple) this.close();
  } else {
    //open and display click
    //console.log(this.instanceId);
  }

  return this;
};
const onBodyKeyup = function (e) {
  if (e.keyCode == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.ESC) {
    this.close();
  } else if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.RETURN) {
    if (this.queue[this.activeSelectQueueIndex].optionFocusIndex > -1) {
      // 아이템에 포커스가 활성화 된 후, 마우스 이벤트 이면 무시
      let $option = this.activeSelectOptionGroup.find('[data-option-focus-index="' + this.queue[this.activeSelectQueueIndex].optionFocusIndex + '"]');
      this.val(this.queue[this.activeSelectQueueIndex].id, {
        index: {
          gindex: $option.attr("data-option-group-index"),
          index: $option.attr("data-option-index")
        }
      }, undefined, "internal");
      this.queue[this.activeSelectQueueIndex].$select.trigger("change");
      if (!this.queue[this.activeSelectQueueIndex].multiple) this.close();
    } else {
      this.close();
    }
  }
};
const getLabel = function (queIdx) {
  let item = this.queue[queIdx],
      labels = [];

  if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(item.selected) && item.selected.length > 0) {
    item.selected.forEach(function (n) {
      if (n.selected) labels.push(n[item.columnKeys.optionText]);
    });
  } else {
    if (!item.multiple && item.options && item.options[0]) {
      if (item.options[0].optgroup) {
        labels[0] = item.options[0].options[0][item.columnKeys.optionText];
      } else {
        labels[0] = item.options[0][item.columnKeys.optionText];
      }
    } else {
      labels[0] = item.lang.noSelected;
    }
  }

  return function () {
    if (item.multiple && labels.length > 1) {
      let data = {
        label: labels[0],
        length: labels.length - 1
      };
      return __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(item.lang.multipleLabel, data);
    } else {
      return labels[0];
    }
  }();
};
const syncLabel = function (queIdx) {
  this.queue[queIdx].$displayLabel.html(getLabel.call(this, queIdx));
};
const focusWord = function (queIdx, searchWord) {
  let options = [],
      i = -1,
      l = this.queue[queIdx].indexedOptions.length - 1,
      n;
  if (searchWord) {
    while (l - i++) {
      n = this.queue[queIdx].indexedOptions[i];
      if (('' + n.value).toLowerCase() == searchWord.toLowerCase()) {
        options = [{ '@findex': n['@findex'], optionsSort: 0 }];
        break;
      } else {
        let sort = ('' + n.value).toLowerCase().search(searchWord.toLowerCase());
        if (sort > -1) {
          options.push({ '@findex': n['@findex'], optionsSort: sort });
          if (options.length > 2) break;
        }
        sort = null;
      }
    }
    options.sort(function (a, b) {
      return a.optionsSort - b.optionsSort;
    });
  }
  if (options && options.length > 0) {
    focusMove.call(this, queIdx, undefined, options[0]['@findex']);
  }

  try {
    return options;
  } finally {
    options = null;
    i = null;
    l = null;
    n = null;
  }
};
const focusMove = function (queIdx, direction, findex) {
  let _focusIndex, _prevFocusIndex, focusOptionEl, optionGroupScrollContainer;

  if (this.activeSelectOptionGroup && this.queue[queIdx].options && this.queue[queIdx].options.length > 0) {

    if (typeof findex !== "undefined") {
      _focusIndex = findex;
    } else {
      _prevFocusIndex = this.queue[queIdx].optionFocusIndex == -1 ? this.queue[queIdx].optionSelectedIndex || -1 : this.queue[queIdx].optionFocusIndex;
      if (_prevFocusIndex == -1) {
        _focusIndex = direction > 0 ? 0 : this.queue[queIdx].optionItemLength - 1;
      } else {
        _focusIndex = _prevFocusIndex + direction;
        if (_focusIndex < 0) _focusIndex = 0;else if (_focusIndex > this.queue[queIdx].optionItemLength - 1) _focusIndex = this.queue[queIdx].optionItemLength - 1;
      }
    }

    this.queue[queIdx].optionFocusIndex = _focusIndex;

    this.activeSelectOptionGroup.find('[data-option-focus-index]').removeClass("hover");

    focusOptionEl = this.activeSelectOptionGroup.find('[data-option-focus-index="' + _focusIndex + '"]').addClass("hover");

    optionGroupScrollContainer = this.activeSelectOptionGroup.find('[data-els="content"]');

    let focusOptionElHeight = focusOptionEl.outerHeight(),
        optionGroupScrollContainerHeight = optionGroupScrollContainer.innerHeight(),
        optionGroupScrollContainerScrollTop = optionGroupScrollContainer.scrollTop(),
        focusOptionElTop = focusOptionEl.position().top + optionGroupScrollContainer.scrollTop();

    if (optionGroupScrollContainerHeight + optionGroupScrollContainerScrollTop < focusOptionElTop + focusOptionElHeight) {
      optionGroupScrollContainer.scrollTop(focusOptionElTop + focusOptionElHeight - optionGroupScrollContainerHeight);
    } else if (optionGroupScrollContainerScrollTop > focusOptionElTop) {
      optionGroupScrollContainer.scrollTop(focusOptionElTop);
    }
    // optionGroup scroll check
  }
};
const bindSelectTarget = function (queIdx) {
  const selectEvent = {
    'click': function (queIdx, e) {
      let target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
        if (target.getAttribute("data-selected-clear")) {
          //clickEl = "clear";
          return true;
        }
      });

      if (target) {
        this.val(queIdx, { clear: true });
      } else {
        if (this.activeSelectQueueIndex == queIdx) {
          if (this.queue[queIdx].optionFocusIndex == -1) {
            // 아이템에 포커스가 활성화 된 후, 마우스 이벤트 이면 무시
            this.close();
          }
        } else {
          this.open(queIdx);
          __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
        }
      }
    },
    'keyUp': function (queIdx, e) {
      if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.SPACE) {
        selectEvent.click.call(this, queIdx, e);
      } else if (!ctrlKeys[e.which]) {
        // 사용자 입력이 뜸해지면 찾고 검색 값 제거...
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].debounce(function (searchWord, queIdx) {
          focusWord.call(this, queIdx, searchWord);
          this.queue[queIdx].$displayInput.val('');
        }, 300).call(this, this.queue[queIdx].$displayInput.val(), queIdx);
      }
    },
    'keyDown': function (queIdx, e) {
      if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.DOWN) {
        focusMove.call(this, queIdx, 1);
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      } else if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.UP) {
        focusMove.call(this, queIdx, -1);
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      }
    },
    'blur': function (queIdx, e) {},
    'selectChange': function (queIdx, e) {
      this.val(queIdx, this.queue[queIdx].$select.val(), true);
    }
  };

  let item = this.queue[queIdx],
      data = {};

  // find selected
  item.selected = [];
  if (!item.options) item.options = [];
  item.options.forEach(n => {
    if (n[this.config.columnKeys.optionSelected]) item.selected.push(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, n));
  });

  if (!item.$display) {
    /// 템플릿에 전달할 오브젝트 선언
    data.instanceId = this.instanceId;
    data.id = item.id;
    data.name = item.name;
    data.theme = item.theme;
    data.tabIndex = item.tabIndex;
    data.multiple = item.multiple;
    data.reset = item.reset;
    data.height = item.height;
    data.label = getLabel.call(this, queIdx);

    item.$display = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.display.call(this), data));
    //item.$display.css({height: item.height});
    item.$displayLabel = item.$display.find('[data-ax6ui-select-display="label"]');

    if (item.$target.find("select").get(0)) {
      item.$select = item.$target.find("select");
      // select 속성만 변경
      item.$select.attr("tabindex", "-1").css({ height: data.height });

      if (data.name) {
        item.$select.attr("name", "name");
      }
      if (data.multiple) {
        item.$select.attr("multiple", "multiple");
      }
    } else {
      item.$select = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.select.call(this), data));
      item.$target.append(item.$select);
      // select append
    }

    item.$target.append(item.$display);
    item.$displayInput = item.$display.find('[data-ax6ui-select-display="input"]'); // 사용자 입력값을 받기위한 숨음 입력필드
    item.options = syncSelectOptions.call(this, queIdx, item.options);

    alignSelectDisplay.call(this);

    item.$displayInput.off("blur.ax6ui-select").on("blur.ax6ui-select", selectEvent.blur.bind(this, queIdx)).off('keyup.ax6ui-select').on('keyup.ax6ui-select', selectEvent.keyUp.bind(this, queIdx)).off("keydown.ax6ui-select").on("keydown.ax6ui-select", selectEvent.keyDown.bind(this, queIdx));
  } else {
    item.$displayLabel.html(getLabel.call(this, queIdx));
    item.options = syncSelectOptions.call(this, queIdx, item.options);

    alignSelectDisplay.call(this);
  }

  item.$display.off('click.ax6ui-select').on('click.ax6ui-select', selectEvent.click.bind(this, queIdx)).off('keyup.ax6ui-select').on('keyup.ax6ui-select', selectEvent.keyUp.bind(this, queIdx));

  // select 태그에 대한 change 이벤트 감시
  item.$select.off('change.ax6ui-select').on('change.ax6ui-select', selectEvent.selectChange.bind(this, queIdx));

  data = null;
  item = null;
  queIdx = null;
  return this;
};
const syncSelectOptions = function (queIdx, options) {
  const setSelected = function (queIdx, O) {
    if (!O) {
      this.queue[queIdx].selected = [];
    } else {
      if (this.queue[queIdx].multiple) this.queue[queIdx].selected.push(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, O));else this.queue[queIdx].selected[0] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, O);
    }
  };

  let item = this.queue[queIdx],
      po,
      elementOptions,
      newOptions,
      focusIndex = 0;

  setSelected.call(this, queIdx, false); // item.selected 초기화

  if (options) {
    item.options = options;
    item.indexedOptions = [];

    // select options 태그 생성
    po = [];
    item.options.forEach((O, OIndex) => {
      if (O.optgroup) {

        O['@gindex'] = OIndex;
        O.options.forEach((OO, OOIndex) => {
          OO['@index'] = OOIndex;
          OO['@findex'] = focusIndex;
          po.push('<option value="' + OO[item.columnKeys.optionValue] + '" ' + (OO[item.columnKeys.optionSelected] ? ' selected="selected"' : '') + '>' + OO[item.columnKeys.optionText] + '</option>');
          if (OO[item.columnKeys.optionSelected]) {
            setSelected.call(this, queIdx, OO);
          }

          item.indexedOptions.push({
            '@findex': focusIndex, value: OO[item.columnKeys.optionValue], text: OO[item.columnKeys.optionText]
          });
          focusIndex++;
        });
      } else {
        O['@index'] = OIndex;
        O['@findex'] = focusIndex;
        po.push('<option value="' + O[item.columnKeys.optionValue] + '" ' + (O[item.columnKeys.optionSelected] ? ' selected="selected"' : '') + '>' + O[item.columnKeys.optionText] + '</option>');
        if (O[item.columnKeys.optionSelected]) {
          setSelected.call(this, queIdx, O);
        }

        item.indexedOptions.push({
          '@findex': focusIndex, value: O[item.columnKeys.optionValue], text: O[item.columnKeys.optionText]
        });
        focusIndex++;
      }
    });
    item.optionItemLength = focusIndex;
    item.$select.html(po.join(''));
  } else {
    /// select > options 태그로 스크립트 options를 만들어주는 역할
    elementOptions = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].toArray(item.$select.get(0).options);
    // select option 스크립트 생성
    newOptions = [];
    elementOptions.forEach((O, OIndex) => {
      let option = {};

      option[item.columnKeys.optionValue] = O.value;
      option[item.columnKeys.optionText] = O.text;
      option[item.columnKeys.optionSelected] = O.selected;
      option['@index'] = OIndex;
      option['@findex'] = OIndex;
      if (O.selected) setSelected.call(this, queIdx, option);
      newOptions.push(option);

      option = null;
    });
    item.options = newOptions;
    item.indexedOptions = newOptions;
  }

  if (!item.multiple && item.selected.length == 0 && item.options && item.options[0]) {
    if (item.options[0].optgroup) {
      item.options[0].options[0][item.columnKeys.optionSelected] = true;
      item.selected.push(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, item.options[0].options[0]));
    } else {
      item.options[0][item.columnKeys.optionSelected] = true;
      item.selected.push(__WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, item.options[0]));
    }
  }

  po = null;
  elementOptions = null;
  newOptions = null;
  return item.options;
};
const getQueIdx = function (boundID) {
  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(boundID)) {
    boundID = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(boundID).data("data-ax6ui-select-id");
  }
  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(boundID)) {
    console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-select", "402", "getQueIdx"));
    return;
  }
  return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(this.queue, function () {
    return this.id == boundID;
  });
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UISelect extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.theme='default']
     * @param [config.animateTime=100]
     * @param [config.height=34]
     * @param [config.lang] - 메세지들
     * @param [config.lang.noSelected='']
     * @param [config.lang.noOptions='no options']
     * @param [config.lang.loading='now loading..']
     * @param [config.lang.multipleLabel='"{{label}}"외 {{length}}건']
     * @param [config.columnKeys] - 내부에서 사용 JSON key 정의
     * @param [config.columnKeys.optionValue='value']
     * @param [config.columnKeys.optionText='text']
     * @param [config.columnKeys.optionSelected='selected']
     */
    this.config = {
      theme: 'default',
      animateTime: 100,
      height: 34,
      lang: {
        noSelected: '',
        noOptions: 'no options',
        loading: 'now loading..',
        multipleLabel: '"{{label}}"외 {{length}}건'
      },
      columnKeys: {
        optionValue: 'value',
        optionText: 'text',
        optionSelected: 'selected'
      }
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * bind를 통해 연결된 select가 저장되는 변수
     * @member {Array}
     */
    this.queue = [];
    /**
     * @member {Object}
     */
    this.activeSelectOptionGroup = null;
    /**
     * @member {Number}
     */
    this.activeSelectQueueIndex = -1;
    /**
     * @member {Object}
     */
    this.openTimer = null;
    /**
     * @member {Object}
     */
    this.closeTimer = null;
    /**
     * @member {Function}
     */
    this.waitOptionsCallback = null;
    /**
     * @member {Object}
     */
    this.keyUpTimer = null;
    /**
     * @member {Object}
     */
    this.xvar = {};

    this.init();
  }

  /**
   * @method
   * @param config
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;
    this.onChange = this.config.onChange;
    delete this.config.onChange;

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;

    // throttledResize
    $window.on("resize.ax6ui-select-display-" + this.instanceId, __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].throttle(function (e) {
      alignSelectDisplay.call(this, e || window.event);
      alignSelectOptionGroup.call(this);
    }, 100).bind(this));
  }

  /**
   * @method
   * @param item
   * @return {AX6UISelect}
   */
  bind(item) {
    let queIdx;
    item = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, item);

    if (!item.target) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-select", "401", "bind"));
      return this;
    }
    item.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.target);

    if (!item.id) item.id = item.$target.data("data-ax6ui-select-id");
    if (!item.id) {
      item.id = 'ax6ui-select-' + __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */].getInstanceId();
      item.$target.data("data-ax6ui-select-id", item.id);
    }
    item.name = item.$target.attr("data-ax6ui-select");

    if (item.options) {
      item.options = JSON.parse(JSON.stringify(item.options));
    }

    // target attribute data
    (function (data) {
      if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isObject(data) && !data.error) {
        item = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, item, data);
      }
    })(__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].parseJson(item.$target.attr("data-ax6ui-select-config"), true));

    queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(this.queue, function () {
      return this.id == item.id;
    });

    if (queIdx === -1) {
      this.queue.push(item);
      bindSelectTarget.call(this, this.queue.length - 1);
    } else {
      this.queue[queIdx].selected = [];
      this.queue[queIdx].options = item.options;
      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.queue[queIdx], item);
      bindSelectTarget.call(this, queIdx);
    }

    queIdx = null;
    return this;
  }

  /**
   * @method
   * @param boundID
   * @param tryCount
   * @return {AX6UISelect}
   */
  open(boundID, tryCount) {
    const onExpand = function (item) {
      item.onExpand.call({
        self: this,
        item: item
      }, O => {
        if (this.waitOptionsCallback) {
          let data = {};
          let item = this.queue[this.activeSelectQueueIndex];

          /// 현재 selected 검증후 처리
          (function (item, O) {
            let optionsMap = {};
            O.options.forEach((_O, _OIndex) => {
              _O["@index"] = _OIndex;
              optionsMap[_O[item.columnKeys.optionValue]] = _O;
            });
            if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(item.selected)) {
              item.selected.forEach(_O => {
                if (optionsMap[_O[item.columnKeys.optionValue]]) {
                  O.options[optionsMap[_O[item.columnKeys.optionValue]]["@index"]][item.columnKeys.optionSelected] = true;
                }
              });
            }
          })(item, O);

          item.$displayLabel.html(getLabel.call(this, this.activeSelectQueueIndex));
          item.options = syncSelectOptions.call(this, this.activeSelectQueueIndex, O.options);

          alignSelectDisplay.call(this);

          /// 템플릿에 전달할 오브젝트 선언
          data.id = item.id;
          data.theme = item.theme;
          data.multiple = item.multiple;
          data.lang = item.lang;
          data.options = item.options;
          this.activeSelectOptionGroup.find('[data-els="content"]').html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.options.call(this, item.columnKeys), data));
        }
      });
    };
    this.waitOptionsCallback = null;

    /**
     * open select from the outside
     */
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID),
        item = this.queue[queIdx],
        data = {},
        focusTop,
        selectedOptionEl;

    if (item.$display.attr("disabled")) return this;

    if (this.openTimer) clearTimeout(this.openTimer);
    if (this.activeSelectOptionGroup) {
      if (this.activeSelectQueueIndex == queIdx) {
        return this;
      }

      if (tryCount > 2) return this;
      this.close();
      this.openTimer = setTimeout(function () {
        this.open(queIdx, (tryCount || 0) + 1);
      }.bind(this), this.config.animateTime);

      return this;
    }

    item.optionFocusIndex = -1; // optionGroup이 열리면 포커스 인덱스 초기화 -1로
    if (item.selected && item.selected.length > 0) {
      item.optionSelectedIndex = item.selected[0]["@findex"];
    }

    /// 템플릿에 전달할 오브젝트 선언
    data.id = item.id;
    data.theme = item.theme;
    data.multiple = item.multiple;

    data.lang = item.lang;
    item.$display.attr("data-select-option-group-opened", "true");

    if (item.onExpand) {
      // onExpand 인 경우 UI 대기모드 추가
      data.waitOptions = true;
    }

    data.options = item.options;
    this.activeSelectOptionGroup = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.optionGroup.call(this), data));
    this.activeSelectOptionGroup.find('[data-els="content"]').html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.options.call(this, item.columnKeys), data));
    this.activeSelectQueueIndex = queIdx;

    alignSelectOptionGroup.call(this, "append"); // alignSelectOptionGroup 에서 body append

    /// 사용자 입력으로 옵션을 검색하기 위한 시나리오
    // 옵션그룹이 활성화 되면 사용자 입력을 받기위한 input 값 초기화 및 포커스 다른 select가 닫히면서 display focus 이벤트와 충돌하는 문제가 있으므로
    // 1밀리세컨 지연후 포커스 처리. input에 포커스가 되므로 input value로 options를 검색 할 수 있게 됩니다.
    item.$displayInput.val('');

    setTimeout(() => {

      if (item.selected && item.selected.length > 0) {
        selectedOptionEl = this.activeSelectOptionGroup.find('[data-option-index="' + item.selected[0]["@index"] + '"]');
        if (selectedOptionEl.get(0)) {
          focusTop = selectedOptionEl.position().top - this.activeSelectOptionGroup.height() / 3;
          this.activeSelectOptionGroup.find('[data-els="content"]').scrollTop(focusTop);
        }
      }

      item.$displayInput.trigger("focus");

      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("keyup.ax6ui-select-" + this.instanceId, function (e) {
        e = e || window.event;
        onBodyKeyup.call(this, e);
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      }.bind(this));

      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("click.ax6ui-select-" + this.instanceId, function (e) {
        e = e || window.event;
        onBodyClick.call(this, e);
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      }.bind(this));
    }, this.config.animateTime);

    onStateChanged.call(this, item, {
      self: this,
      state: "open",
      item: item
    });

    // waitOption timer
    if (item.onExpand) {
      this.waitOptionsCallback = true;
      onExpand.call(this, item);
    }

    data = null;
    focusTop = null;
    selectedOptionEl = null;
    return this;
  }

  /**
   * @method
   * @param _item
   * @return {AX6UISelect}
   */
  update(_item) {
    this.bind(_item);
    return this;
  }

  /**
   * @method
   * @param boundID
   * @param options
   * @return {AX6UISelect}
   */
  setOptions(boundID, options) {
    let queIdx = getQueIdx.call(this, boundID);
    this.queue[queIdx].selected = [];
    this.queue[queIdx].options = options;
    bindSelectTarget.call(this, queIdx);
    return this;
  }

  /**
   * @method
   * @param boundID
   * @param value
   * @param selected
   * @param internal
   * @return {*}
   */
  val(boundID, value, selected, internal) {
    const getSelected = function (_item, o, selected) {
      if (typeof selected === "undefined") {
        return _item.multiple ? !o : true;
      } else {
        return selected;
      }
    },
          clearSelected = function (queIdx) {
      this.queue[queIdx].options.forEach(n => {
        if (n.optgroup) {
          n.options.forEach(nn => {
            nn.selected = false;
          });
        } else {
          n.selected = false;
        }
      });
    },
          processor = {
      'index': function (queIdx, value, selected) {
        // 클래스 내부에서 호출된 형태, 그런 이유로 옵션그룹에 대한 상태를 변경 하고 있다.
        let item = this.queue[queIdx];

        if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(value.index.gindex)) {
          item.options[value.index.gindex].options[value.index.index][item.columnKeys.optionSelected] = getSelected(item, item.options[value.index.gindex].options[value.index.index][item.columnKeys.optionSelected], selected);
          this.activeSelectOptionGroup.find('[data-option-group-index="' + value.index.gindex + '"][data-option-index="' + value.index.index + '"]').attr("data-option-selected", item.options[value.index.gindex].options[value.index.index][item.columnKeys.optionSelected].toString());
        } else {
          item.options[value.index.index][item.columnKeys.optionSelected] = getSelected(item, item.options[value.index.index][item.columnKeys.optionSelected], selected);
          this.activeSelectOptionGroup.find('[data-option-index="' + value.index.index + '"]').attr("data-option-selected", item.options[value.index.index][item.columnKeys.optionSelected].toString());
        }

        syncSelectOptions.call(this, queIdx, item.options);
        syncLabel.call(this, queIdx);
        alignSelectOptionGroup.call(this);
      },
      'arr': function (queIdx, values, selected) {
        values.forEach(value => {
          if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(value) || __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(value)) {
            processor.value.call(this, queIdx, value, selected);
          } else {
            for (let key in processor) {
              if (value[key]) {
                processor[key].call(this, queIdx, value, selected);
                break;
              }
            }
          }
        });
      },
      'value': function (queIdx, value, selected) {
        let item = this.queue[queIdx],
            optionIndex = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(item.options, function () {
          return this[item.columnKeys.optionValue] == value;
        });
        if (optionIndex > -1) {
          item.options[optionIndex][item.columnKeys.optionSelected] = getSelected(item, item.options[optionIndex][item.columnKeys.optionSelected], selected);
        } else {
          console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-select", "501", "val"));
          return;
        }

        syncSelectOptions.call(this, queIdx, item.options);
        syncLabel.call(this, queIdx);
      },
      'text': function (queIdx, value, selected) {
        let item = this.queue[queIdx],
            optionIndex = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(item.options, function () {
          return this[item.columnKeys.optionText] == value;
        });
        if (optionIndex > -1) {
          item.options[optionIndex][item.columnKeys.optionSelected] = getSelected(item, item.options[optionIndex][item.columnKeys.optionSelected], selected);
        } else {
          console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-select", "501", "val"));
          return;
        }

        syncSelectOptions.call(this, queIdx, item.options);
        syncLabel.call(this, queIdx);
      },
      'clear': function (queIdx) {
        clearSelected.call(this, queIdx);
        syncSelectOptions.call(this, queIdx, this.queue[queIdx].options);
        syncLabel.call(this, queIdx);

        if (this.activeSelectOptionGroup) {
          this.activeSelectOptionGroup.find('[data-option-index]').attr("data-option-selected", "false");
        }
      }
    };

    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID);
    if (!this.queue[queIdx]) {
      return this;
    }
    if (typeof value !== "undefined" && !this.queue[queIdx].multiple) {
      clearSelected.call(this, queIdx);
    }

    if (typeof value == "undefined") {
      return this.queue[queIdx].selected;
    } else if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(value)) {
      processor.arr.call(this, queIdx, value, selected);
    } else if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(value) || __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(value)) {
      processor.value.call(this, queIdx, value, selected);
    } else {
      if (value === null) {
        processor.clear.call(this, queIdx);
      } else {
        for (var key in processor) {
          if (value[key]) {
            processor[key].call(this, queIdx, value, selected);
            break;
          }
        }
      }
    }

    if (typeof value !== "undefined") {
      onStateChanged.call(this, this.queue[queIdx], {
        self: this,
        item: this.queue[queIdx],
        state: internal ? "changeValue" : "setValue",
        value: this.queue[queIdx].selected,
        internal: internal
      });
    }

    boundID = null;
    return this;
  }

  /**
   * @method
   * @param item
   * @return {AX6UISelect}
   */
  close(item) {
    if (this.closeTimer) clearTimeout(this.closeTimer);
    if (!this.activeSelectOptionGroup) return this;

    item = this.queue[this.activeSelectQueueIndex];
    item.optionFocusIndex = -1;

    item.$displayInput.val('').trigger("blur");
    item.$display.removeAttr("data-select-option-group-opened").trigger("focus");

    this.activeSelectOptionGroup.addClass("destroy");

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6ui-select-" + this.instanceId).off("click.ax6ui-select-" + this.instanceId).off("keyup.ax6ui-select-" + this.instanceId);

    this.closeTimer = setTimeout(() => {
      if (this.activeSelectOptionGroup) this.activeSelectOptionGroup.remove();
      this.activeSelectOptionGroup = null;
      this.activeSelectQueueIndex = -1;

      let that = {
        self: this,
        item: item,
        value: item.selected,
        state: "close"
      };

      onStateChanged.call(this, item, that);

      // waitOption timer
      if (item.onClose) {
        item.onClose.call(that);
      }
    }, this.config.animateTime);
    this.waitOptionsCallback = null;
    return this;
  }

  /**
   * @method
   * @param boundID
   * @return {AX6UISelect}
   */
  enable(boundID) {
    let queIdx = getQueIdx.call(this, boundID);
    this.queue[queIdx].$display.removeAttr("disabled");
    this.queue[queIdx].$select.removeAttr("disabled");

    onStateChanged.call(this, this.queue[queIdx], {
      self: this,
      state: "enable"
    });

    return this;
  }

  /**
   * @method
   * @param boundID
   * @return {AX6UISelect}
   */
  disable(boundID) {
    let queIdx = getQueIdx.call(this, boundID);
    this.queue[queIdx].$display.attr("disabled", "disabled");
    this.queue[queIdx].$select.attr("disabled", "disabled");

    onStateChanged.call(this, this.queue[queIdx], {
      self: this,
      state: "disable"
    });

    return this;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UISelect);

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_AX6UIGrid_page__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__AX6UIGrid_AX6UIGrid_tmpl__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid_AX6UIGrid_util__ = __webpack_require__(5);













/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let formatter = {};
let collector = {};
let ctrlKeys = {
  "33": "KEY_PAGEUP",
  "34": "KEY_PAGEDOWN",
  "35": "KEY_END",
  "36": "KEY_HOME",
  "37": "KEY_LEFT",
  "38": "KEY_UP",
  "39": "KEY_RIGHT",
  "40": "KEY_DOWN"
};
let tmpl = {};

const initGrid = function () {
  // 그리드 템플릿에 전달하고자 하는 데이터를 정리합시다.

  let data = {
    instanceId: this.id
  };

  this.$target.html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(this.__tmpl.main.call(this), data));

  // 그리드 패널 프레임의 각 엘리먼트를 캐쉬합시다.
  this.$ = {
    "container": {
      "hidden": this.$target.find('[data-ax6grid-container="hidden"]'),
      "root": this.$target.find('[data-ax6grid-container="root"]'),
      "header": this.$target.find('[data-ax6grid-container="header"]'),
      "body": this.$target.find('[data-ax6grid-container="body"]'),
      "page": this.$target.find('[data-ax6grid-container="page"]'),
      "scroller": this.$target.find('[data-ax6grid-container="scroller"]')
    },
    "panel": {
      "aside-header": this.$target.find('[data-ax6grid-panel="aside-header"]'),
      "left-header": this.$target.find('[data-ax6grid-panel="left-header"]'),
      "header": this.$target.find('[data-ax6grid-panel="header"]'),
      "header-scroll": this.$target.find('[data-ax6grid-panel-scroll="header"]'),
      "right-header": this.$target.find('[data-ax6grid-panel="right-header"]'),
      "top-aside-body": this.$target.find('[data-ax6grid-panel="top-aside-body"]'),
      "top-left-body": this.$target.find('[data-ax6grid-panel="top-left-body"]'),
      "top-body": this.$target.find('[data-ax6grid-panel="top-body"]'),
      "top-body-scroll": this.$target.find('[data-ax6grid-panel-scroll="top-body"]'),
      "top-right-body": this.$target.find('[data-ax6grid-panel="top-right-body"]'),
      "aside-body": this.$target.find('[data-ax6grid-panel="aside-body"]'),
      "aside-body-scroll": this.$target.find('[data-ax6grid-panel-scroll="aside-body"]'),
      "left-body": this.$target.find('[data-ax6grid-panel="left-body"]'),
      "left-body-scroll": this.$target.find('[data-ax6grid-panel-scroll="left-body"]'),
      "body": this.$target.find('[data-ax6grid-panel="body"]'),
      "body-scroll": this.$target.find('[data-ax6grid-panel-scroll="body"]'),
      "right-body": this.$target.find('[data-ax6grid-panel="right-body"]'),
      "right-body-scroll": this.$target.find('[data-ax6grid-panel-scroll="right-body"]'),
      "bottom-aside-body": this.$target.find('[data-ax6grid-panel="bottom-aside-body"]'),
      "bottom-left-body": this.$target.find('[data-ax6grid-panel="bottom-left-body"]'),
      "bottom-body": this.$target.find('[data-ax6grid-panel="bottom-body"]'),
      "bottom-body-scroll": this.$target.find('[data-ax6grid-panel-scroll="bottom-body"]'),
      "bottom-right-body": this.$target.find('[data-ax6grid-panel="bottom-right-body"]')
    },
    "livePanelKeys": [], // 현재 사용중인 패널들 (grid-body repaint에서 수집하여 처리)
    "scroller": {
      "vertical": this.$target.find('[data-ax6grid-scroller="vertical"]'),
      "vertical-bar": this.$target.find('[data-ax6grid-scroller="vertical-bar"]'),
      "horizontal": this.$target.find('[data-ax6grid-scroller="horizontal"]'),
      "horizontal-bar": this.$target.find('[data-ax6grid-scroller="horizontal-bar"]'),
      "corner": this.$target.find('[data-ax6grid-scroller="corner"]')
    },
    "page": {
      "navigation": this.$target.find('[data-ax6grid-page="navigation"]'),
      "status": this.$target.find('[data-ax6grid-page="status"]')
    },
    "form": {
      "clipboard": this.$target.find('[data-ax6grid-form="clipboard"]')
    },
    "resizer": {
      "vertical": this.$target.find('[data-ax6grid-resizer="vertical"]'),
      "horizontal": this.$target.find('[data-ax6grid-resizer="horizontal"]')
    }
  };

  this.$["container"]["root"].css({ height: this.config.height || this.config._height });

  return this;
};
const initColumns = function (_columns) {
  if (!__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isArray(_columns)) _columns = [];
  this.columns = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].deepCopy(_columns);
  this.headerTable = __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid_AX6UIGrid_util__["a" /* default */].makeHeaderTable.call(this, this.columns);
  this.xvar.frozenColumnIndex = this.config.frozenColumnIndex || 0;

  this.bodyRowTable = __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid_AX6UIGrid_util__["a" /* default */].makeBodyRowTable.call(this, this.columns);
  this.bodyRowMap = __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid_AX6UIGrid_util__["a" /* default */].makeBodyRowMap.call(this, this.bodyRowTable);
  // 바디에 표현될 한줄의 높이를 계산합니다.
  this.xvar.bodyTrHeight = this.bodyRowTable.rows.length * this.config.body.columnHeight;

  let colGroupMap = {};
  for (let r = 0, rl = this.headerTable.rows.length; r < rl; r++) {
    let row = this.headerTable.rows[r];
    for (let c = 0, cl = row.cols.length; c < cl; c++) {
      colGroupMap[row.cols[c].colIndex] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, row.cols[c]);
    }
  }

  this.colGroup = [];
  for (var k in colGroupMap) {
    this.colGroup.push(colGroupMap[k]);
  }

  return this;
};
const onResetColumns = function () {
  initColumns.call(this, this.config.columns);
  resetColGroupWidth.call(this);
  if (this.config.footSum) {
    initFootSum.call(this, this.config.footSum);
    this.needToPaintSum = true;
  }
  if (this.config.body.grouping) initBodyGroup.call(this, this.config.body.grouping);
  alignGrid.call(this, true);
  __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__["a" /* default */].repaint.call(this, true);
  __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this, true);
  __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
};
const resetColGroupWidth = function () {
  /// !! 그리드 target의 크기가 변경되면 이 함수를 호출하려 this.colGroup의 _width 값을 재 계산 하여야 함. [tom]
  let CT_WIDTH = this.$["container"]["root"].width() - (() => {
    let width = 0;
    if (this.config.showLineNumber) width += this.config.lineNumberColumnWidth;
    if (this.config.showRowSelector) width += this.config.rowSelectorColumnWidth;
    width += this.config.scroller.size;
    return width;
  })(),
      totalWidth = 0,
      computedWidth,
      autoWidthColgroupIndexs = [],
      colGroup = this.colGroup,
      i,
      l;

  for (i = 0, l = colGroup.length; i < l; i++) {
    if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isNumber(colGroup[i].width)) {
      totalWidth += colGroup[i]._width = colGroup[i].width;
    } else if (colGroup[i].width === "*") {
      autoWidthColgroupIndexs.push(i);
    } else if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].right(colGroup[i].width, 1) === "%") {
      totalWidth += colGroup[i]._width = CT_WIDTH * __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].left(colGroup[i].width, "%") / 100;
    }
  }
  if (autoWidthColgroupIndexs.length > 0) {
    computedWidth = (CT_WIDTH - totalWidth) / autoWidthColgroupIndexs.length;
    for (i = 0, l = autoWidthColgroupIndexs.length; i < l; i++) {
      colGroup[autoWidthColgroupIndexs[i]]._width = computedWidth;
    }
  }
};
const initFootSum = function (_footSum) {
  if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isArray(_footSum)) {
    this.footSumTable = __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid_AX6UIGrid_util__["a" /* default */].makeFootSumTable.call(this, this.footSumColumns = _footSum);
  } else {
    this.footSumColumns = [];
    this.footSumTable = {};
  }
};
const initBodyGroup = function (_grouping) {
  let grouping = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, _grouping);
  if ("by" in grouping && "columns" in grouping) {
    this.bodyGrouping = {
      by: grouping.by,
      columns: grouping.columns
    };
    this.bodyGroupingTable = __WEBPACK_IMPORTED_MODULE_11__AX6UIGrid_AX6UIGrid_util__["a" /* default */].makeBodyGroupingTable.call(this, this.bodyGrouping.columns);
    this.sortInfo = function () {
      let sortInfo = {};
      for (let k = 0, kl = this.bodyGrouping.by.length; k < kl; k++) {
        sortInfo[this.bodyGrouping.by[k]] = {
          orderBy: "asc",
          seq: k,
          fixed: true
        };
        for (let c = 0, cl = this.colGroup.length; c < cl; c++) {
          if (this.colGroup[c].key === this.bodyGrouping.by[k]) {
            this.colGroup[c].sort = "asc";
            this.colGroup[c].sortFixed = true;
          }
        }
      }
      return sortInfo;
    }.call(this);
  } else {
    this.config.body.grouping = false;
  }
};
const alignGrid = function (_isFirst) {
  let list = this.proxyList ? this.proxyList : this.list;
  // 대상이 크기가 컬럼의 최소 크기 보다 작업 금지
  if (Math.min(this.$target.innerWidth(), this.$target.innerHeight()) < 5) {
    return false;
  }

  if (!this.config.height) {
    this.$["container"]["root"].css({ height: this.config._height = this.$target.height() });
  }

  let CT_WIDTH = this.$["container"]["root"].width(),
      CT_HEIGHT = this.$["container"]["root"].height(),
      CT_INNER_WIDTH = CT_WIDTH,
      CT_INNER_HEIGHT = CT_HEIGHT,
      asidePanelWidth = this.config.asidePanelWidth = (() => {
    let width = 0;
    if (this.config.showLineNumber) width += this.config.lineNumberColumnWidth;
    if (this.config.showRowSelector) width += this.config.rowSelectorColumnWidth;
    return width;
  })(),
      frozenPanelWidth = this.config.frozenPanelWidth = ((colGroup, endIndex) => {
    let width = 0;
    for (let i = 0, l = endIndex; i < l; i++) {
      width += colGroup[i]._width;
    }
    return width;
  })(this.colGroup, this.config.frozenColumnIndex),
      verticalScrollerWidth,
      horizontalScrollerHeight,
      bodyHeight;

  // todo : 우측 함계컬럼 너비 계산
  let rightPanelWidth = 0,
      frozenRowHeight = this.config.frozenRowIndex * this.xvar.bodyTrHeight,
      footSumHeight = this.footSumColumns.length * this.xvar.bodyTrHeight,
      headerHeight = this.config.header.display ? this.headerTable.rows.length * this.config.header.columnHeight : 0,
      pageHeight = this.config.page.display ? this.config.page.height : 0;

  {
    verticalScrollerWidth = CT_HEIGHT - headerHeight - pageHeight - footSumHeight < list.length * this.xvar.bodyTrHeight ? this.config.scroller.size : 0;
    // 남은 너비가 colGroup의 너비보다 넓을때. 수평 스크롤 활성화.
    horizontalScrollerHeight = (() => {
      let totalColGroupWidth = 0;
      // aside 빼고 너비
      // 수직 스크롤이 있으면 또 빼고 비교
      let bodyWidth = CT_WIDTH - asidePanelWidth - verticalScrollerWidth;
      for (let i = 0, l = this.colGroup.length; i < l; i++) {
        totalColGroupWidth += this.colGroup[i]._width;
      }
      return totalColGroupWidth > bodyWidth ? this.config.scroller.size : 0;
    })();

    if (horizontalScrollerHeight > 0) {
      verticalScrollerWidth = CT_HEIGHT - headerHeight - pageHeight - footSumHeight - horizontalScrollerHeight < list.length * this.xvar.bodyTrHeight ? this.config.scroller.size : 0;
    }
  }

  // 수평 너비 결정
  CT_INNER_WIDTH = CT_WIDTH - verticalScrollerWidth;
  // 수직 스크롤러의 높이 결정.
  CT_INNER_HEIGHT = CT_HEIGHT - pageHeight - horizontalScrollerHeight;

  bodyHeight = CT_INNER_HEIGHT - headerHeight;

  const panelDisplayProcess = function (panel, vPosition, hPosition, containerType) {
    let css = {
      display: "block"
    },
        isHide = false;

    switch (hPosition) {
      case "aside":
        if (asidePanelWidth === 0) {
          isHide = true;
        } else {
          css["left"] = 0;
          css["width"] = asidePanelWidth;
        }
        break;
      case "left":
        if (this.config.frozenColumnIndex === 0) {
          isHide = true;
        } else {
          css["left"] = asidePanelWidth;
          css["width"] = frozenPanelWidth;
        }
        break;
      case "right":
        if (!this.config.rightSum) {
          isHide = true;
        } else {}
        break;
      default:
        if (containerType !== "page") {
          if (this.config.frozenColumnIndex === 0) {
            css["left"] = asidePanelWidth;
          } else {
            css["left"] = frozenPanelWidth + asidePanelWidth;
          }
          css["width"] = CT_INNER_WIDTH - asidePanelWidth - frozenPanelWidth - rightPanelWidth;
        }
        break;
    }

    if (isHide) {
      panel.css({ display: "none" });
      // 프로세스 중지
      return this;
    }

    if (containerType === "body") {
      switch (vPosition) {
        case "top":
          if (this.config.frozenRowIndex == 0) {
            isHide = true;
          } else {
            css["top"] = 0;
            css["height"] = frozenRowHeight;
          }
          break;
        case "bottom":
          if (!this.config.footSum) {
            isHide = true;
          } else {
            css["top"] = bodyHeight - footSumHeight;
            css["height"] = footSumHeight; // footSum height
          }
          break;
        default:
          css["top"] = frozenRowHeight;
          css["height"] = bodyHeight - frozenRowHeight - footSumHeight;

          break;
      }
    } else if (containerType === "header") {
      css["height"] = headerHeight;
    } else if (containerType === "page") {
      if (pageHeight == 0) {
        isHide = true;
      } else {
        css["height"] = pageHeight;
      }
    }

    if (isHide) {
      panel.css({ display: "none" });
      // 프로세스 중지
      return this;
    }

    panel.css(css);
    return this;
  };
  const scrollerDisplayProcess = function (panel, scrollerWidth, scrollerHeight, containerType) {
    let css = {
      display: "block"
    },
        isHide = false;

    switch (containerType) {
      case "vertical":
        if (scrollerWidth > 0) {
          css["width"] = scrollerWidth;
          css["height"] = CT_INNER_HEIGHT;
          css["bottom"] = scrollerHeight + pageHeight;
        } else {
          isHide = true;
        }
        break;
      case "horizontal":
        if (scrollerHeight > 0) {
          css["width"] = CT_INNER_WIDTH;
          css["height"] = scrollerHeight;
          css["right"] = scrollerWidth;
          css["bottom"] = pageHeight;
        } else {
          isHide = true;
        }
        break;
      case "corner":
        if (scrollerWidth > 0 && scrollerHeight > 0) {
          css["width"] = scrollerWidth;
          css["height"] = scrollerHeight;
          css["bottom"] = pageHeight;
        } else {
          isHide = true;
        }
        break;
    }

    if (isHide) {
      panel.css({ display: "none" });
      // 프로세스 중지
      return this;
    }

    panel.css(css);
  };

  this.$["container"]["header"].css({ height: headerHeight });
  this.$["container"]["body"].css({ height: bodyHeight });

  // 각 패널들의 크기 표시여부를 결정합니다
  panelDisplayProcess.call(this, this.$["panel"]["aside-header"], "", "aside", "header");
  panelDisplayProcess.call(this, this.$["panel"]["left-header"], "", "left", "header");
  panelDisplayProcess.call(this, this.$["panel"]["header"], "", "", "header");
  panelDisplayProcess.call(this, this.$["panel"]["right-header"], "", "right", "header");

  panelDisplayProcess.call(this, this.$["panel"]["top-aside-body"], "top", "aside", "body");
  panelDisplayProcess.call(this, this.$["panel"]["top-left-body"], "top", "left", "body");
  panelDisplayProcess.call(this, this.$["panel"]["top-body"], "top", "", "body");
  panelDisplayProcess.call(this, this.$["panel"]["top-right-body"], "top", "right", "body");

  panelDisplayProcess.call(this, this.$["panel"]["aside-body"], "", "aside", "body");
  panelDisplayProcess.call(this, this.$["panel"]["left-body"], "", "left", "body");
  panelDisplayProcess.call(this, this.$["panel"]["body"], "", "", "body");
  panelDisplayProcess.call(this, this.$["panel"]["right-body"], "", "right", "body");

  panelDisplayProcess.call(this, this.$["panel"]["bottom-aside-body"], "bottom", "aside", "body");
  panelDisplayProcess.call(this, this.$["panel"]["bottom-left-body"], "bottom", "left", "body");
  panelDisplayProcess.call(this, this.$["panel"]["bottom-body"], "bottom", "", "body");
  panelDisplayProcess.call(this, this.$["panel"]["bottom-right-body"], "bottom", "right", "body");

  scrollerDisplayProcess.call(this, this.$["scroller"]["vertical"], verticalScrollerWidth, horizontalScrollerHeight, "vertical");
  scrollerDisplayProcess.call(this, this.$["scroller"]["horizontal"], verticalScrollerWidth, horizontalScrollerHeight, "horizontal");
  scrollerDisplayProcess.call(this, this.$["scroller"]["corner"], verticalScrollerWidth, horizontalScrollerHeight, "corner");

  panelDisplayProcess.call(this, this.$["container"]["page"], "", "", "page");

  // 각 패널의 사이즈 결정
  /// 다른 패널의 사이즈 정보가 필요한 경우 여기서 정의해주고 사용함.
  this.xvar.bodyHeight = this.$.panel["body"].height();
  this.xvar.bodyWidth = this.$.panel["body"].width();
  // scrollContentWidth 는 grid-header repaint에서 결정합니다. 까먹지 맙시다. > this.xvar.scrollContentWidth

  return true;
};
const sortColumns = function (_sortInfo) {
  __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__["a" /* default */].repaint.call(this);

  if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.remoteSort)) {
    let that = { sortInfo: [] };
    for (let k in _sortInfo) {
      that.sortInfo.push({
        key: k,
        orderBy: _sortInfo[k].orderBy,
        seq: _sortInfo[k].seq
      });
    }
    that.sortInfo.sort(function (a, b) {
      return a.seq > b.seq;
    });
    this.config.remoteSort.call(that, that);
  } else {
    if (this.config.body.grouping) {
      this.list = __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].initData.call(this, __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].sort.call(this, _sortInfo, __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].clearGroupingData.call(this, this.list)));
    } else {
      this.list = __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].sort.call(this, _sortInfo, __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].clearGroupingData.call(this, this.list), { resetLineNumber: true });
    }
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this, true);
    __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
  }
};

/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIGrid extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {

  /**
   * @static
   * @param _formatter
   */
  static setFormatter(_formatter) {
    return formatter = Object.assign(formatter, _formatter);
  }

  /**
   * @static
   * @return {Object}
   */
  static getFormatter() {
    return formatter || {};
  }

  /**
   * @static
   * @param _collector
   * @return {collector}
   */
  static setCollector(_collector) {
    return collector = Object.assign(collector, _collector);
  }

  /**
   * @static
   * @return {collector}
   */
  static getCollector() {
    return collector || {};
  }

  /**
   * @static
   * @param _tmpl
   * @return {tmpl}
   */
  static setTmpl(_tmpl) {
    return tmpl = Object.assign(tmpl, _tmpl);
  }

  /**
   * @static
   * @return {tmpl}
   */
  static getTmpl() {
    return tmpl || {};
  }

  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param {Element} config.target
     * @param {Number} [config.frozenColumnIndex=0]
     * @param {Number} [config.frozenRowIndex=0]
     * @param {Boolean} [config.showLineNumber=false]
     * @param {Boolean} [config.showRowSelector=false]
     * @param {Boolean} [config.multipleSelect=true]
     * @param {Number} [config.columnMinWidth=100]
     * @param {Number} [config.lineNumberColumnWidth=30]
     * @param {Number} [config.rowSelectorColumnWidth=25]
     * @param {Boolean} [config.sortable=false]
     * @param {Boolean} [config.multiSort=false]
     * @param {Function} [config.remoteSort=false]
     * @param {Boolean} [config.virtualScrollY=true] - 세로축 가상스크롤 처리여부
     * @param {Boolean} [config.virtualScrollX=true] - 가로축 가상스크롤 처리여부
     * @param {Object} [config.header]
     * @param {String} [config.header.align]
     * @param {Number} [config.header.columnHeight=25]
     * @param {Number} [config.header.columnPadding=3]
     * @param {Number} [config.header.columnBorderWidth=1]
     * @param {Object} [config.body]
     * @param {Function} [config.body.onClick]
     * @param {Function} [config.body.onDBLClick]
     * @param {Function} [config.body.onDataChanged]
     * @param {Function} [config.body.onContextMenu]
     * @param {String|Array} [config.body.mergeCells=false] -
     * @param {String} [config.body.align]
     * @param {Number} [config.body.columnHeight=25]
     * @param {Number} [config.body.columnPadding=3]
     * @param {Number} [config.body.columnBorderWidth=1]
     * @param {Object} [config.body.grouping]
     * @param {Array} [config.body.grouping.by] - list grouping keys
     * @param {Array} [config.body.grouping.columns] - list grouping columns
     * @param {(String|Function)} [config.body.trStyleClass]
     * @param {Object} [config.page]
     * @param {Number} [config.page.height=25]
     * @param {Boolean} [config.page.display=true] - grid page display
     * @param {Boolean} [config.page.statusDisplay=true] - grid status display
     * @param {Number} [config.page.navigationItemCount=5]
     * @param {Object} [config.scroller]
     * @param {Number} [config.scroller.size=15]
     * @param {Number} [config.scroller.barMinSize=15]
     * @param {Number} [config.scroller.trackPadding=4]
     * @param {Object} [config.columnKeys]
     * @param {String} [config.columnKeys.selected="_SELECTED"]
     * @param {Object[]} config.columns
     * @param {String} config.columns[].key
     * @param {String} config.columns[].label
     * @param {Number} config.columns[].width
     * @param {(String|Function)} config.columns[].styleClass
     * @param {(String|Function)} config.columns[].headerStyleClass
     * @param {Boolean} config.columns[].enableFilter
     * @param {Boolean} config.columns[].sortable
     * @param {String} config.columns[].align
     * @param {(String|Function)} config.columns[].formatter
     * @param {Object} config.columns[].editor
     * @param {String} config.columns[].editor.type - text,number,money,date
     * @param {Object} config.columns[].editor.config
     * @param {Array} config.columns[].editor.updateWith
     * @param {Function} config.columns[].editor.disabled - disable editor
     * @param {Boolean} [config.columns[].multiLine=false]
     * @param {Object} [config.tree]
     * @param {Boolean} [config.tree.use=false] - Whether tree-type data is used
     * @param {Number} [config.tree.hashDigit=8]
     * @param {Number} [config.tree.indentWidth=10]
     * @param {Number} [config.tree.arrowWidth=15]
     * @param {Number} [config.tree.iconWidth=18]
     * @param {Object} [config.tree.icons]
     * @param {String} [config.tree.icons.openedArrow='▾']
     * @param {String} [config.tree.icons.collapsedArrow='▸']
     * @param {String} [config.tree.icons.groupIcon='⊚']
     * @param {String} [config.tree.icons.collapsedGroupIcon='⊚']
     * @param {String} [config.tree.icons.itemIcon='⊙']
     * @param {Object} [config.tree.columnKeys]
     * @param {String} [config.tree.columnKeys.parentKey="pid"]
     * @param {String} [config.tree.columnKeys.selfKey="id"]
     * @param {String} [config.tree.columnKeys.collapse="collapse"]
     * @param {String} [config.tree.columnKeys.hidden="hidden"]
     * @param {String} [config.tree.columnKeys.parentHash="__hp__"]
     * @param {String} [config.tree.columnKeys.selfHash="__hs__"]
     * @param {String} [config.tree.columnKeys.children="__children__"]
     * @param {String} [config.tree.columnKeys.depth="__depth__"]
     */
    this.config = {
      theme: 'default',
      animateTime: 250,
      debounceTime: 250,
      appendDebouncer: null,
      appendDebounceTimes: 0,
      appendProgressIcon: '...',
      appendProgress: false,

      // 틀고정 속성
      frozenColumnIndex: 0,
      frozenRowIndex: 0,
      showLineNumber: false,
      showRowSelector: false,
      multipleSelect: true,
      virtualScrollY: true,
      virtualScrollX: true,

      // 스크롤될 때 body 페인팅 딜레이를 주어 성능이 좋은 않은 브라우저에서 반응을 빠르게 할 때 사용하는 옵션들
      virtualScrollYCountMargin: 0,
      virtualScrollAccelerated: true,
      virtualScrollAcceleratedDelayTime: 10,

      height: 0,
      columnMinWidth: 100,
      lineNumberColumnWidth: 30,
      rowSelectorColumnWidth: 26,
      sortable: undefined,
      remoteSort: false,

      header: {
        display: true,
        align: false,
        columnHeight: 26,
        columnPadding: 3,
        columnBorderWidth: 1
      },
      body: {
        align: false,
        columnHeight: 26,
        columnPadding: 3,
        columnBorderWidth: 1,
        grouping: false,
        mergeCells: false
      },
      rightSum: false,
      footSum: false,
      page: {
        height: 25,
        display: true,
        statusDisplay: true,
        navigationItemCount: 5
      },
      scroller: {
        size: 15,
        barMinSize: 15,
        trackPadding: 4
      },
      columnKeys: {
        selected: '__selected__',
        modified: '__modified__',
        deleted: '__deleted__',
        disableSelection: '__disable_selection__'
      },
      tree: {
        use: false,
        hashDigit: 8,
        indentWidth: 10,
        arrowWidth: 15,
        iconWidth: 18,
        icons: {
          openedArrow: '▾',
          collapsedArrow: '▸',
          groupIcon: '⊚',
          collapsedGroupIcon: '⊚',
          itemIcon: '⊙'
        },
        columnKeys: {
          parentKey: "pid",
          selfKey: "id",
          collapse: "collapse",
          hidden: "hidden",
          parentHash: "__hp__",
          selfHash: "__hs__",
          children: "__children__",
          depth: "__depth__"
        }
      }
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * @member {Object}
     */
    this.xvar = {
      bodyTrHeight: 0, // 한줄의 높이
      scrollContentWidth: 0, // 스크롤 될 내용물의 너비 (스크롤 될 내용물 : panel['body-scroll'] 안에 컬럼이 있는)
      scrollContentHeight: 0, // 스크롤 된 내용물의 높이
      scrollTimer: null
    };

    // 그리드 데이터셋
    /**
     * @member {Array}
     */
    this.columns = []; // config.columns에서 복제된 오브젝트
    /**
     * @member {Array}
     */
    this.colGroup = []; // columns를 table태그로 출력하기 좋게 변환한 오브젝트
    /**
     * @member {Array}
     */
    this.footSumColumns = [];
    /**
     * @member {Object}
     */
    this.bodyGrouping = {};
    /**
     * @member {Array}
     */
    this.list = []; // 그리드의 데이터
    /**
     * @member {Array}
     */
    this.proxyList = null; // 그리드 데이터의 대리자
    /**
     * @member {Object}
     */
    this.page = null; // 그리드의 페이지 정보

    this.selectedDataIndexs = [];
    this.deletedList = [];

    /**
     * @member {Object}
     */
    this.sortInfo = {}; // 그리드의 헤더 정렬 정보
    this.focused = false;
    /**
     * @member {Object}
     */
    this.focusedColumn = {}; // 그리드 바디의 포커스된 셀 정보
    /**
     * @member {Object}
     */
    this.selectedColumn = {}; // 그리드 바디의 선택된 셀 정보
    this.isInlineEditing = false;
    /**
     * @member {Object}
     */
    this.inlineEditing = {};
    /**
     * @member {Object}
     */
    this.listIndexMap = {}; // tree데이터 사용시 데이터 인덱싱 맵
    /**
     * @member {Object}
     */
    this.contextMenu = null; // contentMenu 의 인스턴스

    // header
    /**
     * @member {Object}
     */
    this.headerTable = {};
    /**
     * @member {Object}
     */
    this.leftHeaderData = {};
    /**
     * @member {Object}
     */
    this.headerData = {};
    /**
     * @member {Object}
     */
    this.rightHeaderData = {};

    // body
    /**
     * @member {Object}
     */
    this.bodyRowTable = {};
    /**
     * @member {Object}
     */
    this.leftBodyRowData = {};
    /**
     * @member {Object}
     */
    this.bodyRowData = {};
    /**
     * @member {Object}
     */
    this.rightBodyRowData = {};
    /**
     * @member {Object}
     */
    this.bodyRowMap = {};

    /**
     * @member {Object}
     */
    this.bodyGroupingTable = {};
    /**
     * @member {Object}
     */
    this.leftBodyGroupingData = {};
    /**
     * @member {Object}
     */
    this.bodyGroupingData = {};
    /**
     * @member {Object}
     */
    this.rightBodyGroupingData = {};
    /**
     * @member {Object}
     */
    this.bodyGroupingMap = {};

    // footSum
    /**
     * @member {Object}
     */
    this.footSumTable = {}; // footSum의 출력레이아웃
    /**
     * @member {Object}
     */
    this.leftFootSumData = {}; // frozenColumnIndex 를 기준으로 나누어진 출력 레이아웃 왼쪽
    /**
     * @member {Object}
     */
    this.footSumData = {}; // frozenColumnIndex 를 기준으로 나누어진 출력 레이아웃 오른쪽
    /**
     * @member {Boolean}
     */
    this.needToPaintSum = true; // 데이터 셋이 변경되어 summary 변경 필요여부

    /**
     * 사용자 정의 formatter. AX6UIGrid.setFormatter 를 이용하여 확장
     * @member
     */
    this.customFormatter = AX6UIGrid.getFormatter();

    /**
     * 사용자 정의 collector. AX6UIGrid.setCollector 를 이용하여 확장
     * @member
     */
    this.customCollector = AX6UIGrid.getCollector();

    this.__tmpl = Object.assign(__WEBPACK_IMPORTED_MODULE_10__AX6UIGrid_AX6UIGrid_tmpl__["a" /* default */], AX6UIGrid.getTmpl());

    if (typeof config !== "undefined") this.init();

    return this;
  }

  /**
   * @method
   * @param config
   */
  init() {
    // 그리드의 이벤트 정의 구간
    this.onStateChanged = this.config.onStateChanged;
    this.onLoad = this.config.onLoad;

    // init 호출 여부
    this.initOnce();

    if (typeof this.config.target !== "undefined") {

      this.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.target);

      // target attribute data
      (function (data) {
        if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isObject(data) && !data.error) {
          this.config = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, data);
        }
      }).call(this, __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].parseJson(this.$target.attr("data-ax6ui-grid-config"), true));

      if (!this.config.height) {
        this.config._height = this.$target.height();
      }

      if (!this.id) this.id = this.$target.data("ax6ui-grid-id");
      if (!this.id) {
        this.id = 'ax6ui-grid-' + this.instanceId;
        this.$target.data("ax6ui-grid-id", this.id);
      }

      __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].init.call(this);

      if (this.config.tree.use) {
        // 트리라면
        this.sortInfo = {};
        this.sortInfo[this.config.tree.columnKeys.selfHash] = { orderBy: "asc", seq: 0, fixed: true };
      }

      ///========
      // 그리드를 그리기 위한 가장 기초적인 작업 뼈대와 틀을 준비합니다. 이 메소드는 초기화 시 한번만 호출 되게 됩니다.
      initGrid.call(this);

      // columns데이터를 분석하여 미리 처리해야하는 데이터를 정리합니다.
      initColumns.call(this, this.config.columns);
      resetColGroupWidth.call(this);

      // footSum 데이터를 분석하여 미리 처리해야 하는 데이터를 정리
      if (this.config.footSum) initFootSum.call(this, this.config.footSum);

      // bodyGrouping 데이터를 분석하여 미리 처리해야 하는 데이터를 정리
      if (this.config.body.grouping) initBodyGroup.call(this, this.config.body.grouping);

      // 그리드의 각 요소의 크기를 맞춤니다.
      alignGrid.call(this, true);

      // columns의 데이터로 header데이터를 만들고
      __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__["a" /* default */].init.call(this);
      // header를 출력합니다.
      __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__["a" /* default */].repaint.call(this);

      // columns의 데이터로 body데이터를 만들고
      __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].init.call(this);
      // body를 출력합니다.
      __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this);

      // scroller
      __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].init.call(this);
      __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);

      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6grid-" + this.instanceId).off("keydown.ax6grid-" + this.instanceId).on("resize.ax6grid-" + this.instanceId, __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].throttle(function (e) {
        alignGrid.call(this);
        __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this); // window resize시 repaint 함수 호출
      }, 30).bind(this)).on("keydown.ax6grid-" + this.instanceId, e => {
        if (this.focused) {
          if (this.isInlineEditing) {
            if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.ESC) {
              this.keyDown("ESC", e.originalEvent);
            } else if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.RETURN) {
              this.keyDown("RETURN", e.originalEvent);
            } else if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.TAB) {
              this.keyDown("TAB", e.originalEvent);
              __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);
            } else if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.UP) {
              this.keyDown("RETURN", { shiftKey: true });
            } else if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.DOWN) {
              this.keyDown("RETURN", {});
            }
          } else {
            if (e.metaKey || e.ctrlKey) {
              if (e.which == 67) {
                // c
                self.copySelect();
              }
            } else {
              if (ctrlKeys[e.which]) {
                this.keyDown(ctrlKeys[e.which], e.originalEvent); // 키다운 이벤트 호출
                __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);
              } else if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.ESC) {
                if (this.focused) {
                  __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].blur.call(self);
                }
              } else if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.RETURN || e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.SPACE) {
                this.keyDown("RETURN", e.originalEvent);
              } else if (e.which == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.TAB) {
                //self.keyDown("RETURN", e.originalEvent);
                __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);
              } else if (Object.keys(this.focusedColumn).length) {
                this.keyDown("INLINE_EDIT", e.originalEvent);
              }
            }
          }
        }
      });

      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off("click.ax6grid-" + this.instanceId).on("click.ax6grid-" + this.instanceId, e => {
        let isPickerClick = false,
            target = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].findParentNode(e.target, function (_target) {
          if (isPickerClick = _target.getAttribute("data-ax6grid-inline-edit-picker")) {
            return true;
          }
          return _target.getAttribute("data-ax6grid-container") === "root";
        });

        if (target && target.getAttribute("data-ax6grid-instance") === this.id) {
          this.focused = true;
        } else {
          this.focused = false;
          __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].blur.call(this);
        }
      });

      // 그리드 레이아웃이 모든 준비를 마친시점에 onLoad존재 여부를 확인하고 호출하여 줍니다.
      setTimeout(() => {
        if (this.onLoad) {
          this.onLoad.call({
            self: this
          });
        }
      });
    }
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * 그리드의 각 패널들의 크기를 변경된 설정에 맞추어 다시 그림
   * @method
   * @return {AX6UIGrid}
   */
  align() {
    if (alignGrid.call(this)) {
      __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this);
      __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
    }
    return this;
  }

  /**
   * 그리드에 키보드 액션을 전달
   * @method
   * @param _act
   * @param _data
   * @return {AX6UIGrid}
   */
  keyDown(_act, _data) {
    const processor = {
      "KEY_UP": function () {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, "UP");
      },
      "KEY_DOWN": function () {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, "DOWN");
      },
      "KEY_LEFT": function () {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, "LEFT");
      },
      "KEY_RIGHT": function () {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, "RIGHT");
      },
      "KEY_HOME": function () {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, "HOME");
      },
      "KEY_END": function () {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, "END");
      },
      "INLINE_EDIT": function (_e) {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].inlineEdit.active.call(this, this.focusedColumn, _e);
        if (!/[0-9a-zA-Z]/.test(_e.key)) {
          __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(_e);
        }
      },
      "ESC": function (_e) {
        __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].inlineEdit.keydown.call(this, "ESC");
      },
      "RETURN": function (_e) {
        var activeEditLength = 0;
        for (var columnKey in this.inlineEditing) {
          activeEditLength++;

          if (!__WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].inlineEdit.keydown.call(this, "RETURN", columnKey)) {
            return false;
            __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(_e);
          }
          // next focus
          if (activeEditLength == 1) {
            if (__WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, _e.shiftKey ? "UP" : "DOWN")) {
              __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].inlineEdit.keydown.call(this, "RETURN");
            }
          }
        }
        if (activeEditLength == 0) {
          __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].inlineEdit.keydown.call(this, "RETURN");
          __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(_e);
        } else {}
      },
      "TAB": function (_e) {

        var activeEditLength = 0;
        for (var columnKey in this.inlineEditing) {
          activeEditLength++;

          __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].inlineEdit.keydown.call(this, "RETURN", columnKey, { moveFocus: true });
          // next focus
          if (activeEditLength == 1) {
            if (__WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, _e.shiftKey ? "LEFT" : "RIGHT")) {
              __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].inlineEdit.keydown.call(this, "RETURN", undefined, { moveFocus: true });
            }
          }
        }
      }
    };
    if (_act in processor) processor[_act].call(this, _data);
    return this;
  }

  /**
   * 선택된 셀을 클립보드에 복사합니다
   * @method
   * @return {*}
   */
  copySelect() {
    let copysuccess,
        $clipBoard = this.$["form"]["clipboard"],
        copyTextArray = [],
        copyText = "",
        _rowIndex,
        _colIndex,
        _dindex,
        _di = 0;

    for (let c in this.selectedColumn) {
      let _column = this.selectedColumn[c];

      if (_column) {
        if (typeof _dindex === "undefined") {
          _dindex = _column.dindex;
          _rowIndex = _column.rowIndex;
          _colIndex = _column.rowIndex;
        }

        if (_dindex != _column.dindex || _rowIndex != _column.rowIndex) {
          _di++;
        }

        if (!copyTextArray[_di]) {
          copyTextArray[_di] = [];
        }
        let originalColumn = this.bodyRowMap[_column.rowIndex + "_" + _column.colIndex];
        if (originalColumn) {
          if (this.list[_column.dindex].__isGrouping) {
            copyTextArray[_di].push(this.list[_column.dindex][_column.colIndex]);
          } else {
            copyTextArray[_di].push(this.list[_column.dindex][originalColumn.key]);
          }
        } else {
          copyTextArray[_di].push("");
        }

        _dindex = _column.dindex;
        _rowIndex = _column.rowIndex;
      }
    }

    copyTextArray.forEach(function (r) {
      copyText += r.join('\t') + "\n";
    });

    $clipBoard.get(0).innerText = copyText;
    $clipBoard.select();

    try {
      copysuccess = document.execCommand("copy");
    } catch (e) {
      copysuccess = false;
    }
    return copysuccess;
  }

  /**
   * @method
   * @param _data
   * @return {AX6UIGrid}
   * @example
   * ```js
   * import {AX6UIGrid as Grid} from "ax6ui";
   *
   * let grid = new Grid({target: el});
   * grid.setData([
   *  {name: "Thomas"}
   * ]);
   *
   * grid.setData({
     *  list: [],
     *  page: {
     *      currentPage: 0,
     *      pageSize: 50,
     *      totalElements: 500,
     *      totalPages: 100
     *  }
     * });
   * ```
   */
  setData(_data) {
    let isFirstPaint = typeof this.xvar.paintStartRowIndex === "undefined";

    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].set.call(this, _data);
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this);
    if (!isFirstPaint) __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].scrollTo.call(this, { top: 0 });

    alignGrid.call(this);
    __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
    __WEBPACK_IMPORTED_MODULE_9__AX6UIGrid_AX6UIGrid_page__["a" /* default */].navigationUpdate.call(this);

    isFirstPaint = null;
    return this;
  }

  /**
   * @method
   * @param _type
   * @return {*}
   * @example
   * ```js
   * import {AX6UIGrid as Grid} from "ax6ui";
   * let grid = new Grid({target: el});
   * grid.setData([]);
   *
   * grid.getList(); // return all
   * grid.getList("selected");
   * grid.getList("modified");
   * grid.getList("deleted");
   * ```
   */
  getList(_type) {
    return __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].getList.call(this, _type);
  }

  /**
   * @method
   * @param _height
   * @return {AX6UIGrid}
   * @example
   * ```js
   * grid.setHeight(height);
   * ```
   */
  setHeight(_height) {
    if (_height == "100%") {
      _height = this.$target.offsetParent().innerHeight();
    }
    this.$target.css({ height: _height });
    this.$["container"]["root"].css({ height: _height });
    alignGrid.call(this);
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this, "reset");
    __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
    return this;
  }

  /**
   * @method
   * @param _row
   * @param {Number|String} [_dindex="last"]
   * @param _options
   * @param {Boolean} [_options.sort]
   * @param {Number|String} [_options.focus] - HOME|END|[dindex]
   * @return {AX6UIGrid}
   * @example
   * ```js
   * grid.addRow($.extend({}, {...}), "first");
   * grid.addRow($.extend({}, {...}), "last", {focus: "END"});
   * grid.addRow($.extend({}, {...}), "last", {focus: "HOME"});
   * grid.addRow($.extend({}, {...}), "last", {focus: 10});
   * ```
   */
  addRow(_row, _dindex, _options) {
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].add.call(this, _row, _dindex, _options);
    alignGrid.call(this);
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this, "reset");
    if (_options && _options.focus) {
      __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, _options.focus);
    }
    __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
    return this;
  }

  /**
   * @method
   * @param _list
   * @return {AX6UIGrid}
   * @example
   * ```js
   * grid.appendToList([{},{},{}]);
   * grid.appendToList([{},{},{}]);
   * ```
   */
  appendToList(_list) {
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].append.call(this, _list, function () {
      alignGrid.call(this);
      __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this);
      __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
    }.bind(this));
    return this;
  }

  /**
   * @method
   * @param {Number|String} [_dindex=last]
   * @return {AX6UIGrid}
   * @example
   * ```js
   * grid.removeRow();
   * grid.removeRow("first");
   * grid.removeRow("last");
   * grid.removeRow(1);
   * grid.removeRow("selected");
   * ```
   */
  removeRow(_dindex) {
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].remove.call(this, _dindex);
    alignGrid.call(this);
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this, "reset");
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, this.config.body.grouping ? "START" : "END");
    __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
    return this;
  }

  /**
   * @method
   * @param _row
   * @param _dindex
   * @return {AX6UIGrid}
   * @example
   * ```js
   * grid.updateRow({price: 100, amount: 100, cost: 10000}, 1);
   * ```
   */
  updateRow(_row, _dindex) {
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].update.call(this, _row, _dindex);
    // todo : mergeCells 옵션에 따라 예외처리
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaintRow.call(this, _dindex);
    return this;
  }

  /**
   * @method
   * @param {Number} _dindex
   * @param {Object} _updateData
   * @param {Object} [_options]
   * @param {Function} [_options.filter]
   * @returns {AX6UIGrid}
   * @example
   * ```js
   * onDataChanged: function () {
     *      this.self.updateChildRows(this.dindex, {isChecked: this.item.isChecked});
     * }
   *
   * onDataChanged: function () {
     *      this.self.updateChildRows(this.dindex, {isChecked: this.item.isChecked}, {filter: function(){
     *          return this.item.type == "A";
     *      });
     * }
     * ```
     */
  updateChildRows(_dindex, _updateData, _options) {
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].updateChild.call(this, _dindex, _updateData, _options);
    this.xvar.paintStartRowIndex = undefined;
    this.xvar.paintStartColumnIndex = undefined;
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this);
    return this;
  }

  /**
   * @method
   * @param {Number|String} _dindex
   * @returns {AX6UIGrid}
   * @example
   * ```js
   * grid.deleteRow("first");
   * grid.deleteRow("last");
   * grid.deleteRow(1);
   * grid.deleteRow("selected");
   * ```
   */
  deleteRow(_dindex) {
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].deleteRow.call(this, _dindex);
    alignGrid.call(this);
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this, "reset");

    __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);
    return this;
  }

  /**
   * @method
   * @param _dindex
   * @param _key
   * @param _value
   * @returns {AX6UIGrid}
   * @example
   * ```js
   * grid.setValue(0, "price", 100);
   * ```
   */
  setValue(_dindex, _key, _value) {
    let doindex;

    if (__WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].setValue.call(this, _dindex, doindex, _key, _value)) {
      let repaintCell = function (_panelName, _rows, __dindex, __doindex, __key, __value) {
        for (let r = 0, rl = _rows.length; r < rl; r++) {
          for (let c = 0, cl = _rows[r].cols.length; c < cl; c++) {
            if (_rows[r].cols[c].key == __key) {
              if (this.xvar.frozenRowIndex > __dindex) {
                __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaintCell.call(this, "top-" + _panelName, __dindex, __doindex, r, c, __value);
              } else {
                __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaintCell.call(this, _panelName + "-scroll", __dindex, __doindex, r, c, __value);
              }
            }
          }
        }
      };

      repaintCell.call(this, "left-body", this.leftBodyRowData.rows, _dindex, doindex, _key, _value);
      repaintCell.call(this, "body", this.bodyRowData.rows, _dindex, doindex, _key, _value);
    }

    return this;
  }

  /**
   * @method
   * @param {Object} _column
   * @param {Number|String} [_cindex=last]
   * @returns {AX6UIGrid}
   */
  addColumn(_column, _cindex) {
    const processor = {
      "first": function (_column) {
        this.config.columns = [].concat(_column).concat(this.config.columns);
      },
      "last": function (_column) {
        this.config.columns = this.config.columns.concat([].concat(_column));
      }
    };

    if (typeof _column === "undefined") throw '_column must not be null';
    if (typeof _cindex === "undefined") _cindex = "last";
    if (_cindex in processor) {
      processor[_cindex].call(this, _column);
    } else {
      if (!__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isNumber(_cindex)) {
        throw 'invalid argument _cindex';
      }
      if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isArray(_column)) {
        for (let _i = 0, _l = _column.length; _i < _l; _i++) {
          this.config.columns.splice(_cindex + _i, 0, _column[_i]);
        }
      } else {
        this.config.columns.splice(_cindex, 0, _column);
      }
    }
    onResetColumns.call(this); // 컬럼이 변경되었을 때.
    return this;
  }

  /**
   * @method
   * @param {Number|String} [_cindex=last]
   * @returns {AX6UIGrid}
   */
  removeColumn(_cindex) {
    const processor = {
      "first": function (_cindex) {
        this.config.columns.splice(_cindex, 1);
      },
      "last": function () {
        this.config.columns.splice(this.config.columns.length - 1, 1);
      }
    };
    if (typeof _cindex === "undefined") _cindex = "last";
    if (_cindex in processor) {
      processor[_cindex].call(this, _cindex);
    } else {
      if (!__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isNumber(_cindex)) {
        throw 'invalid argument _cindex';
      }
      //
      this.config.columns.splice(_cindex, 1);
    }
    onResetColumns.call(this); // 컬럼이 변경되었을 때.
    return this;
  }

  /**
   * @method
   * @param {Object} _column
   * @param {Number} _cindex
   * @returns {AX6UIGrid}
   */
  updateColumn(_column, _cindex) {
    if (!__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isNumber(_cindex)) {
      throw 'invalid argument _cindex';
    }
    //
    this.config.columns.splice(_cindex, 1, _column);
    onResetColumns.call(this); // 컬럼이 변경되었을 때.
    return this;
  }

  /**
   * @method
   * @param {Number} _width
   * @param {Number} _cindex
   * @returns {AX6UIGrid}
   */
  setColumnWidth(_width, _cindex) {
    this.colGroup[this.xvar.columnResizerIndex]._width = _width;
    this.needToPaintSum = true;

    // 컬럼너비 변경사항 적용.
    __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__["a" /* default */].repaint.call(this);
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].repaint.call(this, true);
    __WEBPACK_IMPORTED_MODULE_8__AX6UIGrid_AX6UIGrid_scroller__["a" /* default */].resize.call(this);

    alignGrid.call(this);
    return this;
  }

  /**
   * @method
   * @returns {Object} sortInfo
   */
  getColumnSortInfo() {
    let that = { sortInfo: [] };
    for (let k in this.sortInfo) {
      that.sortInfo.push({
        key: k,
        orderBy: this.sortInfo[k].orderBy,
        seq: this.sortInfo[k].seq
      });
    }
    that.sortInfo.sort(function (a, b) {
      return a.seq > b.seq;
    });
    return that.sortInfo;
  }

  /**
   * @method
   * @param {Object} _sortInfo
   * @param {Object} _sortInfo.key
   * @param {Number} _sortInfo.key.seq - seq of sortOrder
   * @param {String} _sortInfo.key.orderBy - "desc"|"asc"
   * @returns {AX6UIGrid}
   * @example
   * ```js
   * grid.setColumnSort({a:{seq:0, orderBy:"desc"}, b:{seq:1, orderBy:"asc"}});
   * ```
   */
  setColumnSort(_sortInfo) {
    if (typeof _sortInfo !== "undefined") {
      this.sortInfo = _sortInfo;
      __WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__["a" /* default */].applySortStatus.call(this, _sortInfo);
    }

    sortColumns.call(this, _sortInfo || this.sortInfo);
    return this;
  }

  /**
   * @method
   * @param {Number|Object} _selectObject
   * @param {Number} _selectObject.index - index of row
   * @param {Number} _selectObject.rowIndex - rowIndex of columns
   * @param {Number} _selectObject.conIndex - colIndex of columns
   * @param {Object} _options
   * @param {Boolean} _options.selectedClear
   * @param {Boolean} _options.selected
   * @returns {AX6UIGrid}
   * @example
   * ```js
   * grid.select(0);
   * grid.select(0, {selected: true});
   * grid.select(0, {selected: false});
   * grid.select(0, {selectedClear: true});
   * ```
   */
  select(_selectObject, _options) {
    if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isNumber(_selectObject)) {
      let dindex = _selectObject;

      if (!this.config.multipleSelect) {
        this.clearSelect();
      } else {
        if (_options && _options.selectedClear) {
          this.clearSelect();
        }
      }

      __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].select.call(this, dindex, undefined, _options && _options.selected);
      __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].updateRowState.call(this, ["selected"], dindex, undefined);
    }
    return this;
  }

  /**
   * @method
   * @param _dindex
   * @return {AX6UIGrid}
   */
  clickBody(_dindex) {
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].click.call(this, _dindex);
    return this;
  }

  /**
   * @method
   * @param _dindex
   * @return {AX6UIGrid}
   */
  DBLClickBody(_dindex) {
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].dblClick.call(this, _dindex);
    return this;
  }

  /**
   * @method
   * @return {AX6UIGrid}
   */
  clearSelect() {
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].updateRowState.call(this, ["selectedClear"]);
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].clearSelect.call(this);
    return this;
  }

  /**
   * @method
   * @param {Object} _options
   * @param {Boolean} _options.selected
   * @param {Function} _options.filter
   * @returns {AX6UIGrid}
   * @example
   * ```js
   * grid.selectAll();
   * grid.selectAll({selected: true});
   * grid.selectAll({selected: false});
   * grid.selectAll({filter: function(){
     *      return this["b"] == "A01";
     * });
     * grid.selectAll({selected: true, filter: function(){
     *      return this["b"] == "A01";
     * });
     * ```
     */
  selectAll(_options) {
    __WEBPACK_IMPORTED_MODULE_5__AX6UIGrid_AX6UIGrid_data__["a" /* default */].selectAll.call(this, _options && _options.selected, _options);
    __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].updateRowStateAll.call(this, ["selected"]);
    return this;
  }

  /**
   * @method
   * @param {String} _fileName
   * @returns {AX6UIGrid|String}
   * @example
   * ```js
   * grid.exportExcel("grid-to-excel.xls");
   * console.log(grid.exportExcel());
   * ```
   */
  exportExcel(_fileName) {
    let table = [];
    table.push('<table border="1">');
    table.push(__WEBPACK_IMPORTED_MODULE_6__AX6UIGrid_AX6UIGrid_header__["a" /* default */].getExcelString.call(this));
    table.push(__WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].getExcelString.call(this));
    table.push('</table>');

    if (typeof _fileName === "undefined") {
      return table.join('');
    } else {
      EXCEL.export.call(this, [table.join('')], _fileName);
    }

    return this;
  }

  /**
   * @method
   * @param {String|Number} _pos - UP, DOWN, LEFT, RIGHT, HOME, END
   * @returns {AX6UIGrid}
   * @example
   * ```js
   * grid.focus("UP");
   * grid.focus("DOWN");
   * grid.focus("HOME");
   * grid.focus("END");
   * ```
   */
  focus(_pos) {

    if (__WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, _pos)) {
      let focusedColumn;
      for (let c in this.focusedColumn) {
        focusedColumn = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.focusedColumn[c], true);
        break;
      }
      if (focusedColumn) {
        this.select(focusedColumn.dindex, { selectedClear: true });
      }
    } else {
      if (typeof this.selectedDataIndexs[0] === "undefined") {
        this.select(0);
      } else {
        let selectedIndex = this.selectedDataIndexs[0];
        const processor = {
          "UP": function () {
            if (selectedIndex > 0) {
              this.select(selectedIndex - 1, { selectedClear: true });
              __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, selectedIndex - 1);
            }
          },
          "DOWN": function () {
            if (selectedIndex < this.list.length - 1) {
              this.select(selectedIndex + 1, { selectedClear: true });
              __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, selectedIndex + 1);
            }
          },
          "HOME": function () {
            this.select(0, { selectedClear: true });
            __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, 0);
          },
          "END": function () {
            this.select(this.list.length - 1, { selectedClear: true });
            __WEBPACK_IMPORTED_MODULE_7__AX6UIGrid_AX6UIGrid_body__["a" /* default */].moveFocus.call(this, this.list.length - 1);
          }
        };

        if (_pos in processor) {
          processor[_pos].call(this);
        }
      }
    }
    return this;
  }

  /**
   * @method
   * @return {null}
   */
  destroy() {
    this.$target.empty();
    this.list = [];

    return null;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIGrid);

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__ = __webpack_require__(6);



const edit_text = {
  useReturnToSave: true,
  editMode: "popup",
  getHtml: function (_root, _columnKey, _editor, _value) {
    if (typeof _editor.attributes !== "undefined") {
      var attributesText = "";
      for (var k in _editor.attributes) {
        attributesText += ` ${k}='${_editor.attributes[k]}'`;
      }
    }
    return `<input type="text" data-ax6grid-editor="text" value="${_value}" ${attributesText}>`;
  },
  init: function (_root, _columnKey, _editor, _$parent, _value) {
    var $el;
    _$parent.append($el = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.getHtml(_root, _columnKey, _editor, _value)));
    this.bindUI(_root, _columnKey, $el, _editor, _$parent, _value);
    $el.on("blur", function () {
      __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(_root, "RETURN", _columnKey);
    });
    return $el;
  },
  bindUI: function (_root, _columnKey, _$el, _editor, _$parent, _value) {
    _$el.focus().select();
  }
};

const edit_money = {
  useReturnToSave: true,
  editMode: "popup",
  getHtml: function (_root, _columnKey, _editor, _value) {
    let attributesText = "";
    if (typeof _editor.attributes !== "undefined") {
      for (let k in _editor.attributes) {
        attributesText += ` ${k}='${_editor.attributes[k]}'`;
      }
    }
    return '<input type="text" data-ax6grid-editor="money" value="' + _value + '" ' + attributesText + '" />';
  },
  init: function (_root, _columnKey, _editor, _$parent, _value) {
    let $el;
    _$parent.append($el = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.getHtml(_root, _columnKey, _editor, _value)));
    this.bindUI(_root, _columnKey, $el, _editor, _$parent, _value);
    $el.on("blur", function () {
      __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(_root, "RETURN", _columnKey);
    });
    return $el;
  },
  bindUI: function (_root, _columnKey, _$el, _editor, _$parent, _value) {
    _$el.data("binded-ax5ui", "ax5formater");
    _$el.ax5formatter($.extend(true, {
      pattern: "money"
    }, _editor.config));
    _$el.focus().select();
  }
};

const edit_number = {
  useReturnToSave: true,
  editMode: "popup",
  getHtml: function (_root, _columnKey, _editor, _value) {
    let attributesText = "";
    if (typeof _editor.attributes !== "undefined") {
      for (let k in _editor.attributes) {
        attributesText += ` ${k}='${_editor.attributes[k]}'`;
      }
    }
    return '<input type="text" data-ax6grid-editor="number" value="' + _value + '" ' + attributesText + '" />';
  },
  init: function (_root, _columnKey, _editor, _$parent, _value) {
    var $el;
    _$parent.append($el = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.getHtml(_root, _columnKey, _editor, _value)));
    this.bindUI(_root, _columnKey, $el, _editor, _$parent, _value);
    $el.on("blur", function () {
      __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(_root, "RETURN", _columnKey);
    });
    return $el;
  },
  bindUI: function (_root, _columnKey, _$el, _editor, _$parent, _value) {
    _$el.data("binded-ax5ui", "ax5formater");
    _$el.ax5formatter($.extend(true, {
      pattern: "number"
    }, _editor.config));
    _$el.focus().select();
  }
};

const edit_date = {
  useReturnToSave: true,
  editMode: "popup",
  getHtml: function (_root, _columnKey, _editor, _value) {
    return '<input type="text" data-ax6grid-editor="calendar" value="' + _value + '" >';
  },
  init: function (_root, _columnKey, _editor, _$parent, _value) {
    var $el;
    _$parent.append($el = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.getHtml(_root, _columnKey, _editor, _value)));
    this.bindUI(_root, _columnKey, $el, _editor, _$parent, _value);
    return $el;
  },
  bindUI: function (_root, _columnKey, _$el, _editor, _$parent, _value) {
    var self = _root;
    _$el.data("binded-ax5ui", "ax5picker");

    _$el.ax5picker($.extend(true, {
      direction: "auto",
      content: {
        type: 'date',
        formatter: {
          pattern: 'date'
        }
      },
      onStateChanged: function () {
        if (this.state == "open") {
          this.self.activePicker.attr("data-ax6grid-inline-edit-picker", "date");
        } else if (this.state == "close") {
          __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(self, "RETURN", _columnKey);
        }
      }
    }, _editor.config));

    _$el.focus().select();
  }
};

const edit_select = {
  useReturnToSave: false,
  editMode: "popup",
  getHtml: function (_root, _columnKey, _editor, _value) {
    var po = [];
    po.push('<div data-ax5select="ax5grid-editor" data-ax5select-config="{}">');
    po.push('</div>');

    return po.join('');
  },
  init: function (_root, _columnKey, _editor, _$parent, _value) {
    var $el;
    _$parent.append($el = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.getHtml(_root, _columnKey, _editor, _value)));
    this.bindUI(_root, _columnKey, $el, _editor, _$parent, _value);
    return $el;
  },
  bindUI: function (_root, _columnKey, _$el, _editor, _$parent, _value) {
    var eConfig = {
      columnKeys: {
        optionValue: "value",
        optionText: "text",
        optionSelected: "selected"
      }
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, eConfig, _editor.config);

    eConfig.options.forEach(function (n) {
      if (n[eConfig.columnKeys.optionValue] == _value) n[eConfig.columnKeys.optionSelected] = true;
    });

    var self = _root;
    _$el.data("binded-ax5ui", "ax5select");
    _$el.ax5select($.extend(true, {
      direction: "auto",
      columnKeys: eConfig.columnKeys,
      options: eConfig.options,
      onStateChanged: function () {
        if (this.state == "open") {
          this.self.activeSelectOptionGroup.attr("data-ax6grid-inline-edit-picker", "select");
        } else if (this.state == "changeValue") {
          __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(self, "RETURN", _columnKey, this.value[0][eConfig.columnKeys.optionValue]);
        } else if (this.state == "close") {
          __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(self, "ESC", _columnKey);
        }
      }
    }, _editor.config));
    _$el.ax5select("open");
    _$el.ax5select("setValue", _value);
    _$el.find("a").focus();
  }
};

const edit_checkbox = {
  editMode: "inline",
  getHtml: function (_root, _editor, _value) {

    var lineHeight = _root.config.body.columnHeight - _root.config.body.columnPadding * 2 - _root.config.body.columnBorderWidth;
    var checked;
    if (_editor.config && _editor.config.trueValue) {
      checked = _value == _editor.config.trueValue ? "true" : "false";
    } else {
      checked = _value == false || _value == "false" || _value < "1" ? "false" : "true";
    }

    var eConfig = {
      marginTop: 2,
      height: lineHeight - 4
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, eConfig, _editor.config);
    eConfig.marginTop = (lineHeight - eConfig.height) / 2;

    return '<div data-ax6grid-editor="checkbox" data-ax6grid-checked="' + checked + '" style="height:' + eConfig.height + 'px;width:' + eConfig.height + 'px;margin-top:' + eConfig.marginTop + 'px;"></div>';
  }
};

const edit_textarea = {
  useReturnToSave: false,
  editMode: "popup",
  _getHtml: function (_root, _columnKey, _editor, _value) {
    // init 에서 사용하게 될 HTML 태그를 만들어 줍니다.
    return `<div data-ax6grid-editor="textarea"></div>`;
  },
  _bindUI: function (_root, _columnKey, _$el, _editor, _$parent, _value) {
    // 위치와 크기를 구합니다.
    let offset = _$el.offset();
    let box = {
      width: _$el.width()
    };
    let editorHeight = 150;
    let buttonHeight = 30;

    // 새로운 엘리먼트 생성
    let $newDiv = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(`<div data-ax6grid-popup="textarea" style="z-index: 9999;">
    <textarea style="width:100%;height:${editorHeight - buttonHeight}px;" class="form-control">${_value}</textarea>
    <div style="height:${buttonHeight}px;padding:5px;text-align: right;">
        <button class="btn btn-default">OK</button>
    </div>
</div>`);
    let $newTextarea = $newDiv.find("textarea");
    // 엘리먼트에 CSS 적용
    $newDiv.css({
      position: "absolute",
      left: offset.left,
      top: offset.top,
      width: box.width,
      height: editorHeight
    });
    $newDiv.find("textarea");

    // 새로운 엘리먼트를 document.body에 append
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append($newDiv);
    $newTextarea.focus().select();

    $newTextarea.on("blur", function (e) {
      __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(_root, "RETURN", _columnKey, this.value);
      $newDiv.remove();
      ax5.util.stopEvent(e.originalEvent);
    });
    $newTextarea.on("keydown", function (e) {
      if (e.which == ax5.info.eventKeys.ESC) {
        __WEBPACK_IMPORTED_MODULE_1__AX6UIGrid_body__["a" /* default */].inlineEdit.deActive.call(_root, "ESC", _columnKey);
        $newDiv.remove();
        ax5.util.stopEvent(e.originalEvent);
      }
    });

    /// 값 변경
    /// BODY.inlineEdit.deActive.call(_root, "RETURN", _columnKey, this.value[0][eConfig.columnKeys.optionValue]);
    /// 에디팅 취소
    /// BODY.inlineEdit.deActive.call(_root, "ESC", _columnKey);
  },

  init: function (_root, _columnKey, _editor, _$parent, _value) {
    // 인라인 에디팅 활성화 시작
    /**
     * _root : gridInstance
     * _columnKey : di + "_" + col.colIndex + "_" + col.rowIndex
     * _editor : col.editor
     * _$parent : 셀
     * _value : 값
     */
    let $el;
    _$parent.append($el = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this._getHtml(_root, _columnKey, _editor, _value)));
    // 셀에 HTML 컨텐츠 추가

    this._bindUI(_root, _columnKey, $el, _editor, _$parent, _value);
    // 이벤트 바인딩

    return $el;
  }
};

/* harmony default export */ __webpack_exports__["a"] = ({
  "text": edit_text,
  "money": edit_money,
  "number": edit_number,
  "date": edit_date,
  "select": edit_select,
  "checkbox": edit_checkbox,
  "textarea": edit_textarea
});

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AX6Util__ = __webpack_require__(0);


let sum = function () {
  let value = 0,
      i = this.list.length;
  while (i--) {
    if (!("__groupingList" in this.list[i])) {
      value += __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.list[i][this.key]);
    }
  }
  return value;
};

let avg = function () {
  let value = 0,
      i = this.list.length,
      listLength = 0;
  while (i--) {
    if (!("__groupingList" in this.list[i])) {
      value += __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(this.list[i][this.key]);
      listLength++;
    }
  }
  return __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].number(value / (listLength || 1), { "round": 2 });
};

/**
 * @module AX6UIGrid_collector
 */
/* harmony default export */ __webpack_exports__["a"] = ({
  /**
   *
   */
  sum: sum,
  /**
   *
   */
  avg: avg
});

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AX6Util__ = __webpack_require__(0);


const money = function () {
  if (typeof this.value !== "undefined") {
    let val = ('' + this.value).replace(/[^0-9^\.^\-]/g, ""),
        regExpPattern = new RegExp('([0-9])([0-9][0-9][0-9][,.])'),
        arrNumber = val.split('.'),
        returnValue;

    arrNumber[0] += '.';

    do {
      arrNumber[0] = arrNumber[0].replace(regExpPattern, '$1,$2');
    } while (regExpPattern.test(arrNumber[0]));

    return arrNumber.length > 1 ? arrNumber[0] + __WEBPACK_IMPORTED_MODULE_0__AX6Util__["a" /* default */].left(arrNumber[1], 2) : arrNumber[0].split('.')[0];
  } else {
    return "";
  }
};

/* harmony default export */ __webpack_exports__["a"] = ({
  money: money
});

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const main = function () {
    return `<div data-ax6grid-container="root" data-ax6grid-instance="{{instanceId}}">
            <div data-ax6grid-container="hidden">
                <textarea data-ax6grid-form="clipboard"></textarea>
            </div>
            <div data-ax6grid-container="header">
                <div data-ax6grid-panel="aside-header"></div>
                <div data-ax6grid-panel="left-header"></div>
                <div data-ax6grid-panel="header">
                    <div data-ax6grid-panel-scroll="header"></div>
                </div>
                <div data-ax6grid-panel="right-header"></div>
            </div>
            <div data-ax6grid-container="body">
                <div data-ax6grid-panel="top-aside-body"></div>
                <div data-ax6grid-panel="top-left-body"></div>
                <div data-ax6grid-panel="top-body">
                    <div data-ax6grid-panel-scroll="top-body"></div>
                </div>
                <div data-ax6grid-panel="top-right-body"></div>
                <div data-ax6grid-panel="aside-body">
                    <div data-ax6grid-panel-scroll="aside-body"></div>
                </div>
                <div data-ax6grid-panel="left-body">
                    <div data-ax6grid-panel-scroll="left-body"></div>
                </div>
                <div data-ax6grid-panel="body">
                    <div data-ax6grid-panel-scroll="body"></div>
                </div>
                <div data-ax6grid-panel="right-body">
                  <div data-ax6grid-panel-scroll="right-body"></div>
                </div>
                <div data-ax6grid-panel="bottom-aside-body"></div>
                <div data-ax6grid-panel="bottom-left-body"></div>
                <div data-ax6grid-panel="bottom-body">
                    <div data-ax6grid-panel-scroll="bottom-body"></div>
                </div>
                <div data-ax6grid-panel="bottom-right-body"></div>
            </div>
            <div data-ax6grid-container="page">
                <div data-ax6grid-page="holder">
                    <div data-ax6grid-page="navigation"></div>
                    <div data-ax6grid-page="status"></div>
                </div>
            </div>
            <div data-ax6grid-container="scroller">
                <div data-ax6grid-scroller="vertical">
                    <div data-ax6grid-scroller="vertical-bar"></div>    
                </div>
                <div data-ax6grid-scroller="horizontal">
                    <div data-ax6grid-scroller="horizontal-bar"></div>
                </div>
                <div data-ax6grid-scroller="corner"></div>
            </div>
            <div data-ax6grid-resizer="vertical"></div>
            <div data-ax6grid-resizer="horizontal"></div>
        </div>`;
};

const page_navigation = function () {
    return `<div data-ax6grid-page-navigation="holder">
            {{#hasPage}}
            <div data-ax6grid-page-navigation="cell">    
                {{#firstIcon}}<button type="button" data-ax6grid-page-move="first">{{{firstIcon}}}</button>{{/firstIcon}}
                <button type="button" data-ax6grid-page-move="prev">{{{prevIcon}}}</button>
            </div>
            <div data-ax6grid-page-navigation="cell-paging">
                {{#@paging}}
                <button type="button" data-ax6grid-page-move="{{pageNo}}" data-ax6grid-page-selected="{{selected}}">{{pageNo}}</button>
                {{/@paging}}
            </div>
            <div data-ax6grid-page-navigation="cell">
                <button type="button" data-ax6grid-page-move="next">{{{nextIcon}}}</button>
                {{#lastIcon}}<button type="button" data-ax6grid-page-move="last">{{{lastIcon}}}</button>{{/lastIcon}}
            </div>
            {{/hasPage}}
        </div>`;
};

const page_status = function () {
    return `<span>{{{progress}}} {{fromRowIndex}} - {{toRowIndex}} of {{dataRowCount}} {{#totalElements}}&nbsp; Total {{.}}{{/totalElements}}</span>`;
};

/* harmony default export */ __webpack_exports__["a"] = ({
    "main": main,
    "page_navigation": page_navigation,
    "page_status": page_status
});

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);





/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let tmpl = {
  menu(columnKeys) {
    return `
        <div data-ax6ui-menu="" class="{{theme}}" {{#width}}style="width:{{width}}px;"{{/width}}>
            <div class="ax-menu-body">
                {{#${columnKeys.items}}}
                    {{^@isMenu}}
                        {{#divide}}
                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>
                        {{/divide}}
                        {{#html}}
                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>
                        {{/html}}
                    {{/@isMenu}}
                    {{#@isMenu}}
                    <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}" data-menu-item-path="{{@path}}.{{@i}}">
                        <span class="ax-menu-item-cell ax-menu-item-checkbox">
                            {{#check}}
                            <span class="item-checkbox-wrap useCheckBox" {{#checked}}data-item-checked="true"{{/checked}}></span>
                            {{/check}}
                            {{^check}}
                            <span class="item-checkbox-wrap"></span>
                            {{/check}}
                        </span>
                        {{#icon}}
                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>
                        {{/icon}}
                        <span class="ax-menu-item-cell ax-menu-item-label">{{{${columnKeys.label}}}}</span>
                        {{#accelerator}}
                        <span class="ax-menu-item-cell ax-menu-item-accelerator" style="width:{{cfg.acceleratorWidth}}px;"><span class="item-wrap">{{.}}</span></span>
                        {{/accelerator}}
                        {{#@hasChild}}
                        <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>
                        {{/@hasChild}}
                    </div>
                    {{/@isMenu}}

                {{/${columnKeys.items}}}
            </div>
            <div class="ax-menu-arrow"></div>
        </div>
        `;
  },
  menubar(columnKeys) {
    return `
        <div data-ax6ui-menubar="" class="{{theme}}">
            <div class="ax-menu-body">
                {{#${columnKeys.items}}}
                    {{^@isMenu}}
                        {{#divide}}
                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>
                        {{/divide}}
                        {{#html}}
                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>
                        {{/html}}
                    {{/@isMenu}}
                    {{#@isMenu}}
                    <div class="ax-menu-item" data-menu-item-index="{{@i}}">
                        {{#icon}}
                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>
                        {{/icon}}
                        <span class="ax-menu-item-cell ax-menu-item-label">{{{${columnKeys.label}}}}</span>
                    </div>
                    {{/@isMenu}}
                {{/${columnKeys.items}}}
            </div>
        </div>
        `;
  }
};

const appEventAttach = function (active, opt) {
  if (active) {
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off("click.ax5menu-" + this.instanceId).on("click.ax5menu-" + this.instanceId, clickItem.bind(this, opt));

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("keydown.ax5menu-" + this.instanceId).on("keydown.ax5menu-" + this.instanceId, function (e) {
      if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.ESC) {
        self.close();
      }
    }).off("resize.ax5menu-" + this.instanceId).on("resize.ax5menu-" + this.instanceId, function (e) {
      self.close();
    });
  } else {
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off("click.ax5menu-" + this.instanceId);
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("keydown.ax5menu-" + this.instanceId);
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax5menu-" + this.instanceId);
  }
};
const onStateChanged = function (opts, that) {
  if (opts && opts.onStateChanged) {
    opts.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  this.state = that.state;
  opts = null;
  that = null;
  return true;
};
const onLoad = function (that) {
  if (this.onLoad) {
    this.onLoad.call(that, that);
  }

  that = null;
  return true;
};
const popup = function (opt, items, depth, path) {
  let self = this,
      cfg = this.config;
  let data = opt,
      $activeMenu,
      removed;

  data.theme = opt.theme || cfg.theme;
  data.cfg = {
    icons: __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, cfg.icons),
    iconWidth: opt.iconWidth || cfg.iconWidth,
    acceleratorWidth: opt.acceleratorWidth || cfg.acceleratorWidth
  };

  items.forEach(n => {
    if (n.html || n.divide) {
      n['@isMenu'] = false;
      if (n.html) {
        n['@html'] = n.html.call({
          item: n,
          config: cfg,
          opt: opt
        });
      }
    } else {
      n['@isMenu'] = true;
    }
  });

  data[cfg.columnKeys.items] = items;
  data['@depth'] = depth;
  data['@path'] = path || "root";
  data['@hasChild'] = function () {
    return this[cfg.columnKeys.items] && this[cfg.columnKeys.items].length > 0;
  };
  $activeMenu = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.menu.call(this, cfg.columnKeys), data));
  __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append($activeMenu);

  // remove queue
  removed = this.queue.splice(depth);
  removed.forEach(n => {
    n.$target.remove();
  });

  this.queue.push({
    '$target': $activeMenu,
    'data': __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, data)
  });

  $activeMenu.on('mouseover', '[data-menu-item-index]', function () {
    let depth = this.getAttribute("data-menu-item-depth"),
        index = this.getAttribute("data-menu-item-index"),
        path = this.getAttribute("data-menu-item-path"),
        $this,
        offset,
        scrollTop,
        childOpt,
        _items,
        _activeMenu;

    if (depth != null && typeof depth != "undefined") {
      _items = self.queue[depth].data[cfg.columnKeys.items][index][cfg.columnKeys.items];
      _activeMenu = self.queue[depth].$target;
      _activeMenu.find('[data-menu-item-index]').removeClass("hover");
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this).addClass("hover");

      if (_activeMenu.attr("data-selected-menu-item-index") != index) {
        _activeMenu.attr("data-selected-menu-item-index", index);

        if (_items && _items.length > 0) {

          $this = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this);
          offset = $this.offset();
          scrollTop = cfg.position == "fixed" ? __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollTop() : 0;
          childOpt = {
            '@parent': {
              left: offset.left,
              top: offset.top,
              width: $this.outerWidth(),
              height: $this.outerHeight()
            },
            left: offset.left + $this.outerWidth() - cfg.menuBodyPadding,
            top: offset.top - cfg.menuBodyPadding - 1 - scrollTop
          };

          childOpt = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, opt, childOpt);
          popup.call(self, childOpt, _items, Number(depth) + 1, path);
        } else {
          self.queue.splice(Number(depth) + 1).forEach(function (n) {
            n.$target.remove();
          });
        }
      }
    }

    depth = null;
    index = null;
    path = null;
    $this = null;
    offset = null;
    scrollTop = null;
    childOpt = null;
    _items = null;
    _activeMenu = null;
  });

  // mouse out
  $activeMenu.on('mouseout', '[data-menu-item-index]', function () {
    let depth = this.getAttribute("data-menu-item-depth"),
        index = this.getAttribute("data-menu-item-index"),
        path = this.getAttribute("data-menu-item-path"),
        _items;

    if (path) {
      _items = self.queue[depth].data[cfg.columnKeys.items][index][cfg.columnKeys.items];
    }
    if (_items && _items.length > 0) {} else {
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this).removeClass("hover");
    }
  });

  // is Root
  if (depth == 0) {
    if (data.direction) $activeMenu.addClass("direction-" + data.direction);
    onStateChanged.call(this, null, {
      self: this,
      items: items,
      parent: function (path) {
        if (!path) return false;
        try {
          return Function("", "return this.config.items[" + path.substring(5).replace(/\./g, '].items[') + "];").call(self);
        } catch (e) {}
      }(data['@path']),
      state: "popup"
    });
  }

  align.call(this, $activeMenu, data);
  onLoad.call(this, {
    self: this,
    items: items,
    element: $activeMenu.get(0)
  });

  data = null;
  $activeMenu = null;
  removed = null;
  opt = null;
  items = null;
  depth = null;
  path = null;

  return this;
};
const clickItem = function (opt, e) {
  let self = this,
      cfg = this.config;
  let target, item;

  target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-menu-item-index")) {
      return true;
    }
  });
  if (target) {
    if (typeof opt === "undefined") opt = {};
    item = function (path) {
      if (!path) return false;
      try {
        return Function("", "return this[" + path.substring(5).replace(/\./g, '].' + cfg.columnKeys.items + '[') + "];").call(opt.items || cfg.items);
      } catch (e) {
        console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax5menu", "501", "menuItemClick"));
      } finally {
        item = null;
      }
    }(target.getAttribute("data-menu-item-path"));

    if (!item) return this;

    if (item.check) {
      (function (items) {
        let setValue = {
          'checkbox': function (value) {
            this.checked = !value;
          },
          'radio': function (value) {
            var name = this.name;
            items.forEach(function (n) {
              if (n.check && n.check.type === 'radio' && n.check.name == name) {
                n.check.checked = false;
              }
            });
            this.checked = !value;
          }
        };
        if (setValue[this.type]) setValue[this.type].call(this, this.checked);
        setValue = null;
      }).call(item.check, cfg.items);

      if (!cfg.itemClickAndClose) {
        self.queue.forEach(n => {
          n.$target.find('[data-menu-item-index]').each(function () {
            let item = n.data[cfg.columnKeys.items][this.getAttribute("data-menu-item-index")];
            if (item.check) {
              __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this).find(".item-checkbox-wrap").attr("data-item-checked", item.check.checked);
            }
            item = null;
          });
        });
      }
    }

    if (self.onClick) {
      if (self.onClick.call(item, item, opt.param)) {
        self.close();
      }
    }
    if ((!item[cfg.columnKeys.items] || item[cfg.columnKeys.items].length == 0) && cfg.itemClickAndClose) self.close();
  } else {
    self.close();
  }

  target = null;
  item = null;
  return this;
};
const align = function ($activeMenu, data) {
  let self = this,
      cfg = this.config;
  let $window = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window),
      $document = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document),
      wh = cfg.position == "fixed" ? $window.height() : $document.height(),
      ww = $window.width(),
      h = $activeMenu.outerHeight(),
      w = $activeMenu.outerWidth(),
      l = data.left,
      t = data.top,
      position = cfg.position || "fixed";

  if (l + w > ww) {
    if (data['@parent']) {
      l = data['@parent'].left - w + cfg.menuBodyPadding;
    } else {
      l = ww - w;
    }
  }

  if (t + h > wh) {
    t = wh - h;
  }

  $activeMenu.css({ left: l, top: t, position: position });

  $activeMenu = null;
  data = null;
  $window = null;
  $document = null;
  wh = null;
  ww = null;
  h = null;
  w = null;
  l = null;
  t = null;
  position = null;
  return this;
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIMenu extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.theme]
     * @param [config.iconWidth=22]
     * @param [config.acceleratorWidth=100]
     * @param [config.menuBodyPadding=5]
     * @param [config.offset]
     * @param [config.offset.left=0]
     * @param [config.offset.top=0]
     * @param [config.position="fixed"]
     * @param [config.animateTime=250]
     * @param [config.items]
     * @param [config.itemClickAndClose=true]
     * @param [config.columnKeys]
     * @param [config.columnKeys.label='label']
     * @param [config.columnKeys.items='items']
     * @param [config.onStateChanged]
     * @param [config.onClick]
     * @param [config.onLoad]
     *
     */
    this.config = {
      theme: "default",
      iconWidth: 22,
      acceleratorWidth: 100,
      menuBodyPadding: 5,
      offset: { left: 0, top: 0 },
      position: "fixed",
      animateTime: 250,
      items: [],
      itemClickAndClose: true,
      columnKeys: {
        label: 'label',
        items: 'items'
      }
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * @member
     */
    this.openTimer = null;
    /**
     * @member
     */
    this.closeTimer = null;
    /**
     * @member {Array}
     */
    this.queue = [];
    /**
     * @member {Object}
     */
    this.menuBar = {};
    /**
     * @member
     */
    this.state = undefined;

    if (typeof config !== "undefined") this.init();
  }

  /**
   * @method
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;
    this.onClick = this.config.onClick;
    delete this.config.onClick;
    this.onLoad = this.config.onLoad;
    delete this.config.onLoad;

    onStateChanged.call(this, null, {
      self: this,
      state: "init"
    });
    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * @method
   * @param {Event|Object} e - Event or Object
   * @param {Object} [opt]
   * @param {String} [opt.theme]
   * @param {Function} [opt.filter]
   * @returns {AX6UIMenu}
   */
  popup(e, opt) {
    let self = this,
        cfg = this.config;
    const getOption = {
      'event': function (e, opt) {
        e = {
          left: e.clientX,
          top: cfg.position == "fixed" ? e.clientY : e.pageY,
          width: cfg.width,
          theme: cfg.theme
        };

        e.left -= 5;
        e.top -= 5;

        if (cfg.offset) {
          if (cfg.offset.left) e.left += cfg.offset.left;
          if (cfg.offset.top) e.top += cfg.offset.top;
        }
        opt = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, e, opt);

        try {
          return opt;
        } finally {
          e = null;
          //opt = null;
        }
      },
      'object': function (e, opt) {
        e = {
          left: e.left,
          top: e.top,
          width: e.width || cfg.width,
          theme: e.theme || cfg.theme
        };

        if (cfg.offset) {
          if (cfg.offset.left) e.left += cfg.offset.left;
          if (cfg.offset.top) e.top += cfg.offset.top;
        }

        opt = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, e, opt);

        try {
          return opt;
        } finally {
          e = null;
          //opt = null;
        }
      }
    },
          updateTheme = function (theme) {
      if (theme) cfg.theme = theme;
    };

    if (!e) return this;
    opt = getOption[typeof e.clientX == "undefined" ? "object" : "event"].call(this, e, opt);
    updateTheme(opt.theme);

    let items = [].concat(cfg.items),
        filteringItem;
    opt.items = items;

    if (opt.filter) {
      filteringItem = function (_items) {
        let arr = [];
        _items.forEach(n => {
          if (n.items && n.items.length > 0) {
            n.items = filteringItem(n.items);
          }
          if (opt.filter.call(n)) {
            arr.push(n);
          }
        });
        return arr;
      };
      opt.items = items = filteringItem(items);
    }

    if (items.length) {
      appEventAttach.call(this, false);
      popup.call(this, opt, items, 0); // 0 is seq of queue

      if (this.popupEventAttachTimer) clearTimeout(this.popupEventAttachTimer);
      this.popupEventAttachTimer = setTimeout(function () {
        appEventAttach.call(this, true, opt); // 이벤트 연결
      }.bind(this), 500);
    }

    e = null;
    return this;
  }

  /**
   * @method
   * @param {Element|jQueryObject} el
   * @returns {AX6UIMenu}
   */
  attach(el, opt) {
    let self = this,
        cfg = this.config;
    const getOption = {
      'object': function (e, opt) {
        e = {
          left: e.left,
          top: e.top,
          width: e.width || cfg.width,
          theme: e.theme || cfg.theme,
          direction: e.direction || cfg.direction
        };
        opt = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, opt, e);

        try {
          return opt;
        } finally {
          e = null;
          opt = null;
        }
      }
    };

    const popUpChildMenu = function (target, opt, eType) {
      let $target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(target),
          offset = $target.offset(),
          height = $target.outerHeight(),
          index = Number(target.getAttribute("data-menu-item-index")),
          scrollTop = cfg.position == "fixed" ? __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollTop() : 0;

      if (cfg.items && cfg.items[index][cfg.columnKeys.items] && cfg.items[index][cfg.columnKeys.items].length) {

        if (self.menuBar.openedIndex == index) {
          if (eType == "click") self.close();
          return false;
        }

        self.menuBar.target.find('[data-menu-item-index]').removeClass("hover");
        self.menuBar.opened = true;
        self.menuBar.openedIndex = index;

        $target.attr("data-menu-item-opened", "true");
        $target.addClass("hover");

        if (cfg.offset) {
          if (cfg.offset.left) offset.left += cfg.offset.left;
          if (cfg.offset.top) offset.top += cfg.offset.top;
        }

        opt = getOption["object"].call(this, { left: offset.left, top: offset.top + height - scrollTop }, opt);

        popup.call(self, opt, cfg.items[index][cfg.columnKeys.items], 0, 'root.' + target.getAttribute("data-menu-item-index")); // 0 is seq of queue
        appEventAttach.call(self, true, {}); // 이벤트 연결
      }

      target = null;
      opt = null;
      $target = null;
      offset = null;
      height = null;
      index = null;
      scrollTop = null;
    };
    const clickParentMenu = function (target, opt, eType) {
      let $target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(target),
          offset = $target.offset(),
          height = $target.outerHeight(),
          index = Number(target.getAttribute("data-menu-item-index")),
          scrollTop = cfg.position == "fixed" ? __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollTop() : 0;
      if (cfg.items && (!cfg.items[index][cfg.columnKeys.items] || cfg.items[index][cfg.columnKeys.items].length == 0)) {
        if (self.onClick) {
          self.onClick.call(cfg.items[index], cfg.items[index]);
        }
      }
    };

    let data = {},
        items = cfg.items,
        $activeMenu;

    if (typeof opt === "undefined") opt = {};

    data.theme = opt.theme || cfg.theme;
    data.cfg = {
      icons: __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, cfg.icons),
      iconWidth: opt.iconWidth || cfg.iconWidth,
      acceleratorWidth: opt.acceleratorWidth || cfg.acceleratorWidth
    };

    items.forEach(n => {
      if (n.html || n.divide) {
        n['@isMenu'] = false;
        if (n.html) {
          n['@html'] = n.html.call({
            item: n,
            config: cfg,
            opt: opt
          });
        }
      } else {
        n['@isMenu'] = true;
      }
    });

    data[cfg.columnKeys.items] = items;

    $activeMenu = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.menubar.call(this, cfg.columnKeys), data));

    self.menuBar = {
      target: __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(el),
      opened: false
    };
    self.menuBar.target.html($activeMenu);

    // click, mouseover
    self.menuBar.target.on("click", function (e) {
      if (!e) return this;
      let target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
        if (target.getAttribute("data-menu-item-index")) {
          return true;
        }
      });
      if (target) {
        clickParentMenu(target, opt, "click");
        popUpChildMenu(target, opt, "click");
      }

      target = null;
    });
    self.menuBar.target.on("mouseover", function (e) {
      if (!self.menuBar.opened) return false;
      let target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
        if (target.getAttribute("data-menu-item-index")) {
          return true;
        }
      });
      if (target) popUpChildMenu(target, opt, "mouseover");

      target = null;
    });

    el = null;
    opt = null;
    data = null;
    items = null;
    $activeMenu = null;

    return this;
  }

  /**
   * @method
   * @returns {AX6UIMenu}
   */
  close() {
    let self = this,
        cfg = this.config;
    if (self.menuBar && self.menuBar.target) {
      self.menuBar.target.find('[data-menu-item-index]').removeClass("hover");
      self.menuBar.opened = false;
      self.menuBar.openedIndex = null;
    }

    appEventAttach.call(this, false); // 이벤트 제거

    this.queue.forEach(n => {
      n.$target.remove();
    });
    this.queue = [];

    onStateChanged.call(this, null, {
      self: this,
      state: "close"
    });

    return this;
  }

  /**
   * @method
   * @returns {Object} statusCheckItem
   */
  getCheckValue() {

    let checkItems = {};
    const collectItem = function (items) {
      let i = items.length;
      while (i--) {
        if (items[i].check && items[i].check.checked) {
          if (!checkItems[items[i].check.name]) checkItems[items[i].check.name] = items[i].check.value;else {
            if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(checkItems[items[i].check.name])) checkItems[items[i].check.name] = [checkItems[items[i].check.name]];
            checkItems[items[i].check.name].push(items[i].check.value);
          }
        }
        if (items[i].items && items[i].items.length > 0) collectItem(items[i].items);
      }
    };

    collectItem(this.config.items);

    try {
      return checkItems;
    } finally {
      checkItems = null;
    }
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIMenu);

/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6Util_js__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Mustache__ = __webpack_require__(4);




/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let tmpl = {
  display(columnKeys) {
    return `
<div id="{{toastId}}" data-ax6ui-toast="" class="{{theme}}">
    {{#icon}}
    <div class="ax-toast-icon">{{{.}}}</div>
    {{/icon}}
    <div class="ax-toast-body">{{{msg}}}</div>
    {{#btns}}
    <div class="ax-toast-buttons">
        <div class="ax-button-wrap">
            {{#@each}}
            <button type="button" data-ax-toast-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{{@value.label}}}</button>
            {{/@each}}
        </div>
    </div>
    {{/btns}}
    {{^btns}}
        <a class="ax-toast-close" data-ax-toast-btn="ok">{{{closeIcon}}}</a>
    {{/btns}}
    <div style="clear:both;"></div>
</div>`;
  }
};

const onStateChanged = function (opts, that) {
  if (opts && opts.onStateChanged) {
    opts.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  opts = null;
  that = null;
  return true;
};
const getContent = function (toastId, opts) {
  let data = {
    toastId: toastId,
    theme: opts.theme,
    icon: opts.icon,
    msg: (opts.msg || "").replace(/\n/g, "<br/>"),
    btns: opts.btns,
    closeIcon: opts.closeIcon
  };

  try {
    return __WEBPACK_IMPORTED_MODULE_3__AX6Mustache__["a" /* default */].render(tmpl.display.call(this), data);
  } finally {
    toastId = null;
    data = null;
  }
};
const open = function (opts, callback) {
  if (this.toastSeqClear) clearTimeout(this.toastSeqClear);

  let $toastBox,
      box = {
    width: opts.width
  };

  opts.id = 'ax6ui-toast-' + this.instanceId + '-' + ++this.toastSeq;

  if (__WEBPACK_IMPORTED_MODULE_0_jqmin___default()('#' + opts.id).get(0)) return this;

  $toastBox = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(getContent(opts.id, opts));
  $toastBox.css({ width: this.$toastContainer.width() });

  if (__WEBPACK_IMPORTED_MODULE_1__AX6Util_js__["a" /* default */].left(this.config.containerPosition, '-') == 'bottom') {
    this.$toastContainer.append($toastBox);
  } else {
    this.$toastContainer.prepend($toastBox);
  }

  opts.$toastBox = $toastBox;
  this.queue.push(opts);

  onStateChanged.call(this, opts, {
    self: this,
    state: "open",
    toastId: opts.id
  });

  if (opts.toastType === "push") {
    // 자동 제거 타이머 시작
    setTimeout(() => {
      this.close(opts, callback);
    }, this.config.displayTime);

    $toastBox.on(this.config.clickEventName, '[data-ax-toast-btn]', e => {
      btnOnClick.call(this, e || window.event, opts, $toastBox, callback);
    });
  } else if (opts.toastType === "confirm") {
    $toastBox.on(this.config.clickEventName, '[data-ax-toast-btn]', e => {
      btnOnClick.call(this, e || window.event, opts, $toastBox, callback);
    });
  }

  box = null;
};
const btnOnClick = function (e, opts, $toastBox, callback, target, k) {
  target = __WEBPACK_IMPORTED_MODULE_1__AX6Util_js__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-ax-toast-btn")) {
      return true;
    }
  });

  if (target) {
    k = target.getAttribute("data-ax-toast-btn");

    let that = {
      key: k, value: opts.btns ? opts.btns[k] : k,
      toastId: opts.id,
      btn_target: target
    };

    if (opts.btns && opts.btns[k].onClick) {
      opts.btns[k].onClick.call(that, that);
    } else if (opts.toastType === "push") {
      if (callback) callback.call(that, that);
      this.close(opts, callback);
    } else if (opts.toastType === "confirm") {
      if (callback) callback.call(that, that);
      this.close(opts);
    }
  }

  e = null;
  opts = null;
  $toastBox = null;
  callback = null;
  target = null;
  k = null;
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIToast extends __WEBPACK_IMPORTED_MODULE_2__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.theme='default']
     * @param [config.width=300]
     * @param [config.icon='']
     * @param [config.closeIcon='']
     * @param [config.msg='']
     * @param [config.lang]
     * @param [config.lang.ok='ok']
     * @param [config.lang.cancel='cancel']
     * @param [config.displayTime=3000]
     * @param [config.animateTime=250]
     * @param [config.containerPosition='bottom-left']
     */
    this.config = {
      clickEventName: "click",
      theme: 'default',
      width: 300,
      icon: '',
      closeIcon: '',
      msg: '',
      lang: {
        "ok": "ok", "cancel": "cancel"
      },
      displayTime: 3000,
      animateTime: 250,
      containerPosition: "bottom-left",
      zIndex: 9999
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    this.$toastContainer = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()('<div data-ax6ui-toast-container="' + this.instanceId + '" data-toast-container-position=""></div>');
    this.queue = [];
    this.toastSeq = 0;
    this.toastSeqClear = null;

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.$toastContainer);

    this.init();
  }

  /**
   * @method
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;

    this.$toastContainer.css({ "z-index": this.config.zIndex, width: this.config.width, "max-width": "100%" }).attr("data-toast-container-position", this.config.containerPosition);

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * @method
   * @param opts
   * @param callback
   * @return {AX6UIToast}
   * @example
   * ```js
   * import {AX6UIToast as Toast} from "ax6ui";
   *
   * let toast = new Toast({
     *  containerPosition: "bottom-right"
     * });
   *
   * toast.push("toast messages");
   * ```
   */
  push(opts, callback) {
    if (__WEBPACK_IMPORTED_MODULE_1__AX6Util_js__["a" /* default */].isString(opts)) {
      opts = {
        title: this.config.title,
        msg: opts
      };
    }

    opts.toastType = "push";
    opts = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, opts);
    open.call(this, opts, callback);

    opts = null;
    callback = null;
    return this;
  }

  /**
   * @method
   * @param opts
   * @param callback
   * @returns {AX6UIToast}
   * @example
   * ```js
   * import {AX6UIToast as Toast} from "ax6ui";
   *
   * let toast = new Toast({
     *  containerPosition: "bottom-right"
     * });
   *
   * toast.confirm({
     *  title: "예/아니오",
     *  msg: "당신은 개발자 입니까?",
     *  btns: {
     *      Y: {label: "예"},
     *      N: {label: "아니오"}
     *  }
     * }, function(res){
     *  console.log(res);
     * });
   * ```
   */
  confirm(opts, callback) {
    if (__WEBPACK_IMPORTED_MODULE_1__AX6Util_js__["a" /* default */].isString(opts)) {
      opts = {
        title: this.config.title,
        msg: opts
      };
    }

    opts.toastType = "confirm";
    opts = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, opts);
    if (typeof opts.btns === "undefined") {
      opts.btns = {
        ok: { label: opts.lang["ok"], theme: opts.theme }
      };
    }
    open.call(this, opts, callback);

    opts = null;
    callback = null;
    return this;
  }

  /**
   * close the toast
   * @method
   * @returns {AX6UIToast}
   * @example
   * ```
   * toast.close();
   * ```
   */
  close(opts, callback) {
    let $toastBox = opts.$toastBox;
    $toastBox.addClass(opts.toastType == "push" ? "removed" : "destroy");
    this.queue = __WEBPACK_IMPORTED_MODULE_1__AX6Util_js__["a" /* default */].filter(this.queue, function () {
      return opts.id != this.id;
    });

    setTimeout(function () {
      var that = {
        toastId: opts.id
      };

      $toastBox.remove();
      if (callback) callback.call(that, that);

      that = {
        self: this,
        state: "close",
        toastId: opts.id
      };
      onStateChanged.call(this, opts, that);

      // 3초후에도 아무 일이 없다면 완전히 제거
      if (this.queue.length === 0) {
        if (this.toastSeqClear) clearTimeout(this.toastSeqClear);
        this.toastSeqClear = setTimeout(function () {
          /// console.log("try clear seq");
          if (this.queue.length === 0) this.toastSeq = 0;
        }.bind(this), 3000);
      }

      that = null;
      opts = null;
      callback = null;
      $toastBox = null;
    }.bind(this), opts.animateTime);

    return this;
  }

}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIToast);

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);





/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let tmpl = {
  modal() {
    return ` 
<div data-ax6ui-modal="{{modalId}}" data-modal-els="root" class="{{theme}} {{fullscreen}}" style="{{styles}}">
    {{#header}}
    <div class="ax-modal-header" data-modal-els="header">
        {{{title}}}
        {{#btns}}
            <div class="ax-modal-header-addon">
            {{#@each}}
            <button tabindex="-1" data-modal-header-btn="{{@key}}" class="{{@value.theme}}">{{{@value.label}}}</button>
            {{/@each}}
            </div>
        {{/btns}}
    </div>
    {{/header}}
    <div class="ax-modal-body" data-modal-els="body">
    {{#iframe}}
        <div data-modal-els="iframe-wrap" style="-webkit-overflow-scrolling: touch; overflow: auto;position: relative;">
            <table data-modal-els="iframe-loading" style="width:100%;height:100%;"><tr><td style="text-align: center;vertical-align: middle">{{{iframeLoadingMsg}}}</td></tr></table>
            <iframe name="{{modalId}}-frame" src="" width="100%" height="100%" frameborder="0" data-modal-els="iframe" style="position: absolute;left:0;top:0;"></iframe>
        </div>
        <form name="{{modalId}}-form" data-modal-els="iframe-form">
        <input type="hidden" name="modalId" value="{{modalId}}" />
        {{#param}}
        {{#@each}}
        <input type="hidden" name="{{@key}}" value="{{@value}}" />
        {{/@each}}
        {{/param}}
        </form>
    {{/iframe}}
    {{^iframe}}
        <div data-modal-els="body-frame" style="position: absolute;left:0;top:0;width:100%;height:100%;"></div>
    {{/iframe}}
    </div>
    {{^disableResize}}
    <div data-ax6ui-modal-resizer="top"></div>
    <div data-ax6ui-modal-resizer="right"></div>
    <div data-ax6ui-modal-resizer="bottom"></div>
    <div data-ax6ui-modal-resizer="left"></div>
    <div data-ax6ui-modal-resizer="top-left"></div>
    <div data-ax6ui-modal-resizer="top-right"></div>
    <div data-ax6ui-modal-resizer="bottom-left"></div>
    <div data-ax6ui-modal-resizer="bottom-right"></div>
    {{/disableResize}}
</div>`;
  }
};
let ENM = {
  "mousedown": __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportTouch ? "touchstart" : "mousedown",
  "mousemove": __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportTouch ? "touchmove" : "mousemove",
  "mouseup": __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportTouch ? "touchend" : "mouseup"
};

const getMousePosition = function (e) {
  let mouseObj = e;
  if ('changedTouches' in e && e.changedTouches) {
    mouseObj = e.changedTouches[0];
  }
  return {
    clientX: mouseObj.clientX,
    clientY: mouseObj.clientY
  };
};
const onStateChanged = function (opts, that) {
  const eventProcessor = {
    "resize": function (that) {
      if (opts && opts.onResize) {
        opts.onResize.call(that, that);
      } else if (this.onResize) {
        this.onResize.call(that, that);
      }
    },
    "move": function () {}
  };
  if (that.state in eventProcessor) {
    eventProcessor[that.state].call(this, that);
  }

  if (opts && opts.onStateChanged) {
    opts.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }
  return true;
};
const getContent = function (modalId, opts) {
  let data = {
    modalId: modalId,
    theme: opts.theme,
    header: opts.header,
    fullScreen: opts.fullScreen ? "fullscreen" : "",
    styles: "",
    iframe: opts.iframe,
    iframeLoadingMsg: opts.iframeLoadingMsg,
    disableResize: opts.disableResize
  };

  if (opts.zIndex) {
    data.styles += "z-index:" + opts.zIndex + ";";
  }
  if (opts.absolute) {
    data.styles += "position:absolute;";
  }

  if (data.iframe && typeof data.iframe.param === "string") {
    data.iframe.param = ax5.util.param(data.iframe.param);
  }

  return __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.modal.call(this), data);
};
const open = function (opts, callback) {
  let that;

  this.modalConfig = opts;
  this.$activeModal = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(getContent.call(this, opts.id, opts));

  if (typeof callback === "undefined") {
    callback = opts.callback;
  }

  // 파트수집
  this.$ = {
    "root": this.$activeModal,
    "header": this.$activeModal.find('[data-modal-els="header"]'),
    "body": this.$activeModal.find('[data-modal-els="body"]')
  };

  if (opts.iframe) {
    this.$["iframe-wrap"] = this.$activeModal.find('[data-modal-els="iframe-wrap"]');
    this.$["iframe"] = this.$activeModal.find('[data-modal-els="iframe"]');
    this.$["iframe-form"] = this.$activeModal.find('[data-modal-els="iframe-form"]');
    this.$["iframe-loading"] = this.$activeModal.find('[data-modal-els="iframe-loading"]');
  } else {
    this.$["body-frame"] = this.$activeModal.find('[data-modal-els="body-frame"]');
  }

  __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.$activeModal);
  //- position 정렬
  this.align();

  that = {
    self: this,
    id: opts.id,
    theme: opts.theme,
    width: opts.width,
    height: opts.height,
    state: "open",
    $: this.$
  };

  if (opts.iframe) {
    this.$["iframe-wrap"].css({ height: opts.height });
    this.$["iframe"].css({ height: opts.height });

    // iframe content load
    this.$["iframe-form"].attr({ "method": opts.iframe.method });
    this.$["iframe-form"].attr({ "target": opts.id + "-frame" });
    this.$["iframe-form"].attr({ "action": opts.iframe.url });
    this.$["iframe"].on("load", function () {
      that.state = "load";
      if (opts.iframeLoadingMsg) {
        this.$["iframe-loading"].hide();
      }
      onStateChanged.call(this, opts, that);
    }.bind(this));
    if (!opts.iframeLoadingMsg) {
      this.$["iframe"].show();
    }
    this.$["iframe-form"].submit();
  }

  if (callback) callback.call(that, that);

  onStateChanged.call(this, opts, that);

  // bind key event
  if (opts.closeToEsc) {
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("keydown.ax-modal", e => {
      onkeyup.call(this, e || window.event);
    });
  }

  __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("resize.ax-modal", e => {
    this.align(null, e || window.event);
  });

  this.$.header.off(ENM["mousedown"]).off("dragstart").on(ENM["mousedown"], e => {
    /// 이벤트 필터링 추가 : 버튼엘리먼트로 부터 발생된 이벤트이면 moveModal 시작하지 않도록 필터링
    let isButton = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].findParentNode(e.currentTarget, function (_target) {
      if (_target.getAttribute("data-modal-header-btn")) {
        return true;
      }
    });

    if (!opts.isFullScreen && !isButton && opts.disableDrag != true) {
      this.mousePosition = getMousePosition(e);
      moveModal.on.call(this);
    }
    if (isButton) {
      btnOnClick.call(this, e || window.event, opts);
    }
  }).on("dragstart", e => {
    __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e.originalEvent);
    return false;
  });

  this.$activeModal.off(ENM["mousedown"]).off("dragstart").on(ENM["mousedown"], "[data-ax6ui-modal-resizer]", e => {
    if (opts.disableDrag || opts.isFullScreen) return false;
    this.mousePosition = getMousePosition(e);
    resizeModal.on.call(this, e.currentTarget.getAttribute("data-ax6ui-modal-resizer"));
  }).on("dragstart", e => {
    __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e.originalEvent);
    return false;
  });
};
const btnOnClick = function (e, opts, callback, target, k) {
  let that;
  if (e.srcElement) e.target = e.srcElement;

  target = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-modal-header-btn")) {
      return true;
    }
  });

  if (target) {
    k = target.getAttribute("data-modal-header-btn");

    that = {
      self: this,
      key: k, value: opts.header.btns[k],
      dialogId: opts.id,
      btnTarget: target
    };

    if (opts.header.btns[k].onClick) {
      opts.header.btns[k].onClick.call(that, that);
    }
  }

  that = null;
  opts = null;
  callback = null;
  target = null;
  k = null;
};
const onkeyup = function (e) {
  if (e.keyCode == __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].eventKeys.ESC) {
    this.close();
  }
};
const alignProcessor = {
  "top-left": function () {
    this.align({ left: "left", top: "top" });
  },
  "top-right": function () {
    this.align({ left: "right", top: "top" });
  },
  "bottom-left": function () {
    this.align({ left: "left", top: "bottom" });
  },
  "bottom-right": function () {
    this.align({ left: "right", top: "bottom" });
  },
  "center-middle": function () {
    this.align({ left: "center", top: "middle" });
  }
};
const moveModal = {
  "on": function () {
    let modalZIndex = this.$activeModal.css("z-index"),
        modalOffset = this.$activeModal.position(),
        modalBox = {
      width: this.$activeModal.outerWidth(), height: this.$activeModal.outerHeight()
    },
        windowBox = {
      width: __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).width(),
      height: __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).height(),
      scrollLeft: this.modalConfig.absolute ? 0 : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollLeft(),
      scrollTop: this.modalConfig.absolute ? 0 : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollTop()
    },
        getResizerPosition = function (e) {
      this.__dx = e.clientX - this.mousePosition.clientX;
      this.__dy = e.clientY - this.mousePosition.clientY;

      if (minX > modalOffset.left + this.__dx) {
        this.__dx = -modalOffset.left;
      } else if (maxX < modalOffset.left + this.__dx) {
        this.__dx = maxX - modalOffset.left;
      }

      if (minY > modalOffset.top + this.__dy) {
        this.__dy = -modalOffset.top;
      } else if (maxY < modalOffset.top + this.__dy) {
        this.__dy = maxY - modalOffset.top;
      }

      return {
        left: modalOffset.left + this.__dx + windowBox.scrollLeft,
        top: modalOffset.top + this.__dy + windowBox.scrollTop
      };
    };

    let minX = 0,
        maxX = windowBox.width - modalBox.width,
        minY = 0,
        maxY = windowBox.height - modalBox.height;

    this.__dx = 0; // 변화량 X
    this.__dy = 0; // 변화량 Y

    // this.$resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV
    this.$resizerBg.css({ zIndex: modalZIndex });
    this.$resizer.css({
      left: modalOffset.left + windowBox.scrollLeft,
      top: modalOffset.top + windowBox.scrollTop,
      width: modalBox.width,
      height: modalBox.height,
      zIndex: modalZIndex + 1
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.$resizerBg).append(this.$resizer);

    this.$activeModal.addClass("draged");

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).on(ENM["mousemove"] + ".ax6modal-move-" + this.instanceId, __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].throttle(function (e) {
      this.$resizer.css(getResizerPosition.call(this, e));
    }, 30).bind(this)).on(ENM["mouseup"] + ".ax6modal-move-" + this.instanceId, e => {
      moveModal.off.call(this);
    }).on("mouseleave.ax6modal-move-" + this.instanceId, e => {
      moveModal.off.call(this);
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);
  },
  "off": function () {
    const setModalPosition = function () {
      let box = this.$resizer.offset();
      if (!this.modalConfig.absolute) {
        box.left -= __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollLeft();
        box.top -= __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollTop();
      }
      this.$activeModal.css(box);
      this.modalConfig.left = box.left;
      this.modalConfig.top = box.top;

      box = null;
    };

    this.$activeModal.removeClass("draged");
    setModalPosition.call(this);

    this.$resizer.remove();
    this.$resizer = null;
    this.$resizerBg.remove();
    this.$resizerBg = null;

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off(ENM["mousemove"] + ".ax6modal-move-" + this.instanceId).off(ENM["mouseup"] + ".ax6modal-move-" + this.instanceId).off("mouseleave.ax6modal-move-" + this.instanceId);

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');

    onStateChanged.call(this, this.modalConfig, {
      self: this,
      state: "move"
    });
  }
};
const resizeModal = {
  "on": function (resizerType) {
    let modalZIndex = this.$activeModal.css("z-index"),
        modalOffset = this.$activeModal.position(),
        modalBox = {
      width: this.$activeModal.outerWidth(), height: this.$activeModal.outerHeight()
    },
        windowBox = {
      width: __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).width(),
      height: __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).height(),
      scrollLeft: this.modalConfig.absolute ? 0 : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollLeft(),
      scrollTop: this.modalConfig.absolute ? 0 : __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollTop()
    },
        resizerProcessor = {
      "top": function (e) {

        if (minHeight > modalBox.height - this.__dy) {
          this.__dy = modalBox.height - minHeight;
        }

        if (e.shiftKey) {

          if (minHeight > modalBox.height - this.__dy * 2) {
            this.__dy = (modalBox.height - minHeight) / 2;
          }

          return {
            left: modalOffset.left,
            top: modalOffset.top + this.__dy,
            width: modalBox.width,
            height: modalBox.height - this.__dy * 2
          };
        } else if (e.altKey) {

          if (minHeight > modalBox.height - this.__dy * 2) {
            this.__dy = (modalBox.height - minHeight) / 2;
          }

          return {
            left: modalOffset.left + this.__dy,
            top: modalOffset.top + this.__dy,
            width: modalBox.width - this.__dy * 2,
            height: modalBox.height - this.__dy * 2
          };
        } else {
          return {
            left: modalOffset.left,
            top: modalOffset.top + this.__dy,
            width: modalBox.width,
            height: modalBox.height - this.__dy
          };
        }
      },
      "bottom": function (e) {

        if (minHeight > modalBox.height + this.__dy) {
          this.__dy = -modalBox.height + minHeight;
        }

        if (e.shiftKey) {

          if (minHeight > modalBox.height + this.__dy * 2) {
            this.__dy = (-modalBox.height + minHeight) / 2;
          }

          return {
            left: modalOffset.left,
            top: modalOffset.top - this.__dy,
            width: modalBox.width,
            height: modalBox.height + this.__dy * 2
          };
        } else if (e.altKey) {

          if (minHeight > modalBox.height + this.__dy * 2) {
            this.__dy = (-modalBox.height + minHeight) / 2;
          }

          return {
            left: modalOffset.left - this.__dy,
            top: modalOffset.top - this.__dy,
            width: modalBox.width + this.__dy * 2,
            height: modalBox.height + this.__dy * 2
          };
        } else {
          return {
            left: modalOffset.left,
            top: modalOffset.top,
            width: modalBox.width,
            height: modalBox.height + this.__dy
          };
        }
      },
      "left": function (e) {

        if (minWidth > modalBox.width - this.__dx) {
          this.__dx = modalBox.width - minWidth;
        }

        if (e.shiftKey) {

          if (minWidth > modalBox.width - this.__dx * 2) {
            this.__dx = (modalBox.width - minWidth) / 2;
          }

          return {
            left: modalOffset.left + this.__dx,
            top: modalOffset.top,
            width: modalBox.width - this.__dx * 2,
            height: modalBox.height
          };
        } else if (e.altKey) {

          if (minWidth > modalBox.width - this.__dx * 2) {
            this.__dx = (modalBox.width - minWidth) / 2;
          }

          return {
            left: modalOffset.left + this.__dx,
            top: modalOffset.top + this.__dx,
            width: modalBox.width - this.__dx * 2,
            height: modalBox.height - this.__dx * 2
          };
        } else {
          return {
            left: modalOffset.left + this.__dx,
            top: modalOffset.top,
            width: modalBox.width - this.__dx,
            height: modalBox.height
          };
        }
      },
      "right": function (e) {

        if (minWidth > modalBox.width + this.__dx) {
          this.__dx = -modalBox.width + minWidth;
        }

        if (e.shiftKey) {

          if (minWidth > modalBox.width + this.__dx * 2) {
            this.__dx = (-modalBox.width + minWidth) / 2;
          }

          return {
            left: modalOffset.left - this.__dx,
            top: modalOffset.top,
            width: modalBox.width + this.__dx * 2,
            height: modalBox.height
          };
        } else if (e.altKey) {

          if (minWidth > modalBox.width + this.__dx * 2) {
            this.__dx = (-modalBox.width + minWidth) / 2;
          }

          return {
            left: modalOffset.left - this.__dx,
            top: modalOffset.top - this.__dx,
            width: modalBox.width + this.__dx * 2,
            height: modalBox.height + this.__dx * 2
          };
        } else {
          return {
            left: modalOffset.left,
            top: modalOffset.top,
            width: modalBox.width + this.__dx,
            height: modalBox.height
          };
        }
      },
      "top-left": function (e) {

        if (minWidth > modalBox.width - this.__dx) {
          this.__dx = modalBox.width - minWidth;
        }

        if (minHeight > modalBox.height - this.__dy) {
          this.__dy = modalBox.height - minHeight;
        }

        if (e.shiftKey || e.altKey) {

          if (minHeight > modalBox.height - this.__dy * 2) {
            this.__dy = (modalBox.height - minHeight) / 2;
          }
          if (minWidth > modalBox.width - this.__dx * 2) {
            this.__dx = (modalBox.width - minWidth) / 2;
          }

          return {
            left: modalOffset.left + this.__dx,
            top: modalOffset.top + this.__dy,
            width: modalBox.width - this.__dx * 2,
            height: modalBox.height - this.__dy * 2
          };
        } else {

          if (minHeight > modalBox.height - this.__dy * 2) {
            this.__dy = (modalBox.height - minHeight) / 2;
          }
          if (minWidth > modalBox.width - this.__dx * 2) {
            this.__dx = (modalBox.width - minWidth) / 2;
          }

          return {
            left: modalOffset.left + this.__dx,
            top: modalOffset.top + this.__dy,
            width: modalBox.width - this.__dx,
            height: modalBox.height - this.__dy
          };
        }
      },
      "top-right": function (e) {

        if (minWidth > modalBox.width + this.__dx) {
          this.__dx = -modalBox.width + minWidth;
        }

        if (minHeight > modalBox.height - this.__dy) {
          this.__dy = modalBox.height - minHeight;
        }

        if (e.shiftKey || e.altKey) {

          if (minHeight > modalBox.height - this.__dy * 2) {
            this.__dy = (modalBox.height - minHeight) / 2;
          }
          if (minWidth > modalBox.width + this.__dx * 2) {
            this.__dx = (-modalBox.width + minWidth) / 2;
          }

          return {
            left: modalOffset.left - this.__dx,
            top: modalOffset.top + this.__dy,
            width: modalBox.width + this.__dx * 2,
            height: modalBox.height - this.__dy * 2
          };
        } else {
          return {
            left: modalOffset.left,
            top: modalOffset.top + this.__dy,
            width: modalBox.width + this.__dx,
            height: modalBox.height - this.__dy
          };
        }
      },
      "bottom-left": function (e) {

        if (minWidth > modalBox.width - this.__dx) {
          this.__dx = modalBox.width - minWidth;
        }

        if (minHeight > modalBox.height + this.__dy) {
          this.__dy = -modalBox.height + minHeight;
        }

        if (e.shiftKey || e.altKey) {
          if (minWidth > modalBox.width - this.__dx * 2) {
            this.__dx = (modalBox.width - minWidth) / 2;
          }
          if (minHeight > modalBox.height + this.__dy * 2) {
            this.__dy = (-modalBox.height + minHeight) / 2;
          }
          return {
            left: modalOffset.left + this.__dx,
            top: modalOffset.top - this.__dy,
            width: modalBox.width - this.__dx * 2,
            height: modalBox.height + this.__dy * 2
          };
        } else {
          return {
            left: modalOffset.left + this.__dx,
            top: modalOffset.top,
            width: modalBox.width - this.__dx,
            height: modalBox.height + this.__dy
          };
        }
      },
      "bottom-right": function (e) {

        if (minWidth > modalBox.width + this.__dx) {
          this.__dx = -modalBox.width + minWidth;
        }

        if (minHeight > modalBox.height + this.__dy) {
          this.__dy = -modalBox.height + minHeight;
        }

        if (e.shiftKey || e.altKey) {
          if (minWidth > modalBox.width + this.__dx * 2) {
            this.__dx = (-modalBox.width + minWidth) / 2;
          }
          if (minHeight > modalBox.height + this.__dy * 2) {
            this.__dy = (-modalBox.height + minHeight) / 2;
          }
          return {
            left: modalOffset.left - this.__dx,
            top: modalOffset.top - this.__dy,
            width: modalBox.width + this.__dx * 2,
            height: modalBox.height + this.__dy * 2
          };
        } else {
          return {
            left: modalOffset.left,
            top: modalOffset.top,
            width: modalBox.width + this.__dx,
            height: modalBox.height + this.__dy
          };
        }
      }
    },
        getResizerPosition = function (e) {
      this.__dx = e.clientX - this.mousePosition.clientX;
      this.__dy = e.clientY - this.mousePosition.clientY;

      return resizerProcessor[resizerType](e);
    };

    if (!this.modalConfig.absolute) {
      modalOffset.left += windowBox.scrollLeft;
      modalOffset.top += windowBox.scrollTop;
    }

    let minWidth = 100,
        minHeight = 100;

    let cursorType = {
      "top": "row-resize",
      "bottom": "row-resize",
      "left": "col-resize",
      "right": "col-resize",
      "top-left": "nwse-resize",
      "top-right": "nesw-resize",
      "bottom-left": "nesw-resize",
      "bottom-right": "nwse-resize"
    };

    this.__dx = 0; // 변화량 X
    this.__dy = 0; // 변화량 Y

    // this.$resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV
    this.$resizerBg.css({
      zIndex: modalZIndex,
      cursor: cursorType[resizerType]
    });
    this.$resizer.css({
      left: modalOffset.left,
      top: modalOffset.top,
      width: modalBox.width,
      height: modalBox.height,
      zIndex: modalZIndex + 1,
      cursor: cursorType[resizerType]
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.$resizerBg).append(this.$resizer);

    this.$activeModal.addClass("draged");

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).on(ENM["mousemove"] + ".ax6modal-resize-" + this.instanceId, __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].throttle(function (e) {
      this.$resizer.css(getResizerPosition.call(e));
    }, 30).bind(this)).on(ENM["mouseup"] + ".ax6modal-resize-" + this.instanceId, e => {
      resizeModal.off.call(this);
    }).on("mouseleave.ax6modal-resize-" + this.instanceId, e => {
      resizeModal.off.call(this);
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).attr('unselectable', 'on').css('user-select', 'none').bind('selectstart', false);
  },
  "off": function () {
    let setModalPosition = function () {
      let box = this.$resizer.offset();
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(box, {
        width: this.$resizer.width(),
        height: this.$resizer.height()
      });
      if (!this.modalConfig.absolute) {
        box.left -= __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollLeft();
        box.top -= __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document).scrollTop();
      }
      this.$activeModal.css(box);

      this.modalConfig.left = box.left;
      this.modalConfig.top = box.top;
      this.modalConfig.width = box.width;
      this.modalConfig.height = box.height;
      this.$["body"].css({ height: box.height - this.modalConfig.headerHeight });
      if (this.modalConfig.iframe) {
        this.$["iframe-wrap"].css({ height: box.height - this.modalConfig.headerHeight });
        this.$["iframe"].css({ height: box.height - this.modalConfig.headerHeight });
      }

      box = null;
    };

    this.$activeModal.removeClass("draged");
    setModalPosition.call(this);

    this.$resizer.remove();
    this.$resizerBg.remove();

    onStateChanged.call(this, this.modalConfig, {
      self: this,
      state: "resize"
    });

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).off(ENM["mousemove"] + ".ax6modal-resize-" + this.instanceId).off(ENM["mouseup"] + ".ax6modal-resize-" + this.instanceId).off("mouseleave.ax6modal-resize-" + this.instanceId);

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');
  }
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIModal extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.id='ax6ui-modal-' + this.instanceId]
     * @param [config.position]
     * @param [config.position.left='cener']
     * @param [config.position.top='middle']
     * @param [config.position.margin=10]
     * @param [config.minimizePosition='bottom-right']
     * @param [config.clickEventName]
     * @param [config.theme]
     * @param [config.width=300]
     * @param [config.height=400]
     * @param [config.closeToEsc]
     * @param [config.disableDrag]
     * @param [config.disableResize]
     * @param [config.animateTime=250]
     * @param [config.iframe=false]
     */
    this.config = {
      id: 'ax6ui-modal-' + this.instanceId,
      position: {
        left: "center",
        top: "middle",
        margin: 10
      },
      minimizePosition: "bottom-right",
      clickEventName: 'ontouchstart' in document.documentElement ? "touchstart" : "click",
      theme: 'default',
      width: 300,
      height: 400,
      closeToEsc: true,
      disableDrag: false,
      disableResize: false,
      animateTime: 250,
      iframe: false
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * 열려있는 상태에서 다시 open이 되면 queue에 보관 하였다가 close후 open
     * @member {Array}
     */
    this.queue = [];
    /**
     * @member {jQueryElement}
     */
    this.$activeModal = null;
    this.$ = {};

    this.$resizerBg = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()('<div data-ax6ui-modal-resizer-background="" ondragstart="return false;"></div>');
    this.$resizer = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()('<div data-ax6ui-modal-resizer="" ondragstart="return false;"></div>');

    if (typeof config !== "undefined") this.init();
  }

  /**
   * @method
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * open the modal
   * @method
   * @returns {AX6UIModal}
   * @example
   * ```
   * modal.open();
   * modal.open({
             *  width: 500,
             *  height: 500
             * });
   * moaal.open({}, function(){
             *  console.log(this);
             * });
   * ```
   */
  open(opts, callback) {
    if (typeof opts === "undefined") {
      opts = {};
    }

    opts = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, opts);

    if (this.$activeModal) {
      opts.callback = callback;
      this.queue.push(opts);
    } else {
      open.call(this, opts, callback);
    }

    return this;
  }

  /**
   * close the modal
   * @method
   * @param _option
   * @returns {AX6UIModal}
   * @example
   * ```
   * modal.close();
   * modal.close({callback: function(){
     *  // on close event
     * });
     * // close 함수에 callback을 전달하면 정확한 close 타이밍을 캐치할 수 있습니다
     * ```
     */
  close(_option) {
    let opts, that;

    if (this.$activeModal) {
      opts = this.modalConfig;

      this.$activeModal.addClass("destroy");
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("keydown.ax-modal").off("resize.ax-modal");

      setTimeout(function () {
        // 프레임 제거
        if (opts.iframe) {
          let $iframe = this.$["iframe"]; // iframe jQuery Object
          if ($iframe) {
            let iframeObject = $iframe.get(0),
                idoc = iframeObject.contentDocument ? iframeObject.contentDocument : iframeObject.contentWindow.document;

            try {
              $(idoc.body).children().each(function () {
                $(this).remove();
              });
            } catch (e) {}
            idoc.innerHTML = "";
            $iframe.attr('src', 'about:blank').remove();

            // force garbarge collection for IE only
            window.CollectGarbage && window.CollectGarbage();
          }
        }

        if (this.$activeModal) {
          this.$activeModal.remove();
          this.$activeModal = null;
        }

        that = {
          self: this,
          id: opts.id,
          theme: opts.theme,
          width: opts.width,
          height: opts.height,
          state: "close",
          $: this.$
        };

        if (_option && __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(_option.callback)) {
          _option.callback.call(that, that);
        } else if (opts.callback && (!_option || !_option.doNotCallback)) {
          opts.callback.call(that, that);
        }

        if (opts && opts.onStateChanged) {
          opts.onStateChanged.call(that, that);
        } else if (this.onStateChanged) {
          this.onStateChanged.call(that, that);
        }

        // 열려야 할 큐가 남아 있다면 큐아이템으로 다시 open
        if (this.queue && this.queue.length) {
          open.call(this, this.queue.shift());
        }

        opts = null;
        that = null;
      }.bind(this), this.config.animateTime);
    }

    this.minimized = false; // hoksi

    return this;
  }

  /**
   * @method
   * @returns {AX6UIModal}
   */
  minimize(minimizePosition) {
    if (this.minimized !== true) {

      let opts = this.modalConfig;
      if (typeof minimizePosition === "undefined") minimizePosition = cfg.minimizePosition;

      this.minimized = true;
      this.$.body.css({ display: "none" });
      this.modalConfig.originalHeight = opts.height;
      this.modalConfig.height = 0;
      alignProcessor[minimizePosition].call(this);

      onStateChanged.call(this, opts, {
        self: this,
        state: "minimize"
      });
    }

    return this;
  }

  /**
   * @method ax5modal.restore
   * @returns {AX6UIModal}
   */
  restore() {
    let opts = this.modalConfig;
    if (this.minimized) {
      this.minimized = false;
      this.$.body.css({ display: "block" });
      this.modalConfig.height = this.modalConfig.originalHeight;
      this.modalConfig.originalHeight = undefined;

      this.align({ left: "center", top: "middle" });
      onStateChanged.call(this, opts, {
        self: this,
        state: "restore"
      });
    }
    return this;
  }

  /**
   * setCSS
   * @method ax5modal.css
   * @param {Object} css -
   * @returns {AX6UIModal}
   */
  css(css) {
    if (this.$activeModal && !this.fullScreen) {
      this.$activeModal.css(css);
      if (typeof css.width !== "undefined") {
        this.modalConfig.width = css.width;
      }
      if (typeof css.height !== "undefined") {
        this.modalConfig.height = css.height;
      }

      this.align();
    }
    return this;
  }

  /**
   * @method
   * @param _config
   * @returns {AX6UIModal}
   */
  setModalConfig(_config) {
    this.modalConfig = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.modalConfig, _config);
    this.align();
    return this;
  }

  /**
   * @method ax5modal.align
   * @param position
   * @param e
   * @returns {ax5modal}
   * @example
   * ```js
   * modal.align({left:"center", top:"middle"});
   * modal.align({left:"left", top:"top", margin: 20});
   * ```
   */
  align(position, e) {
    if (!this.$activeModal) return this;

    let opts = this.modalConfig,
        box = {
      width: opts.width,
      height: opts.height
    };

    const fullScreen = opts.isFullScreen = function (_fullScreen) {
      if (typeof _fullScreen === "undefined") {
        return false;
      } else if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(_fullScreen)) {
        return _fullScreen();
      }
    }(opts.fullScreen);

    if (fullScreen) {
      if (opts.header) this.$.header.show();
      if (opts.header) {
        opts.headerHeight = this.$.header.outerHeight();
        box.height += opts.headerHeight;
      } else {
        opts.headerHeight = 0;
      }
      box.width = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).width();
      box.height = opts.height;
      box.left = 0;
      box.top = 0;
    } else {
      if (opts.header) this.$.header.show();
      if (position) {
        __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, opts.position, position);
      }

      if (opts.header) {
        opts.headerHeight = this.$.header.outerHeight();
        box.height += opts.headerHeight;
      } else {
        opts.headerHeight = 0;
      }

      //- position 정렬
      if (opts.position.left == "left") {
        box.left = opts.position.margin || 0;
      } else if (opts.position.left == "right") {
        // window.innerWidth;
        box.left = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).width() - box.width - (opts.position.margin || 0);
      } else if (opts.position.left == "center") {
        box.left = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).width() / 2 - box.width / 2;
      } else {
        box.left = opts.position.left || 0;
      }

      if (opts.position.top == "top") {
        box.top = opts.position.margin || 0;
      } else if (opts.position.top == "bottom") {
        box.top = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).height() - box.height - (opts.position.margin || 0);
      } else if (opts.position.top == "middle") {
        box.top = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).height() / 2 - box.height / 2;
      } else {
        box.top = opts.position.top || 0;
      }
      if (box.left < 0) box.left = 0;
      if (box.top < 0) box.top = 0;
    }

    this.$activeModal.css(box);
    this.$["body"].css({ height: box.height - (opts.headerHeight || 0) });

    if (opts.iframe) {
      this.$["iframe-wrap"].css({ height: box.height - opts.headerHeight });
      this.$["iframe"].css({ height: box.height - opts.headerHeight });
    } else {}
    return this;
  }

}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIModal);

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);





/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let tmpl = {
  uploadProgress(columnKeys) {
    return ``;
  },
  inputFile(columnKeys) {
    return `<input type="file" data-ax6ui-uploader-input="{{instanceId}}" name="{{name}}" {{#multiple}}multiple{{/multiple}} accept="{{accept}}" />`;
  },
  inputFileForm(columnKeys) {
    return `<form data-ax6ui-uploader-form="{{instanceId}}" name="ax5uploader-{{instanceId}}-form" method="post" enctype="multipart/form-data"></form>`;
  },
  progressBox(columnKeys) {
    return `
<div data-ax6ui-uploader-progressbox="{{instanceId}}" class="{{theme}}">
    <div class="ax-progressbox-body">
        <div class="ax-pregressbox-content">
            <div class="progress">
              <div class="progress-bar progress-bar-striped active" role="progressbar" style="width: 0">
                <span class="sr-only" role="progressbarval">0% Complete</span>
              </div>
            </div>
        </div>
        {{#btns}}
            <div class="ax-progressbox-buttons">
            {{#btns}}
                {{#@each}}
                <button data-pregressbox-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>
                {{/@each}}
            {{/btns}}
            </div>
        {{/btns}}
    </div>
    <div class="ax-progressbox-arrow"></div>
</div>
`;
  },
  upoadedBox(columnKeys) {
    return `
{{#uploadedFiles}}<div data-ax6ui-uploader-uploaded-item="{{@i}}">
    <div class="uploaded-item-preview">
        {{#${columnKeys.thumbnail}}}<img src="${columnKeys.apiServerUrl}{{${columnKeys.thumbnail}}}">{{/${columnKeys.thumbnail}}}
    </div>
    <div class="uploaded-item-holder">
        <div class="uploaded-item-cell" data-uploaded-item-cell="download">{{{icon.download}}}</div>
        <div class="uploaded-item-cell" data-uploaded-item-cell="filename">{{${columnKeys.name}}}</div>
        <div class="uploaded-item-cell" data-uploaded-item-cell="filesize">({{#@fn_get_byte}}{{${columnKeys.size}}}{{/@fn_get_byte}})</div>
        <div class="uploaded-item-cell" data-uploaded-item-cell="delete">{{{icon.delete}}}</div>
    </div>
</div>{{/uploadedFiles}}
{{^uploadedFiles}}
<div data-ax6ui-uploader-emptyList-msg="true">
  {{#supportFileApi}}{{{lang.supportedHTML5_emptyListMsg}}}{{/supportFileApi}}
  {{^supportFileApi}}{{{lang.emptyListMsg}}}{{/supportFileApi}}
</div>
{{/uploadedFiles}}
`;
  }
};

const onStateChanged = function (that) {
  if (this.config.onStateChanged) {
    this.config.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  that = null;
  return true;
};
const onSelectFile = function (_evt) {
  let files;

  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
    // file API 지원 안되는 브라우저.
    // input file에 multiple 지원 안됨 그러므로 단일 파일 처리만 하면 됨.
    files = { path: _evt.target.value };
  } else if ('dataTransfer' in _evt) {
    files = _evt.dataTransfer.files;
  } else if ('target' in _evt) {
    files = _evt.target.files;
  } else if (_evt) {
    files = _evt;
  }

  if (!files) return false;

  /// selectedFiles에 현재 파일 정보 담아두기
  if (length in files) {
    if (files.length == 1) {
      this.selectedFiles = [files[0]];
    } else {
      this.selectedFiles = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].toArray(files);
    }
  } else {
    this.selectedFiles = [files];
  }

  if (this.config.progressBox) {
    openProgressBox.call(this);
  }
  if (!this.config.manualUpload) {
    this.send();
  }

  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
    alignLayout.call(this, false);
  }
};
const bindEvent = function () {

  this.$fileSelector.off("click.ax5uploader").on("click.ax5uploader", e => {
    this.$inputFile.trigger("click");
  });

  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
    this.$fileSelector.off("mouseover.ax5uploader").on("mouseover.ax5uploader", e => {
      alignLayout.call(this, true);
    });

    this.$inputFile.off("mouseover.ax5uploader").on("mouseover.ax5uploader", e => {
      this.$fileSelector.addClass("active");
    });

    this.$inputFile.off("mouseout.ax5uploader").on("mouseout.ax5uploader", e => {
      this.$fileSelector.removeClass("active");
      alignLayout.call(this, false);
    });
  }

  {
    if (!this.$uploadedBox || !this.$uploadedBox.get(0)) return false;

    this.$uploadedBox.on("click", "[data-uploaded-item-cell]", e => {
      let $this = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(e.currentTarget),
          cellType = $this.attr("data-uploaded-item-cell"),
          uploadedItemIndex = Number($this.parents('[data-ax6ui-uploader-uploaded-item]').attr('data-ax6ui-uploader-uploaded-item')),
          that = {};

      if (this.config.uploadedBox && this.config.uploadedBox.onclick) {
        that = {
          self: this,
          cellType: cellType,
          uploadedFiles: this.uploadedFiles,
          fileIndex: uploadedItemIndex
        };
        this.config.uploadedBox.onclick.call(that, that);
      }

      $this = null;
      cellType = null;
      uploadedItemIndex = null;
      that = null;
    });

    this.$uploadedBox.on("dragstart", function (e) {
      __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);
      return false;
    });
  }

  {
    // dropZone 설정 방식 변경
    if (!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) return false;
    if (!this.$dropZone || !this.$dropZone.get(0)) return false;

    let timer;

    this.$dropZone.parent().on("click", "[data-ax6ui-uploader-dropzone]", e => {
      let $target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(e.currentTarget);
      if ($target.parents('[data-ax6ui-uploader-uploaded-item]').length == 0 && !$target.attr('data-ax6ui-uploader-uploaded-item')) {
        //console.log(e.currentTarget == e.target, $.contains(e.target, e.currentTarget), e.target.getAttribute('data-ax6ui-uploader-emptylist-msg'));
        if (e.currentTarget == e.target || $.contains(e.target, e.currentTarget) || e.target.getAttribute('data-ax6ui-uploader-emptylist-msg')) {
          if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.dropZone.onclick)) {
            this.config.dropZone.onclick.call({
              self: this
            });
          } else {
            this.$inputFile.trigger("click");
          }
        }
      }
      $target = null;
    });

    this.$dropZone.get(0).addEventListener('dragover', e => {
      __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);

      if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.dropZone.ondragover)) {
        this.config.dropZone.ondragover.call({
          self: this
        });
      } else {
        this.$dropZone.addClass("dragover");
      }
    }, false);

    this.$dropZone.get(0).addEventListener('dragleave', e => {
      __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);

      if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.dropZone.ondragover)) {
        this.config.dropZone.ondragout.call({
          self: this
        });
      } else {
        this.$dropZone.removeClass("dragover");
      }
    }, false);

    this.$dropZone.get(0).addEventListener('drop', e => {
      __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].stopEvent(e);

      if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.dropZone.ondrop)) {
        this.config.dropZone.ondrop.call({
          self: this
        });
      } else {
        this.$dropZone.removeClass("dragover");
      }

      onSelectFile.call(this, e || window.event);
    }, false);
  }
};
const alignLayout = function (_TF) {
  // 상황이 좋지 않은경우 (만약 버튼 클릭으로 input file click이 되지 않는 다면 z-index값을 높여서 버튼위를 덮는다.)
  if (_TF) {
    if (!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
      // ie9에서 inputFile을 직접 클릭하지 않으면 submit 오류발생함. submit access denied
      // 그래서 버튼위에 inputFile을 올려두어야 함. (position값을 이용하면 편하지만..)
      // 그런데 form을 안에두면 또 다른 이중폼 문제 발생소지 ㅜㅜ 불가피하게 버튼의 offset 값을 이용.
      let box = this.$fileSelector.offset();
      box.width = this.$fileSelector.outerWidth();
      box.height = this.$fileSelector.outerHeight();
      this.$inputFile.css(box);
    }
  } else {
    this.$inputFile.css({
      left: -1000, top: -1000
    });
  }
};
const alignProgressBox = function (append) {
  const _alignProgressBox = function () {
    let $window = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window),
        $body = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body);
    let pos = {},
        positionMargin = 6,
        dim = {},
        pickerDim = {},
        pickerDirection;

    // this.config.viewport.selector

    pos = this.$progressBox.parent().get(0) == this.$target.get(0) ? this.$fileSelector.position() : this.$fileSelector.offset();
    dim = {
      width: this.$fileSelector.outerWidth(),
      height: this.$fileSelector.outerHeight()
    };
    pickerDim = {
      winWidth: Math.max($window.width(), $body.width()),
      winHeight: Math.max($window.height(), $body.height()),
      width: this.$progressBox.outerWidth(),
      height: this.$progressBox.outerHeight()
    };

    // picker css(width, left, top) & direction 결정
    if (!this.config.progressBoxDirection || this.config.progressBoxDirection === "" || this.config.progressBoxDirection === "auto") {
      // set direction
      pickerDirection = "top";
      if (pos.top - pickerDim.height - positionMargin < 0) {
        pickerDirection = "top";
      } else if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {
        pickerDirection = "bottom";
      }
    } else {
      pickerDirection = this.config.progressBoxDirection;
    }

    if (append) {
      this.$progressBox.addClass("direction-" + pickerDirection);
    }

    let positionCSS = function () {
      let css = { left: 0, top: 0 };
      switch (pickerDirection) {
        case "top":
          css.left = pos.left + dim.width / 2 - pickerDim.width / 2;
          css.top = pos.top + dim.height + positionMargin;
          break;
        case "bottom":
          css.left = pos.left + dim.width / 2 - pickerDim.width / 2;
          css.top = pos.top - pickerDim.height - positionMargin;
          break;
        case "left":
          css.left = pos.left + dim.width + positionMargin;
          css.top = pos.top - pickerDim.height / 2 + dim.height / 2;
          break;
        case "right":
          css.left = pos.left - pickerDim.width - positionMargin;
          css.top = pos.top - pickerDim.height / 2 + dim.height / 2;
          break;
      }
      return css;
    }();

    {
      if (pickerDirection == "top" || pickerDirection == "bottom") {
        if (positionCSS.left < 0) {
          positionCSS.left = positionMargin;
          this.$progressBoxArrow.css({ left: pos.left + dim.width / 2 - positionCSS.left });
        } else if (positionCSS.left + pickerDim.width > pickerDim.winWidth) {
          positionCSS.left = pickerDim.winWidth - pickerDim.width - positionMargin;
          this.$progressBoxArrow.css({ left: pos.left + dim.width / 2 - positionCSS.left });
        }
      }
    }

    this.$progressBox.css(positionCSS);
  };

  this.$progressBox.css({ top: -999 });

  if (append) {
    // progressBox를 append 할 타겟 엘리먼트 펀단 후 결정.
    (function () {
      if (this.config.viewport) {
        return __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.viewport.selector);
      } else {
        return this.$target;
      }
    }).call(this).append(this.$progressBox);

    // progressBox 버튼에 이벤트 연결.
    this.$progressBox.off("click.ax5uploader").on("click.ax5uploader", "button", e => {
      let act = e.currentTarget.getAttribute("data-pregressbox-btn");
      let processor = {
        "upload": function () {
          this.send();
        },
        "abort": function () {
          this.abort();
        }
      };
      if (processor[act]) processor[act].call(this);
    });
  }

  setTimeout(() => {
    _alignProgressBox.call(this);
  });
};
const openProgressBox = function () {
  this.$progressBox.removeClass("destroy");
  this.$progressUpload.removeAttr("disabled");
  this.$progressAbort.removeAttr("disabled");

  // apend & align progress box
  alignProgressBox.call(this, "append");

  // state change
  onStateChanged.call(this, {
    self: this,
    state: "open"
  });
};
const closeProgressBox = function () {
  this.$progressBox.addClass("destroy");
  setTimeout(() => {
    this.$progressBox.remove();
  }, this.config.animateTime);
};
const startUpload = function () {
  const processor = {
    "html5"() {
      const self = this;
      let uploadFile = this.selectedFiles.shift();
      if (!uploadFile) {
        // 업로드 종료
        uploadComplete.call(this);
        return this;
      }

      if (uploadFile[0]) uploadFile = uploadFile[0];

      let formData = new FormData();
      //서버로 전송해야 할 추가 파라미터 정보 설정

      this.$target.find("input").each(function () {
        formData.append(this.name, this.value);
      });
      // 파일 아이템 추가
      formData.append(this.config.form.fileName, uploadFile);

      this.xhr = new XMLHttpRequest();
      this.xhr.open("post", this.config.form.action, true);
      this.xhr.onload = function (e) {
        let res = e.target.response;
        try {
          if (typeof res == "string") res = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].parseJson(res);
        } catch (e) {
          return false;
        }
        if (self.config.debug) console.log(res);

        if (res.error) {
          if (self.config.debug) console.log(res.error);
          if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(self.config.onuploaderror)) {
            self.config.onuploaderror.call({
              self: self,
              error: res.error
            }, res);
          }
          self.send();
          return false;
        }

        uploaded.call(self, res);
        self.send();
      };
      this.xhr.upload.onprogress = function (e) {
        updateProgressBar.call(self, e);
        if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(self.config.onprogress)) {
          self.config.onprogress.call({
            loaded: e.loaded,
            total: e.total
          }, e);
        }
      };
      this.xhr.send(formData); // multipart/form-data
    },
    "form"() {

      /// i'm busy
      this.__uploading = true;

      // 폼과 iframe을 만들어 페이지 아래에 삽입 후 업로드
      let $iframe = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()('<iframe src="javascript:false;" name="ax5uploader-' + this.instanceId + '-iframe" style="display:none;"></iframe>');
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append($iframe);

      // onload 이벤트 핸들러
      // action에서 파일을 받아 처리한 결과값을 텍스트로 출력한다고 가정하고 iframe의 내부 데이터를 결과값으로 callback 호출
      $iframe.on('load', e => {
        let doc = e.currentTarget.contentWindow ? e.currentTarget.contentWindow.document : e.currentTarget.contentDocument ? e.currentTarget.contentDocument : e.currentTarget.document,
            root = doc.documentElement ? doc.documentElement : doc.body,
            result = root.textContent ? root.textContent : root.innerText,
            res;

        try {
          res = JSON.parse(result);
        } catch (e) {
          res = {
            error: "Syntax error",
            body: result
          };
        }

        if (this.config.debug) console.log(res);
        if (res.error) {
          console.log(res);
        } else {
          uploaded.call(this, res);
          $iframe.remove();

          setTimeout(() => {
            uploadComplete.call(this);
          }, 300);
        }
      });

      this.$inputFileForm.attr("target", 'ax5uploader-' + this.instanceId + '-iframe').attr("action", this.config.form.action).submit();

      this.selectedFilesTotal = 1;
      updateProgressBar.call(this, {
        loaded: 1,
        total: 1
      });
    }
  };

  if (this.__uploading === false) {
    // 전체 파일 사이즈 구하기
    let filesTotal = 0;
    this.selectedFiles.forEach(function (n) {
      filesTotal += n.size;
    });
    this.selectedFilesTotal = filesTotal;
    this.__loaded = 0;

    this.__uploading = true; // 업로드 시작 상태 처리
    this.$progressUpload.attr("disabled", "disabled");
    this.$progressAbort.removeAttr("disabled");
  }

  processor[__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi ? "html5" : "form"].call(this);
};
const updateProgressBar = function (e) {
  let percent = __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].number((this.__loaded + e.loaded) / this.selectedFilesTotal * 100, { round: 2 });
  this.$progressBar.css({ width: percent + '%' });
  this.$progressBarVal.html(percent + '% Complete');
  if (e.loaded >= e.total) {
    this.__loaded += e.total;
  }
  if (e.lengthComputable) {
    if (e.loaded >= e.total) {}
  }
  percent = null;
};
const uploaded = function (res) {
  if (this.config.debug) console.log(res);
  this.uploadedFiles.push(res);
  repaintUploadedBox.call(this); // 업로드된 파일 출력

  if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.onuploaded)) {
    this.config.onuploaded.call({
      self: this
    }, res);
  }
};
const uploadComplete = function () {
  this.__uploading = false; // 업로드 완료 상태처리
  this.$progressUpload.removeAttr("disabled");
  this.$progressAbort.attr("disabled", "disabled");

  if (this.config.progressBox) {
    closeProgressBox.call(this);
  }
  if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.onuploadComplete)) {
    this.config.onuploadComplete.call({
      self: this
    });
  }
  // update uploadedFiles display

  /// reset inputFile
  attachFileTag.call(this);
};
const cancelUpload = function () {

  const processor = {
    "html5": function () {
      if (this.xhr) {
        this.xhr.abort();
      }
    },
    "form": function () {}
  };

  this.__uploading = false; // 업로드 완료 상태처리
  this.$progressUpload.removeAttr("disabled");
  this.$progressAbort.attr("disabled", "disabled");

  processor[__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi ? "html5" : "form"].call(this);

  if (this.config.progressBox) {
    closeProgressBox.call(this);
  }

  //this.$inputFile.val("");
  /// reset inputFile
  attachFileTag.call(this);

  if (this.config.debug) console.log("cancelUpload");
  // update uploadedFiles display
};
const repaintUploadedBox = function () {
  // uploadedBox 가 없다면 아무일도 하지 않음.
  // onuploaded 함수 이벤트를 이용하여 개발자가 직접 업로드디 박스를 구현 한다고 이해 하자.
  if (this.$uploadedBox === null) return this;

  this.$uploadedBox.html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.upoadedBox.call(this, this.config.uploadedBox.columnKeys), {
    "@fn_get_byte"() {
      return function (text, render) {
        return __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].number(render(text), { round: 2, byte: true });
      };
    },
    uploadedFiles: this.uploadedFiles,
    icon: this.config.uploadedBox.icon,
    lang: this.config.uploadedBox.lang,
    supportFileApi: !!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi
  }));
  this.$uploadedBox.find("img").on("error", function () {
    //this.src = "";
    $(this).parent().addClass("no-image");
  });
};
const attachFileTag = function () {
  if (this.$inputFile && this.$inputFile.get(0)) {
    this.$inputFile.remove();
  }
  if (this.$inputFileForm && this.$inputFileForm.get(0)) {
    this.$inputFileForm.remove();
  }

  this.$inputFile = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.inputFile.call(this), {
    instanceId: this.instanceId,
    multiple: this.config.multiple,
    accept: this.config.accept,
    name: this.config.form.fileName
  }));

  if (__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.$inputFile);
  } else {
    this.$fileSelector.attr("tabindex", -1);
    this.$inputFileForm = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.inputFileForm.call(this), {
      instanceId: this.instanceId
    }));

    this.$inputFileForm.append(this.$inputFile);
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.$inputFileForm);
  }

  this.$inputFile.off("change.ax5uploader").on("change.ax5uploader", e => {
    onSelectFile.call(this, e);
  });
};
/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIUploader extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param {Element} config.target
     * @param [config.theme='default']
     * @param [config.lang]
     * @param [config.lang.upload='Upload']
     * @param [config.lang.abort='Abort']
     * @param [config.animateTime=100]
     * @param [config.accept="*\/*"]
     * @param [config.multiple=false]
     * @param [config.manualUpload=false]
     * @param [config.progressBox=true]
     * @param [config.progressBoxDirection='left'] - top, bottom, left, right, auto
     * @param [config.form]
     * @param [config.form.action='']
     * @param [config.form.fileName='file']
     * @param [config.dropZone]
     * @param {Element} [config.dropZone.target]
     * @param [config.uploadedBox]
     * @param {Element} [config.uploadedBox.target]
     * @param [config.uploadedBox.icon]
     * @param [config.uploadedBox.icon.download='U+2913']
     * @param [config.uploadedBox.icon.delete='U+232b']
     * @param [config.uploadedBox.columnKeys.name='name']
     * @param [config.uploadedBox.columnKeys.type='type']
     * @param [config.uploadedBox.columnKeys.size='size']
     * @param [config.uploadedBox.columnKeys.uploadedName='uploadedName']
     * @param [config.uploadedBox.columnKeys.uploadedPath='uploadedPath']
     * @param [config.uploadedBox.columnKeys.downloadPath='downloadPath']
     * @param [config.uploadedBox.columnKeys.previewPath='previewPath']
     * @param [config.uploadedBox.columnKeys.thumbnail='thumbnail']
     * @param [config.uploadedBox.lang]
     * @param [config.uploadedBox.lang.supportedHTML5_emptyListMsg='Drop files here or click to upload.']
     * @param [config.uploadedBox.lang.emptyListMsg='Empty of List.']
     * @param {Function} [config.uploadedBox.onchange]
     * @param {Function} [config.uploadedBox.onclick]
     * @param {Function} [config.onprogress]
     * @param {Function} [config.onuploaderror]
     * @param {Function} [config.onuploaded]
     * @param {Function} [config.onuploadComplete]
     */
    this.config = {
      theme: 'default', // theme of uploader
      lang: { // 업로더 버튼 랭귀지 설정
        "upload": "Upload",
        "abort": "Abort"
      },
      animateTime: 100,
      accept: "*/*", // 업로드 선택 파일 타입 설정
      multiple: false, // 다중 파일 업로드
      manualUpload: false, // 업로딩 시작 수동처리 여부
      progressBox: true, // 업로드 프로그래스 박스 사용여부 false 이면 업로드 진행바를 표시 하지 않습니다. 개발자가 onprogress 함수를 이용하여 직접 구현 해야 합니다.
      progressBoxDirection: "left",
      form: {
        action: "",
        fileName: "file"
      },
      dropZone: {
        target: null
      },
      uploadedBox: {
        target: null,
        icon: {
          download: "U+2913",
          delete: "U+232b"
        },
        columnKeys: {
          name: "name",
          type: "type",
          size: "size",
          uploadedName: "uploadedName",
          uploadedPath: "uploadedPath",
          downloadPath: "downloadPath",
          previewPath: "previewPath",
          thumbnail: "thumbnail"
        },
        lang: {
          supportedHTML5_emptyListMsg: 'Drop files here or click to upload.',
          emptyListMsg: 'Empty of List.'
        },
        onchange: null,
        onclick: null
      },
      validateSelectedFiles: null,
      onprogress: null,
      onuploaderror: null,
      onuploaded: null,
      onuploadComplete: null
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * 버튼속성
     * @member {JSON}
     */
    this.defaultBtns = {
      "upload": { label: this.config.lang["upload"], theme: "upload" },
      "abort": { label: this.config.lang["abort"], theme: "abort" }
    };

    /**
     * 업로드된 파일
     * @member {Array}
     */
    this.uploadedFiles = [];

    /**
     * 업로더 타겟
     * @member {jQuery}
     */
    this.$target = null;

    /**
     * input file 태그
     * @member {jQuery}
     */
    this.$inputFile = null;
    /**
     * input form
     * @member {jQuery}
     */
    this.$inputFileForm = null;

    /**
     * 파일 선택 버튼
     * @member {jQuery}
     */
    this.$fileSelector = null;

    /**
     * 파일 드랍존
     * @member {jQuery}
     */
    this.$dropZone = null;

    /**
     * 파일 목록 표시박스
     * @member {jQuery}
     */
    this.$uploadedBox = null;

    /**
     * 업로드 진행 상태바
     * @member {Boolean}
     */
    this.__uploading = false;

    /**
     * 선택된 파일들
     * @member {Array}
     */
    this.selectedFiles = [];

    /**
     * 선택된 파일의 전체 크기
     * @member {Number}
     */
    this.selectedFilesTotal = 0;

    /**
     * 전송된 파일 크기
     * @member {Number}
     */
    this.__loaded = 0;

    if (typeof config !== "undefined") this.init();
  }

  /**
   * @method
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;

    if (this.config.target) {
      this.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.target);

      // 파일 드랍존은 옵션 사항.
      if (this.config.dropZone && this.config.dropZone.target && __WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
        this.$dropZone = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.dropZone.target);
        this.$dropZone.attr("data-ax6ui-uploader-dropzone", this.instanceId);
      }

      // uploadedBox 옵션 사항
      if (this.config.uploadedBox && this.config.uploadedBox.target) {
        this.$uploadedBox = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.uploadedBox.target);
      }

      // target attribute data
      (function (data) {
        if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isObject(data) && !data.error) {
          this.config = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, data);
        }
      }).call(this, __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].parseJson(this.$target.attr("data-ax6ui-uploader-config"), true));

      // detect element
      /// fileSelector 수집
      this.$fileSelector = this.$target.find('[data-ax6ui-uploader-button="selector"]');
      if (this.$fileSelector.length === 0) {
        console.log(__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].getError("ax6ui-uploader", "402", "can not find file selector"));
        return this;
      }

      // input file 추가
      attachFileTag.call(this);

      // btns 확인
      this.config.btns = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend({}, this.defaultBtns, this.config.btns);

      this.$progressBox = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.progressBox.call(this), {
        instanceId: this.instanceId,
        btns: this.config.btns
      }));
      this.$progressBar = this.$progressBox.find('[role="progressbar"]');
      this.$progressBarVal = this.$progressBox.find('[role="progressbarval"]');
      this.$progressBoxArrow = this.$progressBox.find(".ax-progressbox-arrow");
      this.$progressUpload = this.$progressBox.find('[data-pregressbox-btn="upload"]');
      this.$progressAbort = this.$progressBox.find('[data-pregressbox-btn="abort"]');

      // file API가 지원되지 않는 브라우저는 중지 기능 제공 못함.
      if (!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
        this.$progressAbort.css({ display: "none" });
      }

      // 파일버튼 등에 이벤트 연결.
      bindEvent.call(this);
      repaintUploadedBox.call(this);
    }

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  /**
   * @method
   * @returns {AX6UIUploader}
   */
  send() {
    // 업로드 시작
    if (this.selectedFiles.length && __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isFunction(this.config.validateSelectedFiles)) {
      let that = {
        self: this,
        uploadedFiles: this.uploadedFiles,
        selectedFiles: this.selectedFiles
      };
      if (!this.config.validateSelectedFiles.call(that, that)) {
        cancelUpload.call(this);
        return false;
        // 전송처리 안함.
      }
    }

    startUpload.call(this);
    return this;
  }

  /**
   * @method
   * @returns {AX6UIUploader}
   */
  abort() {
    if (!__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
      alert("This browser not supported abort method");
      return this;
    }
    cancelUpload.call(this);
    return this;
  }

  /**
   * @method
   * @param {Array} _files - JSON formatting can all be overridden in columnKeys.
   * @returns {AX6UIUploader}
   * @example
   * ```js
   * $.ajax({
   *     url: "api/fileListLoad.php",
   *     success: function (res) {
   *         // res JSON format
   *         // [{
   *         // "name": "barcode-scan-ani.gif",
   *         // "saveName": "barcode-scan-ani.gif",
   *         // "type": "file",
   *         // "fileSize": "3891664",
   *         // "uploadedPath": "/ax5ui-uploader/test/api/files",
   *         // "thumbUrl": ""
   *         // }]
   *         upload.setUploadedFiles(res);
   *     }
   * });
   * ```
   */
  setUploadedFiles(_files) {
    if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isArray(_files)) {
      this.uploadedFiles = _files;
    }
    if (__WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].isString(_files)) {
      try {
        this.uploadedFiles = JSON.parse(_files);
      } catch (e) {}
    }

    repaintUploadedBox.call(this);
    return this;
  }

  /**
   * clear uploadedFiles
   * @method
   * @returns {AX6UIUploader}
   */
  clear() {
    this.setUploadedFiles([]);
    return this;
  }

  /**
   * Removes the object corresponding to the index passed to the argument from uploadedFiles.
   * @method
   * @param {Number} _index
   * @returns {AX6UIUploader}
   * @example
   * ```js
   * // The actual file is not deleted
   * upload.removeFile(fileIndex);
   * ```
   */
  removeFile(_index) {
    if (!isNaN(Number(_index))) {
      this.uploadedFiles.splice(_index, 1);
    }
    repaintUploadedBox.call(this);
    return this;
  }

  /**
   * Empty uploadedFiles
   * @method
   * @returns {AX6UIUploader}
   * @example
   * ```js
   *
   * ```
   */
  removeFileAll() {
    this.uploadedFiles = [];
    repaintUploadedBox.call(this);
    return this;
  }

  /**
   * @method
   * @returns {Boolean}
   */
  selectFile() {
    if (__WEBPACK_IMPORTED_MODULE_3__AX6Info__["a" /* default */].supportFileApi) {
      this.$inputFile.trigger("click");
      return true;
    }
    return false;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIUploader);

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Info__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AX6Util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__ = __webpack_require__(4);






/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

let ctrlKeys = {
  "18": "KEY_ALT",
  //"8": "KEY_BACKSPACE",
  "17": "KEY_CONTROL",
  "46": "KEY_DELETE",
  "40": "KEY_DOWN",
  "35": "KEY_END",
  "187": "KEY_EQUAL",
  //"27": "KEY_ESC",
  "36": "KEY_HOME",
  "45": "KEY_INSERT",
  "37": "KEY_LEFT",
  "189": "KEY_MINUS",
  "34": "KEY_PAGEDOWN",
  "33": "KEY_PAGEUP",
  // "190": "KEY_PERIOD",
  //"13": "KEY_RETURN",
  "39": "KEY_RIGHT",
  "16": "KEY_SHIFT",
  // "32": "KEY_SPACE",
  "9": "KEY_TAB",
  "38": "KEY_UP",
  "91": "KEY_WINDOW"
  //"107" : "NUMPAD_ADD",
  //"194" : "NUMPAD_COMMA",
  //"110" : "NUMPAD_DECIMAL",
  //"111" : "NUMPAD_DIVIDE",
  //"12" : "NUMPAD_EQUAL",
  //"106" : "NUMPAD_MULTIPLY",
  //"109" : "NUMPAD_SUBTRACT"
};
let tmpl = {
  "optionGroup"(columnKeys) {
    return `
<div class="ax6ui-autocomplete-option-group {{theme}} {{size}}" data-ax6ui-autocomplete-option-group="{{id}}">
    <div class="ax-autocomplete-body">
        <div class="ax-autocomplete-option-group-content" data-els="content"></div>
    </div>
    <div class="ax-autocomplete-arrow"></div> 
</div>
`;
  },
  "autocompleteDisplay"(columnKeys) {
    return ` 
<input tabindex="-1" type="text" data-input-dummy="" style="display: none;" />
<div class="ax6ui-autocomplete-display {{theme}}" data-ax6ui-autocomplete-display="{{id}}" data-ax6ui-autocomplete-instance="{{instanceId}}" style="height: {{height}}px;">
    <div class="ax6ui-autocomplete-display-table" data-els="display-table">
        <div data-ax6ui-autocomplete-display="label-holder"> 
          <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}} data-ax6ui-autocomplete-display="label" spellcheck="false" style="padding: 0 {{paddingLeft}}px;">
              <input type="text" data-ax6ui-autocomplete-display="input" style="border:0 none;height: {{optionItemHeight}}px;line-height: {{optionItemHeight}}px;" />
          </a>
        </div>
        <div data-ax6ui-autocomplete-display="addon"> 
            {{#multiple}}{{#reset}}
            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>
            {{/reset}}{{/multiple}}
        </div>
    </div>
</div>
`;
  },
  "formSelect"(columnKeys) {
    return `
<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" multiple="multiple"></select>
`;
  },
  "formSelectOptions"(columnKeys) {
    return `
{{#selected}}
<option value="{{${columnKeys.optionValue}}}" selected="true">{{${columnKeys.optionText}}}</option>
{{/selected}}
`;
  },
  "options"(columnKeys) {
    return `
{{#waitOptions}}
    <div class="ax-autocomplete-option-item">
            <div class="ax-autocomplete-option-item-holder">
                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">
                    {{{lang.loading}}}
                </span>
            </div>
        </div>
{{/waitOptions}}
{{^waitOptions}}
    {{#options}}
        {{^hide}}
        <div class="ax-autocomplete-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{${columnKeys.optionValue}}}" {{#${columnKeys.optionSelected}}}data-option-selected="true"{{/${columnKeys.optionSelected}}}>
            <div class="ax-autocomplete-option-item-holder">
                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">{{${columnKeys.optionText}}}</span>
            </div>
        </div>
        {{/hide}}
    {{/options}}
    {{^options}}
        <div class="ax-autocomplete-option-item">
            <div class="ax-autocomplete-option-item-holder">
                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">
                    {{{lang.noOptions}}}
                </span>
            </div>
        </div>
    {{/options}}
{{/waitOptions}}
`;
  },
  "label"(columnKeys) {
    return `{{#selected}}
<div tabindex="-1" data-ax6ui-autocomplete-selected-label="{{@i}}" data-ax6ui-autocomplete-selected-text="{{text}}" style="height: {{optionItemHeight}}px;">  
  <div class="label-cell">{{${columnKeys.optionText}}}</div>
  <div class="label-cell" data-ax6ui-autocomplete-remove="true" data-ax6ui-autocomplete-remove-index="{{@i}}">{{{removeIcon}}}</div>
</div>{{/selected}}`;
  }
};

const onStateChanged = function (item, that) {
  if (item && item.onStateChanged) {
    item.onStateChanged.call(that, that);
  } else if (this.onStateChanged) {
    this.onStateChanged.call(that, that);
  }

  if (that.state == "changeValue") {
    if (item && item.onChange) {
      item.onChange.call(that, that);
    } else if (this.onChange) {
      this.onChange.call(that, that);
    }
  }

  item = null;
  that = null;
  return true;
};
const alignAutocompleteDisplay = function () {
  let i = this.queue.length,
      w;

  while (i--) {
    let item = this.queue[i];
    if (item.$display) {
      w = Math.max(item.$select.outerWidth(), __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(item.minWidth));
      item.$display.css({
        "min-width": w
      });
      if (item.reset) {
        item.$display.find(".addon-icon-reset").css({
          "line-height": this.queue[i].$display.height() + "px"
        });
      }

      // 높이조절 처리
      if (item.multiple) {
        var displayTableHeightAdjust = function () {
          return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(item.$display.css("border-top-width")) + __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].number(item.$display.css("border-bottom-width"));
        }.call(this);
        item.$target.height('');
        item.$display.height('');

        var displayTableHeight = item.$displayTable.outerHeight();
        if (Math.abs(displayTableHeight - item.$target.height()) > displayTableHeightAdjust) {
          item.$target.css({ height: displayTableHeight + displayTableHeightAdjust + 4 });
          item.$display.css({ height: displayTableHeight + displayTableHeightAdjust + 4 });
        }
      }
    }
  }

  i = null;
  w = null;
  return this;
};
const alignAutocompleteOptionGroup = function (append) {
  if (append && !this.activeautocompleteOptionGroup) return this;

  let item = this.queue[this.activeautocompleteQueueIndex],
      pos = {},
      positionMargin = 0,
      dim = {},
      pickerDim = {},
      pickerDirection;

  if (!item) return this;
  if (append) __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).append(this.activeautocompleteOptionGroup);

  pos = item.$target.offset();
  dim = {
    width: item.$target.outerWidth(),
    height: item.$target.outerHeight()
  };
  pickerDim = {
    winWidth: Math.max(__WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).width(), __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).width()),
    winHeight: Math.max(__WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).height(), __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(document.body).height()),
    width: this.activeautocompleteOptionGroup.outerWidth(),
    height: this.activeautocompleteOptionGroup.outerHeight()
  };

  // picker css(width, left, top) & direction 결정
  if (!item.direction || item.direction === "" || item.direction === "auto") {
    // set direction
    pickerDirection = "top";

    if (pos.top - pickerDim.height - positionMargin < 0) {
      pickerDirection = "top";
    } else if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {
      pickerDirection = "bottom";
    }
  } else {
    pickerDirection = item.direction;
  }

  if (append) {
    this.activeautocompleteOptionGroup.addClass("direction-" + pickerDirection);
  }
  this.activeautocompleteOptionGroup.css(function () {
    if (pickerDirection == "top") {
      if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {

        var newTop = pos.top + pickerDim.height;
        if (newTop + pickerDim.height + positionMargin > pickerDim.winHeight) {
          newTop = 0;
        }
        if (newTop < 0) {
          newTop = 0;
        }

        return {
          left: pos.left,
          top: newTop,
          width: dim.width
        };
      }
      return {
        left: pos.left,
        top: pos.top + dim.height + 1,
        width: dim.width
      };
    } else if (pickerDirection == "bottom") {
      return {
        left: pos.left,
        top: pos.top - pickerDim.height - 1,
        width: dim.width
      };
    }
  }.call(this));
};
const onBodyClick = function (e, target) {
  if (!this.activeautocompleteOptionGroup) return this;

  let item = this.queue[this.activeautocompleteQueueIndex],
      clickEl = "display";

  target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
    if (target.getAttribute("data-option-value")) {
      clickEl = "optionItem";
      return true;
    } else if (item.$target.get(0) == target) {
      clickEl = "display";
      return true;
    }
  });

  if (!target) {
    this.close();
    return this;
  } else if (clickEl === "optionItem") {
    setSelected.call(this, item.id, {
      optionIndex: {
        index: target.getAttribute("data-option-index")
      }
    }, undefined, "optionItemClick");
    alignAutocompleteDisplay.call(this);
    alignAutocompleteOptionGroup.call(this);
    if (!item.multiple) {
      this.close();
    }
  } else {}

  return this;
};
const getLabel = function (queIdx) {
  let item = this.queue[queIdx];

  // 템플릿에 전달 해야할 데이터 선언
  let data = {};
  data.id = item.id;
  data.theme = item.theme;
  data.multiple = item.multiple;
  data.lang = item.lang;
  data.options = item.options;
  data.selected = item.selected;
  data.hasSelected = data.selected && data.selected.length > 0;
  data.removeIcon = item.removeIcon;
  data.height = item.height;
  data.optionItemHeight = item.optionItemHeight;

  return __WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.label.call(this, item.columnKeys), data);
};
const syncLabel = function (queIdx) {
  let item = this.queue[queIdx];

  if (!item.multiple && item.selected && item.selected.length > 0) {
    item.selected = [].concat(item.selected[item.selected.length - 1]);
  }

  item.selected.forEach(function (n, nindex) {
    n["@index"] = nindex;
  });

  item.$select.html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.formSelectOptions.call(this, item.columnKeys), {
    selected: item.selected
  }));
};
const printLabel = function (queIdx) {
  let item = this.queue[queIdx];

  item.$displayLabel.find('[data-ax6ui-autocomplete-selected-label]').remove();
  item.$displayLabelInput.before(getLabel.call(this, queIdx));
};
const focusLabel = function (queIdx) {
  if (this.queue[queIdx].disabled) return this;

  this.queue[queIdx].$displayLabel.trigger("focus");
  this.queue[queIdx].$displayLabelInput.focus();
};
const clearLabel = function (queIdx) {
  this.queue[queIdx].$displayLabelInput.val('');
};
const blurLabel = function (queIdx) {
  this.queue[queIdx].$displayLabel.trigger("blur");
};
const onSearch = function (queIdx, searchWord) {
  if (this.activeautocompleteQueueIndex == -1) return this; // 옵션박스가 닫힌상태이면 진행안함.
  let regExp = /[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;
  searchWord = searchWord.replace(regExp, "");

  this.queue[queIdx].waitOptions = true;
  this.queue[queIdx].onSearch.call({
    self: this,
    item: this.queue[queIdx],
    searchWord: searchWord
  }, function (O) {

    let data = {};
    let item = this.queue[this.activeautocompleteQueueIndex];
    if (!item) return false;

    /// 현재 selected 검증후 처리
    (function (item, O) {
      let optionsMap = {};
      O.options.forEach(function (_O, _OIndex) {
        _O["@index"] = _OIndex;
        _O["@findex"] = _OIndex;
        optionsMap[_O[item.columnKeys.optionValue]] = _O;
      });
      if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(item.selected)) {
        item.selected.forEach(function (_O) {
          if (optionsMap[_O[item.columnKeys.optionValue]]) {
            O.options[optionsMap[_O[item.columnKeys.optionValue]]["@index"]][item.columnKeys.optionSelected] = true;
          }
        });
      }
    })(item, O);

    item.options = O.options;

    alignAutocompleteDisplay.call(this);

    /// 템플릿에 전달할 오브젝트 선언
    data.id = item.id;
    data.theme = item.theme;
    data.multiple = item.multiple;
    data.lang = item.lang;
    data.options = item.options;
    this.activeautocompleteOptionGroup.find('[data-els="content"]').html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.options.call(this, item.columnKeys), data));

    focusWord.call(this, this.activeautocompleteQueueIndex, searchWord);
    alignAutocompleteOptionGroup.call(this);

    setTimeout(function () {
      alignAutocompleteOptionGroup.call(this);
    }.bind(this));
  }.bind(this));
};
const focusWord = function (queIdx, searchWord) {
  if (this.activeautocompleteQueueIndex == -1) return this; // 옵션박스가 닫힌상태이면 진행안함.
  let collect_options = [],
      i = -1,
      l = this.queue[queIdx].options.length - 1,
      n;
  if (searchWord != "") {
    while (l - i++) {
      n = this.queue[queIdx].options[i];

      if (('' + n.text).toLowerCase() == searchWord.toLowerCase()) {
        collect_options = [{ '@findex': n['@findex'], optionsSort: 0 }];
        break;
      } else {
        let sort = ('' + n.text).toLowerCase().search(searchWord.toLowerCase());
        if (sort > -1) {
          collect_options.push({ '@findex': n['@findex'], optionsSort: sort });
          if (collect_options.length > 2) break;
        }
        sort = null;
      }
    }
    collect_options.sort(function (a, b) {
      return a.optionsSort - b.optionsSort;
    });
  }

  if (collect_options && collect_options.length > 0) {
    focusMove.call(this, queIdx, undefined, collect_options[0]['@findex']);
  } else {
    focusClear.call(this, queIdx);
  }
};
const focusClear = function (queIdx) {
  if (this.activeautocompleteOptionGroup) {
    this.activeautocompleteOptionGroup.find('[data-option-focus-index]').removeClass("hover").removeAttr("data-option-selected");
  }

  this.queue[queIdx].optionFocusIndex = -1;
};
const focusMove = function (queIdx, direction, findex) {
  let _focusIndex, _prevFocusIndex, focusOptionEl, optionGroupScrollContainer;
  let item = this.queue[queIdx];

  if (this.activeautocompleteOptionGroup && item.options && item.options.length > 0) {

    if (typeof findex !== "undefined") {
      _focusIndex = findex;
    } else {
      _prevFocusIndex = item.optionFocusIndex == -1 ? item.optionSelectedIndex || -1 : item.optionFocusIndex;
      if (_prevFocusIndex == -1) {
        _focusIndex = 0;
        //_focusIndex = (direction > 0) ? 0 : item.optionItemLength - 1; // 맨 끝으로 보낼것인가 말 것인가.
      } else {
        _focusIndex = _prevFocusIndex + direction;
        if (_focusIndex < 0) _focusIndex = 0;else if (_focusIndex > item.optionItemLength - 1) _focusIndex = item.optionItemLength - 1;
      }
    }

    item.optionFocusIndex = _focusIndex;

    // 포커스 인덱스가 hide아이템을 만나면 hide 아이템이 안나올 때까지 루프를 순회 합니다.
    if (item.options[_focusIndex] && item.options[_focusIndex].hide) {
      // 옵션이 없는 값이 선택된 경우
      if (typeof direction === "undefined") {
        return this;
      } else {
        let isStrop = false;
        while (item.options[_focusIndex].hide) {
          _focusIndex = _focusIndex + direction;
          if (_focusIndex < 0) {
            _focusIndex = 0;
            break;
          } else if (_focusIndex > item.optionItemLength - 1) {
            _focusIndex = item.optionItemLength - 1;
            break;
          }
        }
      }
    }

    if (typeof _focusIndex !== "undefined") {
      this.activeautocompleteOptionGroup.find('[data-option-focus-index]').removeClass("hover");

      focusOptionEl = this.activeautocompleteOptionGroup.find('[data-option-focus-index="' + _focusIndex + '"]').addClass("hover");

      optionGroupScrollContainer = this.activeautocompleteOptionGroup.find('[data-els="content"]');

      if (focusOptionEl.get(0)) {
        let focusOptionElHeight = focusOptionEl.outerHeight(),
            optionGroupScrollContainerHeight = optionGroupScrollContainer.innerHeight(),
            optionGroupScrollContainerScrollTop = optionGroupScrollContainer.scrollTop(),
            focusOptionElTop = focusOptionEl.position().top + optionGroupScrollContainer.scrollTop();

        if (optionGroupScrollContainerHeight + optionGroupScrollContainerScrollTop < focusOptionElTop + focusOptionElHeight) {
          optionGroupScrollContainer.scrollTop(focusOptionElTop + focusOptionElHeight - optionGroupScrollContainerHeight);
        } else if (optionGroupScrollContainerScrollTop > focusOptionElTop) {
          optionGroupScrollContainer.scrollTop(focusOptionElTop);
        }
        // optionGroup scroll check

        if (typeof direction !== "undefined") {
          item.$displayLabelInput.val(item.options[_focusIndex].text);
        }
      }
    }
  }
};
const bindAutocompleteTarget = function (queIdx) {
  let item = this.queue[queIdx],
      data = {};
  const debouncedFocusWord = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].debounce(function (queIdx) {
    if (this.activeautocompleteQueueIndex == -1) return this; // 옵션박스가 닫힌상태이면 진행안함.
    onSearch.call(this, queIdx, this.queue[queIdx].$displayLabelInput.val());
  }, 100).bind(this);
  const autocompleteEvent = {
    'click': function (queIdx, e) {
      let clickEl = "";
      let target = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].findParentNode(e.target, function (target) {
        if (target.getAttribute("data-ax6ui-autocomplete-remove")) {
          clickEl = "optionItemRemove";
          return true;
        } else if (target.getAttribute("data-selected-clear")) {
          clickEl = "clear";
          return true;
        }
      });

      if (target) {
        if (clickEl === "optionItemRemove") {
          let removeIndex = target.getAttribute("data-ax6ui-autocomplete-remove-index");
          this.queue[queIdx].selected.splice(removeIndex, 1);
          syncLabel.call(this, queIdx);
          printLabel.call(this, queIdx);
          focusLabel.call(this, queIdx);
          alignAutocompleteDisplay.call(this);
          alignAutocompleteOptionGroup.call(this);
          __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
          return this;
        } else if (clickEl === "clear") {
          setSelected.call(this, queIdx, { clear: true });
          alignAutocompleteDisplay.call(this);
          alignAutocompleteOptionGroup.call(this);
        }
      } else {
        if (this.activeautocompleteQueueIndex == queIdx) {
          if (this.queue[queIdx].optionFocusIndex == -1) {
            // 아이템에 포커스가 활성화 된 후, 마우스 이벤트 이면 무시
            this.close();
          }
        } else {
          focusLabel.call(this, queIdx);
        }
      }
    },
    'keyUp': function (queIdx, e) {
      /// 약속된 키 이벤트가 발생하면 stopEvent를 통해 keyUp 이벤트가 발생되지 않도록 막아주는 센스
      if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.ESC && this.activeautocompleteQueueIndex === -1) {
        // ESC키를 누르고 옵션그룹이 열려있지 않은 경우
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
        return this;
      } else if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.TAB) {
        // nothing
        this.close();
        return this;
      } else if (this.activeautocompleteQueueIndex != queIdx && e.which != __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.BACKSPACE) {
        // 닫힌 상태 인경우
        this.open(queIdx); // open and align
        debouncedFocusWord(queIdx);
      }

      if (ctrlKeys[e.which]) {
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      } else {
        // backspace 감지 하여 input 값이 없으면 스탑이벤트 처리 할 것
        if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.BACKSPACE && this.queue[queIdx].$displayLabelInput.val() == "") {
          // 마지막 아이템을 제거.
          this.queue[queIdx].selected.pop();
          syncLabel.call(this, queIdx);
          printLabel.call(this, queIdx);
          focusLabel.call(this, queIdx);
          alignAutocompleteDisplay.call(this);
          alignAutocompleteOptionGroup.call(this);
          __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
        } else {
          debouncedFocusWord(queIdx);
        }
      }
    },
    'keyDown': function (queIdx, e) {
      let item = this.queue[queIdx];
      if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.ESC) {
        clearLabel.call(this, queIdx);
        this.close();
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      } else if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.RETURN) {
        let inputValue = item.$displayLabelInput.val();
        if (item.optionFocusIndex > -1) {
          setSelected.call(this, item.id, {
            optionIndex: {
              index: item.optionFocusIndex
            }
          }, undefined, "optionItemClick");
        } else if (inputValue != "") {
          setSelected.call(this, queIdx, inputValue, true);
        }
        clearLabel.call(this, queIdx);
        alignAutocompleteDisplay.call(this);
        this.close();

        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      } else if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.DOWN) {
        focusMove.call(this, queIdx, 1);
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      } else if (e.which == __WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].eventKeys.UP) {
        focusMove.call(this, queIdx, -1);
        __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
      }
    },
    'focus': function (queIdx, e) {
      // console.log(e);
    },
    'blur': function (queIdx, e) {
      blurLabel.call(this, queIdx);
      __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
    },
    'selectChange': function (queIdx, e) {
      setSelected.call(this, queIdx, { value: item.$select.val() }, true);
    }
  };
  const blurLabel = function (queIdx) {
    clearLabel.call(this, queIdx);
  };

  if (!item.$display) {
    /// 템플릿에 전달할 오브젝트 선언
    data.instanceId = this.instanceId;
    data.id = item.id;
    data.name = item.name;
    data.theme = item.theme;
    data.tabIndex = item.tabIndex;
    data.multiple = item.multiple;
    data.reset = item.reset;
    data.height = item.height;
    data.optionItemHeight = item.optionItemHeight;
    data.paddingLeft = (item.height - item.optionItemHeight) / 2;
    data.label = getLabel.call(this, queIdx);

    item.$display = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.autocompleteDisplay.call(this, item.columnKeys), data));
    item.$displayTable = item.$display.find('[data-els="display-table"]');
    item.$displayLabel = item.$display.find('[data-ax6ui-autocomplete-display="label"]');
    item.$displayLabelInput = item.$display.find('[data-ax6ui-autocomplete-display="input"]');

    if (item.$target.find("select").get(0)) {
      item.$select = item.$target.find("select");
      item.$select.attr("tabindex", "-1").attr("class", "form-control " + data.formSize);

      if (data.name) {
        item.$select.attr("name", "name");
      }
      item.$select.attr("multiple", "multiple");
    } else {
      item.$select = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.formSelect.call(this, item.columnKeys), data));
      item.$target.append(item.$select);
    }

    item.$target.append(item.$display);
  } else {
    printLabel.call(this, queIdx);
  }

  alignAutocompleteDisplay.call(this);

  item.$display.off('click.ax6ui-autocomplete').on('click.ax6ui-autocomplete', autocompleteEvent.click.bind(this, queIdx));

  // autocomplete 태그에 대한 이벤트 감시

  item.$displayLabelInput.off("focus.ax6ui-autocomplete").on("focus.ax6ui-autocomplete", autocompleteEvent.focus.bind(this, queIdx)).off("blur.ax6ui-autocomplete").on("blur.ax6ui-autocomplete", autocompleteEvent.blur.bind(this, queIdx)).off("keydown.ax6ui-autocomplete").on("keydown.ax6ui-autocomplete", autocompleteEvent.keyDown.bind(this, queIdx)).off("keyup.ax6ui-autocomplete").on("keyup.ax6ui-autocomplete", autocompleteEvent.keyUp.bind(this, queIdx));

  // select 태그에 대한 change 이벤트 감시

  /*
    item.$select
      .off('change.ax6ui-autocomplete')
      .on('change.ax6ui-autocomplete', autocompleteEvent.selectChange.bind(this, queIdx));
    */

  data = null;
  item = null;
  queIdx = null;
  return this;
};
const getQueIdx = function (boundID) {
  if (boundID instanceof __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a) {
    boundID = boundID.data("data-ax6ui-autocomplete-id");
  } else if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(boundID)) {
    boundID = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(boundID).data("data-ax6ui-autocomplete-id");
  }
  if (!__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(boundID)) {
    console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-autocomplete", "402", "getQueIdx"));
    return;
  }
  return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(this.queue, function () {
    return this.id == boundID;
  });
};
const getSelected = function (_item, o, selected) {
  if (typeof selected === "undefined") {
    return _item.multiple ? !o : true;
  } else {
    return selected;
  }
};
const clearSelected = function (queIdx) {
  this.queue[queIdx].options.forEach(function (n) {
    if (n.optgroup) {
      n.options.forEach(function (nn) {
        nn.selected = false;
      });
    } else {
      n.selected = false;
    }
  });

  this.queue[queIdx].selected = [];
  this.queue[queIdx].$select.html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.formSelectOptions.call(this, this.queue[queIdx].columnKeys), {
    selected: this.queue[queIdx].selected
  }));
};
const setSelected = function (boundID, value, selected, _option) {
  const processor = {
    'selectedIndex': function (queIdx, value, selected, setValueType) {},
    'removeSelectedIndex': function (queIdx, value, selected, setValueType) {
      var item = this.queue[queIdx],
          addOptions = {};
      var newSelectedArray = [],
          optionIndex = 0;
      for (var i = 0; i < item.selected.length; i++) {
        if (item.selected[i]['@index'] != value.removeSelectedIndex.index) {
          addOptions = { '@index': optionIndex, '@findex': optionIndex };
          addOptions[item.columnKeys.optionValue] = item.selected[i][item.columnKeys.optionValue];
          addOptions[item.columnKeys.optionText] = item.selected[i][item.columnKeys.optionText];
          newSelectedArray.push(addOptions);
          optionIndex++;
        }
      }
      item.selected = newSelectedArray;
    },
    'optionIndex': function (queIdx, value, selected, setValueType) {
      var item = this.queue[queIdx],
          addOptions = {};
      var optionIndex = item.selected.length;
      var pushOk = true;

      addOptions = {
        '@index': optionIndex, '@findex': optionIndex
      };
      addOptions[item.columnKeys.optionValue] = item.options[value.optionIndex.index][item.columnKeys.optionValue];
      addOptions[item.columnKeys.optionText] = item.options[value.optionIndex.index][item.columnKeys.optionText];

      for (var i = 0; i < item.selected.length; i++) {
        if (item.selected[i][item.columnKeys.optionValue] == addOptions[item.columnKeys.optionValue]) {
          pushOk = false;
        }
      }
      if (pushOk) item.selected.push(addOptions);
    },
    'arr': function (queIdx, values, selected, setValueType) {
      values.forEach(function (value) {
        if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(value) || __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(value)) {
          processor.text.call(self, queIdx, value, selected, "justSetValue");
        } else {
          for (var key in processor) {
            if (value[key]) {
              processor[key].call(self, queIdx, value, selected, "justSetValue");
              break;
            }
          }
        }
      });
    },
    'value': function (queIdx, value, selected, setValueType) {
      var item = this.queue[queIdx];
      var addOptions;
      var optionIndex = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(item.options, function () {
        return this[item.columnKeys.optionValue] == value.value[item.columnKeys.optionValue];
      });

      if (optionIndex > -1) {
        item.options[optionIndex][item.columnKeys.optionSelected] = getSelected(item, item.options[optionIndex][item.columnKeys.optionSelected], selected);

        if (item.options[optionIndex][item.columnKeys.optionSelected]) {
          var appendOk = true;
          for (var i = 0; i < item.selected.length; i++) {
            if (item.selected[i][this.config.columnKeys.optionValue] == item.options[optionIndex][this.config.columnKeys.optionValue]) {
              appendOk = false;
              break;
            }
          }
          if (appendOk) {
            addOptions = {};
            addOptions[item.columnKeys.optionValue] = item.options[optionIndex][item.columnKeys.optionValue];
            addOptions[item.columnKeys.optionText] = item.options[optionIndex][item.columnKeys.optionText];
            item.selected.push(addOptions);
          }
        } else {
          var newSelectedArray = [];
          for (var i = 0; i < item.selected.length; i++) {
            if (item.selected[i][this.config.columnKeys.optionValue] == item.options[optionIndex][this.config.columnKeys.optionValue]) {} else {
              addOptions = {};
              addOptions[item.columnKeys.optionValue] = item.selected[i][item.columnKeys.optionValue];
              addOptions[item.columnKeys.optionText] = item.selected[i][item.columnKeys.optionText];
              newSelectedArray.push(addOptions);
            }
          }
          item.selected = newSelectedArray;
        }
      } else {
        // 새로운 값 추가
        var appendOk = true;
        for (var i = 0; i < item.selected.length; i++) {
          if (item.selected[i][this.config.columnKeys.optionValue] == value.value[this.config.columnKeys.optionValue]) {
            appendOk = false;
            break;
          }
        }

        if (appendOk) {
          addOptions = {};
          addOptions[item.columnKeys.optionValue] = value.value[this.config.columnKeys.optionValue];
          addOptions[item.columnKeys.optionText] = value.value[this.config.columnKeys.optionText];
          item.selected.push(addOptions);
        }
      }
    },
    'text': function (queIdx, value, selected, setValueType) {
      var item = this.queue[queIdx];
      var addOptions;
      var optionIndex = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(item.options, function () {
        return this[item.columnKeys.optionText] == value;
      });

      if (optionIndex > -1) {
        item.options[optionIndex][item.columnKeys.optionSelected] = getSelected(item, item.options[optionIndex][item.columnKeys.optionSelected], selected);

        if (item.options[optionIndex][item.columnKeys.optionSelected]) {
          var appendOk = true;
          for (var i = 0; i < item.selected.length; i++) {
            if (item.selected[i][this.config.columnKeys.optionText] == item.options[optionIndex][this.config.columnKeys.optionText]) {
              appendOk = false;
              break;
            }
          }
          if (appendOk) {
            addOptions = {};
            addOptions[item.columnKeys.optionValue] = item.options[optionIndex][item.columnKeys.optionValue];
            addOptions[item.columnKeys.optionText] = item.options[optionIndex][item.columnKeys.optionText];
            item.selected.push(addOptions);
          }
        } else {
          var newSelectedArray = [];
          for (var i = 0; i < item.selected.length; i++) {
            if (item.selected[i][this.config.columnKeys.optionText] == item.options[optionIndex][this.config.columnKeys.optionText]) {} else {
              addOptions = {};
              addOptions[item.columnKeys.optionValue] = item.selected[i][item.columnKeys.optionValue];
              addOptions[item.columnKeys.optionText] = item.selected[i][item.columnKeys.optionText];
              newSelectedArray.push(addOptions);
            }
          }
          item.selected = newSelectedArray;
        }
      } else {
        // 새로운 값 추가
        var appendOk = true;
        for (var i = 0; i < item.selected.length; i++) {
          if (item.selected[i][this.config.columnKeys.optionText] == value) {
            appendOk = false;
            break;
          }
        }

        if (appendOk) {
          addOptions = {};
          addOptions[item.columnKeys.optionValue] = value;
          addOptions[item.columnKeys.optionText] = value;
          item.selected.push(addOptions);
        }
      }
    },
    'clear': function (queIdx) {
      clearSelected.call(this, queIdx);
      focusClear.call(this, queIdx);

      if (this.activeautocompleteOptionGroup) {
        this.activeautocompleteOptionGroup.find('[data-option-index]').attr("data-option-Selected", "false");
      }
      this.queue[queIdx].optionSelectedIndex = -1;
    }
  };

  let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID);
  if (queIdx === -1) {
    console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-autocomplete", "402", "val"));
    return;
  }

  if (typeof value == "undefined") {
    throw "error not found value";
  } else if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(value)) {
    processor.clear.call(this, queIdx);
    processor.arr.call(this, queIdx, this.queue[queIdx].multiple || value.length == 0 ? value : [value[value.length - 1]], selected);
  } else if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isString(value) || __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(value)) {
    if (typeof value !== "undefined" && value !== null && !this.queue[queIdx].multiple) {
      clearSelected.call(this, queIdx);
    }
    processor.text.call(this, queIdx, value, selected);
  } else {
    if (value === null) {
      processor.clear.call(this, queIdx);
    } else {
      if (!this.queue[queIdx].multiple) {
        clearSelected.call(this, queIdx);
      }
      for (var key in processor) {
        if (value[key]) {
          processor[key].call(this, queIdx, value, selected);
          break;
        }
      }
    }
  }

  syncLabel.call(this, queIdx);
  printLabel.call(this, queIdx);
  focusLabel.call(this, queIdx);
  alignAutocompleteOptionGroup.call(this);

  if (typeof value !== "undefined") {
    if (_option && !_option.noStateChange) {
      onStateChanged.call(this, this.queue[queIdx], {
        self: this,
        item: this.queue[queIdx],
        state: "changeValue",
        value: this.queue[queIdx].selected
      });
    }
  }

  boundID = null;
  return this;
};

/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UIAutocomplete extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param [config.theme='default']
     * @param [config.animateTime=250]
     * @param [config.height=34]
     * @param [config.lang] - 메세지들
     * @param [config.lang.noSelected='']
     * @param [config.lang.noOptions='no options']
     * @param [config.lang.loading='now loading..']
     * @param [config.columnKeys] - 내부에서 사용 JSON key 정의
     * @param [config.columnKeys.optionValue='value']
     * @param [config.columnKeys.optionText='text']
     * @param [config.columnKeys.optionSelected='selected']
     */
    this.config = {
      theme: 'default',
      animateTime: 250,
      height: 34,
      optionItemHeight: 24,
      borderWidth: 1,
      removeIcon: 'U+00d7',
      lang: {
        noSelected: '',
        noOptions: 'no options',
        loading: 'Now Processing'
      },
      columnKeys: {
        optionValue: 'value',
        optionText: 'text',
        optionSelected: 'selected'
      }
    };
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, this.config, config);

    // 멤버 변수 초기화
    /**
     * bind를 통해 연결된 select가 저장되는 변수
     * @member {Array}
     */
    this.queue = [];
    /**
     * @member {Object}
     */
    this.activeautocompleteOptionGroup = null;
    /**
     * @member {Number}
     */
    this.activeautocompleteQueueIndex = -1;
    /**
     * @member {Object}
     */
    this.openTimer = null;
    /**
     * @member {Object}
     */
    this.closeTimer = null;
    /**
     * @member {Function}
     */
    this.waitOptionsCallback = null;
    /**
     * @member {Object}
     */
    this.keyUpTimer = null;
    /**
     * @member {Object}
     */
    this.xvar = {};

    this.init();
  }

  /**
   * @method
   * @param config
   */
  init() {
    this.onStateChanged = this.config.onStateChanged;
    delete this.config.onStateChanged;
    this.onChange = this.config.onChange;
    delete this.config.onChange;

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;

    // throttledResize
    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("resize.ax6ui-autocomplete-display-" + this.instanceId, __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].throttle(function (e) {
      alignAutocompleteDisplay.call(this, e || window.event);
      alignAutocompleteOptionGroup.call(this);
    }, 100).bind(this));
  }

  /**
   * bind autocomplete
   * @method
   * @param {Object} item
   * @param {String} [item.id]
   * @param {String} [item.theme]
   * @param {Boolean} [item.multiple]
   * @param {Element} item.target
   * @return {AX6UIAutocomplete}
   */
  bind(item) {
    let queIdx;
    item = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.config, item);

    if (!item.target) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-autocomplete", "401", "bind"));
      return this;
    }
    item.$target = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(item.target);

    if (!item.id) item.id = item.$target.data("data-ax6ui-autocomplete-id");
    if (!item.id) {
      item.id = 'ax6ui-autocomplete-' + __WEBPACK_IMPORTED_MODULE_1__AX6UICore_js__["a" /* default */].getInstanceId();
      item.$target.data("data-ax6ui-autocomplete-id", item.id);
    }
    item.name = item.$target.attr("data-ax6ui-autocomplete");

    item.options = [];
    item.selected = [];

    // target attribute data
    (function (data) {
      if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isObject(data) && !data.error) {
        item = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, item, data);
      }
    })(__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].parseJson(item.$target.attr("data-ax6ui-autocomplete-config"), true));

    queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].search(this.queue, function () {
      return this.id == item.id;
    });

    if (queIdx === -1) {
      this.queue.push(item);
      bindAutocompleteTarget.call(this, this.queue.length - 1);
    } else {
      this.queue[queIdx].selected = [];
      this.queue[queIdx].options = item.options;
      this.queue[queIdx] = __WEBPACK_IMPORTED_MODULE_0_jqmin___default.a.extend(true, {}, this.queue[queIdx], item);
      bindAutocompleteTarget.call(this, queIdx);
    }

    queIdx = null;
    return this;
  }

  /**
   * open the optionBox of autocomplete
   * @method
   * @param {(String|Number|Element)} boundID
   * @param {Number} [tryCount]
   * @return {AX6UIAutocomplete}
   */
  open(boundID, tryCount) {
    this.waitOptionsCallback = null;

    /**
     * open autocomplete from the outside
     */
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(boundID) ? boundID : getQueIdx.call(this, boundID),
        item = this.queue[queIdx],
        data = {},
        focusTop,
        selectedOptionEl;

    if (item.$display.attr("disabled")) return this;

    if (this.openTimer) clearTimeout(this.openTimer);
    if (this.activeautocompleteOptionGroup) {
      if (this.activeautocompleteQueueIndex == queIdx) {
        return this;
      }

      if (tryCount > 2) return this;
      this.close();
      this.openTimer = setTimeout(function () {
        this.open(queIdx, (tryCount || 0) + 1);
      }.bind(this), this.config.animateTime);

      return this;
    }

    item.optionFocusIndex = -1; // optionGroup이 열리면 포커스 인덱스 초기화 -1로
    if (item.selected && item.selected.length > 0) {
      item.optionSelectedIndex = item.selected[0]["@findex"];
    }

    /// 템플릿에 전달할 오브젝트 선언
    data.id = item.id;
    data.theme = item.theme;
    data.multiple = item.multiple;

    data.lang = item.lang;
    item.$display.attr("data-autocomplete-option-group-opened", "true");

    data.waitOptions = true; // 타이핑값으로 options을 구해야 하므로 대기
    data.options = [];

    this.activeautocompleteOptionGroup = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.optionGroup.call(this, item.columnKeys), data));
    this.activeautocompleteOptionGroup.find('[data-els="content"]').html(__WEBPACK_IMPORTED_MODULE_4__AX6Mustache__["a" /* default */].render(tmpl.options.call(this, item.columnKeys), data));
    this.activeautocompleteQueueIndex = queIdx;

    alignAutocompleteOptionGroup.call(this, "append"); // alignAutocompleteOptionGroup 에서 body append

    if (item.selected && item.selected.length > 0) {
      selectedOptionEl = this.activeautocompleteOptionGroup.find('[data-option-index="' + item.selected[0]["@index"] + '"]');
      if (selectedOptionEl.get(0)) {
        focusTop = selectedOptionEl.position().top - this.activeautocompleteOptionGroup.height() / 3;
        this.activeautocompleteOptionGroup.find('[data-els="content"]').scrollTop(focusTop);
      }
    }

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).on("click.ax6ui-autocomplete-" + this.instanceId, function (e) {
      e = e || window.event;
      onBodyClick.call(this, e);
      __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].stopEvent(e);
    }.bind(this));

    onStateChanged.call(this, item, {
      self: this,
      state: "open",
      item: item
    });

    data = null;
    focusTop = null;
    selectedOptionEl = null;
    return this;
  }

  /**
   * @method
   * @param {(jQueryObject|Element|Number)} _boundID
   * @param {(String|Array)} _value
   * @return {AX6UIAutocomplete}
   * @example
   * ```js
   * myAutocomplete.setValue(jQuery('[data-ax6ui-autocomplete="autocomplete1"]'), {value:"test", text:"test"});
   * myAutocomplete.setValue(jQuery('[data-ax6ui-autocomplete="autocomplete1"]'), [{value:"test1", text:"test1"}, {value:"test2", text:"test2"}]);
   * myAutocomplete.setValue(jQuery('[data-ax6ui-autocomplete="autocomplete1"]'), null);
   * ```
   */
  setValue(_boundID, _value) {
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(_boundID) ? _boundID : getQueIdx.call(this, _boundID);
    if (queIdx === -1) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-autocomplete", "402", "val"));
      return;
    }

    clearSelected.call(this, queIdx);

    if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isArray(_value)) {
      let _values = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].map(_value, function () {
        return { value: this };
      });
      setSelected.call(this, queIdx, _values, true, { noStateChange: true });
    } else if (__WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isObject(_value)) {
      setSelected.call(this, queIdx, { value: _value }, true, { noStateChange: true });
    } else {
      printLabel.call(this, queIdx);
    }

    blurLabel.call(this, queIdx);
    alignAutocompleteDisplay.call(this);

    return this;
  }

  /**
   * @method
   * @param {(jQueryObject|Element|Number)} _boundID
   * @param {(String|Array)} _text
   * @return {AX6UIAutocomplete}
   * @example
   * ```js
   * myAutocomplete.setText(jQuery('[data-ax6ui-autocomplete="autocomplete1"]'), "string");
   * myAutocomplete.setText(jQuery('[data-ax6ui-autocomplete="autocomplete1"]'), ["substring", "search"]);
   * ```
   */
  setText(_boundID, _text) {
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(_boundID) ? _boundID : getQueIdx.call(this, _boundID);
    if (queIdx === -1) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-autocomplete", "402", "val"));
      return;
    }

    this.queue[queIdx].selected = [];
    clearSelected.call(this, queIdx);
    setSelected.call(this, queIdx, _text, true, { noStateChange: true });
    blurLabel.call(this, queIdx);
    alignAutocompleteDisplay.call(this);

    return this;
  }

  /**
   * @method
   * @param {(jQueryObject|Element|Number)} _boundID
   * @returns {Array}
   */
  getSelectedOption(_boundID) {
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(_boundID) ? _boundID : getQueIdx.call(this, _boundID);
    if (queIdx === -1) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-autocomplete", "402", "val"));
      return;
    }
    return __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].deepCopy(this.queue[queIdx].selected);
  }

  /**
   * @method
   * @return {AX6UIAutocomplete}
   */
  close(item) {
    if (this.closeTimer) clearTimeout(this.closeTimer);
    if (!this.activeautocompleteOptionGroup) return this;

    item = this.queue[this.activeautocompleteQueueIndex];
    item.optionFocusIndex = -1;
    item.$display.removeAttr("data-autocomplete-option-group-opened").trigger("focus");

    this.activeautocompleteOptionGroup.addClass("destroy");

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(window).off("resize.ax6ui-autocomplete-" + this.instanceId).off("click.ax6ui-autocomplete-" + this.instanceId).off("keyup.ax6ui-autocomplete-" + this.instanceId);

    this.closeTimer = setTimeout(function () {
      if (this.activeautocompleteOptionGroup) this.activeautocompleteOptionGroup.remove();
      this.activeautocompleteOptionGroup = null;
      this.activeautocompleteQueueIndex = -1;

      onStateChanged.call(this, item, {
        self: this,
        state: "close"
      });
    }.bind(this), this.config.animateTime);
    this.waitOptionsCallback = null;
    return this;
  }

  /**
   * @method
   * @param {(jQueryObject|Element|Number)} _boundID
   * @return {AX6UIAutocomplete}
   */
  blur(_boundID) {
    let queIdx = __WEBPACK_IMPORTED_MODULE_3__AX6Util__["a" /* default */].isNumber(_boundID) ? _boundID : getQueIdx.call(this, _boundID);
    if (queIdx === -1) {
      console.log(__WEBPACK_IMPORTED_MODULE_2__AX6Info__["a" /* default */].getError("ax6ui-autocomplete", "402", "val"));
      return;
    }

    blurLabel.call(this, queIdx);
    return this;
  }

  /**
   * @method
   * @param {(jQueryObject|Element|Number)} _boundID
   * @return {AX6UIAutocomplete}
   */
  enable(_boundID) {
    let queIdx = getQueIdx.call(this, _boundID);

    if (typeof queIdx !== "undefined") {
      this.queue[queIdx].disable = false;
      if (this.queue[queIdx].$display[0]) {
        this.queue[queIdx].$display.removeAttr("disabled");
        this.queue[queIdx].$displayLabelInput.removeAttr("disabled");
      }
      if (this.queue[queIdx].$select[0]) {
        this.queue[queIdx].$select.removeAttr("disabled");
      }

      onStateChanged.call(this, this.queue[queIdx], {
        self: this,
        state: "enable"
      });
    }

    return this;
  }

  /**
   * @method
   * @param {(jQueryObject|Element|Number)} _boundID
   * @return {AX6UIAutocomplete}
   */
  disable(_boundID) {
    let queIdx = getQueIdx.call(this, _boundID);

    if (typeof queIdx !== "undefined") {
      this.queue[queIdx].disable = true;
      if (this.queue[queIdx].$display[0]) {
        this.queue[queIdx].$display.attr("disabled", "disabled");
        this.queue[queIdx].$displayLabelInput.attr("disabled", "disabled");
      }
      if (this.queue[queIdx].$select[0]) {
        this.queue[queIdx].$select.attr("disabled", "disabled");
      }

      onStateChanged.call(this, this.queue[queIdx], {
        self: this,
        state: "disable"
      });
    }

    return this;
  }

  /**
   * @method
   * @return {AX6UIAutocomplete}
   */
  align() {
    alignAutocompleteDisplay.call(this);
    return this;
  }

}

/* harmony default export */ __webpack_exports__["a"] = (AX6UIAutocomplete);

/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jqmin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jqmin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AX6UICore__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AX6Util__ = __webpack_require__(0);



/* ~~~~~~~~~~~~~~~~~~ end of import  ~~~~~~~~~~~~~~~~~~~~ */

/* ~~~~~~~~~~~~~~~~~~ end of private  ~~~~~~~~~~~~~~~~~~~~ */

/**
 * @class
 */
class AX6UISideNav extends __WEBPACK_IMPORTED_MODULE_1__AX6UICore__["a" /* default */] {
  /**
   * @constructor
   * @param config
   */
  constructor(config) {
    super();

    /**
     * @member {JSON}
     * @param config
     * @param config.menu
     * @param [config.menu.width=256]
     * @param [config.menu.position='left']
     * @param config.menu.target
     * @param config.panel
     * @param config.panel.target
     *
     */
    this.config = {
      menu: {
        width: 256,
        position: "left"
      },
      panel: {},
      transition: {
        duration: 300,
        easing: 'ease'
      }

    };
    __WEBPACK_IMPORTED_MODULE_2__AX6Util__["a" /* default */].extend(true, this.config, config);

    // 멤버 변수 초기화
    this.$targetMenu = null;
    this.$targetPanel = null;

    this.animating = false;
    this.opened = false;

    if (typeof config !== "undefined") this.init();
  }

  /**
   * @method
   */
  init() {
    if (!this.config.menu.target || !this.config.panel.target) {
      console.error('Can not found config.menu.target, config.panel.target');
    }

    this.$targetMenu = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.menu.target);
    this.$targetPanel = __WEBPACK_IMPORTED_MODULE_0_jqmin___default()(this.config.panel.target);

    this.$targetMenu.css({ width: this.config.menu.width }).attr("data-ax6ui-sidenav-position", this.config.menu.position);
    this.$targetPanel.attr("data-ax6ui-sidenav-position", this.config.menu.position).on('click', e => {
      if (this.opened) this.close();
    });

    // init 호출 여부
    this.initOnce();
  }

  /**
   * @method
   */
  initOnce() {
    if (this.initialized) return this;
    this.initialized = true;
  }

  open() {
    if (this.animating) return this;

    __WEBPACK_IMPORTED_MODULE_0_jqmin___default()('html').attr('data-ax6ui-sidenav-open', 'true');

    this.$targetPanel.css({
      'transform': 'translateX(' + this.config.menu.width + 'px)',
      '-webkit-transition': 'transform ' + this.config.transition.duration + 'ms ' + this.config.transition.easing
    });

    setTimeout(() => {
      this.opened = true;
    }, this.config.transition.duration);

    return this;
  }

  close() {
    if (this.animating) return this;

    this.$targetPanel.css({
      'transform': 'translateX(0px)',
      '-webkit-transition': 'transform ' + this.config.transition.duration + 'ms ' + this.config.transition.easing
    });

    setTimeout(() => {
      __WEBPACK_IMPORTED_MODULE_0_jqmin___default()('html').attr('data-ax6ui-sidenav-open', null);
      this.opened = false;
    }, this.config.transition.duration);

    return this;
  }
}

/* harmony default export */ __webpack_exports__["a"] = (AX6UISideNav);

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(35);
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(11)(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../css-loader/index.js!../../sass-loader/lib/loader.js!./style.scss", function() {
			var newContent = require("!!../../css-loader/index.js!../../sass-loader/lib/loader.js!./style.scss");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(7)(undefined);
// imports


// module
exports.push([module.i, "html[data-ax6ui-sidenav-open] {\n  overflow: hidden; }\n  html[data-ax6ui-sidenav-open] [data-ax6ui-sidenav-menu] {\n    display: block; }\n  html[data-ax6ui-sidenav-open] [data-ax6ui-sidenav-panel] {\n    overflow: hidden; }\n\n[data-ax6ui-sidenav-panel] {\n  position: relative;\n  z-index: 1;\n  will-change: transform;\n  min-height: 100%; }\n\n[data-ax6ui-sidenav-menu] {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  width: 256px;\n  height: 100%;\n  min-height: 100%;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  z-index: 0;\n  display: none;\n  margin: 0; }\n  [data-ax6ui-sidenav-menu][data-ax6ui-sidenav-position=\"left\"] {\n    left: 0; }\n  [data-ax6ui-sidenav-menu][data-ax6ui-sidenav-position=\"right\"] {\n    right: 0; }\n", ""]);

// exports


/***/ }),
/* 36 */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(38);
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(11)(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./sample.scss", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./sample.scss");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(7)(undefined);
// imports
exports.i(__webpack_require__(39), "");

// module
exports.push([module.i, ".materialize-red {\n  background-color: #e51c23 !important; }\n\n.materialize-red-text {\n  color: #e51c23 !important; }\n\n.materialize-red.lighten-5 {\n  background-color: #fdeaeb !important; }\n\n.materialize-red-text.text-lighten-5 {\n  color: #fdeaeb !important; }\n\n.materialize-red.lighten-4 {\n  background-color: #f8c1c3 !important; }\n\n.materialize-red-text.text-lighten-4 {\n  color: #f8c1c3 !important; }\n\n.materialize-red.lighten-3 {\n  background-color: #f3989b !important; }\n\n.materialize-red-text.text-lighten-3 {\n  color: #f3989b !important; }\n\n.materialize-red.lighten-2 {\n  background-color: #ee6e73 !important; }\n\n.materialize-red-text.text-lighten-2 {\n  color: #ee6e73 !important; }\n\n.materialize-red.lighten-1 {\n  background-color: #ea454b !important; }\n\n.materialize-red-text.text-lighten-1 {\n  color: #ea454b !important; }\n\n.materialize-red.darken-1 {\n  background-color: #d0181e !important; }\n\n.materialize-red-text.text-darken-1 {\n  color: #d0181e !important; }\n\n.materialize-red.darken-2 {\n  background-color: #b9151b !important; }\n\n.materialize-red-text.text-darken-2 {\n  color: #b9151b !important; }\n\n.materialize-red.darken-3 {\n  background-color: #a21318 !important; }\n\n.materialize-red-text.text-darken-3 {\n  color: #a21318 !important; }\n\n.materialize-red.darken-4 {\n  background-color: #8b1014 !important; }\n\n.materialize-red-text.text-darken-4 {\n  color: #8b1014 !important; }\n\n.red {\n  background-color: #F44336 !important; }\n\n.red-text {\n  color: #F44336 !important; }\n\n.red.lighten-5 {\n  background-color: #FFEBEE !important; }\n\n.red-text.text-lighten-5 {\n  color: #FFEBEE !important; }\n\n.red.lighten-4 {\n  background-color: #FFCDD2 !important; }\n\n.red-text.text-lighten-4 {\n  color: #FFCDD2 !important; }\n\n.red.lighten-3 {\n  background-color: #EF9A9A !important; }\n\n.red-text.text-lighten-3 {\n  color: #EF9A9A !important; }\n\n.red.lighten-2 {\n  background-color: #E57373 !important; }\n\n.red-text.text-lighten-2 {\n  color: #E57373 !important; }\n\n.red.lighten-1 {\n  background-color: #EF5350 !important; }\n\n.red-text.text-lighten-1 {\n  color: #EF5350 !important; }\n\n.red.darken-1 {\n  background-color: #E53935 !important; }\n\n.red-text.text-darken-1 {\n  color: #E53935 !important; }\n\n.red.darken-2 {\n  background-color: #D32F2F !important; }\n\n.red-text.text-darken-2 {\n  color: #D32F2F !important; }\n\n.red.darken-3 {\n  background-color: #C62828 !important; }\n\n.red-text.text-darken-3 {\n  color: #C62828 !important; }\n\n.red.darken-4 {\n  background-color: #B71C1C !important; }\n\n.red-text.text-darken-4 {\n  color: #B71C1C !important; }\n\n.red.accent-1 {\n  background-color: #FF8A80 !important; }\n\n.red-text.text-accent-1 {\n  color: #FF8A80 !important; }\n\n.red.accent-2 {\n  background-color: #FF5252 !important; }\n\n.red-text.text-accent-2 {\n  color: #FF5252 !important; }\n\n.red.accent-3 {\n  background-color: #FF1744 !important; }\n\n.red-text.text-accent-3 {\n  color: #FF1744 !important; }\n\n.red.accent-4 {\n  background-color: #D50000 !important; }\n\n.red-text.text-accent-4 {\n  color: #D50000 !important; }\n\n.pink {\n  background-color: #e91e63 !important; }\n\n.pink-text {\n  color: #e91e63 !important; }\n\n.pink.lighten-5 {\n  background-color: #fce4ec !important; }\n\n.pink-text.text-lighten-5 {\n  color: #fce4ec !important; }\n\n.pink.lighten-4 {\n  background-color: #f8bbd0 !important; }\n\n.pink-text.text-lighten-4 {\n  color: #f8bbd0 !important; }\n\n.pink.lighten-3 {\n  background-color: #f48fb1 !important; }\n\n.pink-text.text-lighten-3 {\n  color: #f48fb1 !important; }\n\n.pink.lighten-2 {\n  background-color: #f06292 !important; }\n\n.pink-text.text-lighten-2 {\n  color: #f06292 !important; }\n\n.pink.lighten-1 {\n  background-color: #ec407a !important; }\n\n.pink-text.text-lighten-1 {\n  color: #ec407a !important; }\n\n.pink.darken-1 {\n  background-color: #d81b60 !important; }\n\n.pink-text.text-darken-1 {\n  color: #d81b60 !important; }\n\n.pink.darken-2 {\n  background-color: #c2185b !important; }\n\n.pink-text.text-darken-2 {\n  color: #c2185b !important; }\n\n.pink.darken-3 {\n  background-color: #ad1457 !important; }\n\n.pink-text.text-darken-3 {\n  color: #ad1457 !important; }\n\n.pink.darken-4 {\n  background-color: #880e4f !important; }\n\n.pink-text.text-darken-4 {\n  color: #880e4f !important; }\n\n.pink.accent-1 {\n  background-color: #ff80ab !important; }\n\n.pink-text.text-accent-1 {\n  color: #ff80ab !important; }\n\n.pink.accent-2 {\n  background-color: #ff4081 !important; }\n\n.pink-text.text-accent-2 {\n  color: #ff4081 !important; }\n\n.pink.accent-3 {\n  background-color: #f50057 !important; }\n\n.pink-text.text-accent-3 {\n  color: #f50057 !important; }\n\n.pink.accent-4 {\n  background-color: #c51162 !important; }\n\n.pink-text.text-accent-4 {\n  color: #c51162 !important; }\n\n.purple {\n  background-color: #9c27b0 !important; }\n\n.purple-text {\n  color: #9c27b0 !important; }\n\n.purple.lighten-5 {\n  background-color: #f3e5f5 !important; }\n\n.purple-text.text-lighten-5 {\n  color: #f3e5f5 !important; }\n\n.purple.lighten-4 {\n  background-color: #e1bee7 !important; }\n\n.purple-text.text-lighten-4 {\n  color: #e1bee7 !important; }\n\n.purple.lighten-3 {\n  background-color: #ce93d8 !important; }\n\n.purple-text.text-lighten-3 {\n  color: #ce93d8 !important; }\n\n.purple.lighten-2 {\n  background-color: #ba68c8 !important; }\n\n.purple-text.text-lighten-2 {\n  color: #ba68c8 !important; }\n\n.purple.lighten-1 {\n  background-color: #ab47bc !important; }\n\n.purple-text.text-lighten-1 {\n  color: #ab47bc !important; }\n\n.purple.darken-1 {\n  background-color: #8e24aa !important; }\n\n.purple-text.text-darken-1 {\n  color: #8e24aa !important; }\n\n.purple.darken-2 {\n  background-color: #7b1fa2 !important; }\n\n.purple-text.text-darken-2 {\n  color: #7b1fa2 !important; }\n\n.purple.darken-3 {\n  background-color: #6a1b9a !important; }\n\n.purple-text.text-darken-3 {\n  color: #6a1b9a !important; }\n\n.purple.darken-4 {\n  background-color: #4a148c !important; }\n\n.purple-text.text-darken-4 {\n  color: #4a148c !important; }\n\n.purple.accent-1 {\n  background-color: #ea80fc !important; }\n\n.purple-text.text-accent-1 {\n  color: #ea80fc !important; }\n\n.purple.accent-2 {\n  background-color: #e040fb !important; }\n\n.purple-text.text-accent-2 {\n  color: #e040fb !important; }\n\n.purple.accent-3 {\n  background-color: #d500f9 !important; }\n\n.purple-text.text-accent-3 {\n  color: #d500f9 !important; }\n\n.purple.accent-4 {\n  background-color: #aa00ff !important; }\n\n.purple-text.text-accent-4 {\n  color: #aa00ff !important; }\n\n.deep-purple {\n  background-color: #673ab7 !important; }\n\n.deep-purple-text {\n  color: #673ab7 !important; }\n\n.deep-purple.lighten-5 {\n  background-color: #ede7f6 !important; }\n\n.deep-purple-text.text-lighten-5 {\n  color: #ede7f6 !important; }\n\n.deep-purple.lighten-4 {\n  background-color: #d1c4e9 !important; }\n\n.deep-purple-text.text-lighten-4 {\n  color: #d1c4e9 !important; }\n\n.deep-purple.lighten-3 {\n  background-color: #b39ddb !important; }\n\n.deep-purple-text.text-lighten-3 {\n  color: #b39ddb !important; }\n\n.deep-purple.lighten-2 {\n  background-color: #9575cd !important; }\n\n.deep-purple-text.text-lighten-2 {\n  color: #9575cd !important; }\n\n.deep-purple.lighten-1 {\n  background-color: #7e57c2 !important; }\n\n.deep-purple-text.text-lighten-1 {\n  color: #7e57c2 !important; }\n\n.deep-purple.darken-1 {\n  background-color: #5e35b1 !important; }\n\n.deep-purple-text.text-darken-1 {\n  color: #5e35b1 !important; }\n\n.deep-purple.darken-2 {\n  background-color: #512da8 !important; }\n\n.deep-purple-text.text-darken-2 {\n  color: #512da8 !important; }\n\n.deep-purple.darken-3 {\n  background-color: #4527a0 !important; }\n\n.deep-purple-text.text-darken-3 {\n  color: #4527a0 !important; }\n\n.deep-purple.darken-4 {\n  background-color: #311b92 !important; }\n\n.deep-purple-text.text-darken-4 {\n  color: #311b92 !important; }\n\n.deep-purple.accent-1 {\n  background-color: #b388ff !important; }\n\n.deep-purple-text.text-accent-1 {\n  color: #b388ff !important; }\n\n.deep-purple.accent-2 {\n  background-color: #7c4dff !important; }\n\n.deep-purple-text.text-accent-2 {\n  color: #7c4dff !important; }\n\n.deep-purple.accent-3 {\n  background-color: #651fff !important; }\n\n.deep-purple-text.text-accent-3 {\n  color: #651fff !important; }\n\n.deep-purple.accent-4 {\n  background-color: #6200ea !important; }\n\n.deep-purple-text.text-accent-4 {\n  color: #6200ea !important; }\n\n.indigo {\n  background-color: #3f51b5 !important; }\n\n.indigo-text {\n  color: #3f51b5 !important; }\n\n.indigo.lighten-5 {\n  background-color: #e8eaf6 !important; }\n\n.indigo-text.text-lighten-5 {\n  color: #e8eaf6 !important; }\n\n.indigo.lighten-4 {\n  background-color: #c5cae9 !important; }\n\n.indigo-text.text-lighten-4 {\n  color: #c5cae9 !important; }\n\n.indigo.lighten-3 {\n  background-color: #9fa8da !important; }\n\n.indigo-text.text-lighten-3 {\n  color: #9fa8da !important; }\n\n.indigo.lighten-2 {\n  background-color: #7986cb !important; }\n\n.indigo-text.text-lighten-2 {\n  color: #7986cb !important; }\n\n.indigo.lighten-1 {\n  background-color: #5c6bc0 !important; }\n\n.indigo-text.text-lighten-1 {\n  color: #5c6bc0 !important; }\n\n.indigo.darken-1 {\n  background-color: #3949ab !important; }\n\n.indigo-text.text-darken-1 {\n  color: #3949ab !important; }\n\n.indigo.darken-2 {\n  background-color: #303f9f !important; }\n\n.indigo-text.text-darken-2 {\n  color: #303f9f !important; }\n\n.indigo.darken-3 {\n  background-color: #283593 !important; }\n\n.indigo-text.text-darken-3 {\n  color: #283593 !important; }\n\n.indigo.darken-4 {\n  background-color: #1a237e !important; }\n\n.indigo-text.text-darken-4 {\n  color: #1a237e !important; }\n\n.indigo.accent-1 {\n  background-color: #8c9eff !important; }\n\n.indigo-text.text-accent-1 {\n  color: #8c9eff !important; }\n\n.indigo.accent-2 {\n  background-color: #536dfe !important; }\n\n.indigo-text.text-accent-2 {\n  color: #536dfe !important; }\n\n.indigo.accent-3 {\n  background-color: #3d5afe !important; }\n\n.indigo-text.text-accent-3 {\n  color: #3d5afe !important; }\n\n.indigo.accent-4 {\n  background-color: #304ffe !important; }\n\n.indigo-text.text-accent-4 {\n  color: #304ffe !important; }\n\n.blue {\n  background-color: #2196F3 !important; }\n\n.blue-text {\n  color: #2196F3 !important; }\n\n.blue.lighten-5 {\n  background-color: #E3F2FD !important; }\n\n.blue-text.text-lighten-5 {\n  color: #E3F2FD !important; }\n\n.blue.lighten-4 {\n  background-color: #BBDEFB !important; }\n\n.blue-text.text-lighten-4 {\n  color: #BBDEFB !important; }\n\n.blue.lighten-3 {\n  background-color: #90CAF9 !important; }\n\n.blue-text.text-lighten-3 {\n  color: #90CAF9 !important; }\n\n.blue.lighten-2 {\n  background-color: #64B5F6 !important; }\n\n.blue-text.text-lighten-2 {\n  color: #64B5F6 !important; }\n\n.blue.lighten-1 {\n  background-color: #42A5F5 !important; }\n\n.blue-text.text-lighten-1 {\n  color: #42A5F5 !important; }\n\n.blue.darken-1 {\n  background-color: #1E88E5 !important; }\n\n.blue-text.text-darken-1 {\n  color: #1E88E5 !important; }\n\n.blue.darken-2 {\n  background-color: #1976D2 !important; }\n\n.blue-text.text-darken-2 {\n  color: #1976D2 !important; }\n\n.blue.darken-3 {\n  background-color: #1565C0 !important; }\n\n.blue-text.text-darken-3 {\n  color: #1565C0 !important; }\n\n.blue.darken-4 {\n  background-color: #0D47A1 !important; }\n\n.blue-text.text-darken-4 {\n  color: #0D47A1 !important; }\n\n.blue.accent-1 {\n  background-color: #82B1FF !important; }\n\n.blue-text.text-accent-1 {\n  color: #82B1FF !important; }\n\n.blue.accent-2 {\n  background-color: #448AFF !important; }\n\n.blue-text.text-accent-2 {\n  color: #448AFF !important; }\n\n.blue.accent-3 {\n  background-color: #2979FF !important; }\n\n.blue-text.text-accent-3 {\n  color: #2979FF !important; }\n\n.blue.accent-4 {\n  background-color: #2962FF !important; }\n\n.blue-text.text-accent-4 {\n  color: #2962FF !important; }\n\n.light-blue {\n  background-color: #03a9f4 !important; }\n\n.light-blue-text {\n  color: #03a9f4 !important; }\n\n.light-blue.lighten-5 {\n  background-color: #e1f5fe !important; }\n\n.light-blue-text.text-lighten-5 {\n  color: #e1f5fe !important; }\n\n.light-blue.lighten-4 {\n  background-color: #b3e5fc !important; }\n\n.light-blue-text.text-lighten-4 {\n  color: #b3e5fc !important; }\n\n.light-blue.lighten-3 {\n  background-color: #81d4fa !important; }\n\n.light-blue-text.text-lighten-3 {\n  color: #81d4fa !important; }\n\n.light-blue.lighten-2 {\n  background-color: #4fc3f7 !important; }\n\n.light-blue-text.text-lighten-2 {\n  color: #4fc3f7 !important; }\n\n.light-blue.lighten-1 {\n  background-color: #29b6f6 !important; }\n\n.light-blue-text.text-lighten-1 {\n  color: #29b6f6 !important; }\n\n.light-blue.darken-1 {\n  background-color: #039be5 !important; }\n\n.light-blue-text.text-darken-1 {\n  color: #039be5 !important; }\n\n.light-blue.darken-2 {\n  background-color: #0288d1 !important; }\n\n.light-blue-text.text-darken-2 {\n  color: #0288d1 !important; }\n\n.light-blue.darken-3 {\n  background-color: #0277bd !important; }\n\n.light-blue-text.text-darken-3 {\n  color: #0277bd !important; }\n\n.light-blue.darken-4 {\n  background-color: #01579b !important; }\n\n.light-blue-text.text-darken-4 {\n  color: #01579b !important; }\n\n.light-blue.accent-1 {\n  background-color: #80d8ff !important; }\n\n.light-blue-text.text-accent-1 {\n  color: #80d8ff !important; }\n\n.light-blue.accent-2 {\n  background-color: #40c4ff !important; }\n\n.light-blue-text.text-accent-2 {\n  color: #40c4ff !important; }\n\n.light-blue.accent-3 {\n  background-color: #00b0ff !important; }\n\n.light-blue-text.text-accent-3 {\n  color: #00b0ff !important; }\n\n.light-blue.accent-4 {\n  background-color: #0091ea !important; }\n\n.light-blue-text.text-accent-4 {\n  color: #0091ea !important; }\n\n.cyan {\n  background-color: #00bcd4 !important; }\n\n.cyan-text {\n  color: #00bcd4 !important; }\n\n.cyan.lighten-5 {\n  background-color: #e0f7fa !important; }\n\n.cyan-text.text-lighten-5 {\n  color: #e0f7fa !important; }\n\n.cyan.lighten-4 {\n  background-color: #b2ebf2 !important; }\n\n.cyan-text.text-lighten-4 {\n  color: #b2ebf2 !important; }\n\n.cyan.lighten-3 {\n  background-color: #80deea !important; }\n\n.cyan-text.text-lighten-3 {\n  color: #80deea !important; }\n\n.cyan.lighten-2 {\n  background-color: #4dd0e1 !important; }\n\n.cyan-text.text-lighten-2 {\n  color: #4dd0e1 !important; }\n\n.cyan.lighten-1 {\n  background-color: #26c6da !important; }\n\n.cyan-text.text-lighten-1 {\n  color: #26c6da !important; }\n\n.cyan.darken-1 {\n  background-color: #00acc1 !important; }\n\n.cyan-text.text-darken-1 {\n  color: #00acc1 !important; }\n\n.cyan.darken-2 {\n  background-color: #0097a7 !important; }\n\n.cyan-text.text-darken-2 {\n  color: #0097a7 !important; }\n\n.cyan.darken-3 {\n  background-color: #00838f !important; }\n\n.cyan-text.text-darken-3 {\n  color: #00838f !important; }\n\n.cyan.darken-4 {\n  background-color: #006064 !important; }\n\n.cyan-text.text-darken-4 {\n  color: #006064 !important; }\n\n.cyan.accent-1 {\n  background-color: #84ffff !important; }\n\n.cyan-text.text-accent-1 {\n  color: #84ffff !important; }\n\n.cyan.accent-2 {\n  background-color: #18ffff !important; }\n\n.cyan-text.text-accent-2 {\n  color: #18ffff !important; }\n\n.cyan.accent-3 {\n  background-color: #00e5ff !important; }\n\n.cyan-text.text-accent-3 {\n  color: #00e5ff !important; }\n\n.cyan.accent-4 {\n  background-color: #00b8d4 !important; }\n\n.cyan-text.text-accent-4 {\n  color: #00b8d4 !important; }\n\n.teal {\n  background-color: #009688 !important; }\n\n.teal-text {\n  color: #009688 !important; }\n\n.teal.lighten-5 {\n  background-color: #e0f2f1 !important; }\n\n.teal-text.text-lighten-5 {\n  color: #e0f2f1 !important; }\n\n.teal.lighten-4 {\n  background-color: #b2dfdb !important; }\n\n.teal-text.text-lighten-4 {\n  color: #b2dfdb !important; }\n\n.teal.lighten-3 {\n  background-color: #80cbc4 !important; }\n\n.teal-text.text-lighten-3 {\n  color: #80cbc4 !important; }\n\n.teal.lighten-2 {\n  background-color: #4db6ac !important; }\n\n.teal-text.text-lighten-2 {\n  color: #4db6ac !important; }\n\n.teal.lighten-1 {\n  background-color: #26a69a !important; }\n\n.teal-text.text-lighten-1 {\n  color: #26a69a !important; }\n\n.teal.darken-1 {\n  background-color: #00897b !important; }\n\n.teal-text.text-darken-1 {\n  color: #00897b !important; }\n\n.teal.darken-2 {\n  background-color: #00796b !important; }\n\n.teal-text.text-darken-2 {\n  color: #00796b !important; }\n\n.teal.darken-3 {\n  background-color: #00695c !important; }\n\n.teal-text.text-darken-3 {\n  color: #00695c !important; }\n\n.teal.darken-4 {\n  background-color: #004d40 !important; }\n\n.teal-text.text-darken-4 {\n  color: #004d40 !important; }\n\n.teal.accent-1 {\n  background-color: #a7ffeb !important; }\n\n.teal-text.text-accent-1 {\n  color: #a7ffeb !important; }\n\n.teal.accent-2 {\n  background-color: #64ffda !important; }\n\n.teal-text.text-accent-2 {\n  color: #64ffda !important; }\n\n.teal.accent-3 {\n  background-color: #1de9b6 !important; }\n\n.teal-text.text-accent-3 {\n  color: #1de9b6 !important; }\n\n.teal.accent-4 {\n  background-color: #00bfa5 !important; }\n\n.teal-text.text-accent-4 {\n  color: #00bfa5 !important; }\n\n.green {\n  background-color: #4CAF50 !important; }\n\n.green-text {\n  color: #4CAF50 !important; }\n\n.green.lighten-5 {\n  background-color: #E8F5E9 !important; }\n\n.green-text.text-lighten-5 {\n  color: #E8F5E9 !important; }\n\n.green.lighten-4 {\n  background-color: #C8E6C9 !important; }\n\n.green-text.text-lighten-4 {\n  color: #C8E6C9 !important; }\n\n.green.lighten-3 {\n  background-color: #A5D6A7 !important; }\n\n.green-text.text-lighten-3 {\n  color: #A5D6A7 !important; }\n\n.green.lighten-2 {\n  background-color: #81C784 !important; }\n\n.green-text.text-lighten-2 {\n  color: #81C784 !important; }\n\n.green.lighten-1 {\n  background-color: #66BB6A !important; }\n\n.green-text.text-lighten-1 {\n  color: #66BB6A !important; }\n\n.green.darken-1 {\n  background-color: #43A047 !important; }\n\n.green-text.text-darken-1 {\n  color: #43A047 !important; }\n\n.green.darken-2 {\n  background-color: #388E3C !important; }\n\n.green-text.text-darken-2 {\n  color: #388E3C !important; }\n\n.green.darken-3 {\n  background-color: #2E7D32 !important; }\n\n.green-text.text-darken-3 {\n  color: #2E7D32 !important; }\n\n.green.darken-4 {\n  background-color: #1B5E20 !important; }\n\n.green-text.text-darken-4 {\n  color: #1B5E20 !important; }\n\n.green.accent-1 {\n  background-color: #B9F6CA !important; }\n\n.green-text.text-accent-1 {\n  color: #B9F6CA !important; }\n\n.green.accent-2 {\n  background-color: #69F0AE !important; }\n\n.green-text.text-accent-2 {\n  color: #69F0AE !important; }\n\n.green.accent-3 {\n  background-color: #00E676 !important; }\n\n.green-text.text-accent-3 {\n  color: #00E676 !important; }\n\n.green.accent-4 {\n  background-color: #00C853 !important; }\n\n.green-text.text-accent-4 {\n  color: #00C853 !important; }\n\n.light-green {\n  background-color: #8bc34a !important; }\n\n.light-green-text {\n  color: #8bc34a !important; }\n\n.light-green.lighten-5 {\n  background-color: #f1f8e9 !important; }\n\n.light-green-text.text-lighten-5 {\n  color: #f1f8e9 !important; }\n\n.light-green.lighten-4 {\n  background-color: #dcedc8 !important; }\n\n.light-green-text.text-lighten-4 {\n  color: #dcedc8 !important; }\n\n.light-green.lighten-3 {\n  background-color: #c5e1a5 !important; }\n\n.light-green-text.text-lighten-3 {\n  color: #c5e1a5 !important; }\n\n.light-green.lighten-2 {\n  background-color: #aed581 !important; }\n\n.light-green-text.text-lighten-2 {\n  color: #aed581 !important; }\n\n.light-green.lighten-1 {\n  background-color: #9ccc65 !important; }\n\n.light-green-text.text-lighten-1 {\n  color: #9ccc65 !important; }\n\n.light-green.darken-1 {\n  background-color: #7cb342 !important; }\n\n.light-green-text.text-darken-1 {\n  color: #7cb342 !important; }\n\n.light-green.darken-2 {\n  background-color: #689f38 !important; }\n\n.light-green-text.text-darken-2 {\n  color: #689f38 !important; }\n\n.light-green.darken-3 {\n  background-color: #558b2f !important; }\n\n.light-green-text.text-darken-3 {\n  color: #558b2f !important; }\n\n.light-green.darken-4 {\n  background-color: #33691e !important; }\n\n.light-green-text.text-darken-4 {\n  color: #33691e !important; }\n\n.light-green.accent-1 {\n  background-color: #ccff90 !important; }\n\n.light-green-text.text-accent-1 {\n  color: #ccff90 !important; }\n\n.light-green.accent-2 {\n  background-color: #b2ff59 !important; }\n\n.light-green-text.text-accent-2 {\n  color: #b2ff59 !important; }\n\n.light-green.accent-3 {\n  background-color: #76ff03 !important; }\n\n.light-green-text.text-accent-3 {\n  color: #76ff03 !important; }\n\n.light-green.accent-4 {\n  background-color: #64dd17 !important; }\n\n.light-green-text.text-accent-4 {\n  color: #64dd17 !important; }\n\n.lime {\n  background-color: #cddc39 !important; }\n\n.lime-text {\n  color: #cddc39 !important; }\n\n.lime.lighten-5 {\n  background-color: #f9fbe7 !important; }\n\n.lime-text.text-lighten-5 {\n  color: #f9fbe7 !important; }\n\n.lime.lighten-4 {\n  background-color: #f0f4c3 !important; }\n\n.lime-text.text-lighten-4 {\n  color: #f0f4c3 !important; }\n\n.lime.lighten-3 {\n  background-color: #e6ee9c !important; }\n\n.lime-text.text-lighten-3 {\n  color: #e6ee9c !important; }\n\n.lime.lighten-2 {\n  background-color: #dce775 !important; }\n\n.lime-text.text-lighten-2 {\n  color: #dce775 !important; }\n\n.lime.lighten-1 {\n  background-color: #d4e157 !important; }\n\n.lime-text.text-lighten-1 {\n  color: #d4e157 !important; }\n\n.lime.darken-1 {\n  background-color: #c0ca33 !important; }\n\n.lime-text.text-darken-1 {\n  color: #c0ca33 !important; }\n\n.lime.darken-2 {\n  background-color: #afb42b !important; }\n\n.lime-text.text-darken-2 {\n  color: #afb42b !important; }\n\n.lime.darken-3 {\n  background-color: #9e9d24 !important; }\n\n.lime-text.text-darken-3 {\n  color: #9e9d24 !important; }\n\n.lime.darken-4 {\n  background-color: #827717 !important; }\n\n.lime-text.text-darken-4 {\n  color: #827717 !important; }\n\n.lime.accent-1 {\n  background-color: #f4ff81 !important; }\n\n.lime-text.text-accent-1 {\n  color: #f4ff81 !important; }\n\n.lime.accent-2 {\n  background-color: #eeff41 !important; }\n\n.lime-text.text-accent-2 {\n  color: #eeff41 !important; }\n\n.lime.accent-3 {\n  background-color: #c6ff00 !important; }\n\n.lime-text.text-accent-3 {\n  color: #c6ff00 !important; }\n\n.lime.accent-4 {\n  background-color: #aeea00 !important; }\n\n.lime-text.text-accent-4 {\n  color: #aeea00 !important; }\n\n.yellow {\n  background-color: #ffeb3b !important; }\n\n.yellow-text {\n  color: #ffeb3b !important; }\n\n.yellow.lighten-5 {\n  background-color: #fffde7 !important; }\n\n.yellow-text.text-lighten-5 {\n  color: #fffde7 !important; }\n\n.yellow.lighten-4 {\n  background-color: #fff9c4 !important; }\n\n.yellow-text.text-lighten-4 {\n  color: #fff9c4 !important; }\n\n.yellow.lighten-3 {\n  background-color: #fff59d !important; }\n\n.yellow-text.text-lighten-3 {\n  color: #fff59d !important; }\n\n.yellow.lighten-2 {\n  background-color: #fff176 !important; }\n\n.yellow-text.text-lighten-2 {\n  color: #fff176 !important; }\n\n.yellow.lighten-1 {\n  background-color: #ffee58 !important; }\n\n.yellow-text.text-lighten-1 {\n  color: #ffee58 !important; }\n\n.yellow.darken-1 {\n  background-color: #fdd835 !important; }\n\n.yellow-text.text-darken-1 {\n  color: #fdd835 !important; }\n\n.yellow.darken-2 {\n  background-color: #fbc02d !important; }\n\n.yellow-text.text-darken-2 {\n  color: #fbc02d !important; }\n\n.yellow.darken-3 {\n  background-color: #f9a825 !important; }\n\n.yellow-text.text-darken-3 {\n  color: #f9a825 !important; }\n\n.yellow.darken-4 {\n  background-color: #f57f17 !important; }\n\n.yellow-text.text-darken-4 {\n  color: #f57f17 !important; }\n\n.yellow.accent-1 {\n  background-color: #ffff8d !important; }\n\n.yellow-text.text-accent-1 {\n  color: #ffff8d !important; }\n\n.yellow.accent-2 {\n  background-color: #ffff00 !important; }\n\n.yellow-text.text-accent-2 {\n  color: #ffff00 !important; }\n\n.yellow.accent-3 {\n  background-color: #ffea00 !important; }\n\n.yellow-text.text-accent-3 {\n  color: #ffea00 !important; }\n\n.yellow.accent-4 {\n  background-color: #ffd600 !important; }\n\n.yellow-text.text-accent-4 {\n  color: #ffd600 !important; }\n\n.amber {\n  background-color: #ffc107 !important; }\n\n.amber-text {\n  color: #ffc107 !important; }\n\n.amber.lighten-5 {\n  background-color: #fff8e1 !important; }\n\n.amber-text.text-lighten-5 {\n  color: #fff8e1 !important; }\n\n.amber.lighten-4 {\n  background-color: #ffecb3 !important; }\n\n.amber-text.text-lighten-4 {\n  color: #ffecb3 !important; }\n\n.amber.lighten-3 {\n  background-color: #ffe082 !important; }\n\n.amber-text.text-lighten-3 {\n  color: #ffe082 !important; }\n\n.amber.lighten-2 {\n  background-color: #ffd54f !important; }\n\n.amber-text.text-lighten-2 {\n  color: #ffd54f !important; }\n\n.amber.lighten-1 {\n  background-color: #ffca28 !important; }\n\n.amber-text.text-lighten-1 {\n  color: #ffca28 !important; }\n\n.amber.darken-1 {\n  background-color: #ffb300 !important; }\n\n.amber-text.text-darken-1 {\n  color: #ffb300 !important; }\n\n.amber.darken-2 {\n  background-color: #ffa000 !important; }\n\n.amber-text.text-darken-2 {\n  color: #ffa000 !important; }\n\n.amber.darken-3 {\n  background-color: #ff8f00 !important; }\n\n.amber-text.text-darken-3 {\n  color: #ff8f00 !important; }\n\n.amber.darken-4 {\n  background-color: #ff6f00 !important; }\n\n.amber-text.text-darken-4 {\n  color: #ff6f00 !important; }\n\n.amber.accent-1 {\n  background-color: #ffe57f !important; }\n\n.amber-text.text-accent-1 {\n  color: #ffe57f !important; }\n\n.amber.accent-2 {\n  background-color: #ffd740 !important; }\n\n.amber-text.text-accent-2 {\n  color: #ffd740 !important; }\n\n.amber.accent-3 {\n  background-color: #ffc400 !important; }\n\n.amber-text.text-accent-3 {\n  color: #ffc400 !important; }\n\n.amber.accent-4 {\n  background-color: #ffab00 !important; }\n\n.amber-text.text-accent-4 {\n  color: #ffab00 !important; }\n\n.orange {\n  background-color: #ff9800 !important; }\n\n.orange-text {\n  color: #ff9800 !important; }\n\n.orange.lighten-5 {\n  background-color: #fff3e0 !important; }\n\n.orange-text.text-lighten-5 {\n  color: #fff3e0 !important; }\n\n.orange.lighten-4 {\n  background-color: #ffe0b2 !important; }\n\n.orange-text.text-lighten-4 {\n  color: #ffe0b2 !important; }\n\n.orange.lighten-3 {\n  background-color: #ffcc80 !important; }\n\n.orange-text.text-lighten-3 {\n  color: #ffcc80 !important; }\n\n.orange.lighten-2 {\n  background-color: #ffb74d !important; }\n\n.orange-text.text-lighten-2 {\n  color: #ffb74d !important; }\n\n.orange.lighten-1 {\n  background-color: #ffa726 !important; }\n\n.orange-text.text-lighten-1 {\n  color: #ffa726 !important; }\n\n.orange.darken-1 {\n  background-color: #fb8c00 !important; }\n\n.orange-text.text-darken-1 {\n  color: #fb8c00 !important; }\n\n.orange.darken-2 {\n  background-color: #f57c00 !important; }\n\n.orange-text.text-darken-2 {\n  color: #f57c00 !important; }\n\n.orange.darken-3 {\n  background-color: #ef6c00 !important; }\n\n.orange-text.text-darken-3 {\n  color: #ef6c00 !important; }\n\n.orange.darken-4 {\n  background-color: #e65100 !important; }\n\n.orange-text.text-darken-4 {\n  color: #e65100 !important; }\n\n.orange.accent-1 {\n  background-color: #ffd180 !important; }\n\n.orange-text.text-accent-1 {\n  color: #ffd180 !important; }\n\n.orange.accent-2 {\n  background-color: #ffab40 !important; }\n\n.orange-text.text-accent-2 {\n  color: #ffab40 !important; }\n\n.orange.accent-3 {\n  background-color: #ff9100 !important; }\n\n.orange-text.text-accent-3 {\n  color: #ff9100 !important; }\n\n.orange.accent-4 {\n  background-color: #ff6d00 !important; }\n\n.orange-text.text-accent-4 {\n  color: #ff6d00 !important; }\n\n.deep-orange {\n  background-color: #ff5722 !important; }\n\n.deep-orange-text {\n  color: #ff5722 !important; }\n\n.deep-orange.lighten-5 {\n  background-color: #fbe9e7 !important; }\n\n.deep-orange-text.text-lighten-5 {\n  color: #fbe9e7 !important; }\n\n.deep-orange.lighten-4 {\n  background-color: #ffccbc !important; }\n\n.deep-orange-text.text-lighten-4 {\n  color: #ffccbc !important; }\n\n.deep-orange.lighten-3 {\n  background-color: #ffab91 !important; }\n\n.deep-orange-text.text-lighten-3 {\n  color: #ffab91 !important; }\n\n.deep-orange.lighten-2 {\n  background-color: #ff8a65 !important; }\n\n.deep-orange-text.text-lighten-2 {\n  color: #ff8a65 !important; }\n\n.deep-orange.lighten-1 {\n  background-color: #ff7043 !important; }\n\n.deep-orange-text.text-lighten-1 {\n  color: #ff7043 !important; }\n\n.deep-orange.darken-1 {\n  background-color: #f4511e !important; }\n\n.deep-orange-text.text-darken-1 {\n  color: #f4511e !important; }\n\n.deep-orange.darken-2 {\n  background-color: #e64a19 !important; }\n\n.deep-orange-text.text-darken-2 {\n  color: #e64a19 !important; }\n\n.deep-orange.darken-3 {\n  background-color: #d84315 !important; }\n\n.deep-orange-text.text-darken-3 {\n  color: #d84315 !important; }\n\n.deep-orange.darken-4 {\n  background-color: #bf360c !important; }\n\n.deep-orange-text.text-darken-4 {\n  color: #bf360c !important; }\n\n.deep-orange.accent-1 {\n  background-color: #ff9e80 !important; }\n\n.deep-orange-text.text-accent-1 {\n  color: #ff9e80 !important; }\n\n.deep-orange.accent-2 {\n  background-color: #ff6e40 !important; }\n\n.deep-orange-text.text-accent-2 {\n  color: #ff6e40 !important; }\n\n.deep-orange.accent-3 {\n  background-color: #ff3d00 !important; }\n\n.deep-orange-text.text-accent-3 {\n  color: #ff3d00 !important; }\n\n.deep-orange.accent-4 {\n  background-color: #dd2c00 !important; }\n\n.deep-orange-text.text-accent-4 {\n  color: #dd2c00 !important; }\n\n.brown {\n  background-color: #795548 !important; }\n\n.brown-text {\n  color: #795548 !important; }\n\n.brown.lighten-5 {\n  background-color: #efebe9 !important; }\n\n.brown-text.text-lighten-5 {\n  color: #efebe9 !important; }\n\n.brown.lighten-4 {\n  background-color: #d7ccc8 !important; }\n\n.brown-text.text-lighten-4 {\n  color: #d7ccc8 !important; }\n\n.brown.lighten-3 {\n  background-color: #bcaaa4 !important; }\n\n.brown-text.text-lighten-3 {\n  color: #bcaaa4 !important; }\n\n.brown.lighten-2 {\n  background-color: #a1887f !important; }\n\n.brown-text.text-lighten-2 {\n  color: #a1887f !important; }\n\n.brown.lighten-1 {\n  background-color: #8d6e63 !important; }\n\n.brown-text.text-lighten-1 {\n  color: #8d6e63 !important; }\n\n.brown.darken-1 {\n  background-color: #6d4c41 !important; }\n\n.brown-text.text-darken-1 {\n  color: #6d4c41 !important; }\n\n.brown.darken-2 {\n  background-color: #5d4037 !important; }\n\n.brown-text.text-darken-2 {\n  color: #5d4037 !important; }\n\n.brown.darken-3 {\n  background-color: #4e342e !important; }\n\n.brown-text.text-darken-3 {\n  color: #4e342e !important; }\n\n.brown.darken-4 {\n  background-color: #3e2723 !important; }\n\n.brown-text.text-darken-4 {\n  color: #3e2723 !important; }\n\n.blue-grey {\n  background-color: #607d8b !important; }\n\n.blue-grey-text {\n  color: #607d8b !important; }\n\n.blue-grey.lighten-5 {\n  background-color: #eceff1 !important; }\n\n.blue-grey-text.text-lighten-5 {\n  color: #eceff1 !important; }\n\n.blue-grey.lighten-4 {\n  background-color: #cfd8dc !important; }\n\n.blue-grey-text.text-lighten-4 {\n  color: #cfd8dc !important; }\n\n.blue-grey.lighten-3 {\n  background-color: #b0bec5 !important; }\n\n.blue-grey-text.text-lighten-3 {\n  color: #b0bec5 !important; }\n\n.blue-grey.lighten-2 {\n  background-color: #90a4ae !important; }\n\n.blue-grey-text.text-lighten-2 {\n  color: #90a4ae !important; }\n\n.blue-grey.lighten-1 {\n  background-color: #78909c !important; }\n\n.blue-grey-text.text-lighten-1 {\n  color: #78909c !important; }\n\n.blue-grey.darken-1 {\n  background-color: #546e7a !important; }\n\n.blue-grey-text.text-darken-1 {\n  color: #546e7a !important; }\n\n.blue-grey.darken-2 {\n  background-color: #455a64 !important; }\n\n.blue-grey-text.text-darken-2 {\n  color: #455a64 !important; }\n\n.blue-grey.darken-3 {\n  background-color: #37474f !important; }\n\n.blue-grey-text.text-darken-3 {\n  color: #37474f !important; }\n\n.blue-grey.darken-4 {\n  background-color: #263238 !important; }\n\n.blue-grey-text.text-darken-4 {\n  color: #263238 !important; }\n\n.grey {\n  background-color: #9e9e9e !important; }\n\n.grey-text {\n  color: #9e9e9e !important; }\n\n.grey.lighten-5 {\n  background-color: #fafafa !important; }\n\n.grey-text.text-lighten-5 {\n  color: #fafafa !important; }\n\n.grey.lighten-4 {\n  background-color: #f5f5f5 !important; }\n\n.grey-text.text-lighten-4 {\n  color: #f5f5f5 !important; }\n\n.grey.lighten-3 {\n  background-color: #eeeeee !important; }\n\n.grey-text.text-lighten-3 {\n  color: #eeeeee !important; }\n\n.grey.lighten-2 {\n  background-color: #e0e0e0 !important; }\n\n.grey-text.text-lighten-2 {\n  color: #e0e0e0 !important; }\n\n.grey.lighten-1 {\n  background-color: #bdbdbd !important; }\n\n.grey-text.text-lighten-1 {\n  color: #bdbdbd !important; }\n\n.grey.darken-1 {\n  background-color: #757575 !important; }\n\n.grey-text.text-darken-1 {\n  color: #757575 !important; }\n\n.grey.darken-2 {\n  background-color: #616161 !important; }\n\n.grey-text.text-darken-2 {\n  color: #616161 !important; }\n\n.grey.darken-3 {\n  background-color: #424242 !important; }\n\n.grey-text.text-darken-3 {\n  color: #424242 !important; }\n\n.grey.darken-4 {\n  background-color: #212121 !important; }\n\n.grey-text.text-darken-4 {\n  color: #212121 !important; }\n\n.black {\n  background-color: #000000 !important; }\n\n.black-text {\n  color: #000000 !important; }\n\n.white {\n  background-color: #FFFFFF !important; }\n\n.white-text {\n  color: #FFFFFF !important; }\n\n.transparent {\n  background-color: transparent !important; }\n\n.transparent-text {\n  color: transparent !important; }\n\n/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */\n/**\n * 1. Set default font family to sans-serif.\n * 2. Prevent iOS and IE text size adjust after device orientation change,\n *    without disabling user zoom.\n */\nhtml {\n  font-family: sans-serif;\n  /* 1 */\n  -ms-text-size-adjust: 100%;\n  /* 2 */\n  -webkit-text-size-adjust: 100%;\n  /* 2 */ }\n\n/**\n * Remove default margin.\n */\nbody {\n  margin: 0; }\n\n/* HTML5 display definitions\n   ========================================================================== */\n/**\n * Correct `block` display not defined for any HTML5 element in IE 8/9.\n * Correct `block` display not defined for `details` or `summary` in IE 10/11\n * and Firefox.\n * Correct `block` display not defined for `main` in IE 11.\n */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nmenu,\nnav,\nsection,\nsummary {\n  display: block; }\n\n/**\n * 1. Correct `inline-block` display not defined in IE 8/9.\n * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.\n */\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block;\n  /* 1 */\n  vertical-align: baseline;\n  /* 2 */ }\n\n/**\n * Prevent modern browsers from displaying `audio` without controls.\n * Remove excess height in iOS 5 devices.\n */\naudio:not([controls]) {\n  display: none;\n  height: 0; }\n\n/**\n * Address `[hidden]` styling not present in IE 8/9/10.\n * Hide the `template` element in IE 8/9/10/11, Safari, and Firefox < 22.\n */\n[hidden],\ntemplate {\n  display: none; }\n\n/* Links\n   ========================================================================== */\n/**\n * Remove the gray background color from active links in IE 10.\n */\na {\n  background-color: transparent; }\n\n/**\n * Improve readability of focused elements when they are also in an\n * active/hover state.\n */\na:active,\na:hover {\n  outline: 0; }\n\n/* Text-level semantics\n   ========================================================================== */\n/**\n * Address styling not present in IE 8/9/10/11, Safari, and Chrome.\n */\nabbr[title] {\n  border-bottom: 1px dotted; }\n\n/**\n * Address style set to `bolder` in Firefox 4+, Safari, and Chrome.\n */\nb,\nstrong {\n  font-weight: bold; }\n\n/**\n * Address styling not present in Safari and Chrome.\n */\ndfn {\n  font-style: italic; }\n\n/**\n * Address variable `h1` font-size and margin within `section` and `article`\n * contexts in Firefox 4+, Safari, and Chrome.\n */\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0; }\n\n/**\n * Address styling not present in IE 8/9.\n */\nmark {\n  background: #ff0;\n  color: #000; }\n\n/**\n * Address inconsistent and variable font size in all browsers.\n */\nsmall {\n  font-size: 80%; }\n\n/**\n * Prevent `sub` and `sup` affecting `line-height` in all browsers.\n */\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline; }\n\nsup {\n  top: -0.5em; }\n\nsub {\n  bottom: -0.25em; }\n\n/* Embedded content\n   ========================================================================== */\n/**\n * Remove border when inside `a` element in IE 8/9/10.\n */\nimg {\n  border: 0; }\n\n/**\n * Correct overflow not hidden in IE 9/10/11.\n */\nsvg:not(:root) {\n  overflow: hidden; }\n\n/* Grouping content\n   ========================================================================== */\n/**\n * Address margin not present in IE 8/9 and Safari.\n */\nfigure {\n  margin: 1em 40px; }\n\n/**\n * Address differences between Firefox and other browsers.\n */\nhr {\n  box-sizing: content-box;\n  height: 0; }\n\n/**\n * Contain overflow in all browsers.\n */\npre {\n  overflow: auto; }\n\n/**\n * Address odd `em`-unit font size rendering in all browsers.\n */\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em; }\n\n/* Forms\n   ========================================================================== */\n/**\n * Known limitation: by default, Chrome and Safari on OS X allow very limited\n * styling of `select`, unless a `border` property is set.\n */\n/**\n * 1. Correct color not being inherited.\n *    Known issue: affects color of disabled elements.\n * 2. Correct font properties not being inherited.\n * 3. Address margins set differently in Firefox 4+, Safari, and Chrome.\n */\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit;\n  /* 1 */\n  font: inherit;\n  /* 2 */\n  margin: 0;\n  /* 3 */ }\n\n/**\n * Address `overflow` set to `hidden` in IE 8/9/10/11.\n */\nbutton {\n  overflow: visible; }\n\n/**\n * Address inconsistent `text-transform` inheritance for `button` and `select`.\n * All other form control elements do not inherit `text-transform` values.\n * Correct `button` style inheritance in Firefox, IE 8/9/10/11, and Opera.\n * Correct `select` style inheritance in Firefox.\n */\nbutton,\nselect {\n  text-transform: none; }\n\n/**\n * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`\n *    and `video` controls.\n * 2. Correct inability to style clickable `input` types in iOS.\n * 3. Improve usability and consistency of cursor style between image-type\n *    `input` and others.\n */\nbutton,\nhtml input[type=\"button\"],\ninput[type=\"reset\"],\ninput[type=\"submit\"] {\n  -webkit-appearance: button;\n  /* 2 */\n  cursor: pointer;\n  /* 3 */ }\n\n/**\n * Re-set default cursor for disabled elements.\n */\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default; }\n\n/**\n * Remove inner padding and border in Firefox 4+.\n */\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0; }\n\n/**\n * Address Firefox 4+ setting `line-height` on `input` using `!important` in\n * the UA stylesheet.\n */\ninput {\n  line-height: normal; }\n\n/**\n * It's recommended that you don't attempt to style these elements.\n * Firefox's implementation doesn't respect box-sizing, padding, or width.\n *\n * 1. Address box sizing set to `content-box` in IE 8/9/10.\n * 2. Remove excess padding in IE 8/9/10.\n */\ninput[type=\"checkbox\"],\ninput[type=\"radio\"] {\n  box-sizing: border-box;\n  /* 1 */\n  padding: 0;\n  /* 2 */ }\n\n/**\n * Fix the cursor style for Chrome's increment/decrement buttons. For certain\n * `font-size` values of the `input`, it causes the cursor style of the\n * decrement button to change from `default` to `text`.\n */\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  height: auto; }\n\n/**\n * 1. Address `appearance` set to `searchfield` in Safari and Chrome.\n * 2. Address `box-sizing` set to `border-box` in Safari and Chrome.\n */\ninput[type=\"search\"] {\n  -webkit-appearance: textfield;\n  /* 1 */\n  box-sizing: content-box;\n  /* 2 */ }\n\n/**\n * Remove inner padding and search cancel button in Safari and Chrome on OS X.\n * Safari (but not Chrome) clips the cancel button when the search input has\n * padding (and `textfield` appearance).\n */\ninput[type=\"search\"]::-webkit-search-cancel-button,\ninput[type=\"search\"]::-webkit-search-decoration {\n  -webkit-appearance: none; }\n\n/**\n * Define consistent border, margin, and padding.\n */\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em; }\n\n/**\n * 1. Correct `color` not being inherited in IE 8/9/10/11.\n * 2. Remove padding so people aren't caught out if they zero out fieldsets.\n */\nlegend {\n  border: 0;\n  /* 1 */\n  padding: 0;\n  /* 2 */ }\n\n/**\n * Remove default vertical scrollbar in IE 8/9/10/11.\n */\ntextarea {\n  overflow: auto; }\n\n/**\n * Don't inherit the `font-weight` (applied by a rule above).\n * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.\n */\noptgroup {\n  font-weight: bold; }\n\n/* Tables\n   ========================================================================== */\n/**\n * Remove most spacing between table cells.\n */\ntable {\n  border-collapse: collapse;\n  border-spacing: 0; }\n\ntd,\nth {\n  padding: 0; }\n\nhtml {\n  box-sizing: border-box; }\n\n*, *:before, *:after {\n  box-sizing: inherit; }\n\nul:not(.browser-default) {\n  padding-left: 0;\n  list-style-type: none; }\n  ul:not(.browser-default) > li {\n    list-style-type: none; }\n\na {\n  color: #039be5;\n  text-decoration: none;\n  -webkit-tap-highlight-color: transparent; }\n\n.valign-wrapper {\n  display: flex;\n  align-items: center; }\n\n.clearfix {\n  clear: both; }\n\n.z-depth-0 {\n  box-shadow: none !important; }\n\n.z-depth-1, nav, .card-panel, .card, .btn, .btn-large, .btn-floating {\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2); }\n\n.z-depth-1-half, .btn:hover, .btn-large:hover, .btn-floating:hover {\n  box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.14), 0 1px 7px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -1px rgba(0, 0, 0, 0.2); }\n\n.z-depth-2 {\n  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.3); }\n\n.z-depth-3 {\n  box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.3); }\n\n.z-depth-4 {\n  box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.3); }\n\n.z-depth-5 {\n  box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.3); }\n\n.hoverable {\n  transition: box-shadow .25s; }\n  .hoverable:hover {\n    box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); }\n\n.divider {\n  height: 1px;\n  overflow: hidden;\n  background-color: #e0e0e0; }\n\nblockquote {\n  margin: 20px 0;\n  padding-left: 1.5rem;\n  border-left: 5px solid #ee6e73; }\n\ni {\n  line-height: inherit; }\n  i.left {\n    float: left;\n    margin-right: 15px; }\n  i.right {\n    float: right;\n    margin-left: 15px; }\n  i.tiny {\n    font-size: 1rem; }\n  i.small {\n    font-size: 2rem; }\n  i.medium {\n    font-size: 4rem; }\n  i.large {\n    font-size: 6rem; }\n\nimg.responsive-img,\nvideo.responsive-video {\n  max-width: 100%;\n  height: auto; }\n\n.pagination li {\n  display: inline-block;\n  border-radius: 2px;\n  text-align: center;\n  vertical-align: top;\n  height: 30px; }\n  .pagination li a {\n    color: #444;\n    display: inline-block;\n    font-size: 1.2rem;\n    padding: 0 10px;\n    line-height: 30px; }\n  .pagination li.active a {\n    color: #fff; }\n  .pagination li.active {\n    background-color: #ee6e73; }\n  .pagination li.disabled a {\n    cursor: default;\n    color: #999; }\n  .pagination li i {\n    font-size: 2rem; }\n\n.pagination li.pages ul li {\n  display: inline-block;\n  float: none; }\n\n@media only screen and (max-width: 992px) {\n  .pagination {\n    width: 100%; }\n    .pagination li.prev,\n    .pagination li.next {\n      width: 10%; }\n    .pagination li.pages {\n      width: 80%;\n      overflow: hidden;\n      white-space: nowrap; } }\n\n.breadcrumb {\n  font-size: 18px;\n  color: rgba(255, 255, 255, 0.7); }\n  .breadcrumb i,\n  .breadcrumb [class^=\"mdi-\"], .breadcrumb [class*=\"mdi-\"],\n  .breadcrumb i.material-icons {\n    display: inline-block;\n    float: left;\n    font-size: 24px; }\n  .breadcrumb:before {\n    content: '\\E5CC';\n    color: rgba(255, 255, 255, 0.7);\n    vertical-align: top;\n    display: inline-block;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 25px;\n    margin: 0 10px 0 8px;\n    -webkit-font-smoothing: antialiased; }\n  .breadcrumb:first-child:before {\n    display: none; }\n  .breadcrumb:last-child {\n    color: #fff; }\n\n.parallax-container {\n  position: relative;\n  overflow: hidden;\n  height: 500px; }\n  .parallax-container .parallax {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: -1; }\n    .parallax-container .parallax img {\n      display: none;\n      position: absolute;\n      left: 50%;\n      bottom: 0;\n      min-width: 100%;\n      min-height: 100%;\n      transform: translate3d(0, 0, 0);\n      transform: translateX(-50%); }\n\n.pin-top, .pin-bottom {\n  position: relative; }\n\n.pinned {\n  position: fixed !important; }\n\n/*********************\n  Transition Classes\n**********************/\nul.staggered-list li {\n  opacity: 0; }\n\n.fade-in {\n  opacity: 0;\n  transform-origin: 0 50%; }\n\n/*********************\n  Media Query Classes\n**********************/\n@media only screen and (max-width: 600px) {\n  .hide-on-small-only, .hide-on-small-and-down {\n    display: none !important; } }\n\n@media only screen and (max-width: 992px) {\n  .hide-on-med-and-down {\n    display: none !important; } }\n\n@media only screen and (min-width: 601px) {\n  .hide-on-med-and-up {\n    display: none !important; } }\n\n@media only screen and (min-width: 600px) and (max-width: 992px) {\n  .hide-on-med-only {\n    display: none !important; } }\n\n@media only screen and (min-width: 993px) {\n  .hide-on-large-only {\n    display: none !important; } }\n\n@media only screen and (min-width: 993px) {\n  .show-on-large {\n    display: block !important; } }\n\n@media only screen and (min-width: 600px) and (max-width: 992px) {\n  .show-on-medium {\n    display: block !important; } }\n\n@media only screen and (max-width: 600px) {\n  .show-on-small {\n    display: block !important; } }\n\n@media only screen and (min-width: 601px) {\n  .show-on-medium-and-up {\n    display: block !important; } }\n\n@media only screen and (max-width: 992px) {\n  .show-on-medium-and-down {\n    display: block !important; } }\n\n@media only screen and (max-width: 600px) {\n  .center-on-small-only {\n    text-align: center; } }\n\n.page-footer {\n  padding-top: 20px;\n  color: #fff;\n  background-color: #ee6e73; }\n  .page-footer .footer-copyright {\n    overflow: hidden;\n    min-height: 50px;\n    display: flex;\n    align-items: center;\n    padding: 10px 0px;\n    color: rgba(255, 255, 255, 0.8);\n    background-color: rgba(51, 51, 51, 0.08); }\n\ntable, th, td {\n  border: none; }\n\ntable {\n  width: 100%;\n  display: table; }\n  table.bordered > thead > tr,\n  table.bordered > tbody > tr {\n    border-bottom: 1px solid #d0d0d0; }\n  table.striped > tbody > tr:nth-child(odd) {\n    background-color: #f2f2f2; }\n  table.striped > tbody > tr > td {\n    border-radius: 0; }\n  table.highlight > tbody > tr {\n    transition: background-color .25s ease; }\n    table.highlight > tbody > tr:hover {\n      background-color: #f2f2f2; }\n  table.centered thead tr th, table.centered tbody tr td {\n    text-align: center; }\n\nthead {\n  border-bottom: 1px solid #d0d0d0; }\n\ntd, th {\n  padding: 15px 5px;\n  display: table-cell;\n  text-align: left;\n  vertical-align: middle;\n  border-radius: 2px; }\n\n@media only screen and (max-width: 992px) {\n  table.responsive-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n    display: block;\n    position: relative;\n    /* sort out borders */ }\n    table.responsive-table td:empty:before {\n      content: '\\A0'; }\n    table.responsive-table th,\n    table.responsive-table td {\n      margin: 0;\n      vertical-align: top; }\n    table.responsive-table th {\n      text-align: left; }\n    table.responsive-table thead {\n      display: block;\n      float: left; }\n      table.responsive-table thead tr {\n        display: block;\n        padding: 0 10px 0 0; }\n        table.responsive-table thead tr th::before {\n          content: \"\\A0\"; }\n    table.responsive-table tbody {\n      display: block;\n      width: auto;\n      position: relative;\n      overflow-x: auto;\n      white-space: nowrap; }\n      table.responsive-table tbody tr {\n        display: inline-block;\n        vertical-align: top; }\n    table.responsive-table th {\n      display: block;\n      text-align: right; }\n    table.responsive-table td {\n      display: block;\n      min-height: 1.25em;\n      text-align: left; }\n    table.responsive-table tr {\n      padding: 0 10px; }\n    table.responsive-table thead {\n      border: 0;\n      border-right: 1px solid #d0d0d0; }\n    table.responsive-table.bordered th {\n      border-bottom: 0;\n      border-left: 0; }\n    table.responsive-table.bordered td {\n      border-left: 0;\n      border-right: 0;\n      border-bottom: 0; }\n    table.responsive-table.bordered tr {\n      border: 0; }\n    table.responsive-table.bordered tbody tr {\n      border-right: 1px solid #d0d0d0; } }\n\n.collection {\n  margin: 0.5rem 0 1rem 0;\n  border: 1px solid #e0e0e0;\n  border-radius: 2px;\n  overflow: hidden;\n  position: relative; }\n  .collection .collection-item {\n    background-color: #fff;\n    line-height: 1.5rem;\n    padding: 10px 20px;\n    margin: 0;\n    border-bottom: 1px solid #e0e0e0; }\n    .collection .collection-item.avatar {\n      min-height: 84px;\n      padding-left: 72px;\n      position: relative; }\n      .collection .collection-item.avatar:not(.circle-clipper) > .circle,\n      .collection .collection-item.avatar :not(.circle-clipper) > .circle {\n        position: absolute;\n        width: 42px;\n        height: 42px;\n        overflow: hidden;\n        left: 15px;\n        display: inline-block;\n        vertical-align: middle; }\n      .collection .collection-item.avatar i.circle {\n        font-size: 18px;\n        line-height: 42px;\n        color: #fff;\n        background-color: #999;\n        text-align: center; }\n      .collection .collection-item.avatar .title {\n        font-size: 16px; }\n      .collection .collection-item.avatar p {\n        margin: 0; }\n      .collection .collection-item.avatar .secondary-content {\n        position: absolute;\n        top: 16px;\n        right: 16px; }\n    .collection .collection-item:last-child {\n      border-bottom: none; }\n    .collection .collection-item.active {\n      background-color: #26a69a;\n      color: #eafaf9; }\n      .collection .collection-item.active .secondary-content {\n        color: #fff; }\n  .collection a.collection-item {\n    display: block;\n    transition: .25s;\n    color: #26a69a; }\n    .collection a.collection-item:not(.active):hover {\n      background-color: #ddd; }\n  .collection.with-header .collection-header {\n    background-color: #fff;\n    border-bottom: 1px solid #e0e0e0;\n    padding: 10px 20px; }\n  .collection.with-header .collection-item {\n    padding-left: 30px; }\n  .collection.with-header .collection-item.avatar {\n    padding-left: 72px; }\n\n.secondary-content {\n  float: right;\n  color: #26a69a; }\n\n.collapsible .collection {\n  margin: 0;\n  border: none; }\n\n.video-container {\n  position: relative;\n  padding-bottom: 56.25%;\n  height: 0;\n  overflow: hidden; }\n  .video-container iframe, .video-container object, .video-container embed {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%; }\n\n.progress {\n  position: relative;\n  height: 4px;\n  display: block;\n  width: 100%;\n  background-color: #acece6;\n  border-radius: 2px;\n  margin: 0.5rem 0 1rem 0;\n  overflow: hidden; }\n  .progress .determinate {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    background-color: #26a69a;\n    transition: width .3s linear; }\n  .progress .indeterminate {\n    background-color: #26a69a; }\n    .progress .indeterminate:before {\n      content: '';\n      position: absolute;\n      background-color: inherit;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      will-change: left, right;\n      animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite; }\n    .progress .indeterminate:after {\n      content: '';\n      position: absolute;\n      background-color: inherit;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      will-change: left, right;\n      animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n      animation-delay: 1.15s; }\n\n@keyframes indeterminate {\n  0% {\n    left: -35%;\n    right: 100%; }\n  60% {\n    left: 100%;\n    right: -90%; }\n  100% {\n    left: 100%;\n    right: -90%; } }\n\n@keyframes indeterminate-short {\n  0% {\n    left: -200%;\n    right: 100%; }\n  60% {\n    left: 107%;\n    right: -8%; }\n  100% {\n    left: 107%;\n    right: -8%; } }\n\n/*******************\n  Utility Classes\n*******************/\n.hide {\n  display: none !important; }\n\n.left-align {\n  text-align: left; }\n\n.right-align {\n  text-align: right; }\n\n.center, .center-align {\n  text-align: center; }\n\n.left {\n  float: left !important; }\n\n.right {\n  float: right !important; }\n\n.no-select, input[type=range],\ninput[type=range] + .thumb {\n  user-select: none; }\n\n.circle {\n  border-radius: 50%; }\n\n.center-block {\n  display: block;\n  margin-left: auto;\n  margin-right: auto; }\n\n.truncate {\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n\n.no-padding {\n  padding: 0 !important; }\n\n.container {\n  margin: 0 auto;\n  max-width: 1280px;\n  width: 90%; }\n\n@media only screen and (min-width: 601px) {\n  .container {\n    width: 85%; } }\n\n@media only screen and (min-width: 993px) {\n  .container {\n    width: 70%; } }\n\n.container .row {\n  margin-left: -0.75rem;\n  margin-right: -0.75rem; }\n\n.section {\n  padding-top: 1rem;\n  padding-bottom: 1rem; }\n  .section.no-pad {\n    padding: 0; }\n  .section.no-pad-bot {\n    padding-bottom: 0; }\n  .section.no-pad-top {\n    padding-top: 0; }\n\n.row {\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px; }\n  .row:after {\n    content: \"\";\n    display: table;\n    clear: both; }\n  .row .col {\n    float: left;\n    box-sizing: border-box;\n    padding: 0 0.75rem;\n    min-height: 1px; }\n    .row .col[class*=\"push-\"], .row .col[class*=\"pull-\"] {\n      position: relative; }\n    .row .col.s1 {\n      width: 8.33333%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s2 {\n      width: 16.66667%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s3 {\n      width: 25%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s4 {\n      width: 33.33333%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s5 {\n      width: 41.66667%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s6 {\n      width: 50%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s7 {\n      width: 58.33333%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s8 {\n      width: 66.66667%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s9 {\n      width: 75%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s10 {\n      width: 83.33333%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s11 {\n      width: 91.66667%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.s12 {\n      width: 100%;\n      margin-left: auto;\n      left: auto;\n      right: auto; }\n    .row .col.offset-s1 {\n      margin-left: 8.33333%; }\n    .row .col.pull-s1 {\n      right: 8.33333%; }\n    .row .col.push-s1 {\n      left: 8.33333%; }\n    .row .col.offset-s2 {\n      margin-left: 16.66667%; }\n    .row .col.pull-s2 {\n      right: 16.66667%; }\n    .row .col.push-s2 {\n      left: 16.66667%; }\n    .row .col.offset-s3 {\n      margin-left: 25%; }\n    .row .col.pull-s3 {\n      right: 25%; }\n    .row .col.push-s3 {\n      left: 25%; }\n    .row .col.offset-s4 {\n      margin-left: 33.33333%; }\n    .row .col.pull-s4 {\n      right: 33.33333%; }\n    .row .col.push-s4 {\n      left: 33.33333%; }\n    .row .col.offset-s5 {\n      margin-left: 41.66667%; }\n    .row .col.pull-s5 {\n      right: 41.66667%; }\n    .row .col.push-s5 {\n      left: 41.66667%; }\n    .row .col.offset-s6 {\n      margin-left: 50%; }\n    .row .col.pull-s6 {\n      right: 50%; }\n    .row .col.push-s6 {\n      left: 50%; }\n    .row .col.offset-s7 {\n      margin-left: 58.33333%; }\n    .row .col.pull-s7 {\n      right: 58.33333%; }\n    .row .col.push-s7 {\n      left: 58.33333%; }\n    .row .col.offset-s8 {\n      margin-left: 66.66667%; }\n    .row .col.pull-s8 {\n      right: 66.66667%; }\n    .row .col.push-s8 {\n      left: 66.66667%; }\n    .row .col.offset-s9 {\n      margin-left: 75%; }\n    .row .col.pull-s9 {\n      right: 75%; }\n    .row .col.push-s9 {\n      left: 75%; }\n    .row .col.offset-s10 {\n      margin-left: 83.33333%; }\n    .row .col.pull-s10 {\n      right: 83.33333%; }\n    .row .col.push-s10 {\n      left: 83.33333%; }\n    .row .col.offset-s11 {\n      margin-left: 91.66667%; }\n    .row .col.pull-s11 {\n      right: 91.66667%; }\n    .row .col.push-s11 {\n      left: 91.66667%; }\n    .row .col.offset-s12 {\n      margin-left: 100%; }\n    .row .col.pull-s12 {\n      right: 100%; }\n    .row .col.push-s12 {\n      left: 100%; }\n    @media only screen and (min-width: 601px) {\n      .row .col.m1 {\n        width: 8.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m2 {\n        width: 16.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m3 {\n        width: 25%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m4 {\n        width: 33.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m5 {\n        width: 41.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m6 {\n        width: 50%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m7 {\n        width: 58.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m8 {\n        width: 66.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m9 {\n        width: 75%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m10 {\n        width: 83.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m11 {\n        width: 91.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.m12 {\n        width: 100%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.offset-m1 {\n        margin-left: 8.33333%; }\n      .row .col.pull-m1 {\n        right: 8.33333%; }\n      .row .col.push-m1 {\n        left: 8.33333%; }\n      .row .col.offset-m2 {\n        margin-left: 16.66667%; }\n      .row .col.pull-m2 {\n        right: 16.66667%; }\n      .row .col.push-m2 {\n        left: 16.66667%; }\n      .row .col.offset-m3 {\n        margin-left: 25%; }\n      .row .col.pull-m3 {\n        right: 25%; }\n      .row .col.push-m3 {\n        left: 25%; }\n      .row .col.offset-m4 {\n        margin-left: 33.33333%; }\n      .row .col.pull-m4 {\n        right: 33.33333%; }\n      .row .col.push-m4 {\n        left: 33.33333%; }\n      .row .col.offset-m5 {\n        margin-left: 41.66667%; }\n      .row .col.pull-m5 {\n        right: 41.66667%; }\n      .row .col.push-m5 {\n        left: 41.66667%; }\n      .row .col.offset-m6 {\n        margin-left: 50%; }\n      .row .col.pull-m6 {\n        right: 50%; }\n      .row .col.push-m6 {\n        left: 50%; }\n      .row .col.offset-m7 {\n        margin-left: 58.33333%; }\n      .row .col.pull-m7 {\n        right: 58.33333%; }\n      .row .col.push-m7 {\n        left: 58.33333%; }\n      .row .col.offset-m8 {\n        margin-left: 66.66667%; }\n      .row .col.pull-m8 {\n        right: 66.66667%; }\n      .row .col.push-m8 {\n        left: 66.66667%; }\n      .row .col.offset-m9 {\n        margin-left: 75%; }\n      .row .col.pull-m9 {\n        right: 75%; }\n      .row .col.push-m9 {\n        left: 75%; }\n      .row .col.offset-m10 {\n        margin-left: 83.33333%; }\n      .row .col.pull-m10 {\n        right: 83.33333%; }\n      .row .col.push-m10 {\n        left: 83.33333%; }\n      .row .col.offset-m11 {\n        margin-left: 91.66667%; }\n      .row .col.pull-m11 {\n        right: 91.66667%; }\n      .row .col.push-m11 {\n        left: 91.66667%; }\n      .row .col.offset-m12 {\n        margin-left: 100%; }\n      .row .col.pull-m12 {\n        right: 100%; }\n      .row .col.push-m12 {\n        left: 100%; } }\n    @media only screen and (min-width: 993px) {\n      .row .col.l1 {\n        width: 8.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l2 {\n        width: 16.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l3 {\n        width: 25%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l4 {\n        width: 33.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l5 {\n        width: 41.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l6 {\n        width: 50%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l7 {\n        width: 58.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l8 {\n        width: 66.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l9 {\n        width: 75%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l10 {\n        width: 83.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l11 {\n        width: 91.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.l12 {\n        width: 100%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.offset-l1 {\n        margin-left: 8.33333%; }\n      .row .col.pull-l1 {\n        right: 8.33333%; }\n      .row .col.push-l1 {\n        left: 8.33333%; }\n      .row .col.offset-l2 {\n        margin-left: 16.66667%; }\n      .row .col.pull-l2 {\n        right: 16.66667%; }\n      .row .col.push-l2 {\n        left: 16.66667%; }\n      .row .col.offset-l3 {\n        margin-left: 25%; }\n      .row .col.pull-l3 {\n        right: 25%; }\n      .row .col.push-l3 {\n        left: 25%; }\n      .row .col.offset-l4 {\n        margin-left: 33.33333%; }\n      .row .col.pull-l4 {\n        right: 33.33333%; }\n      .row .col.push-l4 {\n        left: 33.33333%; }\n      .row .col.offset-l5 {\n        margin-left: 41.66667%; }\n      .row .col.pull-l5 {\n        right: 41.66667%; }\n      .row .col.push-l5 {\n        left: 41.66667%; }\n      .row .col.offset-l6 {\n        margin-left: 50%; }\n      .row .col.pull-l6 {\n        right: 50%; }\n      .row .col.push-l6 {\n        left: 50%; }\n      .row .col.offset-l7 {\n        margin-left: 58.33333%; }\n      .row .col.pull-l7 {\n        right: 58.33333%; }\n      .row .col.push-l7 {\n        left: 58.33333%; }\n      .row .col.offset-l8 {\n        margin-left: 66.66667%; }\n      .row .col.pull-l8 {\n        right: 66.66667%; }\n      .row .col.push-l8 {\n        left: 66.66667%; }\n      .row .col.offset-l9 {\n        margin-left: 75%; }\n      .row .col.pull-l9 {\n        right: 75%; }\n      .row .col.push-l9 {\n        left: 75%; }\n      .row .col.offset-l10 {\n        margin-left: 83.33333%; }\n      .row .col.pull-l10 {\n        right: 83.33333%; }\n      .row .col.push-l10 {\n        left: 83.33333%; }\n      .row .col.offset-l11 {\n        margin-left: 91.66667%; }\n      .row .col.pull-l11 {\n        right: 91.66667%; }\n      .row .col.push-l11 {\n        left: 91.66667%; }\n      .row .col.offset-l12 {\n        margin-left: 100%; }\n      .row .col.pull-l12 {\n        right: 100%; }\n      .row .col.push-l12 {\n        left: 100%; } }\n    @media only screen and (min-width: 1201px) {\n      .row .col.xl1 {\n        width: 8.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl2 {\n        width: 16.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl3 {\n        width: 25%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl4 {\n        width: 33.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl5 {\n        width: 41.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl6 {\n        width: 50%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl7 {\n        width: 58.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl8 {\n        width: 66.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl9 {\n        width: 75%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl10 {\n        width: 83.33333%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl11 {\n        width: 91.66667%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.xl12 {\n        width: 100%;\n        margin-left: auto;\n        left: auto;\n        right: auto; }\n      .row .col.offset-xl1 {\n        margin-left: 8.33333%; }\n      .row .col.pull-xl1 {\n        right: 8.33333%; }\n      .row .col.push-xl1 {\n        left: 8.33333%; }\n      .row .col.offset-xl2 {\n        margin-left: 16.66667%; }\n      .row .col.pull-xl2 {\n        right: 16.66667%; }\n      .row .col.push-xl2 {\n        left: 16.66667%; }\n      .row .col.offset-xl3 {\n        margin-left: 25%; }\n      .row .col.pull-xl3 {\n        right: 25%; }\n      .row .col.push-xl3 {\n        left: 25%; }\n      .row .col.offset-xl4 {\n        margin-left: 33.33333%; }\n      .row .col.pull-xl4 {\n        right: 33.33333%; }\n      .row .col.push-xl4 {\n        left: 33.33333%; }\n      .row .col.offset-xl5 {\n        margin-left: 41.66667%; }\n      .row .col.pull-xl5 {\n        right: 41.66667%; }\n      .row .col.push-xl5 {\n        left: 41.66667%; }\n      .row .col.offset-xl6 {\n        margin-left: 50%; }\n      .row .col.pull-xl6 {\n        right: 50%; }\n      .row .col.push-xl6 {\n        left: 50%; }\n      .row .col.offset-xl7 {\n        margin-left: 58.33333%; }\n      .row .col.pull-xl7 {\n        right: 58.33333%; }\n      .row .col.push-xl7 {\n        left: 58.33333%; }\n      .row .col.offset-xl8 {\n        margin-left: 66.66667%; }\n      .row .col.pull-xl8 {\n        right: 66.66667%; }\n      .row .col.push-xl8 {\n        left: 66.66667%; }\n      .row .col.offset-xl9 {\n        margin-left: 75%; }\n      .row .col.pull-xl9 {\n        right: 75%; }\n      .row .col.push-xl9 {\n        left: 75%; }\n      .row .col.offset-xl10 {\n        margin-left: 83.33333%; }\n      .row .col.pull-xl10 {\n        right: 83.33333%; }\n      .row .col.push-xl10 {\n        left: 83.33333%; }\n      .row .col.offset-xl11 {\n        margin-left: 91.66667%; }\n      .row .col.pull-xl11 {\n        right: 91.66667%; }\n      .row .col.push-xl11 {\n        left: 91.66667%; }\n      .row .col.offset-xl12 {\n        margin-left: 100%; }\n      .row .col.pull-xl12 {\n        right: 100%; }\n      .row .col.push-xl12 {\n        left: 100%; } }\n\nnav {\n  color: #fff;\n  background-color: #ee6e73;\n  width: 100%;\n  height: 56px;\n  line-height: 56px; }\n  nav.nav-extended {\n    height: auto; }\n    nav.nav-extended .nav-wrapper {\n      min-height: 56px;\n      height: auto; }\n    nav.nav-extended .nav-content {\n      position: relative;\n      line-height: normal; }\n  nav a {\n    color: #fff; }\n  nav i,\n  nav [class^=\"mdi-\"], nav [class*=\"mdi-\"],\n  nav i.material-icons {\n    display: block;\n    font-size: 24px;\n    height: 56px;\n    line-height: 56px; }\n  nav .nav-wrapper {\n    position: relative;\n    height: 100%; }\n  @media only screen and (min-width: 993px) {\n    nav a.button-collapse {\n      display: none; } }\n  nav .button-collapse {\n    float: left;\n    position: relative;\n    z-index: 1;\n    height: 56px;\n    margin: 0 18px; }\n    nav .button-collapse i {\n      height: 56px;\n      line-height: 56px; }\n  nav .brand-logo {\n    position: absolute;\n    color: #fff;\n    display: inline-block;\n    font-size: 2.1rem;\n    padding: 0; }\n    nav .brand-logo.center {\n      left: 50%;\n      transform: translateX(-50%); }\n    @media only screen and (max-width: 992px) {\n      nav .brand-logo {\n        left: 50%;\n        transform: translateX(-50%); }\n        nav .brand-logo.left, nav .brand-logo.right {\n          padding: 0;\n          transform: none; }\n        nav .brand-logo.left {\n          left: 0.5rem; }\n        nav .brand-logo.right {\n          right: 0.5rem;\n          left: auto; } }\n    nav .brand-logo.right {\n      right: 0.5rem;\n      padding: 0; }\n    nav .brand-logo i,\n    nav .brand-logo [class^=\"mdi-\"], nav .brand-logo [class*=\"mdi-\"],\n    nav .brand-logo i.material-icons {\n      float: left;\n      margin-right: 15px; }\n  nav .nav-title {\n    display: inline-block;\n    font-size: 32px;\n    padding: 28px 0; }\n  nav ul {\n    margin: 0; }\n    nav ul li {\n      transition: background-color .3s;\n      float: left;\n      padding: 0; }\n      nav ul li.active {\n        background-color: rgba(0, 0, 0, 0.1); }\n    nav ul a {\n      transition: background-color .3s;\n      font-size: 1rem;\n      color: #fff;\n      display: block;\n      padding: 0 15px;\n      cursor: pointer; }\n      nav ul a.btn, nav ul a.btn-large, nav ul a.btn-large, nav ul a.btn-flat, nav ul a.btn-floating {\n        margin-top: -2px;\n        margin-left: 15px;\n        margin-right: 15px; }\n        nav ul a.btn > .material-icons, nav ul a.btn-large > .material-icons, nav ul a.btn-large > .material-icons, nav ul a.btn-flat > .material-icons, nav ul a.btn-floating > .material-icons {\n          height: inherit;\n          line-height: inherit; }\n      nav ul a:hover {\n        background-color: rgba(0, 0, 0, 0.1); }\n    nav ul.left {\n      float: left; }\n  nav form {\n    height: 100%; }\n  nav .input-field {\n    margin: 0;\n    height: 100%; }\n    nav .input-field input {\n      height: 100%;\n      font-size: 1.2rem;\n      border: none;\n      padding-left: 2rem; }\n      nav .input-field input:focus, nav .input-field input[type=text]:valid, nav .input-field input[type=password]:valid, nav .input-field input[type=email]:valid, nav .input-field input[type=url]:valid, nav .input-field input[type=date]:valid {\n        border: none;\n        box-shadow: none; }\n    nav .input-field label {\n      top: 0;\n      left: 0; }\n      nav .input-field label i {\n        color: rgba(255, 255, 255, 0.7);\n        transition: color .3s; }\n      nav .input-field label.active i {\n        color: #fff; }\n\n.navbar-fixed {\n  position: relative;\n  height: 56px;\n  z-index: 997; }\n  .navbar-fixed nav {\n    position: fixed; }\n\n@media only screen and (min-width: 601px) {\n  nav.nav-extended .nav-wrapper {\n    min-height: 64px; }\n  nav, nav .nav-wrapper i, nav a.button-collapse, nav a.button-collapse i {\n    height: 64px;\n    line-height: 64px; }\n  .navbar-fixed {\n    height: 64px; } }\n\na {\n  text-decoration: none; }\n\nhtml {\n  line-height: 1.5;\n  font-family: \"Roboto\", sans-serif;\n  font-weight: normal;\n  color: rgba(0, 0, 0, 0.87); }\n  @media only screen and (min-width: 0) {\n    html {\n      font-size: 14px; } }\n  @media only screen and (min-width: 992px) {\n    html {\n      font-size: 14.5px; } }\n  @media only screen and (min-width: 1200px) {\n    html {\n      font-size: 15px; } }\n\nh1, h2, h3, h4, h5, h6 {\n  font-weight: 400;\n  line-height: 1.1; }\n\nh1 a, h2 a, h3 a, h4 a, h5 a, h6 a {\n  font-weight: inherit; }\n\nh1 {\n  font-size: 4.2rem;\n  line-height: 110%;\n  margin: 2.1rem 0 1.68rem 0; }\n\nh2 {\n  font-size: 3.56rem;\n  line-height: 110%;\n  margin: 1.78rem 0 1.424rem 0; }\n\nh3 {\n  font-size: 2.92rem;\n  line-height: 110%;\n  margin: 1.46rem 0 1.168rem 0; }\n\nh4 {\n  font-size: 2.28rem;\n  line-height: 110%;\n  margin: 1.14rem 0 0.912rem 0; }\n\nh5 {\n  font-size: 1.64rem;\n  line-height: 110%;\n  margin: 0.82rem 0 0.656rem 0; }\n\nh6 {\n  font-size: 1rem;\n  line-height: 110%;\n  margin: 0.5rem 0 0.4rem 0; }\n\nem {\n  font-style: italic; }\n\nstrong {\n  font-weight: 500; }\n\nsmall {\n  font-size: 75%; }\n\n.light, .page-footer .footer-copyright {\n  font-weight: 300; }\n\n.thin {\n  font-weight: 200; }\n\n.flow-text {\n  font-weight: 300; }\n  @media only screen and (min-width: 360px) {\n    .flow-text {\n      font-size: 1.2rem; } }\n  @media only screen and (min-width: 390px) {\n    .flow-text {\n      font-size: 1.224rem; } }\n  @media only screen and (min-width: 420px) {\n    .flow-text {\n      font-size: 1.248rem; } }\n  @media only screen and (min-width: 450px) {\n    .flow-text {\n      font-size: 1.272rem; } }\n  @media only screen and (min-width: 480px) {\n    .flow-text {\n      font-size: 1.296rem; } }\n  @media only screen and (min-width: 510px) {\n    .flow-text {\n      font-size: 1.32rem; } }\n  @media only screen and (min-width: 540px) {\n    .flow-text {\n      font-size: 1.344rem; } }\n  @media only screen and (min-width: 570px) {\n    .flow-text {\n      font-size: 1.368rem; } }\n  @media only screen and (min-width: 600px) {\n    .flow-text {\n      font-size: 1.392rem; } }\n  @media only screen and (min-width: 630px) {\n    .flow-text {\n      font-size: 1.416rem; } }\n  @media only screen and (min-width: 660px) {\n    .flow-text {\n      font-size: 1.44rem; } }\n  @media only screen and (min-width: 690px) {\n    .flow-text {\n      font-size: 1.464rem; } }\n  @media only screen and (min-width: 720px) {\n    .flow-text {\n      font-size: 1.488rem; } }\n  @media only screen and (min-width: 750px) {\n    .flow-text {\n      font-size: 1.512rem; } }\n  @media only screen and (min-width: 780px) {\n    .flow-text {\n      font-size: 1.536rem; } }\n  @media only screen and (min-width: 810px) {\n    .flow-text {\n      font-size: 1.56rem; } }\n  @media only screen and (min-width: 840px) {\n    .flow-text {\n      font-size: 1.584rem; } }\n  @media only screen and (min-width: 870px) {\n    .flow-text {\n      font-size: 1.608rem; } }\n  @media only screen and (min-width: 900px) {\n    .flow-text {\n      font-size: 1.632rem; } }\n  @media only screen and (min-width: 930px) {\n    .flow-text {\n      font-size: 1.656rem; } }\n  @media only screen and (min-width: 960px) {\n    .flow-text {\n      font-size: 1.68rem; } }\n  @media only screen and (max-width: 360px) {\n    .flow-text {\n      font-size: 1.2rem; } }\n\n.card-panel {\n  transition: box-shadow .25s;\n  padding: 24px;\n  margin: 0.5rem 0 1rem 0;\n  border-radius: 2px;\n  background-color: #fff; }\n\n.card {\n  position: relative;\n  margin: 0.5rem 0 1rem 0;\n  background-color: #fff;\n  transition: box-shadow .25s;\n  border-radius: 2px; }\n  .card .card-title {\n    font-size: 24px;\n    font-weight: 300; }\n    .card .card-title.activator {\n      cursor: pointer; }\n  .card.small, .card.medium, .card.large {\n    position: relative; }\n    .card.small .card-image, .card.medium .card-image, .card.large .card-image {\n      max-height: 60%;\n      overflow: hidden; }\n    .card.small .card-image + .card-content, .card.medium .card-image + .card-content, .card.large .card-image + .card-content {\n      max-height: 40%; }\n    .card.small .card-content, .card.medium .card-content, .card.large .card-content {\n      max-height: 100%;\n      overflow: hidden; }\n    .card.small .card-action, .card.medium .card-action, .card.large .card-action {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0; }\n  .card.small {\n    height: 300px; }\n  .card.medium {\n    height: 400px; }\n  .card.large {\n    height: 500px; }\n  .card.horizontal {\n    display: flex; }\n    .card.horizontal.small .card-image, .card.horizontal.medium .card-image, .card.horizontal.large .card-image {\n      height: 100%;\n      max-height: none;\n      overflow: visible; }\n      .card.horizontal.small .card-image img, .card.horizontal.medium .card-image img, .card.horizontal.large .card-image img {\n        height: 100%; }\n    .card.horizontal .card-image {\n      max-width: 50%; }\n      .card.horizontal .card-image img {\n        border-radius: 2px 0 0 2px;\n        max-width: 100%;\n        width: auto; }\n    .card.horizontal .card-stacked {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      position: relative; }\n      .card.horizontal .card-stacked .card-content {\n        flex-grow: 1; }\n  .card.sticky-action .card-action {\n    z-index: 2; }\n  .card.sticky-action .card-reveal {\n    z-index: 1;\n    padding-bottom: 64px; }\n  .card .card-image {\n    position: relative; }\n    .card .card-image img {\n      display: block;\n      border-radius: 2px 2px 0 0;\n      position: relative;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 100%; }\n    .card .card-image .card-title {\n      color: #fff;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      max-width: 100%;\n      padding: 24px; }\n  .card .card-content {\n    padding: 24px;\n    border-radius: 0 0 2px 2px; }\n    .card .card-content p {\n      margin: 0;\n      color: inherit; }\n    .card .card-content .card-title {\n      display: block;\n      line-height: 32px;\n      margin-bottom: 8px; }\n      .card .card-content .card-title i {\n        line-height: 32px; }\n  .card .card-action {\n    position: relative;\n    background-color: inherit;\n    border-top: 1px solid rgba(160, 160, 160, 0.2);\n    padding: 16px 24px; }\n    .card .card-action:last-child {\n      border-radius: 0 0 2px 2px; }\n    .card .card-action a:not(.btn):not(.btn-large):not(.btn-large):not(.btn-floating) {\n      color: #ffab40;\n      margin-right: 24px;\n      transition: color .3s ease;\n      text-transform: uppercase; }\n      .card .card-action a:not(.btn):not(.btn-large):not(.btn-large):not(.btn-floating):hover {\n        color: #ffd8a6; }\n  .card .card-reveal {\n    padding: 24px;\n    position: absolute;\n    background-color: #fff;\n    width: 100%;\n    overflow-y: auto;\n    left: 0;\n    top: 100%;\n    height: 100%;\n    z-index: 3;\n    display: none; }\n    .card .card-reveal .card-title {\n      cursor: pointer;\n      display: block; }\n\n.btn, .btn-large,\n.btn-flat {\n  border: none;\n  border-radius: 2px;\n  display: inline-block;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 2rem;\n  text-transform: uppercase;\n  vertical-align: middle;\n  -webkit-tap-highlight-color: transparent; }\n\n.btn.disabled, .disabled.btn-large,\n.btn-floating.disabled,\n.btn-large.disabled,\n.btn-flat.disabled,\n.btn:disabled,\n.btn-large:disabled,\n.btn-floating:disabled,\n.btn-large:disabled,\n.btn-flat:disabled,\n.btn[disabled],\n[disabled].btn-large,\n.btn-floating[disabled],\n.btn-large[disabled],\n.btn-flat[disabled] {\n  pointer-events: none;\n  background-color: #DFDFDF !important;\n  box-shadow: none;\n  color: #9F9F9F !important;\n  cursor: default; }\n  .btn.disabled:hover, .disabled.btn-large:hover,\n  .btn-floating.disabled:hover,\n  .btn-large.disabled:hover,\n  .btn-flat.disabled:hover,\n  .btn:disabled:hover,\n  .btn-large:disabled:hover,\n  .btn-floating:disabled:hover,\n  .btn-large:disabled:hover,\n  .btn-flat:disabled:hover,\n  .btn[disabled]:hover,\n  [disabled].btn-large:hover,\n  .btn-floating[disabled]:hover,\n  .btn-large[disabled]:hover,\n  .btn-flat[disabled]:hover {\n    background-color: #DFDFDF !important;\n    color: #9F9F9F !important; }\n\n.btn, .btn-large,\n.btn-floating,\n.btn-large,\n.btn-flat {\n  font-size: 1rem;\n  outline: 0; }\n  .btn i, .btn-large i,\n  .btn-floating i,\n  .btn-large i,\n  .btn-flat i {\n    font-size: 1.3rem;\n    line-height: inherit; }\n\n.btn:focus, .btn-large:focus,\n.btn-floating:focus {\n  background-color: #1d7d74; }\n\n.btn, .btn-large {\n  text-decoration: none;\n  color: #fff;\n  background-color: #26a69a;\n  text-align: center;\n  letter-spacing: .5px;\n  transition: .2s ease-out;\n  cursor: pointer; }\n  .btn:hover, .btn-large:hover {\n    background-color: #2bbbad; }\n\n.btn-floating {\n  display: inline-block;\n  color: #fff;\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  padding: 0;\n  background-color: #26a69a;\n  border-radius: 50%;\n  transition: .3s;\n  cursor: pointer;\n  vertical-align: middle; }\n  .btn-floating:hover {\n    background-color: #26a69a; }\n  .btn-floating:before {\n    border-radius: 0; }\n  .btn-floating.btn-large {\n    width: 56px;\n    height: 56px; }\n    .btn-floating.btn-large.halfway-fab {\n      bottom: -28px; }\n    .btn-floating.btn-large i {\n      line-height: 56px; }\n  .btn-floating.halfway-fab {\n    position: absolute;\n    right: 24px;\n    bottom: -20px; }\n    .btn-floating.halfway-fab.left {\n      right: auto;\n      left: 24px; }\n  .btn-floating i {\n    width: inherit;\n    display: inline-block;\n    text-align: center;\n    color: #fff;\n    font-size: 1.6rem;\n    line-height: 40px; }\n\nbutton.btn-floating {\n  border: none; }\n\n.fixed-action-btn {\n  position: fixed;\n  right: 23px;\n  bottom: 23px;\n  padding-top: 15px;\n  margin-bottom: 0;\n  z-index: 997; }\n  .fixed-action-btn.active ul {\n    visibility: visible; }\n  .fixed-action-btn.horizontal {\n    padding: 0 0 0 15px; }\n    .fixed-action-btn.horizontal ul {\n      text-align: right;\n      right: 64px;\n      top: 50%;\n      transform: translateY(-50%);\n      height: 100%;\n      left: auto;\n      width: 500px;\n      /*width 100% only goes to width of button container */ }\n      .fixed-action-btn.horizontal ul li {\n        display: inline-block;\n        margin: 15px 15px 0 0; }\n  .fixed-action-btn.toolbar {\n    padding: 0;\n    height: 56px; }\n    .fixed-action-btn.toolbar.active > a i {\n      opacity: 0; }\n    .fixed-action-btn.toolbar ul {\n      display: flex;\n      top: 0;\n      bottom: 0;\n      z-index: 1; }\n      .fixed-action-btn.toolbar ul li {\n        flex: 1;\n        display: inline-block;\n        margin: 0;\n        height: 100%;\n        transition: none; }\n        .fixed-action-btn.toolbar ul li a {\n          display: block;\n          overflow: hidden;\n          position: relative;\n          width: 100%;\n          height: 100%;\n          background-color: transparent;\n          box-shadow: none;\n          color: #fff;\n          line-height: 56px;\n          z-index: 1; }\n          .fixed-action-btn.toolbar ul li a i {\n            line-height: inherit; }\n  .fixed-action-btn ul {\n    left: 0;\n    right: 0;\n    text-align: center;\n    position: absolute;\n    bottom: 64px;\n    margin: 0;\n    visibility: hidden; }\n    .fixed-action-btn ul li {\n      margin-bottom: 15px; }\n    .fixed-action-btn ul a.btn-floating {\n      opacity: 0; }\n  .fixed-action-btn .fab-backdrop {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: -1;\n    width: 40px;\n    height: 40px;\n    background-color: #26a69a;\n    border-radius: 50%;\n    transform: scale(0); }\n\n.btn-flat {\n  box-shadow: none;\n  background-color: transparent;\n  color: #343434;\n  cursor: pointer;\n  transition: background-color .2s; }\n  .btn-flat:focus, .btn-flat:hover {\n    box-shadow: none; }\n  .btn-flat:focus {\n    background-color: rgba(0, 0, 0, 0.1); }\n  .btn-flat.disabled {\n    background-color: transparent !important;\n    color: #b3b3b3 !important;\n    cursor: default; }\n\n.btn-large {\n  height: 54px;\n  line-height: 54px; }\n  .btn-large i {\n    font-size: 1.6rem; }\n\n.btn-block {\n  display: block; }\n\n/*!\n * Waves v0.6.0\n * http://fian.my.id/Waves\n *\n * Copyright 2014 Alfiana E. Sibuea and other contributors\n * Released under the MIT license\n * https://github.com/fians/Waves/blob/master/LICENSE\n */\n.waves-effect {\n  position: relative;\n  cursor: pointer;\n  display: inline-block;\n  overflow: hidden;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  vertical-align: middle;\n  z-index: 1;\n  transition: .3s ease-out; }\n  .waves-effect .waves-ripple {\n    position: absolute;\n    border-radius: 50%;\n    width: 20px;\n    height: 20px;\n    margin-top: -10px;\n    margin-left: -10px;\n    opacity: 0;\n    background: rgba(0, 0, 0, 0.2);\n    transition: all 0.7s ease-out;\n    transition-property: transform, opacity;\n    transform: scale(0);\n    pointer-events: none; }\n  .waves-effect.waves-light .waves-ripple {\n    background-color: rgba(255, 255, 255, 0.45); }\n  .waves-effect.waves-red .waves-ripple {\n    background-color: rgba(244, 67, 54, 0.7); }\n  .waves-effect.waves-yellow .waves-ripple {\n    background-color: rgba(255, 235, 59, 0.7); }\n  .waves-effect.waves-orange .waves-ripple {\n    background-color: rgba(255, 152, 0, 0.7); }\n  .waves-effect.waves-purple .waves-ripple {\n    background-color: rgba(156, 39, 176, 0.7); }\n  .waves-effect.waves-green .waves-ripple {\n    background-color: rgba(76, 175, 80, 0.7); }\n  .waves-effect.waves-teal .waves-ripple {\n    background-color: rgba(0, 150, 136, 0.7); }\n  .waves-effect input[type=\"button\"], .waves-effect input[type=\"reset\"], .waves-effect input[type=\"submit\"] {\n    border: 0;\n    font-style: normal;\n    font-size: inherit;\n    text-transform: inherit;\n    background: none; }\n  .waves-effect img {\n    position: relative;\n    z-index: -1; }\n\n.waves-notransition {\n  transition: none !important; }\n\n.waves-circle {\n  transform: translateZ(0);\n  -webkit-mask-image: -webkit-radial-gradient(circle, white 100%, black 100%); }\n\n.waves-input-wrapper {\n  border-radius: 0.2em;\n  vertical-align: bottom; }\n  .waves-input-wrapper .waves-button-input {\n    position: relative;\n    top: 0;\n    left: 0;\n    z-index: 1; }\n\n.waves-circle {\n  text-align: center;\n  width: 2.5em;\n  height: 2.5em;\n  line-height: 2.5em;\n  border-radius: 50%;\n  -webkit-mask-image: none; }\n\n.waves-block {\n  display: block; }\n\n/* Firefox Bug: link not triggered */\n.waves-effect .waves-ripple {\n  z-index: -1; }\n\nselect:focus {\n  outline: 1px solid #c9f3ef; }\n\nbutton:focus {\n  outline: none;\n  background-color: #2ab7a9; }\n\nlabel {\n  font-size: 0.8rem;\n  color: #9e9e9e; }\n\n/* Text Inputs + Textarea\n   ========================================================================== */\n/* Style Placeholders */\n::placeholder {\n  color: #d1d1d1; }\n\n/* Text inputs */\ninput:not([type]),\ninput[type=text]:not(.browser-default),\ninput[type=password]:not(.browser-default),\ninput[type=email]:not(.browser-default),\ninput[type=url]:not(.browser-default),\ninput[type=time]:not(.browser-default),\ninput[type=date]:not(.browser-default),\ninput[type=datetime]:not(.browser-default),\ninput[type=datetime-local]:not(.browser-default),\ninput[type=tel]:not(.browser-default),\ninput[type=number]:not(.browser-default),\ninput[type=search]:not(.browser-default),\ntextarea.materialize-textarea {\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid #9e9e9e;\n  border-radius: 0;\n  outline: none;\n  height: 3rem;\n  width: 100%;\n  font-size: 1rem;\n  margin: 0 0 20px 0;\n  padding: 0;\n  box-shadow: none;\n  box-sizing: content-box;\n  transition: all 0.3s; }\n  input:not([type]):disabled, input:not([type])[readonly=\"readonly\"],\n  input[type=text]:not(.browser-default):disabled,\n  input[type=text]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=password]:not(.browser-default):disabled,\n  input[type=password]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=email]:not(.browser-default):disabled,\n  input[type=email]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=url]:not(.browser-default):disabled,\n  input[type=url]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=time]:not(.browser-default):disabled,\n  input[type=time]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=date]:not(.browser-default):disabled,\n  input[type=date]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=datetime]:not(.browser-default):disabled,\n  input[type=datetime]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=datetime-local]:not(.browser-default):disabled,\n  input[type=datetime-local]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=tel]:not(.browser-default):disabled,\n  input[type=tel]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=number]:not(.browser-default):disabled,\n  input[type=number]:not(.browser-default)[readonly=\"readonly\"],\n  input[type=search]:not(.browser-default):disabled,\n  input[type=search]:not(.browser-default)[readonly=\"readonly\"],\n  textarea.materialize-textarea:disabled,\n  textarea.materialize-textarea[readonly=\"readonly\"] {\n    color: rgba(0, 0, 0, 0.42);\n    border-bottom: 1px dotted rgba(0, 0, 0, 0.42); }\n  input:not([type]):disabled + label,\n  input:not([type])[readonly=\"readonly\"] + label,\n  input[type=text]:not(.browser-default):disabled + label,\n  input[type=text]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=password]:not(.browser-default):disabled + label,\n  input[type=password]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=email]:not(.browser-default):disabled + label,\n  input[type=email]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=url]:not(.browser-default):disabled + label,\n  input[type=url]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=time]:not(.browser-default):disabled + label,\n  input[type=time]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=date]:not(.browser-default):disabled + label,\n  input[type=date]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=datetime]:not(.browser-default):disabled + label,\n  input[type=datetime]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=datetime-local]:not(.browser-default):disabled + label,\n  input[type=datetime-local]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=tel]:not(.browser-default):disabled + label,\n  input[type=tel]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=number]:not(.browser-default):disabled + label,\n  input[type=number]:not(.browser-default)[readonly=\"readonly\"] + label,\n  input[type=search]:not(.browser-default):disabled + label,\n  input[type=search]:not(.browser-default)[readonly=\"readonly\"] + label,\n  textarea.materialize-textarea:disabled + label,\n  textarea.materialize-textarea[readonly=\"readonly\"] + label {\n    color: rgba(0, 0, 0, 0.42); }\n  input:not([type]):focus:not([readonly]),\n  input[type=text]:not(.browser-default):focus:not([readonly]),\n  input[type=password]:not(.browser-default):focus:not([readonly]),\n  input[type=email]:not(.browser-default):focus:not([readonly]),\n  input[type=url]:not(.browser-default):focus:not([readonly]),\n  input[type=time]:not(.browser-default):focus:not([readonly]),\n  input[type=date]:not(.browser-default):focus:not([readonly]),\n  input[type=datetime]:not(.browser-default):focus:not([readonly]),\n  input[type=datetime-local]:not(.browser-default):focus:not([readonly]),\n  input[type=tel]:not(.browser-default):focus:not([readonly]),\n  input[type=number]:not(.browser-default):focus:not([readonly]),\n  input[type=search]:not(.browser-default):focus:not([readonly]),\n  textarea.materialize-textarea:focus:not([readonly]) {\n    border-bottom: 1px solid #26a69a;\n    box-shadow: 0 1px 0 0 #26a69a; }\n  input:not([type]):focus:not([readonly]) + label,\n  input[type=text]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=password]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=email]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=url]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=time]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=date]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=datetime]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=datetime-local]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=tel]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=number]:not(.browser-default):focus:not([readonly]) + label,\n  input[type=search]:not(.browser-default):focus:not([readonly]) + label,\n  textarea.materialize-textarea:focus:not([readonly]) + label {\n    color: #26a69a; }\n  input:not([type]).validate + label,\n  input[type=text]:not(.browser-default).validate + label,\n  input[type=password]:not(.browser-default).validate + label,\n  input[type=email]:not(.browser-default).validate + label,\n  input[type=url]:not(.browser-default).validate + label,\n  input[type=time]:not(.browser-default).validate + label,\n  input[type=date]:not(.browser-default).validate + label,\n  input[type=datetime]:not(.browser-default).validate + label,\n  input[type=datetime-local]:not(.browser-default).validate + label,\n  input[type=tel]:not(.browser-default).validate + label,\n  input[type=number]:not(.browser-default).validate + label,\n  input[type=search]:not(.browser-default).validate + label,\n  textarea.materialize-textarea.validate + label {\n    width: 100%; }\n  input:not([type]).invalid + label:after,\n  input:not([type]).valid + label:after,\n  input[type=text]:not(.browser-default).invalid + label:after,\n  input[type=text]:not(.browser-default).valid + label:after,\n  input[type=password]:not(.browser-default).invalid + label:after,\n  input[type=password]:not(.browser-default).valid + label:after,\n  input[type=email]:not(.browser-default).invalid + label:after,\n  input[type=email]:not(.browser-default).valid + label:after,\n  input[type=url]:not(.browser-default).invalid + label:after,\n  input[type=url]:not(.browser-default).valid + label:after,\n  input[type=time]:not(.browser-default).invalid + label:after,\n  input[type=time]:not(.browser-default).valid + label:after,\n  input[type=date]:not(.browser-default).invalid + label:after,\n  input[type=date]:not(.browser-default).valid + label:after,\n  input[type=datetime]:not(.browser-default).invalid + label:after,\n  input[type=datetime]:not(.browser-default).valid + label:after,\n  input[type=datetime-local]:not(.browser-default).invalid + label:after,\n  input[type=datetime-local]:not(.browser-default).valid + label:after,\n  input[type=tel]:not(.browser-default).invalid + label:after,\n  input[type=tel]:not(.browser-default).valid + label:after,\n  input[type=number]:not(.browser-default).invalid + label:after,\n  input[type=number]:not(.browser-default).valid + label:after,\n  input[type=search]:not(.browser-default).invalid + label:after,\n  input[type=search]:not(.browser-default).valid + label:after,\n  textarea.materialize-textarea.invalid + label:after,\n  textarea.materialize-textarea.valid + label:after {\n    display: none; }\n  input:not([type]).invalid + label.active:after,\n  input:not([type]).valid + label.active:after,\n  input[type=text]:not(.browser-default).invalid + label.active:after,\n  input[type=text]:not(.browser-default).valid + label.active:after,\n  input[type=password]:not(.browser-default).invalid + label.active:after,\n  input[type=password]:not(.browser-default).valid + label.active:after,\n  input[type=email]:not(.browser-default).invalid + label.active:after,\n  input[type=email]:not(.browser-default).valid + label.active:after,\n  input[type=url]:not(.browser-default).invalid + label.active:after,\n  input[type=url]:not(.browser-default).valid + label.active:after,\n  input[type=time]:not(.browser-default).invalid + label.active:after,\n  input[type=time]:not(.browser-default).valid + label.active:after,\n  input[type=date]:not(.browser-default).invalid + label.active:after,\n  input[type=date]:not(.browser-default).valid + label.active:after,\n  input[type=datetime]:not(.browser-default).invalid + label.active:after,\n  input[type=datetime]:not(.browser-default).valid + label.active:after,\n  input[type=datetime-local]:not(.browser-default).invalid + label.active:after,\n  input[type=datetime-local]:not(.browser-default).valid + label.active:after,\n  input[type=tel]:not(.browser-default).invalid + label.active:after,\n  input[type=tel]:not(.browser-default).valid + label.active:after,\n  input[type=number]:not(.browser-default).invalid + label.active:after,\n  input[type=number]:not(.browser-default).valid + label.active:after,\n  input[type=search]:not(.browser-default).invalid + label.active:after,\n  input[type=search]:not(.browser-default).valid + label.active:after,\n  textarea.materialize-textarea.invalid + label.active:after,\n  textarea.materialize-textarea.valid + label.active:after {\n    display: block; }\n\n/* Validation Sass Placeholders */\ninput.valid:not([type]), input.valid:not([type]):focus,\ninput[type=text].valid:not(.browser-default),\ninput[type=text].valid:not(.browser-default):focus,\ninput[type=password].valid:not(.browser-default),\ninput[type=password].valid:not(.browser-default):focus,\ninput[type=email].valid:not(.browser-default),\ninput[type=email].valid:not(.browser-default):focus,\ninput[type=url].valid:not(.browser-default),\ninput[type=url].valid:not(.browser-default):focus,\ninput[type=time].valid:not(.browser-default),\ninput[type=time].valid:not(.browser-default):focus,\ninput[type=date].valid:not(.browser-default),\ninput[type=date].valid:not(.browser-default):focus,\ninput[type=datetime].valid:not(.browser-default),\ninput[type=datetime].valid:not(.browser-default):focus,\ninput[type=datetime-local].valid:not(.browser-default),\ninput[type=datetime-local].valid:not(.browser-default):focus,\ninput[type=tel].valid:not(.browser-default),\ninput[type=tel].valid:not(.browser-default):focus,\ninput[type=number].valid:not(.browser-default),\ninput[type=number].valid:not(.browser-default):focus,\ninput[type=search].valid:not(.browser-default),\ninput[type=search].valid:not(.browser-default):focus,\ntextarea.materialize-textarea.valid,\ntextarea.materialize-textarea.valid:focus, .select-wrapper.valid > input.select-dropdown {\n  border-bottom: 1px solid #4CAF50;\n  box-shadow: 0 1px 0 0 #4CAF50; }\n\ninput.invalid:not([type]), input.invalid:not([type]):focus,\ninput[type=text].invalid:not(.browser-default),\ninput[type=text].invalid:not(.browser-default):focus,\ninput[type=password].invalid:not(.browser-default),\ninput[type=password].invalid:not(.browser-default):focus,\ninput[type=email].invalid:not(.browser-default),\ninput[type=email].invalid:not(.browser-default):focus,\ninput[type=url].invalid:not(.browser-default),\ninput[type=url].invalid:not(.browser-default):focus,\ninput[type=time].invalid:not(.browser-default),\ninput[type=time].invalid:not(.browser-default):focus,\ninput[type=date].invalid:not(.browser-default),\ninput[type=date].invalid:not(.browser-default):focus,\ninput[type=datetime].invalid:not(.browser-default),\ninput[type=datetime].invalid:not(.browser-default):focus,\ninput[type=datetime-local].invalid:not(.browser-default),\ninput[type=datetime-local].invalid:not(.browser-default):focus,\ninput[type=tel].invalid:not(.browser-default),\ninput[type=tel].invalid:not(.browser-default):focus,\ninput[type=number].invalid:not(.browser-default),\ninput[type=number].invalid:not(.browser-default):focus,\ninput[type=search].invalid:not(.browser-default),\ninput[type=search].invalid:not(.browser-default):focus,\ntextarea.materialize-textarea.invalid,\ntextarea.materialize-textarea.invalid:focus, .select-wrapper.invalid > input.select-dropdown {\n  border-bottom: 1px solid #F44336;\n  box-shadow: 0 1px 0 0 #F44336; }\n\ninput:not([type]).valid + label:after,\ninput:not([type]):focus.valid + label:after,\ninput[type=text]:not(.browser-default).valid + label:after,\ninput[type=text]:not(.browser-default):focus.valid + label:after,\ninput[type=password]:not(.browser-default).valid + label:after,\ninput[type=password]:not(.browser-default):focus.valid + label:after,\ninput[type=email]:not(.browser-default).valid + label:after,\ninput[type=email]:not(.browser-default):focus.valid + label:after,\ninput[type=url]:not(.browser-default).valid + label:after,\ninput[type=url]:not(.browser-default):focus.valid + label:after,\ninput[type=time]:not(.browser-default).valid + label:after,\ninput[type=time]:not(.browser-default):focus.valid + label:after,\ninput[type=date]:not(.browser-default).valid + label:after,\ninput[type=date]:not(.browser-default):focus.valid + label:after,\ninput[type=datetime]:not(.browser-default).valid + label:after,\ninput[type=datetime]:not(.browser-default):focus.valid + label:after,\ninput[type=datetime-local]:not(.browser-default).valid + label:after,\ninput[type=datetime-local]:not(.browser-default):focus.valid + label:after,\ninput[type=tel]:not(.browser-default).valid + label:after,\ninput[type=tel]:not(.browser-default):focus.valid + label:after,\ninput[type=number]:not(.browser-default).valid + label:after,\ninput[type=number]:not(.browser-default):focus.valid + label:after,\ninput[type=search]:not(.browser-default).valid + label:after,\ninput[type=search]:not(.browser-default):focus.valid + label:after,\ntextarea.materialize-textarea.valid + label:after,\ntextarea.materialize-textarea:focus.valid + label:after, .select-wrapper.valid + label:after {\n  content: attr(data-success);\n  color: #4CAF50;\n  opacity: 1;\n  transform: translateY(9px); }\n\ninput:not([type]).invalid + label:after,\ninput:not([type]):focus.invalid + label:after,\ninput[type=text]:not(.browser-default).invalid + label:after,\ninput[type=text]:not(.browser-default):focus.invalid + label:after,\ninput[type=password]:not(.browser-default).invalid + label:after,\ninput[type=password]:not(.browser-default):focus.invalid + label:after,\ninput[type=email]:not(.browser-default).invalid + label:after,\ninput[type=email]:not(.browser-default):focus.invalid + label:after,\ninput[type=url]:not(.browser-default).invalid + label:after,\ninput[type=url]:not(.browser-default):focus.invalid + label:after,\ninput[type=time]:not(.browser-default).invalid + label:after,\ninput[type=time]:not(.browser-default):focus.invalid + label:after,\ninput[type=date]:not(.browser-default).invalid + label:after,\ninput[type=date]:not(.browser-default):focus.invalid + label:after,\ninput[type=datetime]:not(.browser-default).invalid + label:after,\ninput[type=datetime]:not(.browser-default):focus.invalid + label:after,\ninput[type=datetime-local]:not(.browser-default).invalid + label:after,\ninput[type=datetime-local]:not(.browser-default):focus.invalid + label:after,\ninput[type=tel]:not(.browser-default).invalid + label:after,\ninput[type=tel]:not(.browser-default):focus.invalid + label:after,\ninput[type=number]:not(.browser-default).invalid + label:after,\ninput[type=number]:not(.browser-default):focus.invalid + label:after,\ninput[type=search]:not(.browser-default).invalid + label:after,\ninput[type=search]:not(.browser-default):focus.invalid + label:after,\ntextarea.materialize-textarea.invalid + label:after,\ntextarea.materialize-textarea:focus.invalid + label:after, .select-wrapper.invalid + label:after {\n  content: attr(data-error);\n  color: #F44336;\n  opacity: 1;\n  transform: translateY(9px); }\n\ninput:not([type]) + label:after,\ninput[type=text]:not(.browser-default) + label:after,\ninput[type=password]:not(.browser-default) + label:after,\ninput[type=email]:not(.browser-default) + label:after,\ninput[type=url]:not(.browser-default) + label:after,\ninput[type=time]:not(.browser-default) + label:after,\ninput[type=date]:not(.browser-default) + label:after,\ninput[type=datetime]:not(.browser-default) + label:after,\ninput[type=datetime-local]:not(.browser-default) + label:after,\ninput[type=tel]:not(.browser-default) + label:after,\ninput[type=number]:not(.browser-default) + label:after,\ninput[type=search]:not(.browser-default) + label:after,\ntextarea.materialize-textarea + label:after, .select-wrapper + label:after {\n  display: block;\n  content: \"\";\n  position: absolute;\n  top: 100%;\n  left: 0;\n  opacity: 0;\n  transition: .2s opacity ease-out, .2s color ease-out; }\n\n.input-field {\n  position: relative;\n  margin-top: 1rem; }\n  .input-field.inline {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 5px; }\n    .input-field.inline input,\n    .input-field.inline .select-dropdown {\n      margin-bottom: 1rem; }\n  .input-field.col label {\n    left: 0.75rem; }\n  .input-field.col .prefix ~ label,\n  .input-field.col .prefix ~ .validate ~ label {\n    width: calc(100% - 3rem - 1.5rem); }\n  .input-field label {\n    color: #9e9e9e;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    font-size: 1rem;\n    cursor: text;\n    transition: transform .2s ease-out;\n    transform-origin: 0% 100%;\n    text-align: initial;\n    transform: translateY(12px);\n    pointer-events: none; }\n    .input-field label:not(.label-icon).active {\n      transform: translateY(-14px) scale(0.8);\n      transform-origin: 0 0; }\n  .input-field .prefix {\n    position: absolute;\n    width: 3rem;\n    font-size: 2rem;\n    transition: color .2s; }\n    .input-field .prefix.active {\n      color: #26a69a; }\n  .input-field .prefix ~ input,\n  .input-field .prefix ~ textarea,\n  .input-field .prefix ~ label,\n  .input-field .prefix ~ .validate ~ label,\n  .input-field .prefix ~ .autocomplete-content {\n    margin-left: 3rem;\n    width: 92%;\n    width: calc(100% - 3rem); }\n  .input-field .prefix ~ label {\n    margin-left: 3rem; }\n  @media only screen and (max-width: 992px) {\n    .input-field .prefix ~ input {\n      width: 86%;\n      width: calc(100% - 3rem); } }\n  @media only screen and (max-width: 600px) {\n    .input-field .prefix ~ input {\n      width: 80%;\n      width: calc(100% - 3rem); } }\n\n/* Search Field */\n.input-field input[type=search] {\n  display: block;\n  line-height: inherit; }\n  .nav-wrapper .input-field input[type=search] {\n    height: inherit;\n    padding-left: 4rem;\n    width: calc(100% - 4rem);\n    border: 0;\n    box-shadow: none; }\n  .input-field input[type=search]:focus {\n    background-color: #fff;\n    border: 0;\n    box-shadow: none;\n    color: #444; }\n    .input-field input[type=search]:focus + label i,\n    .input-field input[type=search]:focus ~ .mdi-navigation-close,\n    .input-field input[type=search]:focus ~ .material-icons {\n      color: #444; }\n  .input-field input[type=search] + label {\n    left: 1rem; }\n  .input-field input[type=search] ~ .mdi-navigation-close,\n  .input-field input[type=search] ~ .material-icons {\n    position: absolute;\n    top: 0;\n    right: 1rem;\n    color: transparent;\n    cursor: pointer;\n    font-size: 2rem;\n    transition: .3s color; }\n\n/* Textarea */\ntextarea {\n  width: 100%;\n  height: 3rem;\n  background-color: transparent; }\n  textarea.materialize-textarea {\n    overflow-y: hidden;\n    /* prevents scroll bar flash */\n    padding: .8rem 0 1.6rem 0;\n    /* prevents text jump on Enter keypress */\n    resize: none;\n    min-height: 3rem; }\n    textarea.materialize-textarea.validate + label {\n      height: 100%; }\n      textarea.materialize-textarea.validate + label::after {\n        top: calc(100% - 12px); }\n      textarea.materialize-textarea.validate + label:not(.label-icon).active {\n        transform: translateY(-25px); }\n\n.hiddendiv {\n  display: none;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  /* future version of deprecated 'word-wrap' */\n  padding-top: 1.2rem;\n  /* prevents text jump on Enter keypress */\n  position: absolute;\n  top: 0; }\n\n/* Autocomplete */\n.autocomplete-content {\n  margin-top: -20px;\n  margin-bottom: 20px;\n  display: block;\n  opacity: 1;\n  position: static; }\n  .autocomplete-content li .highlight {\n    color: #444; }\n  .autocomplete-content li img {\n    height: 40px;\n    width: 40px;\n    margin: 5px 15px; }\n\n/* Radio Buttons\n   ========================================================================== */\n[type=\"radio\"]:not(:checked),\n[type=\"radio\"]:checked {\n  position: absolute;\n  opacity: 0;\n  pointer-events: none; }\n\n[type=\"radio\"]:not(:checked) + label,\n[type=\"radio\"]:checked + label {\n  position: relative;\n  padding-left: 35px;\n  cursor: pointer;\n  display: inline-block;\n  height: 25px;\n  line-height: 25px;\n  font-size: 1rem;\n  transition: .28s ease;\n  user-select: none; }\n\n[type=\"radio\"] + label:before,\n[type=\"radio\"] + label:after {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 4px;\n  width: 16px;\n  height: 16px;\n  z-index: 0;\n  transition: .28s ease; }\n\n/* Unchecked styles */\n[type=\"radio\"]:not(:checked) + label:before,\n[type=\"radio\"]:not(:checked) + label:after,\n[type=\"radio\"]:checked + label:before,\n[type=\"radio\"]:checked + label:after,\n[type=\"radio\"].with-gap:checked + label:before,\n[type=\"radio\"].with-gap:checked + label:after {\n  border-radius: 50%; }\n\n[type=\"radio\"]:not(:checked) + label:before,\n[type=\"radio\"]:not(:checked) + label:after {\n  border: 2px solid #5a5a5a; }\n\n[type=\"radio\"]:not(:checked) + label:after {\n  transform: scale(0); }\n\n/* Checked styles */\n[type=\"radio\"]:checked + label:before {\n  border: 2px solid transparent; }\n\n[type=\"radio\"]:checked + label:after,\n[type=\"radio\"].with-gap:checked + label:before,\n[type=\"radio\"].with-gap:checked + label:after {\n  border: 2px solid #26a69a; }\n\n[type=\"radio\"]:checked + label:after,\n[type=\"radio\"].with-gap:checked + label:after {\n  background-color: #26a69a; }\n\n[type=\"radio\"]:checked + label:after {\n  transform: scale(1.02); }\n\n/* Radio With gap */\n[type=\"radio\"].with-gap:checked + label:after {\n  transform: scale(0.5); }\n\n/* Focused styles */\n[type=\"radio\"].tabbed:focus + label:before {\n  box-shadow: 0 0 0 10px rgba(0, 0, 0, 0.1); }\n\n/* Disabled Radio With gap */\n[type=\"radio\"].with-gap:disabled:checked + label:before {\n  border: 2px solid rgba(0, 0, 0, 0.42); }\n\n[type=\"radio\"].with-gap:disabled:checked + label:after {\n  border: none;\n  background-color: rgba(0, 0, 0, 0.42); }\n\n/* Disabled style */\n[type=\"radio\"]:disabled:not(:checked) + label:before,\n[type=\"radio\"]:disabled:checked + label:before {\n  background-color: transparent;\n  border-color: rgba(0, 0, 0, 0.42); }\n\n[type=\"radio\"]:disabled + label {\n  color: rgba(0, 0, 0, 0.42); }\n\n[type=\"radio\"]:disabled:not(:checked) + label:before {\n  border-color: rgba(0, 0, 0, 0.42); }\n\n[type=\"radio\"]:disabled:checked + label:after {\n  background-color: rgba(0, 0, 0, 0.42);\n  border-color: #949494; }\n\n/* Checkboxes\n   ========================================================================== */\n/* CUSTOM CSS CHECKBOXES */\nform p {\n  margin-bottom: 10px;\n  text-align: left; }\n\nform p:last-child {\n  margin-bottom: 0; }\n\n/* Remove default checkbox */\n[type=\"checkbox\"]:not(:checked),\n[type=\"checkbox\"]:checked {\n  position: absolute;\n  opacity: 0;\n  pointer-events: none; }\n\n[type=\"checkbox\"] {\n  /* checkbox aspect */ }\n  [type=\"checkbox\"] + label {\n    position: relative;\n    padding-left: 35px;\n    cursor: pointer;\n    display: inline-block;\n    height: 25px;\n    line-height: 25px;\n    font-size: 1rem;\n    user-select: none; }\n  [type=\"checkbox\"] + label:before,\n  [type=\"checkbox\"]:not(.filled-in) + label:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 18px;\n    height: 18px;\n    z-index: 0;\n    border: 2px solid #5a5a5a;\n    border-radius: 1px;\n    margin-top: 2px;\n    transition: .2s; }\n  [type=\"checkbox\"]:not(.filled-in) + label:after {\n    border: 0;\n    transform: scale(0); }\n  [type=\"checkbox\"]:not(:checked):disabled + label:before {\n    border: none;\n    background-color: rgba(0, 0, 0, 0.42); }\n  [type=\"checkbox\"].tabbed:focus + label:after {\n    transform: scale(1);\n    border: 0;\n    border-radius: 50%;\n    box-shadow: 0 0 0 10px rgba(0, 0, 0, 0.1);\n    background-color: rgba(0, 0, 0, 0.1); }\n\n[type=\"checkbox\"]:checked + label:before {\n  top: -4px;\n  left: -5px;\n  width: 12px;\n  height: 22px;\n  border-top: 2px solid transparent;\n  border-left: 2px solid transparent;\n  border-right: 2px solid #26a69a;\n  border-bottom: 2px solid #26a69a;\n  transform: rotate(40deg);\n  backface-visibility: hidden;\n  transform-origin: 100% 100%; }\n\n[type=\"checkbox\"]:checked:disabled + label:before {\n  border-right: 2px solid rgba(0, 0, 0, 0.42);\n  border-bottom: 2px solid rgba(0, 0, 0, 0.42); }\n\n/* Indeterminate checkbox */\n[type=\"checkbox\"]:indeterminate + label:before {\n  top: -11px;\n  left: -12px;\n  width: 10px;\n  height: 22px;\n  border-top: none;\n  border-left: none;\n  border-right: 2px solid #26a69a;\n  border-bottom: none;\n  transform: rotate(90deg);\n  backface-visibility: hidden;\n  transform-origin: 100% 100%; }\n\n[type=\"checkbox\"]:indeterminate:disabled + label:before {\n  border-right: 2px solid rgba(0, 0, 0, 0.42);\n  background-color: transparent; }\n\n[type=\"checkbox\"].filled-in + label:after {\n  border-radius: 2px; }\n\n[type=\"checkbox\"].filled-in + label:before,\n[type=\"checkbox\"].filled-in + label:after {\n  content: '';\n  left: 0;\n  position: absolute;\n  /* .1s delay is for check animation */\n  transition: border .25s, background-color .25s, width .20s .1s, height .20s .1s, top .20s .1s, left .20s .1s;\n  z-index: 1; }\n\n[type=\"checkbox\"].filled-in:not(:checked) + label:before {\n  width: 0;\n  height: 0;\n  border: 3px solid transparent;\n  left: 6px;\n  top: 10px;\n  transform: rotateZ(37deg);\n  transform-origin: 100% 100%; }\n\n[type=\"checkbox\"].filled-in:not(:checked) + label:after {\n  height: 20px;\n  width: 20px;\n  background-color: transparent;\n  border: 2px solid #5a5a5a;\n  top: 0px;\n  z-index: 0; }\n\n[type=\"checkbox\"].filled-in:checked + label:before {\n  top: 0;\n  left: 1px;\n  width: 8px;\n  height: 13px;\n  border-top: 2px solid transparent;\n  border-left: 2px solid transparent;\n  border-right: 2px solid #fff;\n  border-bottom: 2px solid #fff;\n  transform: rotateZ(37deg);\n  transform-origin: 100% 100%; }\n\n[type=\"checkbox\"].filled-in:checked + label:after {\n  top: 0;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #26a69a;\n  background-color: #26a69a;\n  z-index: 0; }\n\n[type=\"checkbox\"].filled-in.tabbed:focus + label:after {\n  border-radius: 2px;\n  border-color: #5a5a5a;\n  background-color: rgba(0, 0, 0, 0.1); }\n\n[type=\"checkbox\"].filled-in.tabbed:checked:focus + label:after {\n  border-radius: 2px;\n  background-color: #26a69a;\n  border-color: #26a69a; }\n\n[type=\"checkbox\"].filled-in:disabled:not(:checked) + label:before {\n  background-color: transparent;\n  border: 2px solid transparent; }\n\n[type=\"checkbox\"].filled-in:disabled:not(:checked) + label:after {\n  border-color: transparent;\n  background-color: #949494; }\n\n[type=\"checkbox\"].filled-in:disabled:checked + label:before {\n  background-color: transparent; }\n\n[type=\"checkbox\"].filled-in:disabled:checked + label:after {\n  background-color: #949494;\n  border-color: #949494; }\n\n/* Switch\n   ========================================================================== */\n.switch,\n.switch * {\n  -webkit-tap-highlight-color: transparent;\n  user-select: none; }\n\n.switch label {\n  cursor: pointer; }\n\n.switch label input[type=checkbox] {\n  opacity: 0;\n  width: 0;\n  height: 0; }\n  .switch label input[type=checkbox]:checked + .lever {\n    background-color: #84c7c1; }\n    .switch label input[type=checkbox]:checked + .lever:before, .switch label input[type=checkbox]:checked + .lever:after {\n      left: 18px; }\n    .switch label input[type=checkbox]:checked + .lever:after {\n      background-color: #26a69a; }\n\n.switch label .lever {\n  content: \"\";\n  display: inline-block;\n  position: relative;\n  width: 36px;\n  height: 14px;\n  background-color: rgba(0, 0, 0, 0.38);\n  border-radius: 15px;\n  margin-right: 10px;\n  transition: background 0.3s ease;\n  vertical-align: middle;\n  margin: 0 16px; }\n  .switch label .lever:before, .switch label .lever:after {\n    content: \"\";\n    position: absolute;\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    left: 0;\n    top: -3px;\n    transition: left 0.3s ease, background .3s ease, box-shadow 0.1s ease, transform .1s ease; }\n  .switch label .lever:before {\n    background-color: rgba(38, 166, 154, 0.15); }\n  .switch label .lever:after {\n    background-color: #F1F1F1;\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); }\n\ninput[type=checkbox]:checked:not(:disabled) ~ .lever:active::before,\ninput[type=checkbox]:checked:not(:disabled).tabbed:focus ~ .lever::before {\n  transform: scale(2.4);\n  background-color: rgba(38, 166, 154, 0.15); }\n\ninput[type=checkbox]:not(:disabled) ~ .lever:active:before,\ninput[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before {\n  transform: scale(2.4);\n  background-color: rgba(0, 0, 0, 0.08); }\n\n.switch input[type=checkbox][disabled] + .lever {\n  cursor: default;\n  background-color: rgba(0, 0, 0, 0.12); }\n\n.switch label input[type=checkbox][disabled] + .lever:after,\n.switch label input[type=checkbox][disabled]:checked + .lever:after {\n  background-color: #949494; }\n\n/* Select Field\n   ========================================================================== */\nselect {\n  display: none; }\n\nselect.browser-default {\n  display: block; }\n\nselect {\n  background-color: rgba(255, 255, 255, 0.9);\n  width: 100%;\n  padding: 5px;\n  border: 1px solid #f2f2f2;\n  border-radius: 2px;\n  height: 3rem; }\n\n.input-field select {\n  display: block;\n  position: absolute;\n  width: 0;\n  pointer-events: none;\n  height: 0;\n  top: 0;\n  left: 0;\n  opacity: 0; }\n\n.select-label {\n  position: absolute; }\n\n.select-wrapper {\n  position: relative; }\n  .select-wrapper.valid + label,\n  .select-wrapper.invalid + label {\n    width: 100%;\n    pointer-events: none; }\n  .select-wrapper input.select-dropdown {\n    position: relative;\n    cursor: pointer;\n    background-color: transparent;\n    border: none;\n    border-bottom: 1px solid #9e9e9e;\n    outline: none;\n    height: 3rem;\n    line-height: 3rem;\n    width: 100%;\n    font-size: 1rem;\n    margin: 0 0 20px 0;\n    padding: 0;\n    display: block;\n    user-select: none; }\n  .select-wrapper span.caret {\n    color: initial;\n    position: absolute;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    height: 10px;\n    margin: auto 0;\n    font-size: 10px;\n    line-height: 10px; }\n  .select-wrapper + label {\n    position: absolute;\n    top: -26px;\n    font-size: 0.8rem; }\n\nselect:disabled {\n  color: rgba(0, 0, 0, 0.42); }\n\n.select-wrapper.disabled span.caret,\n.select-wrapper.disabled + label {\n  color: rgba(0, 0, 0, 0.42); }\n\n.select-wrapper input.select-dropdown:disabled {\n  color: rgba(0, 0, 0, 0.42);\n  cursor: default;\n  user-select: none; }\n\n.select-wrapper i {\n  color: rgba(0, 0, 0, 0.3); }\n\n.select-dropdown li.disabled,\n.select-dropdown li.disabled > span,\n.select-dropdown li.optgroup {\n  color: rgba(0, 0, 0, 0.3);\n  background-color: transparent; }\n\n.select-dropdown.dropdown-content li.active {\n  background-color: transparent; }\n\n.select-dropdown.dropdown-content li:hover {\n  background-color: rgba(0, 0, 0, 0.06); }\n\n.select-dropdown.dropdown-content li.selected {\n  background-color: rgba(0, 0, 0, 0.03); }\n\n.prefix ~ .select-wrapper {\n  margin-left: 3rem;\n  width: 92%;\n  width: calc(100% - 3rem); }\n\n.prefix ~ label {\n  margin-left: 3rem; }\n\n.select-dropdown li img {\n  height: 40px;\n  width: 40px;\n  margin: 5px 15px;\n  float: right; }\n\n.select-dropdown li.optgroup {\n  border-top: 1px solid #eee; }\n  .select-dropdown li.optgroup.selected > span {\n    color: rgba(0, 0, 0, 0.7); }\n  .select-dropdown li.optgroup > span {\n    color: rgba(0, 0, 0, 0.4); }\n  .select-dropdown li.optgroup ~ li.optgroup-option {\n    padding-left: 1rem; }\n\n/* File Input\n   ========================================================================== */\n.file-field {\n  position: relative; }\n  .file-field .file-path-wrapper {\n    overflow: hidden;\n    padding-left: 10px; }\n  .file-field input.file-path {\n    width: 100%; }\n  .file-field .btn, .file-field .btn-large {\n    float: left;\n    height: 3rem;\n    line-height: 3rem; }\n  .file-field span {\n    cursor: pointer; }\n  .file-field input[type=file] {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    font-size: 20px;\n    cursor: pointer;\n    opacity: 0;\n    filter: alpha(opacity=0); }\n    .file-field input[type=file]::-webkit-file-upload-button {\n      display: none; }\n\n/* Range\n   ========================================================================== */\n.range-field {\n  position: relative; }\n\ninput[type=range],\ninput[type=range] + .thumb {\n  cursor: pointer; }\n\ninput[type=range] {\n  position: relative;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  width: 100%;\n  margin: 15px 0;\n  padding: 0; }\n  input[type=range]:focus {\n    outline: none; }\n\ninput[type=range] + .thumb {\n  position: absolute;\n  top: 10px;\n  left: 0;\n  border: none;\n  height: 0;\n  width: 0;\n  border-radius: 50%;\n  background-color: #26a69a;\n  margin-left: 7px;\n  transform-origin: 50% 50%;\n  transform: rotate(-45deg); }\n  input[type=range] + .thumb .value {\n    display: block;\n    width: 30px;\n    text-align: center;\n    color: #26a69a;\n    font-size: 0;\n    transform: rotate(45deg); }\n  input[type=range] + .thumb.active {\n    border-radius: 50% 50% 50% 0; }\n    input[type=range] + .thumb.active .value {\n      color: #fff;\n      margin-left: -1px;\n      margin-top: 8px;\n      font-size: 10px; }\n\ninput[type=range] {\n  -webkit-appearance: none; }\n\ninput[type=range]::-webkit-slider-runnable-track {\n  height: 3px;\n  background: #c2c0c2;\n  border: none; }\n\ninput[type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: none;\n  height: 14px;\n  width: 14px;\n  border-radius: 50%;\n  background-color: #26a69a;\n  transform-origin: 50% 50%;\n  margin: -5px 0 0 0;\n  transition: .3s; }\n\ninput[type=range]:focus::-webkit-slider-runnable-track {\n  background: #ccc; }\n\ninput[type=range] {\n  /* fix for FF unable to apply focus style bug  */\n  border: 1px solid white;\n  /*required for proper track sizing in FF*/ }\n\ninput[type=range]::-moz-range-track {\n  height: 3px;\n  background: #ddd;\n  border: none; }\n\ninput[type=range]::-moz-range-thumb {\n  border: none;\n  height: 14px;\n  width: 14px;\n  border-radius: 50%;\n  background: #26a69a;\n  margin-top: -5px; }\n\ninput[type=range]:-moz-focusring {\n  outline: 1px solid #fff;\n  outline-offset: -1px; }\n\ninput[type=range]:focus::-moz-range-track {\n  background: #ccc; }\n\ninput[type=range]::-ms-track {\n  height: 3px;\n  background: transparent;\n  border-color: transparent;\n  border-width: 6px 0;\n  /*remove default tick marks*/\n  color: transparent; }\n\ninput[type=range]::-ms-fill-lower {\n  background: #777; }\n\ninput[type=range]::-ms-fill-upper {\n  background: #ddd; }\n\ninput[type=range]::-ms-thumb {\n  border: none;\n  height: 14px;\n  width: 14px;\n  border-radius: 50%;\n  background: #26a69a; }\n\ninput[type=range]:focus::-ms-fill-lower {\n  background: #888; }\n\ninput[type=range]:focus::-ms-fill-upper {\n  background: #ccc; }\n\nhtml, body {\n  height: 100%; }\n\nnav {\n  background: #000; }\n  nav .nav-wrapper .container {\n    margin: 0 auto;\n    max-width: 1280px;\n    width: 100%; }\n  @media only screen and (min-width: 601px) {\n    nav .nav-wrapper .container {\n      width: 85%; } }\n  @media only screen and (min-width: 993px) {\n    nav .nav-wrapper .container {\n      width: 70%; } }\n\n.material-icons {\n  vertical-align: middle;\n  line-height: inherit; }\n\n.btn, .btn-large {\n  height: 2em;\n  line-height: 2em;\n  padding: 0 0.8em; }\n\n[data-ax6ui-sidenav-panel] {\n  background: #fff; }\n\n[data-ax6ui-sidenav-menu] {\n  background: #eee; }\n  [data-ax6ui-sidenav-menu] .sidenav {\n    padding: 10px 0; }\n    [data-ax6ui-sidenav-menu] .sidenav ul {\n      margin: 0; }\n      [data-ax6ui-sidenav-menu] .sidenav ul li a {\n        display: block;\n        padding: 7px 10px; }\n        [data-ax6ui-sidenav-menu] .sidenav ul li a:hover {\n          background: #ccc; }\n\nhtml[data-ax6ui-sidenav-open] [data-ax6ui-sidenav-panel] {\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.5); }\n", ""]);

// exports


/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(7)(undefined);
// imports


// module
exports.push([module.i, "@font-face {\n  font-family: 'Material Icons';\n  font-style: normal;\n  font-weight: 400;\n  src: url(" + __webpack_require__(40) + "); /* For IE6-8 */\n  src: local('Material Icons'),\n       local('MaterialIcons-Regular'),\n       url(" + __webpack_require__(41) + ") format('woff2'),\n       url(" + __webpack_require__(42) + ") format('woff'),\n       url(" + __webpack_require__(43) + ") format('truetype');\n}\n\n.material-icons {\n  font-family: 'Material Icons';\n  font-weight: normal;\n  font-style: normal;\n  font-size: 24px;  /* Preferred icon size */\n  display: inline-block;\n  line-height: 1;\n  text-transform: none;\n  letter-spacing: normal;\n  word-wrap: normal;\n  white-space: nowrap;\n  direction: ltr;\n\n  /* Support for all WebKit browsers. */\n  -webkit-font-smoothing: antialiased;\n  /* Support for Safari and Chrome. */\n  text-rendering: optimizeLegibility;\n\n  /* Support for Firefox. */\n  -moz-osx-font-smoothing: grayscale;\n\n  /* Support for IE. */\n  font-feature-settings: 'liga';\n}\n", ""]);

// exports


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e79bfd88537def476913f3ed52f4f4b3.eot";

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "570eb83859dc23dd0eec423a49e147fe.woff2";

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "012cf6a10129e2275d79d6adac7f3b02.woff";

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a37b0c01c0baf1888ca812cc0508f6e2.ttf";

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZDM2YTIyODU2M2QwZTRiZWU0NzYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pxbWluL2pxdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2SW5mby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlDb3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZNdXN0YWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUdyaWQvQVg2VUlHcmlkX2JvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUdyaWQvQVg2VUlHcmlkX2RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJR3JpZC9BWDZVSUdyaWRfcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUZvcm1hdHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlQYWxldHRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUNhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUdyaWQvQVg2VUlHcmlkX3Njcm9sbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlGb3JtYXR0ZXIvQVg2VUlGb3JtYXR0ZXJfZm9ybWF0dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSU1hc2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJRGlhbG9nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlTZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJR3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF9pbmxpbmVfZWRpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUdyaWQvQVg2VUlHcmlkX2NvbGxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF9mb3JtYXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJR3JpZC9BWDZVSUdyaWRfdG1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlNZW51LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSVRvYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSU1vZGFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSVVwbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUF1dG9jb21wbGV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlTaWRlTmF2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSVNpZGVOYXYvc3R5bGUuc2Nzcz82N2VjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSVNpZGVOYXYvc3R5bGUuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvc2FtcGxlLnNjc3M/NmZmYSIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3NhbXBsZS5zY3NzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbWF0ZXJpYWwtZGVzaWduLWljb25zL2ljb25mb250L21hdGVyaWFsLWljb25zLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9NYXRlcmlhbEljb25zLVJlZ3VsYXIuZW90Iiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbWF0ZXJpYWwtZGVzaWduLWljb25zL2ljb25mb250L01hdGVyaWFsSWNvbnMtUmVndWxhci53b2ZmMiIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9NYXRlcmlhbEljb25zLVJlZ3VsYXIud29mZiIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9NYXRlcmlhbEljb25zLVJlZ3VsYXIudHRmIl0sIm5hbWVzIjpbIiRzbGlkZV9vdXQiLCIkYm9keSIsIm1vZHVsZSIsImN1cnJlbnRNb2R1bGUiLCJzaWRlTmF2IiwibG9hZE1vZHVsZSIsIm1vZHVsZU5hbWUiLCJmbiIsIm1vZHVsZURlc3Ryb3kiLCJlbXB0eSIsInJlcXVpcmUiLCJuIiwiZGVmYXVsdCIsImh0bWwiLCJtb2R1bGVSdW4iLCJ3aW5kb3ciLCJvbnBvcHN0YXRlIiwiZSIsInBhcmFtIiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsInNlYXJjaCIsInJlcGxhY2UiLCJyZWFkeSIsIm1lbnUiLCJ0YXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwicGFuZWwiLCJvbiIsIm9wZW4iLCJjbG9zZSIsImdldEF0dHJpYnV0ZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBUSxvQkFBb0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsV0FBVyxFQUFFO0FBQ3ZEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4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QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsV0FBVztBQUMxQyxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixFQUFFO0FBQ3hCLDJCQUEyQixFQUFFOztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkVBQTZFLGNBQWM7QUFDM0Y7QUFDQSxHQUFHO0FBQ0gsNkVBQTZFLGNBQWM7QUFDM0Y7QUFDQTtBQUNBLCtFQUErRSxjQUFjO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixjQUFjO0FBQ3JHO0FBQ0E7QUFDQSx5RkFBeUYsY0FBYztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRCxhQUFhO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFlBQVk7QUFDWjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CO0FBQ3BCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FB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ZUFBZSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUU7QUFDM0Qsc0JBQXNCLEVBQUU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEc7Ozs7OztBQ25uRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxZQUFZOztBQUVwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUYsb0JBQW9COztBQUVwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLFlBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxRQUFRLE1BQU07QUFDOUMsMEJBQTBCLFdBQVcsU0FBUztBQUM5QyxvQ0FBb0MsVUFBVSxTQUFTO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7O0FBSUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLFFBQVEsR0FBRztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOzs7O0FBSUE7O0FBRUE7O0FBRUE7QUFDQTs7OztBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUEsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakIsMEJBQTBCLHdCQUF3Qjs7QUFFbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMENBQTBDO0FBQzFDLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGFBQWE7QUFDcEMsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsU0FBUztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGOztBQUVBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxPQUFPO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0JBQWdCO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7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Q0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOzs7QUFHRDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUErRDtBQUMzRTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsT0FBTzs7QUFFZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUEsVUFBVSxPQUFPO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLGlDQUFpQztBQUNqQztBQUNBOztBQUVBLElBQUk7QUFDSjs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUEseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFLO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYixLQUFLO0FBQ0w7O0FBRUEsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscURBQXFEO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLHNEQUFzRDtBQUNwRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pELGVBQWUsNkRBQTZEO0FBQzVFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0YsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUFBO0FBQ0Y7Ozs7O0FBS0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0EsQ0FBQzs7Ozs7Ozs7QUM3bEtEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGVBQWUsR0FBRyxlQUFlLEdBQUcsZUFBZSxHQUFHLGVBQWUsR0FBRyxlQUFlLEdBQUcsZUFBZSxHQUFHLGVBQWU7QUFDN0k7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsWUFBWTtBQUNaLEdBQUc7QUFDSCxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sYUFBYSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUU7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEc7Ozs7Ozs7OztBQ3ZRQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvRTs7Ozs7OztBQzVEQTtBQUNBLDhCQUE4QixVQUFVO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE9BQU8sV0FBVyxHQUFHLFVBQVUsSUFBSSxJQUFJLEtBQUssUUFBUTtBQUNwRCxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxNQUFNO0FBQ04sVUFBVSxNQUFNLEtBQUssa0JBQWtCLEdBQUc7QUFDMUMsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsOEJBQThCO0FBQzlCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxhQUFhLGFBQWEsZUFBZSxjQUFjLGVBQWU7QUFDckY7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsU0FBUztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCO0FBQ3RCLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEIsdUJBQXVCLGlCQUFpQixLQUFLO0FBQzdDLHlCQUF5Qjs7QUFFekI7QUFDQSx3QkFBd0IsTUFBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELGlCQUFpQjtBQUNwRTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxxQkFBcUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsT0FBTyx3Q0FBd0M7QUFDL0M7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QyxlQUFlO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QyxlQUFlO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0JBQStCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxlQUFlO0FBQzdEO0FBQ0E7QUFDQTs7QUFFQSxpR0FBaUcsaUdBQWlHLGdHQUFnRyxxRUFBcUUsc0VBQXNFOztBQUU3YTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxpREFBaUQsaUJBQWlCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixNQUFNOztBQUU1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHVFOzs7Ozs7Ozs7OztBQzluQkE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpQkFBaUIsWUFBWSxlQUFlO0FBQzFEO0FBQ0E7O0FBRUEscUJBQXFCLFdBQVc7QUFDaEMscUJBQXFCOztBQUVyQiwwQ0FBMEMsUUFBUTtBQUNsRDs7QUFFQSwyQkFBMkI7QUFDM0IsMkJBQTJCOztBQUUzQix5Q0FBeUMsUUFBUTtBQUNqRCx1RUFBZ0M7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwrRUFBd0M7QUFDeEMsZ0ZBQXlDOztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLG1CQUFtQjtBQUNuQiwwQ0FBMEMsUUFBUTtBQUNsRDs7QUFFQSx5QkFBeUI7QUFDekIseUNBQXlDLFFBQVE7QUFDakQsdUVBQWdDO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQSxVQUFVLE9BQU87QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx5Q0FBeUMsUUFBUTtBQUNqRCxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBLFVBQVUsT0FBTztBQUNqQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBLDJDQUEyQyxRQUFRO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBK0Q7QUFDL0QsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7O0FBRUEscUJBQXFCOztBQUVyQiwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQixtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEc7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUscUJBQXFCOztBQUUvQjtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQiw4Q0FBOEMsT0FBTztBQUNyRCxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0Esd0VBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0Esd0VBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixnREFBZ0QsT0FBTztBQUN2RCx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0EsMEVBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMEVBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZCxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCx1REFBdUQsZ0JBQWdCLEdBQUcsY0FBYyxnQkFBZ0IsR0FBRztBQUMzRyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNk1BQTZNLGdFQUFnRTtBQUM3UTtBQUNBO0FBQ0EsU0FBUztBQUNULHFIQUFxSCxnRUFBZ0UsYUFBYTtBQUNsTTs7QUFFQSx5S0FBeUs7QUFDeks7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0JBQWtCO0FBQ2xCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQW9DLGdCQUFnQjtBQUNwRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDhDQUE4QywyQkFBMkI7QUFDekU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxxRkFBcUY7QUFDOUgscUNBQXFDLHFGQUFxRjtBQUMxSCw0Q0FBNEMscUZBQXFGO0FBQ2pJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9SQUFvUjs7QUFFcFI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSw4RkFBOEYsaUJBQWlCLG1CQUFtQiw2R0FBNkc7QUFDL087O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxXQUFXO0FBQ3BELGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsU0FBUzs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQSxpREFBaUQsV0FBVzs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLDJEQUEyRCxTQUFTO0FBQ3BFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4REFBOEQsZ0JBQWdCOztBQUUzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZNQUE2TSw2REFBNkQ7QUFDMVEsYUFBYTs7QUFFYjtBQUNBO0FBQ0Esc1JBQXNSLGdCQUFnQjtBQUN0UztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUdBQWlHLGlCQUFpQixtQkFBbUIsbUVBQW1FO0FBQ3hNOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsNENBQTRDO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsV0FBVztBQUNwRCxpRUFBaUU7QUFDakU7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxXQUFXO0FBQ3hEO0FBQ0EsdURBQXVELFNBQVM7QUFDaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBOEQsZ0JBQWdCOztBQUV2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlNQUF5TSw2REFBNkQ7QUFDdFEsU0FBUzs7QUFFVDtBQUNBO0FBQ0EseUxBQXlMLGdCQUFnQjtBQUN6TTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsNENBQTRDO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7O0FBRUEsOENBQThDLFNBQVM7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxTQUFTO0FBQ3ZEOztBQUVBLG9EQUFvRCxTQUFTO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0RBQWdELFNBQVM7QUFDekQsc0RBQXNELFNBQVM7QUFDL0Q7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQTJDO0FBQzNDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxXQUFXO0FBQ3BELGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDLFdBQVc7QUFDeEQ7QUFDQSx1REFBdUQsU0FBUztBQUNoRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhEQUE4RCxnQkFBZ0I7O0FBRXZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseU1BQXlNLDZEQUE2RDtBQUN0USxTQUFTOztBQUVUO0FBQ0E7QUFDQSx5TEFBeUwsZ0JBQWdCO0FBQ3pNO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLFNBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFdBQVc7QUFDNUQsMkRBQTJELFNBQVM7QUFDcEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDhEQUE4RCxnQkFBZ0I7O0FBRTNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNk1BQTZNLDZEQUE2RDtBQUMxUSxhQUFhOztBQUViO0FBQ0E7QUFDQSwwT0FBME8sZ0JBQWdCO0FBQzFQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxXQUFXO0FBQ3BELGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDLFdBQVc7QUFDeEQ7QUFDQSx1REFBdUQsU0FBUztBQUNoRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhEQUE4RCxnQkFBZ0I7O0FBRXZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseU1BQXlNLGtDQUFrQztBQUMzTyxTQUFTOztBQUVUO0FBQ0E7QUFDQSx5TEFBeUwsZ0JBQWdCO0FBQ3pNO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxTQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxXQUFXO0FBQzVELDJEQUEyRCxTQUFTO0FBQ3BFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4REFBOEQsZ0JBQWdCOztBQUUzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZNQUE2TSxrQ0FBa0M7QUFDL08sYUFBYTs7QUFFYjtBQUNBO0FBQ0EsME9BQTBPLGdCQUFnQjtBQUMxUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxXQUFXO0FBQ3hELHVEQUF1RCxTQUFTO0FBQ2hFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBOEQsZ0JBQWdCOztBQUV2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlNQUF5TSw2REFBNkQ7QUFDdFEsU0FBUztBQUNUO0FBQ0E7QUFDQSxzT0FBc08sZ0JBQWdCO0FBQ3RQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsZUFBZTtBQUMxRDtBQUNBO0FBQ0EsMENBQTBDLGVBQWU7QUFDekQ7QUFDQTtBQUNBLHlDQUF5QyxpQkFBaUI7QUFDMUQ7O0FBRUE7O0FBRUE7QUFDQSw0Q0FBNEMsaUJBQWlCO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrRUFBd0M7QUFDeEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0NBQW9DO0FBQ25FO0FBQ0EsU0FBUztBQUNULCtCQUErQixpSEFBaUg7QUFDaEo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtFQUF3QztBQUN4QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsbUJBQW1CO0FBQ3BELG9HQUF3QyxtQkFBbUI7QUFDM0Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsbUNBQW1DLG9CQUFvQjtBQUN2RCxzR0FBMEMsb0JBQW9CO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBLGtHQUFzQyxpQkFBaUI7QUFDdkQsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtFQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG1GQUFtRjtBQUNwSDtBQUNBLFdBQVc7QUFDWCxpQ0FBaUMsd0hBQXdIO0FBQ3pKO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsK0NBQStDLFdBQVc7QUFDMUQ7QUFDQSx5REFBeUQsU0FBUztBQUNsRTs7QUFFQSw4T0FBOE87QUFDOU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2QyxXQUFXO0FBQ3hEO0FBQ0EsdURBQXVELFNBQVM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO3lEQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNENBQTRDO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNULDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFNBQVM7QUFDbkQ7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQ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QUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNB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LHNCQUFzQjtBQUN4RTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7O0FBRUEsNkJBQTZCLG1CQUFtQjs7QUFFaEQ7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUNoV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0RBQXdEO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFD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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQSxnRkFBd0IsbUNBQW1DO0FBQzNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtB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Q0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQSx1QkFBdUI7O0FBRXZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBLDRGQUFnQyxnQkFBZ0I7QUFDaEQsMEZBQThCLDZCQUE2QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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dUIsc0JBQXNCO0FBQzdDLG1EQUFtRCxzR0FBOEMsV0FBVztBQUM1RyxtR0FBbUcsV0FBVyxZQUFZO0FBQzFIO0FBQ0EsMENBQTBDO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZIQUFzRjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELG1CQUFtQjtBQUMxRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsc0U7Ozs7Ozs7Ozs7Ozs7QUMzbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssV0FBVyxzQkFBc0IsSUFBSSxJQUFJLGFBQWEsV0FBVyxZQUFZLFVBQVUsSUFBSSxXQUFXLDhCQUE4QixPQUFPO0FBQ2hKLDZCQUE2QixJQUFJLGdDQUFnQyxZQUFZLG1CQUFtQixRQUFRLEdBQUc7QUFDM0c7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBLGNBQWMsYUFBYTtBQUMzQix5RUFBeUUsSUFBSTtBQUM3RSxjQUFjLFVBQVU7QUFDeEIsY0FBYztBQUNkLDhDQUE4QyxRQUFRO0FBQ3RELDhDQUE4QyxRQUFRO0FBQ3RELGNBQWM7QUFDZCxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsVUFBVSxTQUFTLFFBQVEsY0FBYyxXQUFXLFVBQVUsV0FBVyxlQUFlLG9CQUFvQixxQkFBcUI7QUFDOUo7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsdUNBQXVDLE1BQU0sSUFBSSxXQUFXLHFCQUFxQixXQUFXLGtCQUFrQixRQUFRLEdBQUc7QUFDekg7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdDQUF3QyxPQUFPLG9DQUFvQyxJQUFJO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsRUFBRTtBQUNGLE1BQU07QUFDTixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsOEVBQThFLFNBQVMsNkJBQTZCLFNBQVMsdUJBQXVCLFFBQVE7QUFDNUoscUNBQXFDLEVBQUUseUJBQXlCO0FBQ2hFLGtCQUFrQixHQUFHLDRCQUE0Qiw2QkFBNkIsR0FBRyw0QkFBNEI7QUFDN0c7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSx1R0FBdUcsSUFBSTtBQUMzRztBQUNBLDBCQUEwQjtBQUMxQixnR0FBZ0csRUFBRSx5QkFBeUI7QUFDM0g7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLFVBQVU7QUFDVixVQUFVO0FBQ1Ysc0VBQXNFLFNBQVMsdUJBQXVCLFFBQVEsdUJBQXVCLEVBQUUseUJBQXlCLElBQUksR0FBRyw0QkFBNEIsNkJBQTZCLEdBQUcsNEJBQTRCO0FBQy9QO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsK0ZBQStGLElBQUk7QUFDbkc7QUFDQSxrQkFBa0I7QUFDbEIsd0ZBQXdGLEVBQUUseUJBQXlCO0FBQ25IO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsTUFBTTtBQUNOLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGNBQWM7QUFDZCxvQkFBb0I7QUFDcEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBDQUEwQztBQUM5RDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0Esd0JBQXdCLDZDQUE2QztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SEFBcUY7QUFDckYsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLG9CQUFvQjtBQUM3Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msc0JBQXNCOztBQUVyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtRkFBbUY7QUFDbkY7O0FBRUE7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLCtIQUF3RixNQUFNLDZGQUFzRDtBQUNwSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDOztBQUV4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRkFBeUM7QUFDekMsS0FBSztBQUNMO0FBQ0EsZ0ZBQXlDO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPLEtBQUssUUFBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPLEtBQUssUUFBUTtBQUMvQyxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLHdFQUFpQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0ZBQWlEO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxXQUFXOztBQUVYO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQSxzRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvcUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRzs7Ozs7Ozs7QUM5UkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBOEMsYUFBYTtBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHOzs7Ozs7OztBQ3RDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHOzs7Ozs7O0FDdkJBO0FBQ0Esd0VBQXdFLFlBQVk7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0Esa0JBQWtCLFlBQVksd0RBQXdELFlBQVksV0FBVztBQUM3Ryx1RUFBdUUsV0FBVztBQUNsRjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGdFQUFnRSxRQUFRLGdDQUFnQyxVQUFVLElBQUksUUFBUTtBQUM5SCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLHVFQUF1RSxXQUFXO0FBQ2xGLGtCQUFrQixXQUFXLHVEQUF1RCxXQUFXLFdBQVc7QUFDMUc7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixXQUFXLEdBQUcsY0FBYyxLQUFLLFlBQVksTUFBTSxjQUFjLEdBQUcsZ0JBQWdCLE1BQU0sU0FBUyxLQUFLLGdCQUFnQjtBQUM3STs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEc7Ozs7Ozs7Ozs7Ozs7QUN2RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxPQUFPLElBQUksUUFBUSxlQUFlLE9BQU8sR0FBRyxHQUFHLFFBQVE7QUFDaEc7QUFDQSxrQkFBa0IsR0FBRztBQUNyQixzQkFBc0I7QUFDdEIsMEJBQTBCO0FBQzFCLGlGQUFpRixJQUFJO0FBQ3JGLDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUIsK0VBQStFLElBQUksS0FBSyxRQUFRO0FBQ2hHLDBCQUEwQjtBQUMxQixzQkFBc0I7QUFDdEIsc0JBQXNCO0FBQ3RCLHNFQUFzRSxRQUFRLDBCQUEwQixJQUFJLHlCQUF5QixPQUFPLEdBQUcsSUFBSTtBQUNuSjtBQUNBLDhCQUE4QjtBQUM5QiwyRUFBMkUsVUFBVSwwQkFBMEIsVUFBVTtBQUN6SCw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0EsMEJBQTBCO0FBQzFCLHlGQUF5RixlQUFlLEdBQUcsS0FBSyxJQUFJO0FBQ3BILDBCQUEwQjtBQUMxQiw4RUFBOEUsRUFBRSxvQkFBb0I7QUFDcEcsMEJBQTBCO0FBQzFCLGdHQUFnRyxzQkFBc0IsR0FBRyw0QkFBNEIsR0FBRztBQUN4SiwwQkFBMEI7QUFDMUIsMEJBQTBCO0FBQzFCLCtFQUErRSxrQkFBa0I7QUFDakcsMEJBQTBCO0FBQzFCO0FBQ0Esc0JBQXNCOztBQUV0QixrQkFBa0IsR0FBRztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNENBQTRDLE9BQU87QUFDbkQ7QUFDQSxrQkFBa0IsR0FBRztBQUNyQixzQkFBc0I7QUFDdEIsMEJBQTBCO0FBQzFCLGlGQUFpRixJQUFJO0FBQ3JGLDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUIsK0VBQStFLElBQUksS0FBSyxRQUFRO0FBQ2hHLDBCQUEwQjtBQUMxQixzQkFBc0I7QUFDdEIsc0JBQXNCO0FBQ3RCLHNFQUFzRSxJQUFJO0FBQzFFLDBCQUEwQjtBQUMxQix5RkFBeUYsZUFBZSxHQUFHLEtBQUssSUFBSTtBQUNwSCwwQkFBMEI7QUFDMUIsOEVBQThFLEVBQUUsb0JBQW9CO0FBQ3BHO0FBQ0Esc0JBQXNCO0FBQ3RCLGtCQUFrQixHQUFHO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0VBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxtRUFBNEI7QUFDNUIsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4R0FBOEc7QUFDOUcsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNIQUFzSDtBQUN0SCxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsc0NBQXNDOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsYUFBYTtBQUMxQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsU0FBUztBQUN0QixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQ0FBc0M7O0FBRXRDO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEMsMERBQTBEOztBQUV4RyxnSUFBZ0k7QUFDaEksMENBQTBDLEVBQUU7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esb0VBQTZC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QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFD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SDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQTREO0FBQ3hGLDZCQUE2Qiw0REFBNEQ7QUFDekY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBCQUEwQjtBQUMvQztBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLDBCQUEwQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUIsMEJBQTBCO0FBQ25EO0FBQ0E7QUFDQTtBQUNB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QUFpQixFQUFFLFNBQVMscUJBQXFCLEVBQUUsaUNBQWlDLHFCQUFxQix3QkFBd0Isa0JBQWtCLEVBQUUsK0NBQStDLG1DQUFtQyxtQkFBbUIsRUFBRSxFQUFFLCtDQUErQyxtQ0FBbUMsbUJBQW1CLEVBQUUsRUFBRSxxQkFBcUIsMkJBQTJCLHlCQUF5QixFQUFFLHNCQUFzQixnQkFBZ0IscUJBQXFCLHFCQUFxQixFQUFFLGdDQUFnQyxxQkFBcUIsRUFBRSwrQkFBK0IscUJBQXFCLEVBQUUsd0NBQXdDLHNCQUFzQixFQUFFLDZDQUE2QyxrQkFBa0IsRUFBRSxvREFBb0QseUJBQXlCLDRCQUE0QixFQUFFLDREQUE0RCw2QkFBNkIsRUFBRSw4REFBOEQsMkNBQTJDLEVBQUU7O0FBRS9vNkg7Ozs7Ozs7QUNQQTtBQUNBOzs7QUFHQTtBQUNBLHFDQUFzQyxrQ0FBa0MsdUJBQXVCLHFCQUFxQiw4Q0FBNkQscVJBQXFVLEdBQUcscUJBQXFCLGtDQUFrQyx3QkFBd0IsdUJBQXVCLG9CQUFvQixxREFBcUQsbUJBQW1CLHlCQUF5QiwyQkFBMkIsc0JBQXNCLHdCQUF3QixtQkFBbUIsb0ZBQW9GLCtFQUErRSx1RUFBdUUsNkRBQTZELEdBQUc7O0FBRTFsQzs7Ozs7OztBQ1BBLGdGOzs7Ozs7QUNBQSxrRjs7Ozs7O0FDQUEsaUY7Ozs7OztBQ0FBLGdGIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGNodW5rSWRzLCBtb3JlTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMpIHtcbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdLCByZXN1bHQ7XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihjaHVua0lkcywgbW9yZU1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzKTtcbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdH07XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdHMgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MTY6IDBcbiBcdH07XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuIFx0Ly8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuIFx0Ly8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSBmdW5jdGlvbiByZXF1aXJlRW5zdXJlKGNodW5rSWQpIHtcbiBcdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhID09PSAwKSB7XG4gXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsgcmVzb2x2ZSgpOyB9KTtcbiBcdFx0fVxuXG4gXHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRDaHVua0RhdGFbMl07XG4gXHRcdH1cblxuIFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG4gXHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF07XG4gXHRcdH0pO1xuIFx0XHRpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlO1xuXG4gXHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04JztcbiBcdFx0c2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiBcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjAwMDA7XG5cbiBcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcbiBcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdH1cbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuanNcIjtcbiBcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUsIDEyMDAwMCk7XG4gXHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdGZ1bmN0aW9uIG9uU2NyaXB0Q29tcGxldGUoKSB7XG4gXHRcdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuIFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4gXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuIFx0XHRcdHZhciBjaHVuayA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuIFx0XHRcdFx0aWYoY2h1bmspIHtcbiBcdFx0XHRcdFx0Y2h1bmtbMV0obmV3IEVycm9yKCdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuJykpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdH1cbiBcdFx0fTtcbiBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXG4gXHRcdHJldHVybiBwcm9taXNlO1xuIFx0fTtcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gb24gZXJyb3IgZnVuY3Rpb24gZm9yIGFzeW5jIGxvYWRpbmdcbiBcdF9fd2VicGFja19yZXF1aXJlX18ub2UgPSBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH07XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTcpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGQzNmEyMjg1NjNkMGU0YmVlNDc2IiwiaW1wb3J0IGluZm8gZnJvbSBcIi4vQVg2SW5mb1wiO1xuXG4vKipcbiAqIEBtb2R1bGUgQVg2VXRpbFxuICovXG5cbmNvbnN0IF90b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgX2ZuVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBvYmplY3RDdG9yU3RyaW5nID0gX2ZuVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG5jb25zdCByZUlzSnNvbiA9IC9eKFtcIiddKFxcXFwufFteXCJcXFxcXFxuXFxyXSkqP1tcIiddfFssOnt9XFxbXFxdMC05LlxcLStFYWVmbG5yLXUgXFxuXFxyXFx0XSkrPyQvLFxuICAgICAgcmVNcyA9IC9eLW1zLS8sXG4gICAgICByZVNuYWtlQ2FzZSA9IC9bXFwtX10oW1xcZGEtel0pL2dpLFxuICAgICAgcmVDYW1lbENhc2UgPSAvKFtBLVpdKS9nLFxuICAgICAgcmVEb3QgPSAvXFwuLyxcbiAgICAgIHJlSW50ID0gL1stfCtdP1tcXERdL2dpLFxuICAgICAgcmVOb3ROdW0gPSAvXFxEL2dpLFxuICAgICAgcmVNb25leVNwbGl0ID0gbmV3IFJlZ0V4cCgnKFswLTldKShbMC05XVswLTldWzAtOV1bLC5dKScpLFxuICAgICAgcmVBbXAgPSAvJi9nLFxuICAgICAgcmVFcSA9IC89LyxcbiAgICAgIHJlQ2xhc3NOYW1lU3BsaXQgPSAvWyBdKy9nO1xuXG5mdW5jdGlvbiBlYWNoKE8sIF9mbikge1xuICBpZiAoaXNOb3RoaW5nKE8pKSByZXR1cm4gW107XG4gIGxldCBrZXksXG4gICAgICBpID0gMCxcbiAgICAgIGwgPSBPLmxlbmd0aCxcbiAgICAgIGlzT2JqID0gbCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBPID09PSBcImZ1bmN0aW9uXCI7XG4gIGlmIChpc09iaikge1xuICAgIGZvciAoa2V5IGluIE8pIHtcbiAgICAgIGlmICh0eXBlb2YgT1trZXldICE9IFwidW5kZWZpbmVkXCIpIGlmIChfZm4uY2FsbChPW2tleV0sIGtleSwgT1trZXldKSA9PT0gZmFsc2UpIGJyZWFrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKDsgaSA8IGw7KSB7XG4gICAgICBpZiAodHlwZW9mIE9baV0gIT0gXCJ1bmRlZmluZWRcIikgaWYgKF9mbi5jYWxsKE9baV0sIGksIE9baSsrXSkgPT09IGZhbHNlKSBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIE87XG59XG5cbmZ1bmN0aW9uIHNlYXJjaChPLCBfZm4pIHtcbiAgaWYgKGlzTm90aGluZyhPKSkgcmV0dXJuIC0xO1xuICBpZiAoaXNPYmplY3QoTykpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gTykge1xuICAgICAgaWYgKHR5cGVvZiBPW2tleV0gIT0gXCJ1bmRlZmluZWRcIiAmJiBpc0Z1bmN0aW9uKF9mbikgJiYgX2ZuLmNhbGwoT1trZXldLCBrZXksIE9ba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgaWYgKE9ba2V5XSA9PSBfZm4pIHtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gTy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh0eXBlb2YgT1tpXSAhPSBcInVuZGVmaW5lZFwiICYmIGlzRnVuY3Rpb24oX2ZuKSAmJiBfZm4uY2FsbChPW2ldLCBpLCBPW2ldKSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgaWYgKE9baV0gPT0gX2ZuKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoTywgX2ZuKSB7XG4gIGlmIChpc05vdGhpbmcoTykpIHJldHVybiBbXTtcbiAgbGV0IGssXG4gICAgICBpID0gMCxcbiAgICAgIGwgPSBPLmxlbmd0aCxcbiAgICAgIHJlc3VsdHMgPSBbXSxcbiAgICAgIGZuUmVzdWx0O1xuICBpZiAoaXNPYmplY3QoTykpIHtcbiAgICBmb3IgKGsgaW4gTykge1xuICAgICAgaWYgKHR5cGVvZiBPW2tdICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKGZuUmVzdWx0ID0gX2ZuLmNhbGwoT1trXSwgaywgT1trXSkpIHJlc3VsdHMucHVzaChPW2tdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICg7IGkgPCBsOykge1xuICAgICAgaWYgKHR5cGVvZiBPW2ldICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKGZuUmVzdWx0ID0gX2ZuLmNhbGwoT1tpXSwgaSwgT1tpXSkpIHJlc3VsdHMucHVzaChPW2ldKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gdG9Kc29uKE8pIHtcbiAgbGV0IGpzb25TdHJpbmcgPSBcIlwiO1xuICBpZiAoaXNBcnJheShPKSkge1xuICAgIGxldCBpID0gMCxcbiAgICAgICAgbCA9IE8ubGVuZ3RoO1xuICAgIGpzb25TdHJpbmcgKz0gXCJbXCI7XG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChpID4gMCkganNvblN0cmluZyArPSBcIixcIjtcbiAgICAgIGpzb25TdHJpbmcgKz0gdG9Kc29uKE9baV0pO1xuICAgIH1cbiAgICBqc29uU3RyaW5nICs9IFwiXVwiO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KE8pKSB7XG4gICAganNvblN0cmluZyArPSBcIntcIjtcbiAgICBsZXQganNvbk9iamVjdEJvZHkgPSBbXTtcbiAgICBlYWNoKE8sIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBqc29uT2JqZWN0Qm9keS5wdXNoKCdcIicgKyBrZXkgKyAnXCI6ICcgKyB0b0pzb24odmFsdWUpKTtcbiAgICB9KTtcbiAgICBqc29uU3RyaW5nICs9IGpzb25PYmplY3RCb2R5LmpvaW4oXCIsIFwiKTtcbiAgICBqc29uU3RyaW5nICs9IFwifVwiO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKE8pKSB7XG4gICAganNvblN0cmluZyA9ICdcIicgKyBPICsgJ1wiJztcbiAgfSBlbHNlIGlmIChpc051bWJlcihPKSkge1xuICAgIGpzb25TdHJpbmcgPSBPO1xuICB9IGVsc2UgaWYgKGlzVW5kZWZpbmVkKE8pKSB7XG4gICAganNvblN0cmluZyA9IFwidW5kZWZpbmVkXCI7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihPKSkge1xuICAgIGpzb25TdHJpbmcgPSAnXCJ7RnVuY3Rpb259XCInO1xuICB9IGVsc2Uge1xuICAgIGpzb25TdHJpbmcgPSBPO1xuICB9XG4gIHJldHVybiBqc29uU3RyaW5nO1xufVxuXG5mdW5jdGlvbiBwYXJzZUpzb24oc3RyLCBmb3JjZSkge1xuICBpZiAoZm9yY2UgfHwgcmVJc0pzb24udGVzdChzdHIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJycsICdyZXR1cm4gJyArIHN0cikoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4geyBlcnJvcjogNTAwLCBtc2c6ICdzeW50YXggZXJyb3InIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IGVycm9yOiA1MDAsIG1zZzogJ3N5bnRheCBlcnJvcicgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUeXBlKE8pIHtcbiAgbGV0IHR5cGVOYW1lO1xuICBpZiAoTyAhPSBudWxsICYmIE8gPT0gTy53aW5kb3cpIHtcbiAgICB0eXBlTmFtZSA9IFwid2luZG93XCI7XG4gIH0gZWxzZSBpZiAoISEoTyAmJiBPLm5vZGVUeXBlID09IDEpKSB7XG4gICAgdHlwZU5hbWUgPSBcImVsZW1lbnRcIjtcbiAgfSBlbHNlIGlmICghIShPICYmIE8ubm9kZVR5cGUgPT0gMTEpKSB7XG4gICAgdHlwZU5hbWUgPSBcImZyYWdtZW50XCI7XG4gIH0gZWxzZSBpZiAoTyA9PT0gbnVsbCkge1xuICAgIHR5cGVOYW1lID0gXCJudWxsXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIE8gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0eXBlTmFtZSA9IFwidW5kZWZpbmVkXCI7XG4gIH0gZWxzZSBpZiAoX3RvU3RyaW5nLmNhbGwoTykgPT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgIHR5cGVOYW1lID0gXCJvYmplY3RcIjtcbiAgfSBlbHNlIGlmIChfdG9TdHJpbmcuY2FsbChPKSA9PSBcIltvYmplY3QgQXJyYXldXCIpIHtcbiAgICB0eXBlTmFtZSA9IFwiYXJyYXlcIjtcbiAgfSBlbHNlIGlmIChfdG9TdHJpbmcuY2FsbChPKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiKSB7XG4gICAgdHlwZU5hbWUgPSBcInN0cmluZ1wiO1xuICB9IGVsc2UgaWYgKF90b1N0cmluZy5jYWxsKE8pID09IFwiW29iamVjdCBOdW1iZXJdXCIpIHtcbiAgICB0eXBlTmFtZSA9IFwibnVtYmVyXCI7XG4gIH0gZWxzZSBpZiAoX3RvU3RyaW5nLmNhbGwoTykgPT0gXCJbb2JqZWN0IE5vZGVMaXN0XVwiKSB7XG4gICAgdHlwZU5hbWUgPSBcIm5vZGVsaXN0XCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIE8gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHR5cGVOYW1lID0gXCJmdW5jdGlvblwiO1xuICB9XG4gIHJldHVybiB0eXBlTmFtZTtcbn1cblxuZnVuY3Rpb24gaXNXaW5kb3coTykge1xuICByZXR1cm4gTyAhPSBudWxsICYmIE8gPT0gTy53aW5kb3c7XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChPKSB7XG4gIHJldHVybiAhIShPICYmIChPLm5vZGVUeXBlID09IDEgfHwgTy5ub2RlVHlwZSA9PSAxMSkpO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChPKSB7XG4gIHJldHVybiBfdG9TdHJpbmcuY2FsbChPKSA9PSBcIltvYmplY3QgT2JqZWN0XVwiO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KE8pIHtcbiAgcmV0dXJuIF90b1N0cmluZy5jYWxsKE8pID09IFwiW29iamVjdCBBcnJheV1cIjtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbihPKSB7XG4gIHJldHVybiB0eXBlb2YgTyA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG5mdW5jdGlvbiBpc1N0cmluZyhPKSB7XG4gIHJldHVybiBfdG9TdHJpbmcuY2FsbChPKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihPKSB7XG4gIHJldHVybiBfdG9TdHJpbmcuY2FsbChPKSA9PSBcIltvYmplY3QgTnVtYmVyXVwiO1xufVxuXG5mdW5jdGlvbiBpc05vZGVsaXN0KE8pIHtcbiAgcmV0dXJuICEhKF90b1N0cmluZy5jYWxsKE8pID09IFwiW29iamVjdCBOb2RlTGlzdF1cIiB8fCB0eXBlb2YgTyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBPICYmIE9bMF0gJiYgT1swXS5ub2RlVHlwZSA9PSAxKTtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoTykge1xuICByZXR1cm4gdHlwZW9mIE8gPT09IFwidW5kZWZpbmVkXCI7XG59XG5cbmZ1bmN0aW9uIGlzTm90aGluZyhPKSB7XG4gIHJldHVybiB0eXBlb2YgTyA9PT0gXCJ1bmRlZmluZWRcIiB8fCBPID09PSBudWxsIHx8IE8gPT09IFwiXCI7XG59XG5cbmZ1bmN0aW9uIGlzRGF0ZShPKSB7XG4gIHJldHVybiBPIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oTy52YWx1ZU9mKCkpO1xufVxuXG5mdW5jdGlvbiBpc0RhdGVGb3JtYXQoTykge1xuICBsZXQgcmVzdWx0ID0gZmFsc2U7XG5cbiAgaWYgKCFPKSB7fSBlbHNlIGlmIChPIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oTy52YWx1ZU9mKCkpKSB7XG4gICAgcmVzdWx0ID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoTy5sZW5ndGggPiA3KSB7XG4gICAgICBpZiAoZGF0ZShPKSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIE8gPSBPLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgaWYgKE8ubGVuZ3RoID4gNykge1xuICAgICAgbGV0IG1tID0gTy5zdWJzdHIoNCwgMiksXG4gICAgICAgICAgZGQgPSBPLnN1YnN0cig2LCAyKTtcblxuICAgICAgTyA9IGRhdGUoTyk7XG4gICAgICBpZiAoTy5nZXRNb250aCgpID09IG1tIC0gMSAmJiBPLmdldERhdGUoKSA9PSBkZCkge1xuICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KE8pIHtcbiAgbGV0IHByb3RvLCBjb25zdHJ1Y3RvcjtcblxuICBpZiAoIU8gfHwgX3RvU3RyaW5nLmNhbGwoTykgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHJldHVybiBmYWxzZTtcbiAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTyk7XG5cbiAgaWYgKCFwcm90bykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3RydWN0b3IgPSBfaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgXCJjb25zdHJ1Y3RvclwiKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHR5cGVvZiBjb25zdHJ1Y3RvciA9PT0gXCJmdW5jdGlvblwiICYmIF9mblRvU3RyaW5nLmNhbGwoY29uc3RydWN0b3IpID09PSBvYmplY3RDdG9yU3RyaW5nO1xufVxuXG5mdW5jdGlvbiBmaXJzdChPKSB7XG4gIGlmIChpc09iamVjdChPKSkge1xuICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoTyk7XG4gICAgbGV0IGl0ZW0gPSB7fTtcbiAgICBpdGVtW2tleXNbMF1dID0gT1trZXlzWzBdXTtcbiAgICByZXR1cm4gaXRlbTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KE8pKSB7XG4gICAgcmV0dXJuIE9bMF07XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihcIkFYNlV0aWwub2JqZWN0LmZpcnN0XCIsIFwiYXJndW1lbnQgdHlwZSBlcnJvclwiKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxhc3QoTykge1xuICBpZiAoaXNPYmplY3QoTykpIHtcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKE8pO1xuICAgIGxldCBpdGVtID0ge307XG4gICAgaXRlbVtrZXlzW2tleXMubGVuZ3RoIC0gMV1dID0gT1trZXlzW2tleXMubGVuZ3RoIC0gMV1dO1xuICAgIHJldHVybiBpdGVtO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoTykpIHtcbiAgICByZXR1cm4gT1tPLmxlbmd0aCAtIDFdO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJBWDZVdGlsLm9iamVjdC5sYXN0XCIsIFwiYXJndW1lbnQgdHlwZSBlcnJvclwiKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldENvb2tpZShjbiwgY3YsIGV4ZGF5cywgb3B0cykge1xuICBsZXQgZXhwaXJlO1xuICBpZiAodHlwZW9mIGV4ZGF5cyA9PT0gXCJudW1iZXJcIikge1xuICAgIGV4cGlyZSA9IG5ldyBEYXRlKCk7XG4gICAgZXhwaXJlLnNldERhdGUoZXhwaXJlLmdldERhdGUoKSArIGV4ZGF5cyk7XG4gIH1cbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIHJldHVybiBkb2MuY29va2llID0gW2VzY2FwZShjbiksICc9JywgZXNjYXBlKGN2KSwgZXhwaXJlID8gXCI7IGV4cGlyZXM9XCIgKyBleHBpcmUudG9VVENTdHJpbmcoKSA6IFwiXCIsIC8vIHVzZSBleHBpcmVzIGF0dHJpYnV0ZSwgbWF4LWFnZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG4gIG9wdHMucGF0aCA/IFwiOyBwYXRoPVwiICsgb3B0cy5wYXRoIDogXCJcIiwgb3B0cy5kb21haW4gPyBcIjsgZG9tYWluPVwiICsgb3B0cy5kb21haW4gOiBcIlwiLCBvcHRzLnNlY3VyZSA/IFwiOyBzZWN1cmVcIiA6IFwiXCJdLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkge1xuICBsZXQgbmFtZSA9IGNuYW1lICsgXCI9XCI7XG4gIGxldCBjYSA9IGRvYy5jb29raWUuc3BsaXQoJzsnKSxcbiAgICAgIGkgPSAwLFxuICAgICAgbCA9IGNhLmxlbmd0aDtcbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBsZXQgYyA9IGNhW2ldO1xuICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIGMgPSBjLnN1YnN0cmluZygxKTtcbiAgICBpZiAoYy5pbmRleE9mKG5hbWUpICE9IC0xKSByZXR1cm4gdW5lc2NhcGUoYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKSk7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmZ1bmN0aW9uIGFsZXJ0KE8pIHtcbiAgd2luLmFsZXJ0KHRvSnNvbihPKSk7XG4gIHJldHVybiBPO1xufVxuXG5mdW5jdGlvbiBsZWZ0KHN0ciwgcG9zKSB7XG4gIGlmICh0eXBlb2Ygc3RyID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBwb3MgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBcIlwiO1xuICBpZiAoaXNTdHJpbmcocG9zKSkge1xuICAgIHJldHVybiBzdHIuaW5kZXhPZihwb3MpID4gLTEgPyBzdHIuc3Vic3RyKDAsIHN0ci5pbmRleE9mKHBvcykpIDogXCJcIjtcbiAgfSBlbHNlIGlmIChpc051bWJlcihwb3MpKSB7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgcG9zKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiByaWdodChzdHIsIHBvcykge1xuICBpZiAodHlwZW9mIHN0ciA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgcG9zID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gXCJcIjtcbiAgc3RyID0gJycgKyBzdHI7XG4gIGlmIChpc1N0cmluZyhwb3MpKSB7XG4gICAgcmV0dXJuIHN0ci5sYXN0SW5kZXhPZihwb3MpID4gLTEgPyBzdHIuc3Vic3RyKHN0ci5sYXN0SW5kZXhPZihwb3MpICsgMSkgOiBcIlwiO1xuICB9IGVsc2UgaWYgKGlzTnVtYmVyKHBvcykpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cihzdHIubGVuZ3RoIC0gcG9zKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYW1lbENhc2Uoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShyZU1zLCBcIm1zLVwiKS5yZXBsYWNlKHJlU25ha2VDYXNlLCBmdW5jdGlvbiAoYWxsLCBsZXR0ZXIpIHtcbiAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzbmFrZUNhc2Uoc3RyKSB7XG4gIHJldHVybiBjYW1lbENhc2Uoc3RyKS5yZXBsYWNlKHJlQ2FtZWxDYXNlLCBmdW5jdGlvbiAoYWxsLCBsZXR0ZXIpIHtcbiAgICByZXR1cm4gXCItXCIgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG51bWJlcihzdHIsIGNvbmQpIHtcbiAgbGV0IHJlc3VsdCxcbiAgICAgIHBhaXIgPSAoJycgKyBzdHIpLnNwbGl0KHJlRG90KSxcbiAgICAgIGlzTWludXMsXG4gICAgICByZXR1cm5WYWx1ZTtcblxuICBpc01pbnVzID0gTnVtYmVyKHBhaXJbMF0ucmVwbGFjZSgvLC9nLCBcIlwiKSkgPCAwIHx8IHBhaXJbMF0gPT0gXCItMFwiO1xuICByZXR1cm5WYWx1ZSA9IDAuMDtcbiAgcGFpclswXSA9IHBhaXJbMF0ucmVwbGFjZShyZUludCwgXCJcIik7XG5cbiAgaWYgKHBhaXJbMV0pIHtcbiAgICBwYWlyWzFdID0gcGFpclsxXS5yZXBsYWNlKHJlTm90TnVtLCBcIlwiKTtcbiAgICByZXR1cm5WYWx1ZSA9IE51bWJlcihwYWlyWzBdICsgXCIuXCIgKyBwYWlyWzFdKSB8fCAwO1xuICB9IGVsc2Uge1xuICAgIHJldHVyblZhbHVlID0gTnVtYmVyKHBhaXJbMF0pIHx8IDA7XG4gIH1cbiAgcmVzdWx0ID0gaXNNaW51cyA/IC1yZXR1cm5WYWx1ZSA6IHJldHVyblZhbHVlO1xuXG4gIGVhY2goY29uZCwgZnVuY3Rpb24gKGssIGMpIHtcbiAgICBpZiAoayA9PSBcInJvdW5kXCIpIHtcbiAgICAgIGlmIChpc051bWJlcihjKSkge1xuICAgICAgICBpZiAoYyA8IDApIHtcbiAgICAgICAgICByZXN1bHQgPSArKE1hdGgucm91bmQocmVzdWx0ICsgXCJlLVwiICsgTWF0aC5hYnMoYykpICsgXCJlK1wiICsgTWF0aC5hYnMoYykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9ICsoTWF0aC5yb3VuZChyZXN1bHQgKyBcImUrXCIgKyBjKSArIFwiZS1cIiArIGMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBNYXRoLnJvdW5kKHJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChrID09IFwiZmxvb3JcIikge1xuICAgICAgcmVzdWx0ID0gTWF0aC5mbG9vcihyZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoayA9PSBcImNlaWxcIikge1xuICAgICAgcmVzdWx0ID0gTWF0aC5jZWlsKHJlc3VsdCk7XG4gICAgfSBlbHNlIGlmIChrID09IFwibW9uZXlcIikge1xuICAgICAgcmVzdWx0ID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB2YXIgdHh0TnVtYmVyID0gJycgKyB2YWw7XG4gICAgICAgIGlmIChpc05hTih0eHROdW1iZXIpIHx8IHR4dE51bWJlciA9PSBcIlwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGFyck51bWJlciA9IHR4dE51bWJlci5zcGxpdCgnLicpO1xuICAgICAgICAgIGFyck51bWJlclswXSArPSAnLic7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgYXJyTnVtYmVyWzBdID0gYXJyTnVtYmVyWzBdLnJlcGxhY2UocmVNb25leVNwbGl0LCAnJDEsJDInKTtcbiAgICAgICAgICB9IHdoaWxlIChyZU1vbmV5U3BsaXQudGVzdChhcnJOdW1iZXJbMF0pKTtcbiAgICAgICAgICBpZiAoYXJyTnVtYmVyLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJOdW1iZXIuam9pbignJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJOdW1iZXJbMF0uc3BsaXQoJy4nKVswXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0ocmVzdWx0KTtcbiAgICB9IGVsc2UgaWYgKGsgPT0gXCJhYnNcIikge1xuICAgICAgcmVzdWx0ID0gTWF0aC5hYnMoTnVtYmVyKHJlc3VsdCkpO1xuICAgIH0gZWxzZSBpZiAoayA9PSBcImJ5dGVcIikge1xuICAgICAgcmVzdWx0ID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB2YWwgPSBOdW1iZXIocmVzdWx0KTtcbiAgICAgICAgdmFyIG5Vbml0ID0gXCJLQlwiO1xuICAgICAgICB2YXIgbXlCeXRlID0gdmFsIC8gMTAyNDtcbiAgICAgICAgaWYgKG15Qnl0ZSAvIDEwMjQgPiAxKSB7XG4gICAgICAgICAgblVuaXQgPSBcIk1CXCI7XG4gICAgICAgICAgbXlCeXRlID0gbXlCeXRlIC8gMTAyNDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobXlCeXRlIC8gMTAyNCA+IDEpIHtcbiAgICAgICAgICBuVW5pdCA9IFwiR0JcIjtcbiAgICAgICAgICBteUJ5dGUgPSBteUJ5dGUgLyAxMDI0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudW1iZXIobXlCeXRlLCB7IHJvdW5kOiAxIH0pICsgblVuaXQ7XG4gICAgICB9KHJlc3VsdCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KE8pIHtcbiAgaWYgKHR5cGVvZiBPLmxlbmd0aCAhPSBcInVuZGVmaW5lZFwiKSByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoTyk7XG4gIHJldHVybiBbXTtcbn1cblxuZnVuY3Rpb24gcGFyYW0oTywgY29uZCkge1xuICB2YXIgcDtcbiAgaWYgKGlzU3RyaW5nKE8pICYmIHR5cGVvZiBjb25kICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbmQgPT0gXCJwYXJhbVwiKSB7XG4gICAgcmV0dXJuIE87XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcoTykgJiYgdHlwZW9mIGNvbmQgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uZCA9PSBcIm9iamVjdFwiIHx8IGlzU3RyaW5nKE8pICYmIHR5cGVvZiBjb25kID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcCA9IHt9O1xuICAgIGVhY2goTy5zcGxpdChyZUFtcCksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5zcGxpdChyZUVxKTtcbiAgICAgIGlmICghcFtpdGVtWzBdXSkgcFtpdGVtWzBdXSA9IGl0ZW1bMV07ZWxzZSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhwW2l0ZW1bMF1dKSkgcFtpdGVtWzBdXSA9IFtwW2l0ZW1bMF1dXTtcbiAgICAgICAgcFtpdGVtWzBdXS5wdXNoKGl0ZW1bMV0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwO1xuICB9IGVsc2Uge1xuICAgIHAgPSBbXTtcbiAgICBlYWNoKE8sIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICBwLnB1c2goayArIFwiPVwiICsgZXNjYXBlKHYpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcC5qb2luKCcmJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5jb2RlKHMpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlKHMpIHtcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTtcbn1cblxuZnVuY3Rpb24gZXJyb3IoKSB7XG4gIGluZm8ub25lcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBsb2NhbERhdGUoeXksIG1tLCBkZCwgaGgsIG1pLCBzcykge1xuICB2YXIgdXRjRCwgbG9jYWxEO1xuICBsb2NhbEQgPSBuZXcgRGF0ZSgpO1xuICBpZiAobW0gPCAwKSBtbSA9IDA7XG4gIGlmICh0eXBlb2YgaGggPT09IFwidW5kZWZpbmVkXCIpIGhoID0gMTI7XG4gIGlmICh0eXBlb2YgbWkgPT09IFwidW5kZWZpbmVkXCIpIG1pID0gMDtcbiAgdXRjRCA9IG5ldyBEYXRlKERhdGUuVVRDKHl5LCBtbSwgZGQgfHwgMSwgaGgsIG1pLCBzcyB8fCAwKSk7XG5cbiAgaWYgKG1tID09IDAgJiYgZGQgPT0gMSAmJiB1dGNELmdldFVUQ0hvdXJzKCkgKyB1dGNELmdldFRpbWV6b25lT2Zmc2V0KCkgLyA2MCA8IDApIHtcbiAgICB1dGNELnNldFVUQ0hvdXJzKDApO1xuICB9IGVsc2Uge1xuICAgIHV0Y0Quc2V0VVRDSG91cnModXRjRC5nZXRVVENIb3VycygpICsgdXRjRC5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjApO1xuICB9XG4gIHJldHVybiB1dGNEO1xufVxuXG5mdW5jdGlvbiBkYXRlKGQsIGNvbmQpIHtcbiAgbGV0IHl5LFxuICAgICAgbW0sXG4gICAgICBkZCxcbiAgICAgIGhoLFxuICAgICAgbWksXG4gICAgICBhRGF0ZVRpbWUsXG4gICAgICBhVGltZXMsXG4gICAgICBhVGltZSxcbiAgICAgIGFEYXRlLFxuICAgICAgdmEsXG4gICAgICBJU09fODYwMSA9IC9eXFxkezR9KC1cXGRcXGQoLVxcZFxcZChUXFxkXFxkOlxcZFxcZCg6XFxkXFxkKT8oXFwuXFxkKyk/KChbKy1dXFxkXFxkOlxcZFxcZCl8Wik/KT8pPyk/JC9pLFxuICAgICAgSVNPXzg2MDFfRlVMTCA9IC9eXFxkezR9LVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGQoXFwuXFxkKyk/KChbKy1dXFxkXFxkOlxcZFxcZCl8Wik/JC9pO1xuXG4gIGlmIChpc1N0cmluZyhkKSkge1xuICAgIGlmIChkLmxlbmd0aCA9PSAwKSB7XG4gICAgICBkID0gbmV3IERhdGUoKTtcbiAgICB9IGVsc2UgaWYgKGQubGVuZ3RoID4gMTUpIHtcbiAgICAgIGlmIChJU09fODYwMV9GVUxMLnRlc3QoZCkgfHwgSVNPXzg2MDEudGVzdChkKSkge1xuICAgICAgICBkID0gbmV3IERhdGUoZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhRGF0ZVRpbWUgPSBkLnNwbGl0KC8gL2cpLCBhVGltZXMsIGFUaW1lLCBhRGF0ZSA9IGFEYXRlVGltZVswXS5zcGxpdCgvXFxEL2cpLCB5eSA9IGFEYXRlWzBdO1xuICAgICAgICBtbSA9IHBhcnNlRmxvYXQoYURhdGVbMV0pO1xuICAgICAgICBkZCA9IHBhcnNlRmxvYXQoYURhdGVbMl0pO1xuICAgICAgICBhVGltZSA9IGFEYXRlVGltZVsxXSB8fCBcIjA5OjAwXCI7XG4gICAgICAgIGFUaW1lcyA9IGFUaW1lLnN1YnN0cmluZygwLCA1KS5zcGxpdChcIjpcIik7XG4gICAgICAgIGhoID0gcGFyc2VGbG9hdChhVGltZXNbMF0pO1xuICAgICAgICBtaSA9IHBhcnNlRmxvYXQoYVRpbWVzWzFdKTtcbiAgICAgICAgaWYgKHJpZ2h0KGFUaW1lLCAyKSA9PT0gXCJBTVwiIHx8IHJpZ2h0KGFUaW1lLCAyKSA9PT0gXCJQTVwiKSBoaCArPSAxMjtcbiAgICAgICAgZCA9IGxvY2FsRGF0ZSh5eSwgbW0gLSAxLCBkZCwgaGgsIG1pKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGQubGVuZ3RoID09IDE0KSB7XG4gICAgICB2YSA9IGQucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgICAgZCA9IGxvY2FsRGF0ZSh2YS5zdWJzdHIoMCwgNCksIHZhLnN1YnN0cig0LCAyKSAtIDEsIG51bWJlcih2YS5zdWJzdHIoNiwgMikpLCBudW1iZXIodmEuc3Vic3RyKDgsIDIpKSwgbnVtYmVyKHZhLnN1YnN0cigxMCwgMikpLCBudW1iZXIodmEuc3Vic3RyKDEyLCAyKSkpO1xuICAgIH0gZWxzZSBpZiAoZC5sZW5ndGggPiA3KSB7XG4gICAgICB2YSA9IGQucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgICAgZCA9IGxvY2FsRGF0ZSh2YS5zdWJzdHIoMCwgNCksIHZhLnN1YnN0cig0LCAyKSAtIDEsIG51bWJlcih2YS5zdWJzdHIoNiwgMikpKTtcbiAgICB9IGVsc2UgaWYgKGQubGVuZ3RoID4gNCkge1xuICAgICAgdmEgPSBkLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgICAgIGQgPSBsb2NhbERhdGUodmEuc3Vic3RyKDAsIDQpLCB2YS5zdWJzdHIoNCwgMikgLSAxLCAxKTtcbiAgICB9IGVsc2UgaWYgKGQubGVuZ3RoID4gMikge1xuICAgICAgdmEgPSBkLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgICAgIHJldHVybiBsb2NhbERhdGUodmEuc3Vic3RyKDAsIDQpLCB2YS5zdWJzdHIoNCwgMikgLSAxLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZCA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgY29uZCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBkO1xuICB9IGVsc2Uge1xuICAgIGlmIChcImFkZFwiIGluIGNvbmQpIHtcbiAgICAgIGQgPSBmdW5jdGlvbiAoX2QsIG9wdHMpIHtcbiAgICAgICAgbGV0IHl5LFxuICAgICAgICAgICAgbW0sXG4gICAgICAgICAgICBkZCxcbiAgICAgICAgICAgIG14ZGQsXG4gICAgICAgICAgICBEeU1pbGxpID0gMTAwMCAqIDYwICogNjAgKiAyNDtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdHNbXCJkXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgX2Quc2V0VGltZShfZC5nZXRUaW1lKCkgKyBvcHRzW1wiZFwiXSAqIER5TWlsbGkpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzW1wibVwiXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHl5ID0gX2QuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICBtbSA9IF9kLmdldE1vbnRoKCk7XG4gICAgICAgICAgZGQgPSBfZC5nZXREYXRlKCk7XG4gICAgICAgICAgeXkgPSB5eSArIHBhcnNlSW50KG9wdHNbXCJtXCJdIC8gMTIpO1xuICAgICAgICAgIG1tICs9IG9wdHNbXCJtXCJdICUgMTI7XG4gICAgICAgICAgbXhkZCA9IGRheXNPZk1vbnRoKHl5LCBtbSk7XG4gICAgICAgICAgaWYgKG14ZGQgPCBkZCkgZGQgPSBteGRkO1xuICAgICAgICAgIF9kID0gbmV3IERhdGUoeXksIG1tLCBkZCwgMTIpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzW1wieVwiXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIF9kLnNldFRpbWUoX2QuZ2V0VGltZSgpICsgb3B0c1tcInlcIl0gKiAzNjUgKiBEeU1pbGxpKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0c1tcImhcIl0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBfZC5zZXRUaW1lKF9kLmdldFRpbWUoKSArIG9wdHNbXCJoXCJdICogMTAwMCAqIDYwICogNjApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9kO1xuICAgICAgfShuZXcgRGF0ZShkKSwgY29uZFtcImFkZFwiXSk7XG4gICAgfVxuICAgIGlmIChcInNldFwiIGluIGNvbmQpIHtcbiAgICAgIGQgPSBmdW5jdGlvbiAoX2QsIG9wdHMpIHtcbiAgICAgICAgbGV0IHl5LFxuICAgICAgICAgICAgbW0sXG4gICAgICAgICAgICBkZCxcbiAgICAgICAgICAgIHByb2Nlc3NvciA9IHtcbiAgICAgICAgICBcImZpcnN0RGF5T2ZNb250aFwiOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgeXkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBtbSA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgIGRkID0gMTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh5eSwgbW0sIGRkLCAxMik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImxhc3REYXlPZk1vbnRoXCI6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB5eSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIG1tID0gZGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgZGQgPSBkYXlzT2ZNb250aCh5eSwgbW0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHl5LCBtbSwgZGQsIDEyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzIGluIHByb2Nlc3Nvcikge1xuICAgICAgICAgIHJldHVybiBwcm9jZXNzb3Jbb3B0c10oX2QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfZDtcbiAgICAgICAgfVxuICAgICAgfShuZXcgRGF0ZShkKSwgY29uZFtcInNldFwiXSk7XG4gICAgfVxuICAgIGlmIChcInJldHVyblwiIGluIGNvbmQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgbGV0IGZTdHIgPSBjb25kW1wicmV0dXJuXCJdLFxuICAgICAgICAgICAgblksXG4gICAgICAgICAgICBuTSxcbiAgICAgICAgICAgIG5ELFxuICAgICAgICAgICAgbkgsXG4gICAgICAgICAgICBuTU0sXG4gICAgICAgICAgICBuUyxcbiAgICAgICAgICAgIG5EVyxcbiAgICAgICAgICAgIHlyZSxcbiAgICAgICAgICAgIHJlZ1ksXG4gICAgICAgICAgICBtcmUsXG4gICAgICAgICAgICByZWdNLFxuICAgICAgICAgICAgZHJlLFxuICAgICAgICAgICAgcmVnRCxcbiAgICAgICAgICAgIGhyZSxcbiAgICAgICAgICAgIHJlZ0gsXG4gICAgICAgICAgICBtaXJlLFxuICAgICAgICAgICAgcmVnTUksXG4gICAgICAgICAgICBzcmUsXG4gICAgICAgICAgICByZWdTLFxuICAgICAgICAgICAgZHdyZSxcbiAgICAgICAgICAgIHJlZ0RXO1xuXG4gICAgICAgIG5ZID0gZC5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgICBuTSA9IHNldERpZ2l0KGQuZ2V0TW9udGgoKSArIDEsIDIpO1xuICAgICAgICBuRCA9IHNldERpZ2l0KGQuZ2V0RGF0ZSgpLCAyKTtcbiAgICAgICAgbkggPSBzZXREaWdpdChkLmdldEhvdXJzKCksIDIpO1xuICAgICAgICBuTU0gPSBzZXREaWdpdChkLmdldE1pbnV0ZXMoKSwgMik7XG4gICAgICAgIG5TID0gc2V0RGlnaXQoZC5nZXRTZWNvbmRzKCksIDIpO1xuICAgICAgICBuRFcgPSBkLmdldERheSgpO1xuXG4gICAgICAgIHlyZSA9IC9bXnldKih5eXl5KVteeV0qL2dpO1xuICAgICAgICB5cmUuZXhlYyhmU3RyKTtcbiAgICAgICAgcmVnWSA9IFJlZ0V4cC4kMTtcbiAgICAgICAgbXJlID0gL1tebV0qKE1NKVtebV0qL2c7XG4gICAgICAgIG1yZS5leGVjKGZTdHIpO1xuICAgICAgICByZWdNID0gUmVnRXhwLiQxO1xuICAgICAgICBkcmUgPSAvW15kXSooZGQpW15kXSovZ2k7XG4gICAgICAgIGRyZS5leGVjKGZTdHIpO1xuICAgICAgICByZWdEID0gUmVnRXhwLiQxO1xuICAgICAgICBocmUgPSAvW15oXSooaGgpW15oXSovZ2k7XG4gICAgICAgIGhyZS5leGVjKGZTdHIpO1xuICAgICAgICByZWdIID0gUmVnRXhwLiQxO1xuICAgICAgICBtaXJlID0gL1tebV0qKG1tKVteaV0qL2c7XG4gICAgICAgIG1pcmUuZXhlYyhmU3RyKTtcbiAgICAgICAgcmVnTUkgPSBSZWdFeHAuJDE7XG4gICAgICAgIHNyZSA9IC9bXnNdKihzcylbXnNdKi9naTtcbiAgICAgICAgc3JlLmV4ZWMoZlN0cik7XG4gICAgICAgIHJlZ1MgPSBSZWdFeHAuJDE7XG4gICAgICAgIGR3cmUgPSAvW15kXSooZHcpW153XSovZ2k7XG4gICAgICAgIGR3cmUuZXhlYyhmU3RyKTtcbiAgICAgICAgcmVnRFcgPSBSZWdFeHAuJDE7XG5cbiAgICAgICAgaWYgKHJlZ1kgPT09IFwieXl5eVwiKSB7XG4gICAgICAgICAgZlN0ciA9IGZTdHIucmVwbGFjZShyZWdZLCByaWdodChuWSwgcmVnWS5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVnTSA9PT0gXCJNTVwiKSB7XG4gICAgICAgICAgaWYgKHJlZ00ubGVuZ3RoID09IDEpIG5NID0gZC5nZXRNb250aCgpICsgMTtcbiAgICAgICAgICBmU3RyID0gZlN0ci5yZXBsYWNlKHJlZ00sIG5NKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVnRCA9PT0gXCJkZFwiKSB7XG4gICAgICAgICAgaWYgKHJlZ0QubGVuZ3RoID09IDEpIG5EID0gZC5nZXREYXRlKCk7XG4gICAgICAgICAgZlN0ciA9IGZTdHIucmVwbGFjZShyZWdELCBuRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZ0ggPT09IFwiaGhcIikge1xuICAgICAgICAgIGZTdHIgPSBmU3RyLnJlcGxhY2UocmVnSCwgbkgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWdNSSA9PT0gXCJtbVwiKSB7XG4gICAgICAgICAgZlN0ciA9IGZTdHIucmVwbGFjZShyZWdNSSwgbk1NKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVnUyA9PT0gXCJzc1wiKSB7XG4gICAgICAgICAgZlN0ciA9IGZTdHIucmVwbGFjZShyZWdTLCBuUyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZ0RXID09IFwiZHdcIikge1xuICAgICAgICAgIGZTdHIgPSBmU3RyLnJlcGxhY2UocmVnRFcsIGluZm8ud2Vla05hbWVzW25EV10ubGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmU3RyO1xuICAgICAgfSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGRheShkLCBjb25kKSB7XG4gIGxldCBtZW1vcnlEYXkgPSBkYXRlKGQpLFxuICAgICAgRHlNaWxsaSA9IDEwMDAgKiA2MCAqIDYwICogMjQsXG4gICAgICB0b2RheSA9IG5ldyBEYXRlKCksXG4gICAgICBkaWZmbnVtLFxuICAgICAgdGhpc1llYXJNZW1vcnlEYXk7XG5cbiAgZnVuY3Rpb24gZ2V0RGF5VGltZShfZCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKF9kLmdldFRpbWUoKSAvIER5TWlsbGkpICogRHlNaWxsaTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY29uZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGRpZmZudW0gPSBudW1iZXIoKGdldERheVRpbWUobWVtb3J5RGF5KSAtIGdldERheVRpbWUodG9kYXkpKSAvIER5TWlsbGksIHsgZmxvb3I6IHRydWUgfSk7XG4gICAgcmV0dXJuIGRpZmZudW07XG4gIH0gZWxzZSB7XG4gICAgZGlmZm51bSA9IG51bWJlcigoZ2V0RGF5VGltZShtZW1vcnlEYXkpIC0gZ2V0RGF5VGltZSh0b2RheSkpIC8gRHlNaWxsaSwgeyBmbG9vcjogdHJ1ZSB9KTtcbiAgICBpZiAoY29uZFtcInRvZGF5XCJdKSB7XG4gICAgICB0b2RheSA9IGRhdGUoY29uZC50b2RheSk7XG4gICAgICBkaWZmbnVtID0gbnVtYmVyKChnZXREYXlUaW1lKG1lbW9yeURheSkgLSBnZXREYXlUaW1lKHRvZGF5KSkgLyBEeU1pbGxpLCB7IGZsb29yOiB0cnVlIH0pO1xuICAgIH1cbiAgICBpZiAoY29uZFtcInRoaXNZZWFyXCJdKSB7XG4gICAgICB0aGlzWWVhck1lbW9yeURheSA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIG1lbW9yeURheS5nZXRNb250aCgpLCBtZW1vcnlEYXkuZ2V0RGF0ZSgpKTtcbiAgICAgIGRpZmZudW0gPSBudW1iZXIoKGdldERheVRpbWUodGhpc1llYXJNZW1vcnlEYXkpIC0gZ2V0RGF5VGltZSh0b2RheSkpIC8gRHlNaWxsaSwgeyBmbG9vcjogdHJ1ZSB9KTtcbiAgICAgIGlmIChkaWZmbnVtIDwgMCkge1xuICAgICAgICB0aGlzWWVhck1lbW9yeURheSA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCkgKyAxLCBtZW1vcnlEYXkuZ2V0TW9udGgoKSwgbWVtb3J5RGF5LmdldERhdGUoKSk7XG4gICAgICAgIGRpZmZudW0gPSBudW1iZXIoKGdldERheVRpbWUodGhpc1llYXJNZW1vcnlEYXkpIC0gZ2V0RGF5VGltZSh0b2RheSkpIC8gRHlNaWxsaSwgeyBmbG9vcjogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbmRbXCJhZ2VcIl0pIHtcbiAgICAgIHRoaXNZZWFyTWVtb3J5RGF5ID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgbWVtb3J5RGF5LmdldE1vbnRoKCksIG1lbW9yeURheS5nZXREYXRlKCkpO1xuICAgICAgZGlmZm51bSA9IHRoaXNZZWFyTWVtb3J5RGF5LmdldEZ1bGxZZWFyKCkgLSBtZW1vcnlEYXkuZ2V0RnVsbFllYXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlmZm51bTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3ZWVrc09mTW9udGgoZCkge1xuICBsZXQgbXlEYXRlID0gZGF0ZShkKTtcbiAgcmV0dXJuIHtcbiAgICB5ZWFyOiBteURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICBtb250aDogbXlEYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgIGNvdW50OiBwYXJzZUludChteURhdGUuZ2V0RGF0ZSgpIC8gNyArIDEpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRheXNPZk1vbnRoKHksIG0pIHtcbiAgaWYgKG0gPT0gMyB8fCBtID09IDUgfHwgbSA9PSA4IHx8IG0gPT0gMTApIHtcbiAgICByZXR1cm4gMzA7XG4gIH0gZWxzZSBpZiAobSA9PSAxKSB7XG4gICAgcmV0dXJuIHkgJSA0ID09IDAgJiYgeSAlIDEwMCAhPSAwIHx8IHkgJSA0MDAgPT0gMCA/IDI5IDogMjg7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDMxO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldERpZ2l0KG51bSwgbGVuZ3RoLCBwYWRkZXIsIHJhZGl4KSB7XG4gIGxldCBzID0gbnVtLnRvU3RyaW5nKHJhZGl4IHx8IDEwKTtcbiAgcmV0dXJuIHRpbWVzKHBhZGRlciB8fCAnMCcsIGxlbmd0aCAtIHMubGVuZ3RoKSArIHM7XG59XG5cbmZ1bmN0aW9uIHRpbWVzKHMsIGNvdW50KSB7XG4gIHJldHVybiBjb3VudCA8IDEgPyAnJyA6IG5ldyBBcnJheShjb3VudCArIDEpLmpvaW4ocyk7XG59XG5cbmZ1bmN0aW9uIGZpbmRQYXJlbnROb2RlKF90YXJnZXQsIGNvbmQpIHtcbiAgaWYgKF90YXJnZXQpIHtcbiAgICB3aGlsZSAoZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHJlc3VsdCA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIGNvbmQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgX3RhcmdldCA9IF90YXJnZXQucGFyZW50Tm9kZSA/IF90YXJnZXQucGFyZW50Tm9kZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGNvbmQpKSB7XG4gICAgICAgIHJlc3VsdCA9IGNvbmQoX3RhcmdldCk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNvbmQpKSB7XG4gICAgICAgIGZvciAobGV0IGsgaW4gY29uZCkge1xuICAgICAgICAgIGlmIChrID09PSBcInRhZ25hbWVcIikge1xuICAgICAgICAgICAgaWYgKF90YXJnZXQudGFnTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpICE9IGNvbmRba10pIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoayA9PT0gXCJjbGF6elwiIHx8IGsgPT09IFwiY2xhc3NfbmFtZVwiKSB7XG4gICAgICAgICAgICBpZiAoXCJjbGFzc05hbWVcIiBpbiBfdGFyZ2V0KSB7XG4gICAgICAgICAgICAgIGxldCBrbGFzc3MgPSBfdGFyZ2V0LmNsYXNzTmFtZS5zcGxpdChyZUNsYXNzTmFtZVNwbGl0KSxcbiAgICAgICAgICAgICAgICAgIGhhc0NsYXNzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBrbGFzc3MubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoa2xhc3NzW2FdID09IGNvbmRba10pIHtcbiAgICAgICAgICAgICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHQgPSBoYXNDbGFzcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g6re47Jm4IOyGjeyEseqwkuuTpC5cbiAgICAgICAgICAgIGlmIChfdGFyZ2V0LmdldEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICBpZiAoX3RhcmdldC5nZXRBdHRyaWJ1dGUoaykgIT0gY29uZFtrXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICB9KCkpIHtcbiAgICAgIGlmIChfdGFyZ2V0LnBhcmVudE5vZGUgJiYgX3RhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgX3RhcmdldCA9IF90YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90YXJnZXQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBfdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjc3NOdW1iZXIodmFsKSB7XG4gIGxldCByZSA9IC9cXEQ/KFxcZCspKFthLXpBLVolXSopL2ksXG4gICAgICBmb3VuZCA9ICgnJyArIHZhbCkubWF0Y2gocmUpLFxuICAgICAgdW5pdCA9IGZvdW5kWzJdIHx8IFwicHhcIjtcblxuICByZXR1cm4gZm91bmRbMV0gKyB1bml0O1xufVxuXG5mdW5jdGlvbiBjc3ModmFsKSB7XG4gIGxldCByZXR1cm5zO1xuICBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgIHJldHVybnMgPSAnJztcbiAgICBmb3IgKGxldCBrIGluIHZhbCkge1xuICAgICAgcmV0dXJucyArPSBrICsgJzonICsgdmFsW2tdICsgJzsnO1xuICAgIH1cbiAgICByZXR1cm4gcmV0dXJucztcbiAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWwpKSB7XG4gICAgcmV0dXJucyA9IHt9O1xuICAgIGxldCB2YWxTcGxpdGVkID0gdmFsLnNwbGl0KC9bIF0qO1sgXSovZyk7XG4gICAgdmFsU3BsaXRlZC5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICBpZiAoKHYgPSB2LnRyaW0oKSkgIT09IFwiXCIpIHtcbiAgICAgICAgdmFyIHZTcGxpdGVkID0gdi5zcGxpdCgvWyBdKjpbIF0qL2cpO1xuICAgICAgICByZXR1cm5zW3ZTcGxpdGVkWzBdXSA9IHZTcGxpdGVkWzFdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXR1cm5zO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BFdmVudChlKSB7XG4gIC8vIOydtOuypO2KuCDspJHsp4Ag6rWs66y4XG4gIGlmICghZSkgZSA9IHdpbmRvdy5ldmVudDtcblxuICAvL2UuY2FuY2VsQnViYmxlIGlzIHN1cHBvcnRlZCBieSBJRSAtXG4gIC8vIHRoaXMgd2lsbCBraWxsIHRoZSBidWJibGluZyBwcm9jZXNzLlxuICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblxuICAvL2Uuc3RvcFByb3BhZ2F0aW9uIHdvcmtzIG9ubHkgaW4gRmlyZWZveC5cbiAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHJldHVybiBmYWxzZTtcbiAgLy8g7J2067Kk7Yq4IOykkeyngCDqtazrrLgg64GdXG59XG5cbmNvbnN0IHNlbGVjdFJhbmdlID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBwcm9jZXNzb3IgPSB7XG4gICAgJ3RleHRSYW5nZSc6IHtcbiAgICAgICdzZWxlY3RBbGwnOiBmdW5jdGlvbiAoZWwsIHJhbmdlLCBvZmZzZXQpIHt9LFxuICAgICAgJ2Fycic6IGZ1bmN0aW9uIChlbCwgcmFuZ2UsIG9mZnNldCkge1xuICAgICAgICByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgb2Zmc2V0WzBdKTsgLy8gdG9kbyBpZSBub2RlIHNlbGVjdCDssrTtgaztlYTsmpRcbiAgICAgICAgcmFuZ2UuY29sbGFwc2UoKTtcbiAgICAgICAgcmFuZ2UubW92ZUVuZChcImNoYXJhY3RlclwiLCBvZmZzZXRbMV0pO1xuICAgICAgfSxcbiAgICAgICdzdGFydCc6IGZ1bmN0aW9uIChlbCwgcmFuZ2UsIG9mZnNldCkge1xuICAgICAgICByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgMCk7XG4gICAgICAgIHJhbmdlLmNvbGxhcHNlKCk7XG4gICAgICB9LFxuICAgICAgJ2VuZCc6IGZ1bmN0aW9uIChlbCwgcmFuZ2UsIG9mZnNldCkge1xuICAgICAgICByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgcmFuZ2UudGV4dC5sZW5ndGgpO1xuICAgICAgICByYW5nZS5jb2xsYXBzZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ3JhbmdlJzoge1xuICAgICAgJ3NlbGVjdEFsbCc6IGZ1bmN0aW9uIChlbCwgcmFuZ2UsIG9mZnNldCkge1xuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWwpO1xuICAgICAgfSxcbiAgICAgICdhcnInOiBmdW5jdGlvbiAoZWwsIHJhbmdlLCBvZmZzZXQpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KG9mZnNldFswXSkpIHtcbiAgICAgICAgICByYW5nZS5zZXRTdGFydChvZmZzZXRbMF0ubm9kZSwgb2Zmc2V0WzBdLm9mZnNldCk7XG4gICAgICAgICAgcmFuZ2Uuc2V0RW5kKG9mZnNldFsxXS5ub2RlLCBvZmZzZXRbMV0ub2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYW5nZS5zZXRTdGFydChlbC5maXJzdENoaWxkLCBvZmZzZXRbMF0pO1xuICAgICAgICAgIHJhbmdlLnNldEVuZChlbC5maXJzdENoaWxkLCBvZmZzZXRbMV0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgJ3N0YXJ0JzogZnVuY3Rpb24gKGVsLCByYW5nZSwgb2Zmc2V0KSB7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7XG4gICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgfSxcbiAgICAgICdlbmQnOiBmdW5jdGlvbiAoZWwsIHJhbmdlLCBvZmZzZXQpIHtcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsKTtcbiAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgb2Zmc2V0KSB7XG4gICAgbGV0IHJhbmdlLCByYW5nZVR5cGUsIHNlbGVjdGlvbjtcblxuICAgIGlmIChlbCBpbnN0YW5jZW9mIGpRdWVyeSkge1xuICAgICAgZWwgPSBlbC5nZXQoMCk7XG4gICAgfVxuICAgIGlmICghZWwpIHJldHVybjtcblxuICAgIC8vIOugiOyduOyngCDtg4DsnoUg7ISg7YOdXG4gICAgaWYgKGRvYy5ib2R5LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgcmFuZ2UgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWwpO1xuICAgICAgcmFuZ2VUeXBlID0gXCJ0ZXh0UmFuZ2VcIjtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIHJhbmdlVHlwZSA9IFwicmFuZ2VcIjtcbiAgICB9XG5cbiAgICAvLyByYW5nZSDsoIHsmqlcbiAgICBpZiAodHlwZW9mIG9mZnNldCA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBwcm9jZXNzb3JbcmFuZ2VUeXBlXS5zZWxlY3RBbGwuY2FsbCh0aGlzLCBlbCwgcmFuZ2UsIG9mZnNldCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9mZnNldCkpIHtcbiAgICAgIHByb2Nlc3NvcltyYW5nZVR5cGVdLmFyci5jYWxsKHRoaXMsIGVsLCByYW5nZSwgb2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIga2V5IGluIHByb2Nlc3NvcltyYW5nZVR5cGVdKSB7XG4gICAgICAgIGlmIChvZmZzZXQgPT0ga2V5KSB7XG4gICAgICAgICAgcHJvY2Vzc29yW3JhbmdlVHlwZV1ba2V5XS5jYWxsKHRoaXMsIGVsLCByYW5nZSwgb2Zmc2V0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIO2PrOy7pOyKpCDrsI8g7IWA66CJ7Yq4XG4gICAgaWYgKGRvYy5ib2R5LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICBlbC5mb2N1cygpO1xuICAgIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgZWwuZm9jdXMoKTtcbiAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxuICB9O1xufSgpO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci9kZWJvdW5jZS5qc1xuY29uc3QgZGVib3VuY2UgPSBmdW5jdGlvbiAoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICBsZXQgbGFzdEFyZ3MsIGxhc3RUaGlzLCBtYXhXYWl0LCByZXN1bHQsIHRpbWVySWQsIGxhc3RDYWxsVGltZTtcblxuICBsZXQgbGFzdEludm9rZVRpbWUgPSAwO1xuICBsZXQgbGVhZGluZyA9IGZhbHNlO1xuICBsZXQgbWF4aW5nID0gZmFsc2U7XG4gIGxldCB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIGZ1bmN0aW9uJyk7XG4gIH1cbiAgd2FpdCA9ICt3YWl0IHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gTWF0aC5tYXgoK29wdGlvbnMubWF4V2FpdCB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIGNvbnN0IGFyZ3MgPSBsYXN0QXJncztcbiAgICBjb25zdCB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZTtcbiAgICBjb25zdCB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuICAgIGNvbnN0IHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmcgPyBNYXRoLm1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgY29uc3QgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lO1xuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiBsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCB0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0IHx8IHRpbWVTaW5jZUxhc3RDYWxsIDwgMCB8fCBtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0O1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShEYXRlLm5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCguLi5hcmdzKSB7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59O1xuXG4vL2h0dHBzOi8vZ2l0aHViLmNvbS9sb2Rhc2gvbG9kYXNoL2Jsb2IvbWFzdGVyL3Rocm90dGxlLmpzXG5jb25zdCB0aHJvdHRsZSA9IGZ1bmN0aW9uIChmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIGxldCBsZWFkaW5nID0gdHJ1ZTtcbiAgbGV0IHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgZnVuY3Rpb24nKTtcbiAgfVxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBkZWVwQ29weShvYmopIHtcbiAgbGV0IHIsIGw7XG4gIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgbCA9IG9iai5sZW5ndGg7XG4gICAgICByID0gbmV3IEFycmF5KGwpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgcltpXSA9IGRlZXBDb3B5KG9ialtpXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8vIGpRdWVyeSBleHRlbmRcbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgbGV0IG9wdGlvbnMsXG4gICAgICBuYW1lLFxuICAgICAgc3JjLFxuICAgICAgY29weSxcbiAgICAgIGNvcHlJc0FycmF5LFxuICAgICAgY2xvbmUsXG4gICAgICB0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sXG4gICAgICBpID0gMSxcbiAgICAgIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICBkZWVwID0gZmFsc2U7XG5cbiAgLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICBkZWVwID0gdGFyZ2V0O1xuXG4gICAgLy8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuICAgIHRhcmdldCA9IGFyZ3VtZW50c1tpXSB8fCB7fTtcbiAgICBpKys7XG4gIH1cblxuICAvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcbiAgaWYgKHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWlzRnVuY3Rpb24odGFyZ2V0KSkge1xuICAgIHRhcmdldCA9IHt9O1xuICB9XG5cbiAgLy8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG4gIGlmIChpID09PSBsZW5ndGgpIHtcbiAgICB0YXJnZXQgPSB0aGlzO1xuICAgIGktLTtcbiAgfVxuXG4gIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblxuICAgIC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcbiAgICBpZiAoKG9wdGlvbnMgPSBhcmd1bWVudHNbaV0pICE9IG51bGwpIHtcblxuICAgICAgLy8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgc3JjID0gdGFyZ2V0W25hbWVdO1xuICAgICAgICBjb3B5ID0gb3B0aW9uc1tuYW1lXTtcblxuICAgICAgICAvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG4gICAgICAgIGlmICh0YXJnZXQgPT09IGNvcHkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuICAgICAgICBpZiAoZGVlcCAmJiBjb3B5ICYmIChpc1BsYWluT2JqZWN0KGNvcHkpIHx8IChjb3B5SXNBcnJheSA9IGlzQXJyYXkoY29weSkpKSkge1xuXG4gICAgICAgICAgaWYgKGNvcHlJc0FycmF5KSB7XG4gICAgICAgICAgICBjb3B5SXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgaXNBcnJheShzcmMpID8gc3JjIDogW107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsb25lID0gc3JjICYmIGlzUGxhaW5PYmplY3Qoc3JjKSA/IHNyYyA6IHt9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGV4dGVuZChkZWVwLCBjbG9uZSwgY29weSk7XG5cbiAgICAgICAgICAvLyBEb24ndCBicmluZyBpbiB1bmRlZmluZWQgdmFsdWVzXG4gICAgICAgIH0gZWxzZSBpZiAoY29weSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGFyZ2V0W25hbWVdID0gY29weTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUh0bWwocykge1xuICBpZiAoX3RvU3RyaW5nLmNhbGwocykgIT0gXCJbb2JqZWN0IFN0cmluZ11cIikgcmV0dXJuIHM7XG4gIGlmICghcykgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBzLnJlcGxhY2UoL1tcXDxcXD5cXCZcXFwiXS9nbSwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgc3dpdGNoIChtYXRjaCkge1xuICAgICAgY2FzZSBcIjxcIjpcbiAgICAgICAgcmV0dXJuIFwiJmx0O1wiO1xuICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgcmV0dXJuIFwiJmd0O1wiO1xuICAgICAgY2FzZSBcIiZcIjpcbiAgICAgICAgcmV0dXJuIFwiJmFtcDtcIjtcbiAgICAgIGNhc2UgXCJcXFwiXCI6XG4gICAgICAgIHJldHVybiBcIiZxdW90O1wiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVuZXNjYXBlSHRtbChzKSB7XG4gIGlmIChfdG9TdHJpbmcuY2FsbChzKSAhPSBcIltvYmplY3QgU3RyaW5nXVwiKSByZXR1cm4gcztcbiAgaWYgKCFzKSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIHMucmVwbGFjZSgvKCZsdDspfCgmZ3Q7KXwoJmFtcDspfCgmcXVvdDspL2dtLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICBzd2l0Y2ggKG1hdGNoKSB7XG4gICAgICBjYXNlIFwiJmx0O1wiOlxuICAgICAgICByZXR1cm4gXCI8XCI7XG4gICAgICBjYXNlIFwiJmd0O1wiOlxuICAgICAgICByZXR1cm4gXCI+XCI7XG4gICAgICBjYXNlIFwiJmFtcDtcIjpcbiAgICAgICAgcmV0dXJuIFwiJlwiO1xuICAgICAgY2FzZSBcIiZxdW90O1wiOlxuICAgICAgICByZXR1cm4gXCJcXFwiXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAbmFtZXNwYWNlIGF4NnN0cmluZ1xuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBBWDZVdGlsLnN0cmluZyhcInswfSBpcyBkZWFkXCIpLmZvcm1hdChcIkFcIik7XG4gKiBBWDZVdGlsLnN0cmluZyhcIlN0cmluZ1wiKS5lc2NhcGUoKTtcbiAqIEFYNlV0aWwuc3RyaW5nKFwiU3RyaW5nXCIpLnVuZXNjYXBlKCk7XG4gKiBBWDZVdGlsLnN0cmluZyhcIlN0cmluZ1wiKS5lbmNvZGUoKTtcbiAqIEFYNlV0aWwuc3RyaW5nKFwiU3RyaW5nXCIpLmRlY29kZSgpO1xuICogQVg2VXRpbC5zdHJpbmcoXCJTdHJpbmdcIikubGVmdCgxKTtcbiAqIEFYNlV0aWwuc3RyaW5nKFwiU3RyaW5nXCIpLnJpZ2h0KDEpO1xuICogQVg2VXRpbC5zdHJpbmcoXCJTdHJpbmdcIikuY2FtZWxDYXNlKCk7XG4gKiBBWDZVdGlsLnN0cmluZyhcIlN0cmluZ1wiKS5zbmFrZUNhc2UoKTtcbiAqIGBgYFxuICovXG5cbmZ1bmN0aW9uIHN0cmluZyhfc3RyaW5nKSB7XG4gIHJldHVybiBuZXcgZnVuY3Rpb24gKF9zdHJpbmcpIHtcbiAgICB0aGlzLnZhbHVlID0gX3N0cmluZztcbiAgICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICB0aGlzLmZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBhcmdzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgYXJncyA9IGFyZ3MuY29uY2F0KGFyZ3VtZW50c1tpXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZS5yZXBsYWNlKC97KFxcZCspfS9nLCBmdW5jdGlvbiAobWF0Y2gsIG51bWJlcikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3NbbnVtYmVyXSAhPSAndW5kZWZpbmVkJyA/IGFyZ3NbbnVtYmVyXSA6IG1hdGNoO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBlc2NhcGVIdG1sKHRoaXMudmFsdWUpO1xuICAgIH07XG4gICAgdGhpcy51bmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bmVzY2FwZUh0bWwodGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICB0aGlzLmVuY29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBlbmNvZGUodGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICB0aGlzLmRlY29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkZWNvZGUodGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICB0aGlzLmxlZnQgPSBmdW5jdGlvbiAoX3Bvcykge1xuICAgICAgcmV0dXJuIGxlZnQodGhpcy52YWx1ZSwgX3Bvcyk7XG4gICAgfTtcbiAgICB0aGlzLnJpZ2h0ID0gZnVuY3Rpb24gKF9wb3MpIHtcbiAgICAgIHJldHVybiByaWdodCh0aGlzLnZhbHVlLCBfcG9zKTtcbiAgICB9O1xuICAgIHRoaXMuY2FtZWxDYXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhbWVsQ2FzZSh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIHRoaXMuc25ha2VDYXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNuYWtlQ2FzZSh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICB9KF9zdHJpbmcpO1xufVxuXG5mdW5jdGlvbiBjb2xvcihfaGV4Q29sb3IpIHtcblxuICBjb25zdCBtYXRjaGVycyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXZhbHVlcy8jaW50ZWdlcnM+XG4gICAgY29uc3QgQ1NTX0lOVEVHRVIgPSBcIlstXFxcXCtdP1xcXFxkKyU/XCI7XG5cbiAgICAvLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI251bWJlci12YWx1ZT5cbiAgICBjb25zdCBDU1NfTlVNQkVSID0gXCJbLVxcXFwrXT9cXFxcZCpcXFxcLlxcXFxkKyU/XCI7XG5cbiAgICAvLyBBbGxvdyBwb3NpdGl2ZS9uZWdhdGl2ZSBpbnRlZ2VyL251bWJlci4gIERvbid0IGNhcHR1cmUgdGhlIGVpdGhlci9vciwganVzdCB0aGUgZW50aXJlIG91dGNvbWUuXG4gICAgY29uc3QgQ1NTX1VOSVQgPSBcIig/OlwiICsgQ1NTX05VTUJFUiArIFwiKXwoPzpcIiArIENTU19JTlRFR0VSICsgXCIpXCI7XG5cbiAgICAvLyBBY3R1YWwgbWF0Y2hpbmcuXG4gICAgLy8gUGFyZW50aGVzZXMgYW5kIGNvbW1hcyBhcmUgb3B0aW9uYWwsIGJ1dCBub3QgcmVxdWlyZWQuXG4gICAgLy8gV2hpdGVzcGFjZSBjYW4gdGFrZSB0aGUgcGxhY2Ugb2YgY29tbWFzIG9yIG9wZW5pbmcgcGFyZW5cbiAgICBjb25zdCBQRVJNSVNTSVZFX01BVENIMyA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xuICAgIGNvbnN0IFBFUk1JU1NJVkVfTUFUQ0g0ID0gXCJbXFxcXHN8XFxcXChdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpXFxcXHMqXFxcXCk/XCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgQ1NTX1VOSVQ6IG5ldyBSZWdFeHAoQ1NTX1VOSVQpLFxuICAgICAgcmdiOiBuZXcgUmVnRXhwKFwicmdiXCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICByZ2JhOiBuZXcgUmVnRXhwKFwicmdiYVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgaHNsOiBuZXcgUmVnRXhwKFwiaHNsXCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICBoc2xhOiBuZXcgUmVnRXhwKFwiaHNsYVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgaHN2OiBuZXcgUmVnRXhwKFwiaHN2XCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICBoc3ZhOiBuZXcgUmVnRXhwKFwiaHN2YVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgaGV4MzogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxuICAgICAgaGV4NjogL14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLFxuICAgICAgaGV4NDogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxcbiAgICAgIGhleDg6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC9cbiAgICB9O1xuICB9KCk7XG5cbiAgY29uc3QgY29udmVydE9iamVjdCA9IGZ1bmN0aW9uIChfY29sb3IpIHtcbiAgICBsZXQgbWF0Y2g7XG4gICAgaWYgKG1hdGNoID0gbWF0Y2hlcnMucmdiLmV4ZWMoX2NvbG9yKSkge1xuICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAobWF0Y2ggPSBtYXRjaGVycy5yZ2JhLmV4ZWMoX2NvbG9yKSkge1xuICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKG1hdGNoID0gbWF0Y2hlcnMuaHNsLmV4ZWMoX2NvbG9yKSkge1xuICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAobWF0Y2ggPSBtYXRjaGVycy5oc2xhLmV4ZWMoX2NvbG9yKSkge1xuICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKG1hdGNoID0gbWF0Y2hlcnMuaHN2LmV4ZWMoX2NvbG9yKSkge1xuICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAobWF0Y2ggPSBtYXRjaGVycy5oc3ZhLmV4ZWMoX2NvbG9yKSkge1xuICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKG1hdGNoID0gbWF0Y2hlcnMuaGV4OC5leGVjKF9jb2xvcikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHI6IHBhcnNlSW50KG1hdGNoWzFdLCAxNiksXG4gICAgICAgIGc6IHBhcnNlSW50KG1hdGNoWzJdLCAxNiksXG4gICAgICAgIGI6IHBhcnNlSW50KG1hdGNoWzNdLCAxNiksXG4gICAgICAgIGE6IHBhcnNlSW50KG1hdGNoWzRdIC8gMjU1LCAxNiksXG4gICAgICAgIGZvcm1hdDogXCJoZXg4XCJcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChtYXRjaCA9IG1hdGNoZXJzLmhleDYuZXhlYyhfY29sb3IpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByOiBwYXJzZUludChtYXRjaFsxXSwgMTYpLFxuICAgICAgICBnOiBwYXJzZUludChtYXRjaFsyXSwgMTYpLFxuICAgICAgICBiOiBwYXJzZUludChtYXRjaFszXSwgMTYpLFxuICAgICAgICBmb3JtYXQ6IFwiaGV4XCJcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChtYXRjaCA9IG1hdGNoZXJzLmhleDQuZXhlYyhfY29sb3IpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByOiBwYXJzZUludChtYXRjaFsxXSArICcnICsgbWF0Y2hbMV0sIDE2KSxcbiAgICAgICAgZzogcGFyc2VJbnQobWF0Y2hbMl0gKyAnJyArIG1hdGNoWzJdLCAxNiksXG4gICAgICAgIGI6IHBhcnNlSW50KG1hdGNoWzNdICsgJycgKyBtYXRjaFszXSwgMTYpLFxuICAgICAgICBhOiBwYXJzZUludChtYXRjaFs0XSArICcnICsgbWF0Y2hbNF0sIDE2KSxcbiAgICAgICAgZm9ybWF0OiBcImhleDhcIlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG1hdGNoID0gbWF0Y2hlcnMuaGV4My5leGVjKF9jb2xvcikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHI6IHBhcnNlSW50KG1hdGNoWzFdICsgJycgKyBtYXRjaFsxXSwgMTYpLFxuICAgICAgICBnOiBwYXJzZUludChtYXRjaFsyXSArICcnICsgbWF0Y2hbMl0sIDE2KSxcbiAgICAgICAgYjogcGFyc2VJbnQobWF0Y2hbM10gKyAnJyArIG1hdGNoWzNdLCAxNiksXG4gICAgICAgIGZvcm1hdDogXCJoZXhcIlxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gaXNPbmVQb2ludFplcm8obikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZignLicpICE9IC0xICYmIHBhcnNlRmxvYXQobikgPT09IDE7XG4gIH1cblxuICBmdW5jdGlvbiBpc1BlcmNlbnRhZ2Uobikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIiAmJiBuLmluZGV4T2YoJyUnKSAhPSAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRUb1BlcmNlbnRhZ2Uobikge1xuICAgIGlmIChuIDw9IDEpIHtcbiAgICAgIG4gPSBuICogMTAwICsgXCIlXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIG47XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VG8yNTUobikge1xuICAgIHJldHVybiBudW1iZXIoTWF0aC5taW4oMjU1LCBNYXRoLm1heChuLCAwKSksIHsgJ3JvdW5kJzogMiB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRUb0hleChuKSB7XG4gICAgcmV0dXJuIHNldERpZ2l0KE1hdGgucm91bmQobikudG9TdHJpbmcoMTYpLCAyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJvdW5kMDEobiwgbWF4KSB7XG4gICAgaWYgKGlzT25lUG9pbnRaZXJvKG4pKSB7XG4gICAgICBuID0gXCIxMDAlXCI7XG4gICAgfVxuXG4gICAgbGV0IHByb2Nlc3NQZXJjZW50ID0gaXNQZXJjZW50YWdlKG4pO1xuICAgIG4gPSBNYXRoLm1pbihtYXgsIE1hdGgubWF4KDAsIHBhcnNlRmxvYXQobikpKTtcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgY29udmVydCBwZXJjZW50YWdlIGludG8gbnVtYmVyXG4gICAgaWYgKHByb2Nlc3NQZXJjZW50KSB7XG4gICAgICBuID0gcGFyc2VJbnQobiAqIG1heCwgMTApIC8gMTAwO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnNcbiAgICBpZiAoTWF0aC5hYnMobiAtIG1heCkgPCAwLjAwMDAwMSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBpbnRvIFswLCAxXSByYW5nZSBpZiBpdCBpc24ndCBhbHJlYWR5XG4gICAgcmV0dXJuIG4gJSBtYXggLyBwYXJzZUZsb2F0KG1heCk7XG4gIH1cblxuICBmdW5jdGlvbiByZ2JUb0hzbChyLCBnLCBiKSB7XG4gICAgciA9IGJvdW5kMDEociwgMjU1KTtcbiAgICBnID0gYm91bmQwMShnLCAyNTUpO1xuICAgIGIgPSBib3VuZDAxKGIsIDI1NSk7XG5cbiAgICBsZXQgbWF4ID0gTWF0aC5tYXgociwgZywgYiksXG4gICAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgIGxldCBoLFxuICAgICAgICBzLFxuICAgICAgICBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgaWYgKG1heCA9PSBtaW4pIHtcbiAgICAgIGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZCA9IG1heCAtIG1pbjtcbiAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcbiAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgIGNhc2UgcjpcbiAgICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZzpcbiAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaCAvPSA2O1xuICAgIH1cblxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIGw6IGwgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhzbFRvUmdiKGgsIHMsIGwpIHtcbiAgICBsZXQgciwgZywgYjtcblxuICAgIGggPSBib3VuZDAxKGgsIDM2MCk7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICBsID0gYm91bmQwMShsLCAxMDApO1xuXG4gICAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgICBpZiAodCA8IDApIHQgKz0gMTtcbiAgICAgIGlmICh0ID4gMSkgdCAtPSAxO1xuICAgICAgaWYgKHQgPCAxIC8gNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcTtcbiAgICAgIGlmICh0IDwgMiAvIDMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGlmIChzID09PSAwKSB7XG4gICAgICByID0gZyA9IGIgPSBsOyAvLyBhY2hyb21hdGljXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICAgIGxldCBwID0gMiAqIGwgLSBxO1xuICAgICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcbiAgICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyByOiByICogMjU1LCBnOiBnICogMjU1LCBiOiBiICogMjU1IH07XG4gIH1cblxuICByZXR1cm4gbmV3IGZ1bmN0aW9uIChfY29sb3IpIHtcbiAgICB0aGlzLl9vcmlnaW5hbFZhbHVlID0gX2NvbG9yO1xuICAgIF9jb2xvciA9IGNvbnZlcnRPYmplY3QoX2NvbG9yKTtcbiAgICB0aGlzLnIgPSBfY29sb3IucjtcbiAgICB0aGlzLmcgPSBfY29sb3IuZztcbiAgICB0aGlzLmIgPSBfY29sb3IuYjtcbiAgICB0aGlzLmEgPSBfY29sb3IuYSB8fCAxO1xuICAgIHRoaXMuX2Zvcm1hdCA9IF9jb2xvci5mb3JtYXQ7XG4gICAgdGhpcy5faGV4ID0gY29udmVydFRvSGV4KHRoaXMucikgKyBjb252ZXJ0VG9IZXgodGhpcy5nKSArIGNvbnZlcnRUb0hleCh0aGlzLmIpO1xuXG4gICAgdGhpcy5nZXRIZXhWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oZXg7XG4gICAgfTtcblxuICAgIHRoaXMubGlnaHRlbiA9IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgIGFtb3VudCA9IGFtb3VudCA9PT0gMCA/IDAgOiBhbW91bnQgfHwgMTA7XG4gICAgICBsZXQgaHNsID0gcmdiVG9Ic2wodGhpcy5yLCB0aGlzLmcsIHRoaXMuYiksXG4gICAgICAgICAgcmdiID0ge307XG5cbiAgICAgIGhzbC5sICs9IGFtb3VudCAvIDEwMDtcbiAgICAgIGhzbC5sID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgaHNsLmwpKTtcbiAgICAgIGhzbC5oID0gaHNsLmggKiAzNjA7XG5cbiAgICAgIHJnYiA9IGhzbFRvUmdiKGhzbC5oLCBjb252ZXJ0VG9QZXJjZW50YWdlKGhzbC5zKSwgY29udmVydFRvUGVyY2VudGFnZShoc2wubCkpO1xuXG4gICAgICByZXR1cm4gY29sb3IoJ3JnYmEoJyArIGNvbnZlcnRUbzI1NShyZ2IucikgKyAnLCAnICsgY29udmVydFRvMjU1KHJnYi5nKSArICcsICcgKyBjb252ZXJ0VG8yNTUocmdiLmIpICsgJywgJyArIHRoaXMuYSArICcpJyk7XG4gICAgfTtcblxuICAgIHRoaXMuZGFya2VuID0gZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgYW1vdW50ID0gYW1vdW50ID09PSAwID8gMCA6IGFtb3VudCB8fCAxMDtcbiAgICAgIGxldCBoc2wgPSByZ2JUb0hzbCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iKSxcbiAgICAgICAgICByZ2IgPSB7fTtcblxuICAgICAgaHNsLmwgLT0gYW1vdW50IC8gMTAwO1xuICAgICAgaHNsLmwgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBoc2wubCkpO1xuICAgICAgaHNsLmggPSBoc2wuaCAqIDM2MDtcblxuICAgICAgcmdiID0gaHNsVG9SZ2IoaHNsLmgsIGNvbnZlcnRUb1BlcmNlbnRhZ2UoaHNsLnMpLCBjb252ZXJ0VG9QZXJjZW50YWdlKGhzbC5sKSk7XG5cbiAgICAgIHJldHVybiBjb2xvcigncmdiYSgnICsgY29udmVydFRvMjU1KHJnYi5yKSArICcsICcgKyBjb252ZXJ0VG8yNTUocmdiLmcpICsgJywgJyArIGNvbnZlcnRUbzI1NShyZ2IuYikgKyAnLCAnICsgdGhpcy5hICsgJyknKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRCcmlnaHRuZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICh0aGlzLnIgKiAyOTkgKyB0aGlzLmcgKiA1ODcgKyB0aGlzLmIgKiAxMTQpIC8gMTAwMDtcbiAgICB9O1xuXG4gICAgdGhpcy5pc0RhcmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRCcmlnaHRuZXNzKCkgPCAxMjg7XG4gICAgfTtcblxuICAgIHRoaXMuaXNMaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhdGhpcy5pc0RhcmsoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRIc2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgaHNsID0gcmdiVG9Ic2wodGhpcy5yLCB0aGlzLmcsIHRoaXMuYik7XG4gICAgICBoc2wubCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIGhzbC5sKSk7XG4gICAgICBoc2wuaCA9IGhzbC5oICogMzYwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaDogaHNsLmgsXG4gICAgICAgIHM6IGhzbC5zLFxuICAgICAgICBsOiBoc2wubFxuICAgICAgfTtcbiAgICB9O1xuICB9KF9oZXhDb2xvcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICoganNvblN0cmluZyDsnLzroZwgYWxlcnQg7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxTdHJpbmd8TnVtYmVyfSBPXG4gICAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl8U3RyaW5nfE51bWJlcn0gT1xuICAgKiBAZXhhbXBsZSBgYGBqc1xuICAgKiBBWDZVdGlsLmFsZXJ0KHthOjEsYjoyfSk7XG4gICAqIEFYNlV0aWwuYWxlcnQoXCLsoJXrp5A/XCIpO1xuICAgKiBgYGBcbiAgICovXG4gIGFsZXJ0OiBhbGVydCxcbiAgLyoqXG4gICAqIE9iamVjdOuCmCBBcnJheeydmCDslYTsnbTthZzsnLzroZwg7IKs7Jqp7J6QIO2VqOyImOulvCDtmLjstpztlanri4jri6QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBPXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IF9mblxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiB2YXIgYXhmID0gQVg2VXRpbDtcbiAgICogYXhmLmVhY2goWzAsMSwyXSwgZnVuY3Rpb24oKXtcbiAgICogXHQvLyB3aXRoIHRoaXNcbiAgICogfSk7XG4gICAqIGF4Zi5lYWNoKHthOjEsIGI6Mn0sIGZ1bmN0aW9uKCl7XG4gICAqIFx0Ly8gd2l0aCB0aGlzXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGVhY2g6IGVhY2gsXG4gIC8qKlxuICAgKiDsm5Drs7gg7JWE7J207YWc65Ok7J2EIOydtOyaqe2VmOyXrCDsgqzsmqnsnpAg7ZWo7IiY7J2YIOumrO2EtOqwkuydtCDssLjsnbgg7JWE7J207YWc7J2YIOychOy5mOuCmCDtgqTqsJLsnYQg67CY7ZmY7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gT1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ3xOdW1iZXJ9IF9mbiAtIO2VqOyImCDrmJDripQg6rCSXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ8U3RyaW5nfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiB2YXIgbXlBcnJheSA9IFswLDEsMiwzLDQsNSw2XTtcbiAgICogdmFyIG15T2JqZWN0ID0ge2E6XCIxMjNcIixcImJcIjpcIjEyM1wiLGM6MTIzfTtcbiAgICpcbiAgICogQVg2VXRpbC5zZWFyY2gobXlBcnJheSwgIGZ1bmN0aW9uKCl7XG4gICAqICAgIHJldHVybiB0aGlzID4gMztcbiAgICogfSk7XG4gICAqIC8vIDRcbiAgICogQVg2VXRpbC5zZWFyY2gobXlPYmplY3QsICBmdW5jdGlvbihrLCB2KXtcbiAgICogICAgcmV0dXJuIHYgPT09IDEyMztcbiAgICogfSk7XG4gICAqIC8vIFwiY1wiXG4gICAqIEFYNlV0aWwuc2VhcmNoKFsxLDIsMyw0XSwgMyk7XG4gICAqIC8vIDJcbiAgICogQVg2VXRpbC5zZWFyY2goWzEsMl0sIDQpO1xuICAgKiAvLyAtMVxuICAgKiBBWDZVdGlsLnNlYXJjaChbXCJuYW1lXCIsXCJ2YWx1ZVwiXSwgXCJ2YWx1ZVwiKTtcbiAgICogLy8gMVxuICAgKiBBWDZVdGlsLnNlYXJjaChbXCJuYW1lXCIsXCJ2YWx1ZVwiXSwgXCJ2YWx1ZXNcIik7XG4gICAqIC8vIC0xXG4gICAqIEFYNlV0aWwuc2VhcmNoKHtrMTpcIm5hbWVcIixrMjpcInZhbHVlXCJ9LCBcInZhbHVlMlwiKTtcbiAgICogLy8gLTFcbiAgICogQVg2VXRpbC5zZWFyY2goe2sxOlwibmFtZVwiLGsyOlwidmFsdWVcIn0sIFwidmFsdWVcIik7XG4gICAqIC8vIFwiazJcIlxuICAgKiBgYGBcbiAgICovXG4gIHNlYXJjaDogc2VhcmNoLFxuICAvKipcbiAgICog67Cw7Je065iQ64qUIOyYpOu4jOygne2KuOydmCDqsIEg7JWE7J207YWc7J2EIOyduOyekOuhnCDtlZjripQg7IKs7Jqp7J6QIO2VqOyImOydmCDqsrDqs7zqsIAg7LC47J24IOyVhOydtO2FnOuTpOydmCDrsLDsl7TsnYQg67CY7ZmY7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gT1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBfZm5cbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiB2YXIgYWFycmF5ID0gWzUsNCwzLDIsMV07XG4gICAqIHJlc3VsdCA9IEFYNlV0aWwuZmlsdGVyKCBhYXJyYXksIGZ1bmN0aW9uKCl7XG4gICAqICAgIHJldHVybiB0aGlzICUgMjtcbiAgICogfSk7XG4gICAqIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAqIC8vIFs1LCAzLCAxXVxuICAgKlxuICAgKiB2YXIgZmlsT2JqZWN0ID0ge2E6MSwgczpcInN0cmluZ1wiLCBvYTp7cGlja3VwOnRydWUsIG5hbWU6XCJBWElTSlwifSwgb3M6e3BpY2t1cDp0cnVlLCBuYW1lOlwiQVg1XCJ9fTtcbiAgICogcmVzdWx0ID0gQVg2VXRpbC5maWx0ZXIoIGZpbE9iamVjdCwgZnVuY3Rpb24oKXtcbiAgICogXHRyZXR1cm4gdGhpcy5waWNrdXA7XG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyggQVg2VXRpbC50b0pzb24ocmVzdWx0KSApO1xuICAgKiAvLyBbe1wicGlja3VwXCI6ICwgXCJuYW1lXCI6IFwiQVhJU0pcIn0sIHtcInBpY2t1cFwiOiAsIFwibmFtZVwiOiBcIkFYNVwifV1cbiAgICogYGBgXG4gICAqL1xuICBmaWx0ZXI6IGZpbHRlcixcbiAgLyoqXG4gICAqIE9iamVjdOulvCBKU09OU3RyaW5nIOycvOuhnCDrsJjtmZjtlanri4jri6QuXG4gICAqIEBtZXRob2QgQVg2VXRpbC50b0pzb25cbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IE9cbiAgICogQHJldHVybnMge1N0cmluZ30gSlNPTlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiB2YXIgYXggPSBBWDZVdGlsO1xuICAgKiB2YXIgbXlPYmplY3QgPSB7XG4gICAqICAgIGE6MSwgYjpcIjJcIiwgYzp7YXhqOlwid2hhdFwiLCBhcnJzOlswLDIsXCIzXCJdfSxcbiAgICogICAgZm46IGZ1bmN0aW9uKGFiY2RkKXtcbiAgICogICAgICAgIHJldHVybiBhYmNkZDtcbiAgICogICAgfVxuICAgKiB9O1xuICAgKiBjb25zb2xlLmxvZyggYXgudG9Kc29uKG15T2JqZWN0KSApO1xuICAgKiBgYGBcbiAgICovXG4gIHRvSnNvbjogdG9Kc29uLFxuICAvKipcbiAgICog6rSA7Jqp7J2YIEpTT04gUGFyc2VyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBKU09OU3RyaW5nXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXSAtIOqwleygnCDsoIHsmqkg7Jes67aAIChqc29uIOusuOyekOyXtCDqsoDsgqzrpbwg66y07Iuc7ZWY6rOgIOyYpOu4jOygne2KuCDrs4DtmZjsnYQg7Iuc64+E7ZWp64uI64ukLilcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwucGFyc2VKc29uKCd7XCJhXCI6MX0nKSk7XG4gICAqIC8vIE9iamVjdCB7YTogMX1cbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5wYXJzZUpzb24oXCJ7J2EnOjEsICdiJzonYid9XCIpKTtcbiAgICogLy8gT2JqZWN0IHthOiAxLCBiOiBcImJcIn1cbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5wYXJzZUpzb24oXCJ7J2EnOjEsICdiJzpmdW5jdGlvbigpe3JldHVybiAxO319XCIsIHRydWUpKTtcbiAgICogLy8gT2JqZWN0IHthOiAxLCBiOiBmdW5jdGlvbn1cbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5wYXJzZUpzb24oXCJ7YToxfVwiKSk7XG4gICAqIC8vIE9iamVjdCB7YTogMX1cbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5wYXJzZUpzb24oXCJbMSwyLDNdXCIpKTtcbiAgICogLy8gWzEsIDIsIDNdXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwucGFyc2VKc29uKFwiWycxJywnMicsJzMnXVwiKSk7XG4gICAqIC8vIFtcIjFcIiwgXCIyXCIsIFwiM1wiXVxuICAgKiBjb25zb2xlLmxvZyhBWDZVdGlsLnBhcnNlSnNvbihcIlt7J2EnOic5OSd9LCcyJywnMyddXCIpKTtcbiAgICogLy8gW09iamVjdCwgXCIyXCIsIFwiM1wiXVxuICAgKiBgYGBcbiAgICovXG4gIHBhcnNlSnNvbjogcGFyc2VKc29uLFxuICAvKipcbiAgICog7Jik67iM7KCd7Yq47J2YIOyyq+uyiOynuCDslYTsnbTthZzsnYQg67CY7ZmY7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gT1xuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBBWDZVdGlsLmZpcnN0KHthOjEsIGI6Mn0pO1xuICAgKiAvLyBPYmplY3Qge2E6IDF9XG4gICAqIEFYNlV0aWwuZmlyc3QoWzEsMiwzLDRdKTtcbiAgICogLy8gMVxuICAgKiBgYGBcbiAgICovXG4gIGZpcnN0OiBmaXJzdCxcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOydmCDrp4jsp4Drp4kg7JWE7J207YWc7J2EIOuwmO2ZmO2VqeuLiOuLpC5cbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IE9cbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogQVg2VXRpbC5sYXN0KHthOjEsIGI6Mn0pO1xuICAgKiAvLyBPYmplY3Qge2I6IDJ9XG4gICAqIEFYNlV0aWwubGFzdChbMSwyLDMsNF0pO1xuICAgKiAvLyA0XG4gICAqIGBgYFxuICAgKi9cbiAgbGFzdDogbGFzdCxcbiAgLyoqXG4gICAqIOusuOyekOyXtOydmCDtirnsoJUg66y47J6Q7Je06rmM7KeAIOyemOudvOyjvOqxsOuCmCDsm5DtlZjripQg7Y+s7KeA7IWY6rmM7KeAIOyemOudvOykjeuLiOuLpC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciAtIOusuOyekOyXtFxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHBvcyAtIOywvuydhCDrrLjsnpDsl7Qg65iQ64qUIO2PrOyngOyFmFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBBWDZVdGlsLmxlZnQoXCJhYmNkLmVmZFwiLCAzKTtcbiAgICogLy8gYWJjXG4gICAqIEFYNlV0aWwubGVmdChcImFiY2QuZWZkXCIsIFwiLlwiKTtcbiAgICogLy8gYWJjZFxuICAgKiBgYGBcbiAgICovXG4gIGxlZnQ6IGxlZnQsXG4gIC8qKlxuICAgKiDrrLjsnpDsl7TsnZgg7Yq57KCVIOusuOyekOyXtOq5jOyngCDsnpjrnbzso7zqsbDrgpgg7JuQ7ZWY64qUIO2PrOyngOyFmOq5jOyngCDsnpjrnbzspI3ri4jri6QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgLSDrrLjsnpDsl7RcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBwb3MgLSDssL7snYQg66y47J6Q7Je0IOuYkOuKlCDtj6zsp4DshZhcbiAgICogQHJldHVybnMge1N0cmluZ31cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogQVg2VXRpbC5yaWdodChcImFiY2QuZWZkXCIsIDMpO1xuICAgKiAvLyBlZmRcbiAgICogQVg2VXRpbC5yaWdodChcImFiY2QuZWZkXCIsIFwiLlwiKTtcbiAgICogLy8gZWZkXG4gICAqIGBgYFxuICAgKi9cbiAgcmlnaHQ6IHJpZ2h0LFxuICAvKipcbiAgICog7J247J6Q7J2YIO2DgOyeheydhCDrsJjtmZjtlanri4jri6QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fFN0cmluZ3xOdW1iZXJ8RWxlbWVudHxFdGN9IE9cbiAgICogQHJldHVybnMge1N0cmluZ30gd2luZG93fGVsZW1lbnR8b2JqZWN0fGFycmF5fGZ1bmN0aW9ufHN0cmluZ3xudW1iZXJ8dW5kZWZpbmVkfG5vZGVsaXN0XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIHZhciBheGYgPSBBWDZVdGlsO1xuICAgKiB2YXIgYSA9IDExO1xuICAgKiB2YXIgYiA9IFwiMTFcIjtcbiAgICogY29uc29sZS5sb2coIGF4Zi5nZXRUeXBlKGEpICk7XG4gICAqIGNvbnNvbGUubG9nKCBheGYuZ2V0VHlwZShiKSApO1xuICAgKiBgYGBcbiAgICovXG4gIGdldFR5cGU6IGdldFR5cGUsXG4gIC8qKlxuICAgKiDsmKTruIzsoJ3tirjqsIAgd2luZG93IOyduOyngCDtjJDri6jtlanri4jri6QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBPXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cbiAgaXNXaW5kb3c6IGlzV2luZG93LFxuICAvKipcbiAgICog7Jik67iM7KCd7Yq46rCAIEhUTUwg7JeY66as66i87Yq47Jes67aA7J247KeAIO2MkOuLqO2VqeuLiOuLpC5cbiAgICogQHBhcmFtIHtPYmplY3R9IE9cbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqL1xuICBpc0VsZW1lbnQ6IGlzRWxlbWVudCxcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCBPYmplY3Tsnbjsp4Ag7YyQ64uo7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdH0gT1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCBBcnJheeyduOyngCDtjJDri6jtlanri4jri6QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBPXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cbiAgaXNBcnJheTogaXNBcnJheSxcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCBGdW5jdGlvbuyduOyngCDtjJDri6jtlanri4jri6QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBPXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCBTdHJpbmfsnbjsp4Ag7YyQ64uo7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdH0gT1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCBOdW1iZXLsnbjsp4Ag7YyQ64uo7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdH0gT1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCBOb2RlTGlzdOyduOyngCDtjJDri6jtlanri4jri6QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBPXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cbiAgaXNOb2RlbGlzdDogaXNOb2RlbGlzdCxcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCB1bmRlZmluZWTsnbjsp4Ag7YyQ64uo7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdH0gT1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgLyoqXG4gICAqIOyYpOu4jOygne2KuOqwgCB1bmRlZmluZWTsnbTqsbDrgpggbnVsbOydtOqxsOuCmCDruYjqsJLsnbjsp4Ag7YyQ64uo7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdH0gT1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIC8qKlxuICAgKiDsmKTruIzsoJ3tirjqsIAg64Kg7J6Q6rCS7J247KeAIO2MkOuLqO2VqeuLiOuLpC5cbiAgICogQHBhcmFtIHtEYXRlfSBPXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBBWDZVdGlsLmlzRGF0ZSgnMjAxNi0wOS0zMCcpO1xuICAgKiAvLyBmYWxzZVxuICAgKiBBWDZVdGlsLmlzRGF0ZSggbmV3IERhdGUoJzIwMTYtMDktMzAnKSApO1xuICAgKiAvLyB0cnVlXG4gICAqIGBgYFxuICAgKi9cbiAgaXNEYXRlOiBpc0RhdGUsXG4gIC8qKlxuICAgKiDsmKTruIzsoJ3tirjqsIAg64Kg7Kec7ZiVIOuzgOyImOyduOyngCDtjJDri6jtlanri4jri6RcbiAgICovXG4gIGlzRGF0ZUZvcm1hdDogaXNEYXRlRm9ybWF0LFxuICAvKipcbiAgICogQHBhcmFtIHsqfSBvYmplY3RcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIGlzTm90aGluZzogaXNOb3RoaW5nLFxuICAvKipcbiAgICogQHBhcmFtIHsqfSBvYmplY3RcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIGlzUGxhaW5PYmplY3Q6IGlzUGxhaW5PYmplY3QsXG4gIC8qKlxuICAgKiDsv6DtgqTrpbwg7ISk7KCV7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY25hbWUgLSDsv6DtgqTsnbTrpoRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGN2YWx1ZSAtIOy/oO2CpOqwklxuICAgKiBAcGFyYW0ge051bWJlcn0gW2V4ZGF5c10gLSDsv6DtgqQg7Jyg7KeA7J287IiYXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c10gLSBwYXRoLCBkb21haW4g7ISk7KCVIOyYteyFmFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBBWDZVdGlsLnNldENvb2tpZShcImpzbGliXCIsIFwiQVg1XCIpO1xuICAgKiBBWDZVdGlsLnNldENvb2tpZShcImpzbGliXCIsIFwiQVg1XCIsIDMpO1xuICAgKiBBWDZVdGlsLnNldENvb2tpZShcImpzbGliXCIsIFwiQVg1XCIsIDMsIHtwYXRoOlwiL1wiLCBkb21haW46XCIuYXhpc2ouY29tXCJ9KTtcbiAgICogYGBgXG4gICAqL1xuICBzZXRDb29raWU6IHNldENvb2tpZSxcbiAgLyoqXG4gICAqIOy/oO2CpOulvCDqsIDsoLjsmLXri4jri6QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbmFtZVxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBjb29raWUgdmFsdWVcbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogQVg2VXRpbC5nZXRDb29raWUoXCJqc2xpYlwiKTtcbiAgICogYGBgXG4gICAqL1xuICBnZXRDb29raWU6IGdldENvb2tpZSxcbiAgLyoqXG4gICAqIGNzc+2YlSDrrLjsnpDsl7TsnbTrgpgg7Yq57IiY66y47J6Q6rCAIO2PrO2VqOuQnCDrrLjsnpDsl7TsnYQg7Lm066mc7LyA7J207Iqk66GcIOuwlOq+uOyWtCDrsJjtmZjtlanri4jri6QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHJldHVybnMge1N0cmluZ31cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogQVg2VXRpbC5jYW1lbENhc2UoXCJpbm5lci13aWR0aFwiKTtcbiAgICogQVg2VXRpbC5jYW1lbENhc2UoXCJpbm5lcldpZHRoXCIpO1xuICAgKiAvLyBpbm5lcldpZHRoXG4gICAqIGBgYFxuICAgKi9cbiAgY2FtZWxDYXNlOiBjYW1lbENhc2UsXG4gIC8qKlxuICAgKiBjc3PtmJUg66y47J6Q7Je07J2064KYIOy5tOupnOy8gOydtOyKpOusuOyekOyXtOydhCDsiqTrhKTsnbTtgawg7LyA7J207IqkIOusuOyekOyXtOuhnCDrsJTqvrjslrQg67CY7ZmY7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIEFYNlV0aWwuc25ha2VDYXNlKFwiaW5uZXJXaWR0aFwiKTtcbiAgICogQVg2VXRpbC5zbmFrZUNhc2UoXCJpbm5lci1XaWR0aFwiKTtcbiAgICogQVg2VXRpbC5zbmFrZUNhc2UoXCJpbm5lcldpZHRoXCIpO1xuICAgKiAvLyBpbm5lci13aWR0aFxuICAgKiBgYGBcbiAgICovXG4gIHNuYWtlQ2FzZTogc25ha2VDYXNlLFxuICAvKipcbiAgICog66y47J6Q7Je07JeQ7IScIC0uIOydhCDsoJzsmbjtlZwg66qo65OgIOusuOyekOyXtOydhCDsoJzqsbDtlZjqs6Ag7Iir7J6Q66GcIOuwmO2ZmO2VqeuLiOuLpC4g7Ji17IWY7JeQIOuUsOudvCDsm5DtlZjripQg7ZiV7Iud7J2YIOyIq+yekOuhnCDrs4DtmZgg7ZWgIOyImCDrj4Qg7J6I7Iq164uI64ukLlxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHN0clxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZCAtIOyYteyFmFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfE51bWJlcn1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogdmFyIGNvbmQgPSB7XG4gICAqIFx0cm91bmQ6IHtOdW1iZXJ8Qm9vbGVhbn0gLSDrsJjsmKzrprztlaAg7J6Q66a/7IiYLFxuICAgKiBcdG1vbmV5OiB7Qm9vbGVhbn0gLSDthrXtmZQsXG4gICAqIFx0YWJzOiB7Qm9vbGVhbn0gLSDsoIjrjIDqsJIsXG4gICAqIFx0Ynl0ZToge0Jvb2xlYW59IC0g67CU7J207Yq4XG4gICAqIH1cbiAgICpcbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5udW1iZXIoMTIzNDU2Nzg5LjY3OCwge3JvdW5kOjF9KSk7XG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwubnVtYmVyKDEyMzQ1Njc4OS42NzgsIHtyb3VuZDoxLCBtb25leTp0cnVlfSkpO1xuICAgKiBjb25zb2xlLmxvZyhBWDZVdGlsLm51bWJlcigxMjM0NTY3ODkuNjc4LCB7cm91bmQ6MiwgYnl0ZTp0cnVlfSkpO1xuICAgKiBjb25zb2xlLmxvZyhBWDZVdGlsLm51bWJlcigtMTIzNDU2Nzg5Ljg4ODgsIHthYnM6dHJ1ZSwgcm91bmQ6MiwgbW9uZXk6dHJ1ZX0pKTtcbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5udW1iZXIoXCJBLTEyMzR+fjU2Nzg5Ljh+ODg4UFhcIiwge2Ficzp0cnVlLCByb3VuZDoyLCBtb25leTp0cnVlfSkpO1xuICAgKlxuICAgKiAvLzEyMzQ1Njc4OS43XG4gICAqIC8vMTIzLDQ1Niw3ODkuN1xuICAgKiAvLzExNy43TUJcbiAgICogLy8xMjMsNDU2LDc4OS44OVxuICAgKiAvLzEyMyw0NTYsNzg5Ljg5XG4gICAqIGBgYFxuICAgKi9cbiAgbnVtYmVyOiBudW1iZXIsXG4gIC8qKlxuICAgKiDrsLDsl7Qg67mE7Iq37ZWcIOyYpOu4jOygne2KuOulvCDrsLDsl7TroZwg67OA7ZmY7ZW07KSN64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdHxFbGVtZW50c3xBcmd1bWVudHN9IE9cbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBBWDZVdGlsLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICogLy9cbiAgICogYGBgXG4gICAqL1xuICB0b0FycmF5OiB0b0FycmF5LFxuICAvKipcbiAgICog7Jik67iM7KCd7Yq466W8IO2MjOudvOuvuO2EsO2YleyLneycvOuhnCDrmJDripQg7YyM652866+47YSw66W8IOyYpOu4jOygne2KuCDtmJXsi53snLzroZwg67OA7ZmY7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxTdHJpbmd9IE9cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25kXSAtIHBhcmFtfG9iamVjdFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fFN0cmluZ31cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIEFYNlV0aWwucGFyYW0oe2E6MSxiOicxMjMyJ30sIFwicGFyYW1cIik7XG4gICAqIEFYNlV0aWwucGFyYW0oXCJhPTEmYj0xMjMyXCIsIFwicGFyYW1cIik7XG4gICAqIC8vIFwiYT0xJmI9MTIzMlwiXG4gICAqIEFYNlV0aWwucGFyYW0oXCJhPTEmYj0xMjMyXCIpO1xuICAgKiAvLyB7YTogXCIxXCIsIGI6IFwiMTIzMlwifVxuICAgKiBgYGBcbiAgICovXG4gIHBhcmFtOiBwYXJhbSxcbiAgZXJyb3I6IGVycm9yLFxuICAvKipcbiAgICog64Kg7KecIO2YleyLneydmCDrrLjsnpDsl7TsnbTrgpggRGF0ZeqwneyytOulvCDsobDqsbTsl5Ag66ee6rKMIOyymOumrCDtlZwg7ZuEIOybkO2VmOuKlCByZXR1cm4g6rCS7Jy866GcIOuwmO2ZmO2VqeuLiOuLpC5cbiAgICogQHBhcmFtIHtTdHJpbmd8RGF0ZX0gZFxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZFxuICAgKiBAcmV0dXJucyB7RGF0ZXxTdHJpbmd9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIEFYNlV0aWwuZGF0ZSgnMjAxMy0wMS0wMScpOyAvLyBUdWUgSmFuIDAxIDIwMTMgMjM6NTk6MDAgR01UKzA5MDAgKEtTVClcbiAgICogQVg2VXRpbC5kYXRlKChuZXcgRGF0ZSgpKSwge2FkZDp7ZDoxMH0sIHJldHVybjoneXl5eS9NTS9kZCd9KTsgLy8gXCIyMDE1LzA3LzAxXCJcbiAgICogQVg2VXRpbC5kYXRlKCcxOTE5LTAzLTAxJywge2FkZDp7ZDoxMH0sIHJldHVybjoneXl5eS9NTS9kZCBoaDptbTpzcyd9KTsgLy8gXCIxOTE5LzAzLzExIDIzOjU5OjAwXCJcbiAgICogYGBgXG4gICAqL1xuICBkYXRlOiBkYXRlLFxuICAvKipcbiAgICog7J247J6Q7J24IOuCoOynnOqwgCDsmKTripjrtoDthLAg66qH7J287KCE7J247KeAIOuwmO2ZmO2VqeuLiOuLpC4g65iQ64qUIOyduOyekOyduCDrgqDsp5zqsIAg6rCA6rmM7Jq0IOuvuOuemOyXkCDrqofsnbwg7ZuE7J247KeAIOuwmO2ZmO2VqeuLiOuLpC5cbiAgICogQHBhcmFtIHtTdHJpbmd8RGF0YX0gZFxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZFxuICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBBWDZVdGlsLmRkYXkoJzIwMTYtMDEtMjknKTtcbiAgICogLy8gMVxuICAgKiBBWDZVdGlsLmRkYXkoJzIwMTYtMDEtMjknLCB7dG9kYXk6JzIwMTYtMDEtMjgnfSk7XG4gICAqIC8vIDFcbiAgICogQVg2VXRpbC5kZGF5KCcxOTc3LTAzLTI5Jywge3RvZGF5OicyMDE2LTAxLTI4JywgYWdlOnRydWV9KTtcbiAgICogLy8gMzlcbiAgICogYGBgXG4gICAqL1xuICBkZGF5OiBkZGF5LFxuICAvKipcbiAgICog64WE7JuU7JeQIOunnuuKlCDrgqDsnpDsiJjrpbwg67CY7ZmY7ZWp64uI64ukLlxuICAgKiAobmV3IERhdGUoKSkuZ2V0TW9udGgoKSDquLDspIDsnLzroZwg7JuU6rCS7J2EIOuztOuDheuLiOuLpC4gXCIy7JuUXCIg7J246rK97JqwIFwiMVwiIOydhCDrhJjquLDqsowg65Cp64uI64ukLlxuICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgKiBAcGFyYW0ge051bWJlcn0gbVxuICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgKiBAZXhhbXBsZXNcbiAgICogYGBganNcbiAgICogQVg2VXRpbC5kYXlzT2ZNb250aCgyMDE1LCAxMSk7IC8vIDMxXG4gICAqIEFYNlV0aWwuZGF5c09mTW9udGgoMjAxNSwgMSk7IC8vIDI4XG4gICAqIGBgYFxuICAgKi9cbiAgZGF5c09mTW9udGg6IGRheXNPZk1vbnRoLFxuICAvKipcbiAgICog7J247J6Q7J24IOuCoOynnOqwgCDrqofrhYQg66qH7JuU7J2YIOuqh+uyiOynuCDso7zssKjsnbjsp4Ag67CY7ZmY7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge1N0cmluZ3xEYXRhfSBkXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIEFYNlV0aWwud2Vla3NPZk1vbnRoKFwiMjAxNS0xMC0wMVwiKTsgLy8ge3llYXI6IDIwMTUsIG1vbnRoOiAxMCwgY291bnQ6IDF9XG4gICAqIEFYNlV0aWwud2Vla3NPZk1vbnRoKFwiMjAxNS0wOS0xOVwiKTsgLy8ge3llYXI6IDIwMTUsIG1vbnRoOiA5LCBjb3VudDogM31cbiAgICogYGBgXG4gICAqL1xuICB3ZWVrc09mTW9udGg6IHdlZWtzT2ZNb250aCxcbiAgLyoqXG4gICAqIOybkO2VmOuKlCDtmp/siJgg66eM7YG8IOyekOumv+yImCDrp57stqQg66y47J6Q7Je07J2EIO2PrO2VqO2VnCDrrLjsnpDsl7TsnYQg67CY7ZmY7ZWp64uI64ukLlxuICAgKiDrrLjsnpDsl7Qg6ri47J2067O064ukIOyekeydgOqwkuydhCDrs7TrgrTrqbQg66y07Iuc65Cp64uI64ukLlxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IG51bVxuICAgKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcGFkZGVyPTBdXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXhdXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBBWDZVdGlsLnNldERpZ2l0KDIwMTYsIDYpXG4gICAqIC8vIFwiMDAyMDE2XCJcbiAgICogQVg2VXRpbC5zZXREaWdpdCgyMDE2LCAyKVxuICAgKiAvLyBcIjIwMTZcIlxuICAgKiBgYGBcbiAgICovXG4gIHNldERpZ2l0OiBzZXREaWdpdCxcbiAgLyoqXG4gICAqIOusuOyekOyXtOydhCDsp4DsoJXrkJwg7IiY66eM7YG8IOuwmOuztSDtlanri4jri6QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogQVg2VXRpbC50aW1lcygyMDE2LCAyKVxuICAgKiAvL1wiMjAxNjIwMTZcIlxuICAgKiBgYGBcbiAgICovXG4gIHRpbWVzOiB0aW1lcyxcbiAgLyoqXG4gICAqIO2DgOqyn+yXmOumrOuovO2KuOydmCDrtoDrqqgg7JeY66as66mY7Yq4IO2KuOumrOyXkOyEnCDsm5DtlZjripQg7KGw6rG07J2YIOyXmOumrOuovO2KuOulvCDslrvsirXri4jri6QuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gX3RhcmdldCAtIHRhcmdldCBlbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSBjb25kIC0g7JuQ7ZWY64qUIGVsZW1lbnTrpbwg7LC+7J2EIOyhsOqxtFxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIC8vIGNvbmQg7IaN7ISx7KCV7J2YXG4gICAqIHZhciBjb25kID0ge1xuICAgKiBcdHRhZ25hbWU6IHtTdHJpbmd9IC0g7YOc6re466qFIChleC4gYSwgZGl2LCBzcGFuLi4pLFxuICAgKiBcdGNsYXp6OiB7U3RyaW5nfSAtIO2BtOuemOyKpOuqhVxuICAgKiBcdFssIOq3uCDsmbgg7LC+6rOgIOyLtuydgCBhdHRyaWJ1dGXrqoXrk6RdXG4gICAqIH07XG4gICAqIGNvbnNvbGUubG9nKFxuICAgKiBjb25zb2xlLmxvZyhcbiAgICogICAgQVg2VXRpbC5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwge3RhZ25hbWU6XCJhXCIsIGNsYXp6OlwiYXgtbWVudS1oYW5kZWxcIiwgXCJkYXRhLWN1c3RvbS1hdHRyXCI6XCJhdHRyX3ZhbHVlXCJ9KVxuICAgKiApO1xuICAgKiAvLyBjb25kIO2VqOyImOuhnCDsspjrpqztlZjquLBcbiAgICogalF1ZXJ5KCcjaWQnKS5iaW5kKFwiY2xpY2suYXBwX2V4cGFuZFwiLCBmdW5jdGlvbihlKXtcbiAgICogXHR2YXIgdGFyZ2V0ID0gQVg2VXRpbC5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwgZnVuY3Rpb24odGFyZ2V0KXtcbiAgICogXHRcdGlmKCQodGFyZ2V0KS5oYXNDbGFzcyhcImFzaWRlXCIpKXtcbiAgICogXHRcdFx0cmV0dXJuIHRydWU7XG4gICAqIFx0XHR9XG4gICAqIFx0XHRlbHNle1xuICAgKiBcdFx0XHRyZXR1cm4gdHJ1ZTtcbiAgICogXHRcdH1cbiAgICogXHR9KTtcbiAgICogXHQvL2NsaWVudC1hc2lkZVxuICAgKiBcdGlmKHRhcmdldC5pZCAhPT0gXCJjbGllbnQtYXNpZGVcIil7XG4gICAqIFx0XHQvLyBzb21lIGFjdGlvblxuICAgKiBcdH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgZmluZFBhcmVudE5vZGU6IGZpbmRQYXJlbnROb2RlLFxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAgICogQHJldHVybnMge1N0cmluZ31cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwuY3NzTnVtYmVyKFwiMTAwcHhcIikpXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwuY3NzTnVtYmVyKFwiMTAwJVwiKSlcbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5jc3NOdW1iZXIoXCIxMDBcIikpXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwuY3NzTnVtYmVyKDEwMCkpXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwuY3NzTnVtYmVyKFwiISExMDBAI1wiKSlcbiAgICogYGBgXG4gICAqL1xuICBjc3NOdW1iZXI6IGNzc051bWJlcixcbiAgLyoqXG4gICAqIGNzcyBzdHJpbmcg67CPIG9iamVjdCDrpbwg64SY6riw66m0IG9iamVjdCDrsI8gc3RyaW5nIOycvOuhnCDrs4DtmZjrkJjslrQg66as7YS065Cp64uI64ukLlxuICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IHZhbCAtIENTUyBTdHJpbmcgb3IgQ1NTIE9iamVjdFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfE9iamVjdH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwuY3NzKHtiYWNrZ3JvdW5kOiBcIiNjY2NcIiwgcGFkZGluZzogXCI1MHB4XCIsIHdpZHRoOiBcIjEwMHB4XCJ9KSk7XG4gICAqIC8vXCJiYWNrZ3JvdW5kOiNjY2M7cGFkZGluZzo1MHB4O3dpZHRoOjEwMHB4O1wiXG4gICAqIGNvbnNvbGUubG9nKEFYNlV0aWwuY3NzKCd3aWR0aDoxMDBweDtwYWRkaW5nOiA1MHB4OyBiYWNrZ3JvdW5kOiAjY2NjJykpO1xuICAgKiAvLyBvYmplY3Qge3dpZHRoOiBcIjEwMHB4XCIsIHBhZGRpbmc6IFwiNTBweFwiLCBiYWNrZ3JvdW5kOiBcIiNjY2NcIn1cbiAgICogYGBgXG4gICAqL1xuICBjc3M6IGNzcyxcbiAgLyoqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIEFYNlV0aWwuc3RvcEV2ZW50KGUpO1xuICAgKiBgYGBcbiAgICovXG4gIHN0b3BFdmVudDogc3RvcEV2ZW50LFxuICAvKipcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IG9mZnNldFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogQVg2VXRpbC5zZWxlY3RSYW5nZSgkKFwiI3NlbGVjdC10ZXN0LTBcIikpOyAvLyBzZWxlY3RBbGxcbiAgICogQVg2VXRpbC5zZWxlY3RSYW5nZSgkKFwiI3NlbGVjdC10ZXN0LTBcIiksIFwic2VsZWN0QWxsXCIpOyAvL3NlbGVjdEFsbFxuICAgKiBBWDZVdGlsLnNlbGVjdFJhbmdlKCQoXCIjc2VsZWN0LXRlc3QtMFwiKSwgXCJzdGFydFwiKTsgLy8gZm9jdXMgb24gc3RhcnRcbiAgICogQVg2VXRpbC5zZWxlY3RSYW5nZSgkKFwiI3NlbGVjdC10ZXN0LTBcIiksIFwiZW5kXCIpOyAvLyBmb2N1cyBvbiBlbmRcbiAgICogQVg2VXRpbC5zZWxlY3RSYW5nZSgkKFwiI3NlbGVjdC10ZXN0LTBcIiksIFsxLCA1XSk7IC8vIHNlbGVjdCAxfjVcbiAgICogYGBgXG4gICAqL1xuICBzZWxlY3RSYW5nZTogc2VsZWN0UmFuZ2UsXG4gIC8qKlxuICAgKiDsp4DsoJXtlZwg7Iuc6rCE7J2EIOyngOyXsOyLnOy8nCDtlajsiJjrpbwg7Iuk7ZaJ7ZWp64uI64ukLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB3YWl0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtkZWJvdW5jZWR9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9sb2Rhc2gvbG9kYXNoL2Jsb2IvbWFzdGVyL2RlYm91bmNlLmpzXG4gICAqIHZhciBkZWJvdW5jZUZuID0gQVg2VXRpbC5kZWJvdW5jZShmdW5jdGlvbiggdmFsICkgeyBjb25zb2xlLmxvZyh2YWwpOyB9LCAzMDApO1xuICAgKiAkKGRvY3VtZW50LmJvZHkpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAqICBkZWJvdW5jZUZuKG5ldyBEYXRlKCkpO1xuICAgICAgICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBkZWJvdW5jZTogZGVib3VuY2UsXG4gIC8qKlxuICAgKiBAcGFyYW0gZnVuY1xuICAgKiBAcGFyYW0gd2FpdFxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHt0aHJvdHRsZWR9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIC8vaHR0cHM6Ly9naXRodWIuY29tL2xvZGFzaC9sb2Rhc2gvYmxvYi9tYXN0ZXIvdGhyb3R0bGUuanNcbiAgICogdmFyIHRocm90dGxlRm4gPSBBWDZVdGlsLnRocm90dGxlKGZ1bmN0aW9uKCB2YWwgKSB7IGNvbnNvbGUubG9nKHZhbCk7IH0sIDMwMCk7XG4gICAqICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKXtcbiAgICAgKiAgICAgIHRocm90dGxlRm4obmV3IERhdGUoKSk7XG4gICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgdGhyb3R0bGU6IHRocm90dGxlLFxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiB2YXIgb2JqID0gW1xuICAgKiAge25hbWU6XCJBXCIsIGNoaWxkOlt7bmFtZTpcImEtMVwifV19LFxuICAgKiAge25hbWU6XCJCXCIsIGNoaWxkOlt7bmFtZTpcImItMVwifV0sIGNhbGxCYWNrOiBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnY2FsbEJhY2snKTsgfX1cbiAgICogXTtcbiAgICogdmFyIGNvcGllZE9iaiA9IEFYNlV0aWwuZGVlcENvcHkob2JqKVxuICAgKiBgYGBcbiAgICovXG4gIGRlZXBDb3B5OiBkZWVwQ29weSxcbiAgLyoqXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2RlZXBdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvcHlcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBBWDZVdGlsLmV4dGVuZCh7YToxfSwge2I6MX0pO1xuICAgKiBBWDZVdGlsLmV4dGVuZCh0cnVlLCB7YToxLCBiOntuYW1lOid0J30sIHtiOntldGM6dHJ1ZX19KTtcbiAgICogYGBgXG4gICAqL1xuICBleHRlbmQ6IGV4dGVuZCxcbiAgLyoqXG4gICAqIEhUTUwg66y47J6Q7Je07J2EIGVzY2FwZSDsspjrpqztlanri4jri6QuXG4gICAqIFwiJmx0O1wiIHJlcHJlc2VudHMgdGhlIDwgc2lnbi5cbiAgICogXCImZ3Q7XCIgcmVwcmVzZW50cyB0aGUgPiBzaWduLlxuICAgKiBcIiZhbXA7XCIgcmVwcmVzZW50cyB0aGUgJiBzaWduLlxuICAgKiBcIiZxdW90OyByZXByZXNlbnRzIHRoZSBcIiBtYXJrLlxuICAgKiBbQ2hhcmFjdGVyIGVudGl0eSByZWZlcmVuY2VzXShodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDQwMS9jaGFyc2V0Lmh0bWwjaC01LjMpXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBBWDZVdGlsLmVzY2FwZUh0bWwoJ0hUTUwgPHNwYW4+c3RyaW5nPC9zcGFuPiAmIFwiZXNjYXBlXCInKVxuICAgKiAvL1wiSFRNTCAmbHQ7c3BhbiZndDtzdHJpbmcmbHQ7L3NwYW4mZ3Q7ICZhbXA7ICZxdW90O2VzY2FwZSZxdW90O1wiXG4gICAqIGBgYFxuICAgKi9cbiAgZXNjYXBlSHRtbDogZXNjYXBlSHRtbCxcbiAgLyoqXG4gICAqIEhUTUwg66y47J6Q7Je07J2EIHVuZXNjYXBlIOyymOumrO2VqeuLiOuLpC5cbiAgICogZXNjYXBlSHRtbOulvCDssLjqs6DtlZjshLjsmpQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBBWDZVdGlsLnVuZXNjYXBlSHRtbCgnSFRNTCAmbHQ7c3BhbiZndDtzdHJpbmcmbHQ7L3NwYW4mZ3Q7ICZhbXA7ICZxdW90O2VzY2FwZSZxdW90OycpXG4gICAqIC8vXCJIVE1MIDxzcGFuPnN0cmluZzwvc3Bhbj4gJiBcImVzY2FwZVwiXCJcbiAgICogYGBgXG4gICAqL1xuICB1bmVzY2FwZUh0bWw6IHVuZXNjYXBlSHRtbCxcbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0bXBsXG4gICAqIEBwYXJhbSB7Kn0gYXJnc1xuICAgKiBAcmV0dXJuIHtheDZzdHJpbmd9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIEFYNlV0aWwuc3RyaW5nKFwiezB9IGlzIGRlYWQsIGJ1dCB7MX0gaXMgYWxpdmUhIHswfSB7Mn1cIikuZm9ybWF0KFwiQVNQXCIsIFwiQVNQLk5FVFwiKTtcbiAgICogQVg2VXRpbC5zdHJpbmcoXCJ7MH0gaXMgZGVhZCwgYnV0IHsxfSBpcyBhbGl2ZSEgezB9IHsyfVwiKS5mb3JtYXQoW1wiQVNQXCIsIFwiQVNQLk5FVFwiXSk7XG4gICAqIEFYNlV0aWwuc3RpbnJnKFwiezB9IGNvdW50c1wiKS5mb3JtYXQoMTAwKTtcbiAgICogYGBgXG4gICAqL1xuICBzdHJpbmc6IHN0cmluZyxcbiAgLyoqXG4gICAqIEBwYXJhbSBfaGV4Q29sb3JcbiAgICogQHJldHVybiB7YXg1Y29sb3J9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIEFYNlV0aWwuY29sb3IoXCIjZmYzMzAwXCIpLmxpZ2h0ZW4oMTApLmdldEhleFZhbHVlKClcbiAgICogY29uc29sZS5sb2coQVg2VXRpbC5jb2xvcihcIiNmZjMzMDBcIikuZGFya2VuKDEwKS5nZXRIZXhWYWx1ZSgpKTtcbiAgICogYGBgXG4gICAqL1xuICBjb2xvcjogY29sb3Jcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VXRpbC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjIuMiAtYWpheCwtYWpheC9qc29ucCwtYWpheC9sb2FkLC1hamF4L3BhcnNlWE1MLC1hamF4L3NjcmlwdCwtYWpheC92YXIvbG9jYXRpb24sLWFqYXgvdmFyL25vbmNlLC1hamF4L3Zhci9ycXVlcnksLWFqYXgveGhyLC1tYW5pcHVsYXRpb24vX2V2YWxVcmwsLWV2ZW50L2FqYXgsLWF0dHJpYnV0ZXMvcHJvcCwtYXR0cmlidXRlcy9zdXBwb3J0LC1kZXByZWNhdGVkLC1lZmZlY3RzLC1lZmZlY3RzL1R3ZWVuLC1lZmZlY3RzL2FuaW1hdGVkU2VsZWN0b3IsLXdyYXAsLWRlZmVycmVkLC1kZWZlcnJlZC9leGNlcHRpb25Ib29rLC1xdWV1ZSwtcXVldWUvZGVsYXksLWNvcmUvcmVhZHksLWV2ZW50L2ZvY3VzaW4sLWV2ZW50L2FsaWFzLC1jc3Mvc2hvd0hpZGUsLWNzcy9oaWRkZW5WaXNpYmxlU2VsZWN0b3JzXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNy0wNy0xNFQwODowN1pcbiAqL1xuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59ICkoIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG4vLyB0aHJvdyBleGNlcHRpb25zIHdoZW4gbm9uLXN0cmljdCBjb2RlIChlLmcuLCBBU1AuTkVUIDQuNSkgYWNjZXNzZXMgc3RyaWN0IG1vZGVcbi8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uXG4vLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYXJyID0gW107XG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cbnZhciBpc1dpbmRvdyA9IGZ1bmN0aW9uIGlzV2luZG93KCBvYmogKSB7XG5cdFx0cmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcblx0fTtcblxuXG5cblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIzLjIuMiAtYWpheCwtYWpheC9qc29ucCwtYWpheC9sb2FkLC1hamF4L3BhcnNlWE1MLC1hamF4L3NjcmlwdCwtYWpheC92YXIvbG9jYXRpb24sLWFqYXgvdmFyL25vbmNlLC1hamF4L3Zhci9ycXVlcnksLWFqYXgveGhyLC1tYW5pcHVsYXRpb24vX2V2YWxVcmwsLWV2ZW50L2FqYXgsLWF0dHJpYnV0ZXMvcHJvcCwtYXR0cmlidXRlcy9zdXBwb3J0LC1kZXByZWNhdGVkLC1lZmZlY3RzLC1lZmZlY3RzL1R3ZWVuLC1lZmZlY3RzL2FuaW1hdGVkU2VsZWN0b3IsLXdyYXAsLWRlZmVycmVkLC1kZWZlcnJlZC9leGNlcHRpb25Ib29rLC1xdWV1ZSwtcXVldWUvZGVsYXksLWNvcmUvcmVhZHksLWV2ZW50L2ZvY3VzaW4sLWV2ZW50L2FsaWFzLC1jc3Mvc2hvd0hpZGUsLWNzcy9oaWRkZW5WaXNpYmxlU2VsZWN0b3JzXCIsXG5cblx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcblx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXG5cdFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG5cdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHQvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1Bcblx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXG5cblx0Ly8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG5cdHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZyxcblxuXHQvLyBVc2VkIGJ5IGpRdWVyeS5jYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5cdGZjYW1lbENhc2UgPSBmdW5jdGlvbiggYWxsLCBsZXR0ZXIgKSB7XG5cdFx0cmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xuXHR9O1xuXG5qUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xuXG5cdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcblx0anF1ZXJ5OiB2ZXJzaW9uLFxuXG5cdGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXG5cdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdGlmICggbnVtID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRyZXR1cm4gbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXTtcblx0fSxcblxuXHQvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG5cdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuXHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXG5cdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cblx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0fSxcblxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIDAgKTtcblx0fSxcblxuXHRsYXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0fSxcblxuXHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdH0sXG5cblx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcblx0fSxcblxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuXHRwdXNoOiBwdXNoLFxuXHRzb3J0OiBhcnIuc29ydCxcblx0c3BsaWNlOiBhcnIuc3BsaWNlXG59O1xuXG5qUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIHRhcmdldCApICkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Ly8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG5cdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0aS0tO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKCAoIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSApICE9IG51bGwgKSB7XG5cblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0c3JjID0gdGFyZ2V0WyBuYW1lIF07XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheSggY29weSApICkgKSApIHtcblxuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgKSB7XG5cdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgQXJyYXkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9NTcsIEZpcmVmb3ggPD01MlxuXHRcdC8vIEluIHNvbWUgYnJvd3NlcnMsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCA8b2JqZWN0PiBlbGVtZW50c1xuXHRcdC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG5cdFx0Ly8gV2UgZG9uJ3Qgd2FudCB0byBjbGFzc2lmeSAqYW55KiBET00gbm9kZSBhcyBhIGZ1bmN0aW9uLlxuXHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iai5ub2RlVHlwZSAhPT0gXCJudW1iZXJcIjtcblx0fSxcblxuXHRpc051bWVyaWM6IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0XHQvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xuXHRcdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0XHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHRcdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXHRcdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdFx0Ly8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuXHRcdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjVcblx0XHR2YXIgbmFtZTtcblxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHR0eXBlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdGlmICggb2JqID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHRcdHR5cGVvZiBvYmo7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUgKSB7XG5cdFx0RE9NRXZhbCggY29kZSApO1xuXHR9LFxuXG5cdC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuXHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5cdGNhbWVsQ2FzZTogZnVuY3Rpb24oIHN0cmluZyApIHtcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcdFwiXCIgOlxuXHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG5cdH0sXG5cblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYWtlQXJyYXk6IGZ1bmN0aW9uKCBhcnIsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cblx0XHRpZiAoIGFyciAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHR0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XG5cdFx0dmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLFxuXHRcdFx0aiA9IDAsXG5cdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcblx0XHR9XG5cblx0XHRmaXJzdC5sZW5ndGggPSBpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9LFxuXG5cdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxuXHRcdFx0bWF0Y2hlcyA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG5cdFx0XHRjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG5cdFx0Ly8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cblx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuXHRcdFx0aWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xuXHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlcztcblx0fSxcblxuXHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XG5cdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBlbGVtcyApICkge1xuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBlbGVtcyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRcdHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcblx0fSxcblxuXHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0Z3VpZDogMSxcblxuXHQvLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcblx0Ly8gYXJndW1lbnRzLlxuXHRwcm94eTogZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuXHRcdHZhciB0bXAsIGFyZ3MsIHByb3h5O1xuXG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0XHRjb250ZXh0ID0gZm47XG5cdFx0XHRmbiA9IHRtcDtcblx0XHR9XG5cblx0XHQvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlY1xuXHRcdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFNpbXVsYXRlZCBiaW5kXG5cdFx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRcdHByb3h5ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0XHR9O1xuXG5cdFx0Ly8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkXG5cdFx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0XHRyZXR1cm4gcHJveHk7XG5cdH0sXG5cblx0bm93OiBEYXRlLm5vdyxcblxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0Ly8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cblx0c3VwcG9ydDogc3VwcG9ydFxufSApO1xuXG5pZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XG59XG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcbmZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvYmogKSB8fCBpc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbi8qXG4gKiBPcHRpb25hbCAobm9uLVNpenpsZSkgc2VsZWN0b3IgbW9kdWxlIGZvciBjdXN0b20gYnVpbGRzLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIERPRVMgTk9UIFNVUFBPUlQgbWFueSBkb2N1bWVudGVkIGpRdWVyeVxuICogZmVhdHVyZXMgaW4gZXhjaGFuZ2UgZm9yIGl0cyBzbWFsbGVyIHNpemU6XG4gKlxuICogQXR0cmlidXRlIG5vdCBlcXVhbCBzZWxlY3RvclxuICogUG9zaXRpb25hbCBzZWxlY3RvcnMgKDpmaXJzdDsgOmVxKG4pOyA6b2RkOyBldGMuKVxuICogVHlwZSBzZWxlY3RvcnMgKDppbnB1dDsgOmNoZWNrYm94OyA6YnV0dG9uOyBldGMuKVxuICogU3RhdGUtYmFzZWQgc2VsZWN0b3JzICg6YW5pbWF0ZWQ7IDp2aXNpYmxlOyA6aGlkZGVuOyBldGMuKVxuICogOmhhcyhzZWxlY3RvcilcbiAqIDpub3QoY29tcGxleCBzZWxlY3RvcilcbiAqIGN1c3RvbSBzZWxlY3RvcnMgdmlhIFNpenpsZSBleHRlbnNpb25zXG4gKiBMZWFkaW5nIGNvbWJpbmF0b3JzIChlLmcuLCAkY29sbGVjdGlvbi5maW5kKFwiPiAqXCIpKVxuICogUmVsaWFibGUgZnVuY3Rpb25hbGl0eSBvbiBYTUwgZnJhZ21lbnRzXG4gKiBSZXF1aXJpbmcgYWxsIHBhcnRzIG9mIGEgc2VsZWN0b3IgdG8gbWF0Y2ggZWxlbWVudHMgdW5kZXIgY29udGV4dFxuICogICAoZS5nLiwgJGRpdi5maW5kKFwiZGl2ID4gKlwiKSBub3cgbWF0Y2hlcyBjaGlsZHJlbiBvZiAkZGl2KVxuICogTWF0Y2hpbmcgYWdhaW5zdCBub24tZWxlbWVudHNcbiAqIFJlbGlhYmxlIHNvcnRpbmcgb2YgZGlzY29ubmVjdGVkIG5vZGVzXG4gKiBxdWVyeVNlbGVjdG9yQWxsIGJ1ZyBmaXhlcyAoZS5nLiwgdW5yZWxpYWJsZSA6Zm9jdXMgb24gV2ViS2l0KVxuICpcbiAqIElmIGFueSBvZiB0aGVzZSBhcmUgdW5hY2NlcHRhYmxlIHRyYWRlb2ZmcywgZWl0aGVyIHVzZSBTaXp6bGUgb3JcbiAqIGN1c3RvbWl6ZSB0aGlzIHN0dWIgZm9yIHRoZSBwcm9qZWN0J3Mgc3BlY2lmaWMgbmVlZHMuXG4gKi9cblxudmFyIGhhc0R1cGxpY2F0ZSwgc29ydElucHV0LFxuXHRzb3J0U3RhYmxlID0galF1ZXJ5LmV4cGFuZG8uc3BsaXQoIFwiXCIgKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKCBcIlwiICkgPT09IGpRdWVyeS5leHBhbmRvLFxuXHRtYXRjaGVzID0gZG9jdW1lbnRFbGVtZW50Lm1hdGNoZXMgfHxcblx0XHRkb2N1bWVudEVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jdW1lbnRFbGVtZW50Lm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY3VtZW50RWxlbWVudC5vTWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jdW1lbnRFbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yLFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH07XG5cbmZ1bmN0aW9uIHNvcnRPcmRlciggYSwgYiApIHtcblxuXHQvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxuXHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0dmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO1xuXHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0cmV0dXJuIGNvbXBhcmU7XG5cdH1cblxuXHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdDE7XG5cblx0Ly8gRGlzY29ubmVjdGVkIG5vZGVzXG5cdGlmICggY29tcGFyZSAmIDEgKSB7XG5cblx0XHQvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcblx0XHRpZiAoIGEgPT09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PT0gZG9jdW1lbnQgJiZcblx0XHRcdGpRdWVyeS5jb250YWlucyggZG9jdW1lbnQsIGEgKSApIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9XG5cdFx0aWYgKCBiID09PSBkb2N1bWVudCB8fCBiLm93bmVyRG9jdW1lbnQgPT09IGRvY3VtZW50ICYmXG5cdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvY3VtZW50LCBiICkgKSB7XG5cdFx0XHRyZXR1cm4gMTtcblx0XHR9XG5cblx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdHJldHVybiBzb3J0SW5wdXQgP1xuXHRcdFx0KCBpbmRleE9mLmNhbGwoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZi5jYWxsKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdDA7XG5cdH1cblxuXHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG59XG5cbmZ1bmN0aW9uIHVuaXF1ZVNvcnQoIHJlc3VsdHMgKSB7XG5cdHZhciBlbGVtLFxuXHRcdGR1cGxpY2F0ZXMgPSBbXSxcblx0XHRqID0gMCxcblx0XHRpID0gMDtcblxuXHRoYXNEdXBsaWNhdGUgPSBmYWxzZTtcblx0c29ydElucHV0ID0gIXNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xuXHRyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xuXG5cdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5mdW5jdGlvbiBlc2NhcGUoIHNlbCApIHtcblx0cmV0dXJuICggc2VsICsgXCJcIiApLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHR1bmlxdWVTb3J0OiB1bmlxdWVTb3J0LFxuXHR1bmlxdWU6IHVuaXF1ZVNvcnQsXG5cdGVzY2FwZVNlbGVjdG9yOiBlc2NhcGUsXG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0XHR2YXIgZWxlbSwgbm9kZVR5cGUsXG5cdFx0XHRpID0gMDtcblxuXHRcdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXHRcdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gU2FtZSBiYXNpYyBzYWZlZ3VhcmQgYXMgU2l6emxlXG5cdFx0aWYgKCAhc2VsZWN0b3IgfHwgdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fVxuXG5cdFx0Ly8gRWFybHkgcmV0dXJuIGlmIGNvbnRleHQgaXMgbm90IGFuIGVsZW1lbnQgb3IgZG9jdW1lbnRcblx0XHRpZiAoICggbm9kZVR5cGUgPSBjb250ZXh0Lm5vZGVUeXBlICkgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBzZWVkWyBpKysgXSApICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkubWVyZ2UoIHJlc3VsdHMsIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9LFxuXHR0ZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbm9kZSxcblx0XHRcdHJldCA9IFwiXCIsXG5cdFx0XHRpID0gMCxcblx0XHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdGlmICggIW5vZGVUeXBlICkge1xuXG5cdFx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdFx0d2hpbGUgKCAoIG5vZGUgPSBlbGVtWyBpKysgXSApICkge1xuXG5cdFx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRcdHJldCArPSBqUXVlcnkudGV4dCggbm9kZSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHtcblxuXHRcdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdFx0cmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7XG5cdFx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlVmFsdWU7XG5cdFx0fVxuXG5cdFx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXHRjb250YWluczogZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuXHRcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgYWRvd24uY29udGFpbnMoIGJ1cCApICk7XG5cdH0sXG5cdGlzWE1MRG9jOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0XHQvLyAoc3VjaCBhcyBsb2FkaW5nIGlmcmFtZXMgaW4gSUUgLSAjNDgzMylcblx0XHR2YXIgZG9jdW1lbnRFbGVtZW50ID0gZWxlbSAmJiAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkuZG9jdW1lbnRFbGVtZW50O1xuXHRcdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiIDogZmFsc2U7XG5cdH0sXG5cdGV4cHI6IHtcblx0XHRhdHRySGFuZGxlOiB7fSxcblx0XHRtYXRjaDoge1xuXHRcdFx0Ym9vbDogbmV3IFJlZ0V4cCggXCJeKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJcIiArXG5cdFx0XHRcdFwifGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkKSRcIiwgXCJpXCIgKSxcblx0XHRcdG5lZWRzQ29udGV4dDogL15bXFx4MjBcXHRcXHJcXG5cXGZdKls+K35dL1xuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZmluZCwge1xuXHRtYXRjaGVzOiBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5maW5kKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xuXHR9LFxuXHRtYXRjaGVzU2VsZWN0b3I6IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHRcdHJldHVybiBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblx0fSxcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0dmFyIGZuID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZVsgbmFtZS50b0xvd2VyQ2FzZSgpIF0sXG5cblx0XHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdFx0dmFsdWUgPSBmbiAmJiBoYXNPd24uY2FsbCggalF1ZXJ5LmV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRmbiggZWxlbSwgbmFtZSwgalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSA6XG5cdFx0XHRcdHVuZGVmaW5lZDtcblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblx0fVxufSApO1xuXG5cblxudmFyIGRpciA9IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdLFxuXHRcdHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcblxuXHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSApIHtcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdG1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHNpYmxpbmdzID0gZnVuY3Rpb24oIG4sIGVsZW0gKSB7XG5cdHZhciBtYXRjaGVkID0gW107XG5cblx0Zm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHtcblx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdG1hdGNoZWQucHVzaCggbiApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblxuXG5cbmZ1bmN0aW9uIG5vZGVOYW1lKCBlbGVtLCBuYW1lICkge1xuXG4gIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG59O1xudmFyIHJzaW5nbGVUYWcgPSAoIC9ePChbYS16XVteXFwvXFwwPjpcXHgyMFxcdFxcclxcblxcZl0qKVtcXHgyMFxcdFxcclxcblxcZl0qXFwvPz4oPzo8XFwvXFwxPnwpJC9pICk7XG5cblxuXG52YXIgcmlzU2ltcGxlID0gL14uW146I1xcW1xcLixdKiQvO1xuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoIGVsZW0sIGksIGVsZW0gKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIFNpbmdsZSBlbGVtZW50XG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBBcnJheWxpa2Ugb2YgZWxlbWVudHMgKGpRdWVyeSwgYXJndW1lbnRzLCBBcnJheSlcblx0aWYgKCB0eXBlb2YgcXVhbGlmaWVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW1wbGUgc2VsZWN0b3IgdGhhdCBjYW4gYmUgZmlsdGVyZWQgZGlyZWN0bHksIHJlbW92aW5nIG5vbi1FbGVtZW50c1xuXHRpZiAoIHJpc1NpbXBsZS50ZXN0KCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdH1cblxuXHQvLyBDb21wbGV4IHNlbGVjdG9yLCBjb21wYXJlIHRoZSB0d28gc2V0cywgcmVtb3Zpbmcgbm9uLUVsZW1lbnRzXG5cdHF1YWxpZmllciA9IGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMgKTtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdCAmJiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHR9ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG5cdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0XHR0aGlzWyAwIF0gPSBlbGVtO1xuXHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxuXHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcblx0XHRcdHRoaXNbIDAgXSA9IHNlbGVjdG9yO1xuXHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG5cdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblxuXHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgdGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXG5cdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1sgaSBdICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHR0YXJnZXRzID0gdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApO1xuXG5cdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuXHRcdGlmICggIXJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cblx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XG5cdFx0XHRcdFx0XHR0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXG5cdFx0XHRcdFx0XHRjdXIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRcdG1hdGNoZWQucHVzaCggY3VyICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdH0sXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcblx0XHR9XG5cblx0XHQvLyBJbmRleCBpbiBzZWxlY3RvclxuXHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG5cdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcyxcblxuXHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG5cdFx0XHRlbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW1cblx0XHQpO1xuXHR9LFxuXG5cdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRhZGRCYWNrOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHQpO1xuXHR9XG59ICk7XG5cbmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuXHR3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKCB7XG5cdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRyZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuXHR9LFxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwgKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuXHR9LFxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTtcblx0fSxcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICBpZiAoIG5vZGVOYW1lKCBlbGVtLCBcImlmcmFtZVwiICkgKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seSwgaU9TIDcgb25seSwgQW5kcm9pZCBCcm93c2VyIDw9NC4zIG9ubHlcbiAgICAgICAgLy8gVHJlYXQgdGhlIHRlbXBsYXRlIGVsZW1lbnQgYXMgYSByZWd1bGFyIG9uZSBpbiBicm93c2VycyB0aGF0XG4gICAgICAgIC8vIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICAgIGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGVtcGxhdGVcIiApICkge1xuICAgICAgICAgICAgZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHR9XG59LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzXG5cdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHR9O1xufSApO1xudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyApO1xuXG5cblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXNcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdHZhciBvYmplY3QgPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHR9ICk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRtZW1vcnksXG5cblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXG5cdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdGxvY2tlZCxcblxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXG5cdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRxdWV1ZSA9IFtdLFxuXG5cdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXggPSAtMSxcblxuXHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdGxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxualF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gKTtcbn07XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggalF1ZXJ5LnR5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggY2hhaW5hYmxlICkge1xuXHRcdHJldHVybiBlbGVtcztcblx0fVxuXG5cdC8vIEdldHNcblx0aWYgKCBidWxrICkge1xuXHRcdHJldHVybiBmbi5jYWxsKCBlbGVtcyApO1xuXHR9XG5cblx0cmV0dXJuIGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGpRdWVyeS5jYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBrZXkgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdCgga2V5Lm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGdldERhdGEoIGRhdGEgKSB7XG5cdGlmICggZGF0YSA9PT0gXCJ0cnVlXCIgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwiZmFsc2VcIiApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwibnVsbFwiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0aWYgKCBkYXRhID09PSArZGF0YSArIFwiXCIgKSB7XG5cdFx0cmV0dXJuICtkYXRhO1xuXHR9XG5cblx0aWYgKCByYnJhY2UudGVzdCggZGF0YSApICkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICk7XG5cdH1cblxuXHRyZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBnZXREYXRhKCBkYXRhICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGE7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcG51bSA9ICggL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8gKS5zb3VyY2U7XG5cbnZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKTtcblxuXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cbnZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cblx0XHQvLyBpc0hpZGRlbldpdGhpblRyZWUgbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblxuXHRcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG5cdFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJlxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NVxuXHRcdFx0Ly8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG5cdFx0XHQvLyBpbiB0aGUgZG9jdW1lbnQuXG5cdFx0XHRqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICYmXG5cblx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgPT09IFwibm9uZVwiO1xuXHR9O1xuXG52YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjaywgYXJncyApIHtcblx0dmFyIHJldCwgbmFtZSxcblx0XHRvbGQgPSB7fTtcblxuXHQvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTtcblx0fVxuXG5cdHJldCA9IGNhbGxiYWNrLmFwcGx5KCBlbGVtLCBhcmdzIHx8IFtdICk7XG5cblx0Ly8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHR2YXIgYWRqdXN0ZWQsXG5cdFx0c2NhbGUgPSAxLFxuXHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmN1cigpO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTtcblx0XHRcdH0sXG5cdFx0aW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLFxuXHRcdHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblxuXHRcdC8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzXG5cdFx0aW5pdGlhbEluVW5pdCA9ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCApICYmXG5cdFx0XHRyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApO1xuXG5cdGlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7XG5cblx0XHQvLyBUcnVzdCB1bml0cyByZXBvcnRlZCBieSBqUXVlcnkuY3NzXG5cdFx0dW5pdCA9IHVuaXQgfHwgaW5pdGlhbEluVW5pdFsgMyBdO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxuXHRcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuXG5cdFx0Ly8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTtcblxuXHRcdGRvIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgaXRlcmF0aW9uIHplcm9lZCBvdXQsIGRvdWJsZSB1bnRpbCB3ZSBnZXQgKnNvbWV0aGluZyouXG5cdFx0XHQvLyBVc2Ugc3RyaW5nIGZvciBkb3VibGluZyBzbyB3ZSBkb24ndCBhY2NpZGVudGFsbHkgc2VlIHNjYWxlIGFzIHVuY2hhbmdlZCBiZWxvd1xuXHRcdFx0c2NhbGUgPSBzY2FsZSB8fCBcIi41XCI7XG5cblx0XHRcdC8vIEFkanVzdCBhbmQgYXBwbHlcblx0XHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG5cdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cblx0XHQvLyBVcGRhdGUgc2NhbGUsIHRvbGVyYXRpbmcgemVybyBvciBOYU4gZnJvbSB0d2Vlbi5jdXIoKVxuXHRcdC8vIEJyZWFrIHRoZSBsb29wIGlmIHNjYWxlIGlzIHVuY2hhbmdlZCBvciBwZXJmZWN0LCBvciBpZiB3ZSd2ZSBqdXN0IGhhZCBlbm91Z2guXG5cdFx0fSB3aGlsZSAoXG5cdFx0XHRzY2FsZSAhPT0gKCBzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCApICYmIHNjYWxlICE9PSAxICYmIC0tbWF4SXRlcmF0aW9uc1xuXHRcdCk7XG5cdH1cblxuXHRpZiAoIHZhbHVlUGFydHMgKSB7XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7XG5cblx0XHQvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWRcblx0XHRhZGp1c3RlZCA9IHZhbHVlUGFydHNbIDEgXSA/XG5cdFx0XHRpbml0aWFsSW5Vbml0ICsgKCB2YWx1ZVBhcnRzWyAxIF0gKyAxICkgKiB2YWx1ZVBhcnRzWyAyIF0gOlxuXHRcdFx0K3ZhbHVlUGFydHNbIDIgXTtcblx0XHRpZiAoIHR3ZWVuICkge1xuXHRcdFx0dHdlZW4udW5pdCA9IHVuaXQ7XG5cdFx0XHR0d2Vlbi5zdGFydCA9IGluaXRpYWxJblVuaXQ7XG5cdFx0XHR0d2Vlbi5lbmQgPSBhZGp1c3RlZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGFkanVzdGVkO1xufVxudmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXG52YXIgcnRhZ05hbWUgPSAoIC88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKykvaSApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuXG5mdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSlcblx0dmFyIHJldDtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSBpZiAoIHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKTtcblxuXHR9IGVsc2Uge1xuXHRcdHJldCA9IFtdO1xuXHR9XG5cblx0aWYgKCB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgbm9kZU5hbWUoIGNvbnRleHQsIHRhZyApICkge1xuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cblxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRkYXRhUHJpdi5zZXQoXG5cdFx0XHRlbGVtc1sgaSBdLFxuXHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0KTtcblx0fVxufVxuXG5cbnZhciByaHRtbCA9IC88fCYjP1xcdys7LztcblxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBjb250YWlucywgaixcblx0XHRmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdG5vZGVzID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1zWyBpIF07XG5cblx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblxuXHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRpZiAoIGpRdWVyeS50eXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcblx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblxuXHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG5cdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxuXHRcdFx0XHR0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0ZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXG5cdGkgPSAwO1xuXHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xuXG5cdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcblx0XHRcdGlmICggaWdub3JlZCApIHtcblx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRjb250YWlucyA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHR0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksIFwic2NyaXB0XCIgKTtcblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRpZiAoIGNvbnRhaW5zICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdGlmICggc2NyaXB0cyApIHtcblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRzY3JpcHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLFxuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG59ICkoKTtcblxuXG52YXJcblx0cmtleUV2ZW50ID0gL15rZXkvLFxuXHRybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxcblx0cnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBEb24ndCBhdHRhY2ggZXZlbnRzIHRvIG5vRGF0YSBvciB0ZXh0L2NvbW1lbnQgbm9kZXMgKGJ1dCBhbGxvdyBwbGFpbiBvYmplY3RzKVxuXHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcblx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IHt9O1xuXHRcdH1cblx0XHRpZiAoICEoIGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlICkgKSB7XG5cdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdC8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kXG5cdFx0XHRcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcblx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdHRtcCA9IHRtcFsgMiBdICYmXG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApO1xuXG5cdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0KCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XG5cblx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcblx0XHRcdFx0XHRzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHtcblxuXHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdHZhciBldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICk7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdH1cblxuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzID0ge307XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGpRdWVyeS5pc0Z1bmN0aW9uKCBob29rICkgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcblx0XHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Zm9jdXM6IHtcblxuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBub2RlTmFtZSggdGhpcywgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5jbGljaygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIGRvbid0IGZpcmUgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4gbm9kZU5hbWUoIGV2ZW50LnRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXG5cdC8vIFRoaXMgXCJpZlwiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0c1xuXHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSApO1xuXHR9XG59O1xuXG5qUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHtcblxuXHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0aWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50ICkgKSB7XG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIEV2ZW50IG9iamVjdFxuXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG5cdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuXHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cblx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0cmV0dXJuRmFsc2U7XG5cblx0XHQvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcblx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5XG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKCM1MDQsICMxMzE0Mylcblx0XHR0aGlzLnRhcmdldCA9ICggc3JjLnRhcmdldCAmJiBzcmMudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkgP1xuXHRcdFx0c3JjLnRhcmdldC5wYXJlbnROb2RlIDpcblx0XHRcdHNyYy50YXJnZXQ7XG5cblx0XHR0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMuY3VycmVudFRhcmdldDtcblx0XHR0aGlzLnJlbGF0ZWRUYXJnZXQgPSBzcmMucmVsYXRlZFRhcmdldDtcblxuXHQvLyBFdmVudCB0eXBlXG5cdH0gZWxzZSB7XG5cdFx0dGhpcy50eXBlID0gc3JjO1xuXHR9XG5cblx0Ly8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3Rcblx0aWYgKCBwcm9wcyApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aGlzLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmVcblx0dGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBqUXVlcnkubm93KCk7XG5cblx0Ly8gTWFyayBpdCBhcyBmaXhlZFxuXHR0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTtcbn07XG5cbi8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxualF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcblx0aXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcblx0aXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzU2ltdWxhdGVkOiBmYWxzZSxcblxuXHRwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBJbmNsdWRlcyBhbGwgY29tbW9uIGV2ZW50IHByb3BzIGluY2x1ZGluZyBLZXlFdmVudCBhbmQgTW91c2VFdmVudCBzcGVjaWZpYyBwcm9wc1xualF1ZXJ5LmVhY2goIHtcblx0YWx0S2V5OiB0cnVlLFxuXHRidWJibGVzOiB0cnVlLFxuXHRjYW5jZWxhYmxlOiB0cnVlLFxuXHRjaGFuZ2VkVG91Y2hlczogdHJ1ZSxcblx0Y3RybEtleTogdHJ1ZSxcblx0ZGV0YWlsOiB0cnVlLFxuXHRldmVudFBoYXNlOiB0cnVlLFxuXHRtZXRhS2V5OiB0cnVlLFxuXHRwYWdlWDogdHJ1ZSxcblx0cGFnZVk6IHRydWUsXG5cdHNoaWZ0S2V5OiB0cnVlLFxuXHR2aWV3OiB0cnVlLFxuXHRcImNoYXJcIjogdHJ1ZSxcblx0Y2hhckNvZGU6IHRydWUsXG5cdGtleTogdHJ1ZSxcblx0a2V5Q29kZTogdHJ1ZSxcblx0YnV0dG9uOiB0cnVlLFxuXHRidXR0b25zOiB0cnVlLFxuXHRjbGllbnRYOiB0cnVlLFxuXHRjbGllbnRZOiB0cnVlLFxuXHRvZmZzZXRYOiB0cnVlLFxuXHRvZmZzZXRZOiB0cnVlLFxuXHRwb2ludGVySWQ6IHRydWUsXG5cdHBvaW50ZXJUeXBlOiB0cnVlLFxuXHRzY3JlZW5YOiB0cnVlLFxuXHRzY3JlZW5ZOiB0cnVlLFxuXHR0YXJnZXRUb3VjaGVzOiB0cnVlLFxuXHR0b0VsZW1lbnQ6IHRydWUsXG5cdHRvdWNoZXM6IHRydWUsXG5cblx0d2hpY2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuXG5cdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0aWYgKCBldmVudC53aGljaCA9PSBudWxsICYmIHJrZXlFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRyZXR1cm4gZXZlbnQuY2hhckNvZGUgIT0gbnVsbCA/IGV2ZW50LmNoYXJDb2RlIDogZXZlbnQua2V5Q29kZTtcblx0XHR9XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XG5cdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgcm1vdXNlRXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0aWYgKCBidXR0b24gJiAxICkge1xuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBidXR0b24gJiAyICkge1xuXHRcdFx0XHRyZXR1cm4gMztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBidXR0b24gJiA0ICkge1xuXHRcdFx0XHRyZXR1cm4gMjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LndoaWNoO1xuXHR9XG59LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApO1xuXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3Ncbi8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXG4vLyBEbyB0aGUgc2FtZSBmb3IgcG9pbnRlcmVudGVyL3BvaW50ZXJsZWF2ZSBhbmQgcG9pbnRlcm92ZXIvcG9pbnRlcm91dFxuLy9cbi8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcbi8vIFNhZmFyaSBzZW5kcyBtb3VzZWVudGVyIHRvbyBvZnRlbjsgc2VlOlxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDcwMjU4XG4vLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLlxualF1ZXJ5LmVhY2goIHtcblx0bW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcblx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcblx0cG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxufSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHtcblx0XHRkZWxlZ2F0ZVR5cGU6IGZpeCxcblx0XHRiaW5kVHlwZTogZml4LFxuXG5cdFx0aGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHR0YXJnZXQgPSB0aGlzLFxuXHRcdFx0XHRyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCxcblx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXG5cdFx0XHQvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LlxuXHRcdFx0Ly8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcblx0XHRcdGlmICggIXJlbGF0ZWQgfHwgKCByZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpRdWVyeS5jb250YWlucyggdGFyZ2V0LCByZWxhdGVkICkgKSApIHtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcblx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRldmVudC50eXBlID0gZml4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblxuXHRcdFx0Ly8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxuXHRcdFx0aGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuXHRcdFx0alF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZihcblx0XHRcdFx0aGFuZGxlT2JqLm5hbWVzcGFjZSA/XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9mZiggdHlwZSwgc2VsZWN0b3IsIHR5cGVzWyB0eXBlIF0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcyBbLCBmbl0gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbnZhclxuXG5cdC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzMyMjlcblx0cnhodG1sVGFnID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKVtePl0qKVxcLz4vZ2ksXG5cblx0LyogZXNsaW50LWVuYWJsZSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzIG9ubHlcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG4vLyBQcmVmZXIgYSB0Ym9keSBvdmVyIGl0cyBwYXJlbnQgdGFibGUgZm9yIGNvbnRhaW5pbmcgbmV3IHJvd3NcbmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBqUXVlcnkoIFwiPnRib2R5XCIsIGVsZW0gKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI1cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdC8vIERldGVjdCBtaXNyZXBvcnRpbmcgb2YgY29udGVudCBkaW1lbnNpb25zIGZvciBib3JkZXItYm94IGVsZW1lbnRzIChnaC0zNjk5KVxuXHRcdGJvcmRlckJveFJlbGlhYmxlVmFsID0gZGl2U3R5bGUud2lkdGhbIDAgXSA9PT0gXCI1XCI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdFx0Ly8gU29tZSBzdHlsZXMgY29tZSBiYWNrIHdpdGggcGVyY2VudGFnZSB2YWx1ZXMsIGV2ZW4gdGhvdWdoIHRoZXkgc2hvdWxkbid0XG5cdFx0ZGl2LnN0eWxlLm1hcmdpblJpZ2h0ID0gXCI1MCVcIjtcblx0XHRwaXhlbE1hcmdpblJpZ2h0VmFsID0gZGl2U3R5bGUubWFyZ2luUmlnaHQgPT09IFwiNXB4XCI7XG5cblx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0Ly8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuXHRcdC8vIGl0IHdpbGwgYWxzbyBiZSBhIHNpZ24gdGhhdCBjaGVja3MgYWxyZWFkeSBwZXJmb3JtZWRcblx0XHRkaXYgPSBudWxsO1xuXHR9XG5cblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBib3JkZXJCb3hSZWxpYWJsZVZhbCwgcGl4ZWxNYXJnaW5SaWdodFZhbCxcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnRWYWwsXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOjA7d2lkdGg6MTBweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7XCIgK1xuXHRcdFwicGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlXCI7XG5cdGNvbnRhaW5lci5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0alF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwge1xuXHRcdGJvcmRlckJveFJlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm9yZGVyQm94UmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdH0sXG5cdFx0cGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxNYXJnaW5SaWdodFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuXHRcdC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcblx0XHQvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG5cdFx0Ly8gb24gZGV0YWNoZWQgZWxlbWVudHNcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG5cdC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgIzEyNTM3KVxuXHQvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NClcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRyY3VzdG9tUHJvcCA9IC9eLS0vLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFJldHVybiBhIHByb3BlcnR5IG1hcHBlZCBhbG9uZyB3aGF0IGpRdWVyeS5jc3NQcm9wcyBzdWdnZXN0cyBvciB0b1xuLy8gYSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHkuXG5mdW5jdGlvbiBmaW5hbFByb3BOYW1lKCBuYW1lICkge1xuXHR2YXIgcmV0ID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF07XG5cdGlmICggIXJldCApIHtcblx0XHRyZXQgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBuYW1lICkgfHwgbmFtZTtcblx0fVxuXHRyZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXG5cdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cblx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cblx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAyIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgOlxuXHRcdHZhbHVlO1xufVxuXG5mdW5jdGlvbiBib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgYm94LCBpc0JvcmRlckJveCwgc3R5bGVzLCBjb21wdXRlZFZhbCApIHtcblx0dmFyIGkgPSBkaW1lbnNpb24gPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXHRcdGV4dHJhID0gMCxcblx0XHRkZWx0YSA9IDA7XG5cblx0Ly8gQWRqdXN0bWVudCBtYXkgbm90IGJlIG5lY2Vzc2FyeVxuXHRpZiAoIGJveCA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApICkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luXG5cdFx0aWYgKCBib3ggPT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBib3ggKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGNvbnRlbnQtYm94LCB3ZSdyZSBzZWVraW5nIFwicGFkZGluZ1wiIG9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIlxuXHRcdGlmICggIWlzQm9yZGVyQm94ICkge1xuXG5cdFx0XHQvLyBBZGQgcGFkZGluZ1xuXHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEZvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCIsIGFkZCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gQnV0IHN0aWxsIGtlZXAgdHJhY2sgb2YgaXQgb3RoZXJ3aXNlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRleHRyYSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGJvcmRlci1ib3ggKGNvbnRlbnQgKyBwYWRkaW5nICsgYm9yZGVyKSwgd2UncmUgc2Vla2luZyBcImNvbnRlbnRcIiBvclxuXHRcdC8vIFwicGFkZGluZ1wiIG9yIFwibWFyZ2luXCJcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBGb3IgXCJjb250ZW50XCIsIHN1YnRyYWN0IHBhZGRpbmdcblx0XHRcdGlmICggYm94ID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiBvciBcInBhZGRpbmdcIiwgc3VidHJhY3QgYm9yZGVyXG5cdFx0XHRpZiAoIGJveCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBY2NvdW50IGZvciBwb3NpdGl2ZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyIHdoZW4gcmVxdWVzdGVkIGJ5IHByb3ZpZGluZyBjb21wdXRlZFZhbFxuXHRpZiAoICFpc0JvcmRlckJveCAmJiBjb21wdXRlZFZhbCA+PSAwICkge1xuXG5cdFx0Ly8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIGEgcm91bmRlZCBzdW0gb2YgY29udGVudCwgcGFkZGluZywgc2Nyb2xsIGd1dHRlciwgYW5kIGJvcmRlclxuXHRcdC8vIEFzc3VtaW5nIGludGVnZXIgc2Nyb2xsIGd1dHRlciwgc3VidHJhY3QgdGhlIHJlc3QgYW5kIHJvdW5kIGRvd25cblx0XHRkZWx0YSArPSBNYXRoLm1heCggMCwgTWF0aC5jZWlsKFxuXHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdGNvbXB1dGVkVmFsIC1cblx0XHRcdGRlbHRhIC1cblx0XHRcdGV4dHJhIC1cblx0XHRcdDAuNVxuXHRcdCkgKTtcblx0fVxuXG5cdHJldHVybiBkZWx0YTtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIGNvbXB1dGVkIHN0eWxlXG5cdHZhciBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzICksXG5cdFx0aXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveDtcblxuXHQvLyBDb21wdXRlZCB1bml0IGlzIG5vdCBwaXhlbHMuIFN0b3AgaGVyZSBhbmQgcmV0dXJuLlxuXHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHN0eWxlIGluIGNhc2UgYSBicm93c2VyIHdoaWNoIHJldHVybnMgdW5yZWxpYWJsZSB2YWx1ZXNcblx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHR2YWx1ZUlzQm9yZGVyQm94ID0gdmFsdWVJc0JvcmRlckJveCAmJlxuXHRcdCggc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IHZhbCA9PT0gZWxlbS5zdHlsZVsgZGltZW5zaW9uIF0gKTtcblxuXHQvLyBGYWxsIGJhY2sgdG8gb2Zmc2V0V2lkdGgvSGVpZ2h0IHdoZW4gdmFsdWUgaXMgXCJhdXRvXCJcblx0Ly8gVGhpcyBoYXBwZW5zIGZvciBpbmxpbmUgZWxlbWVudHMgd2l0aCBubyBleHBsaWNpdCBzZXR0aW5nIChnaC0zNTcxKVxuXHRpZiAoIHZhbCA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0dmFsID0gZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdO1xuXHR9XG5cblx0Ly8gTm9ybWFsaXplIFwiXCIgYW5kIGF1dG9cblx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcblxuXHQvLyBBZGp1c3QgZm9yIHRoZSBlbGVtZW50J3MgYm94IG1vZGVsXG5cdHJldHVybiAoIHZhbCArXG5cdFx0Ym94TW9kZWxBZGp1c3RtZW50KFxuXHRcdFx0ZWxlbSxcblx0XHRcdGRpbWVuc2lvbixcblx0XHRcdGV4dHJhIHx8ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSxcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0XHRzdHlsZXMsXG5cblx0XHRcdC8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc2l6ZSB0byByZXF1ZXN0IHNjcm9sbCBndXR0ZXIgY2FsY3VsYXRpb24gKGdoLTM1ODkpXG5cdFx0XHR2YWxcblx0XHQpXG5cdCkgKyBcInB4XCI7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBBZGQgaW4gc3R5bGUgcHJvcGVydHkgaG9va3MgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHRcblx0Ly8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XG5cdGNzc0hvb2tzOiB7XG5cdFx0b3BhY2l0eToge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuXHRcdFx0XHRcdHZhciByZXQgPSBjdXJDU1MoIGVsZW0sIFwib3BhY2l0eVwiICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXG5cdGNzc051bWJlcjoge1xuXHRcdFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcIjogdHJ1ZSxcblx0XHRcImNvbHVtbkNvdW50XCI6IHRydWUsXG5cdFx0XCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwiZmxleEdyb3dcIjogdHJ1ZSxcblx0XHRcImZsZXhTaHJpbmtcIjogdHJ1ZSxcblx0XHRcImZvbnRXZWlnaHRcIjogdHJ1ZSxcblx0XHRcImxpbmVIZWlnaHRcIjogdHJ1ZSxcblx0XHRcIm9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcIm9yZGVyXCI6IHRydWUsXG5cdFx0XCJvcnBoYW5zXCI6IHRydWUsXG5cdFx0XCJ3aWRvd3NcIjogdHJ1ZSxcblx0XHRcInpJbmRleFwiOiB0cnVlLFxuXHRcdFwiem9vbVwiOiB0cnVlXG5cdH0sXG5cblx0Ly8gQWRkIGluIHByb3BlcnRpZXMgd2hvc2UgbmFtZXMgeW91IHdpc2ggdG8gZml4IGJlZm9yZVxuXHQvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXG5cdGNzc1Byb3BzOiB7fSxcblxuXHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuXHRzdHlsZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSApIHtcblxuXHRcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdHZhciByZXQsIHR5cGUsIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICksXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBxdWVyeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0aWYgKCBpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdFx0c3R5bGUuc2V0UHJvcGVydHkoIG5hbWUsIHZhbHVlICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuXHRcdFx0dmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sIGZ1bmN0aW9uKCBpLCBkaW1lbnNpb24gKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdCggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKSA/XG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0aXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhICYmIGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdGRpbWVuc2lvbixcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRpc0JvcmRlckJveCxcblx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQWNjb3VudCBmb3IgdW5yZWxpYWJsZSBib3JkZXItYm94IGRpbWVuc2lvbnMgYnkgY29tcGFyaW5nIG9mZnNldCogdG8gY29tcHV0ZWQgYW5kXG5cdFx0XHQvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KVxuXHRcdFx0aWYgKCBpc0JvcmRlckJveCAmJiAhc3VwcG9ydC5ib3JkZXJCb3hSZWxpYWJsZSgpICkge1xuXHRcdFx0XHRzdWJ0cmFjdCAtPSBNYXRoLmNlaWwoXG5cdFx0XHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdFx0XHRwYXJzZUZsb2F0KCBzdHlsZXNbIGRpbWVuc2lvbiBdICkgLVxuXHRcdFx0XHRcdGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBcImJvcmRlclwiLCBmYWxzZSwgc3R5bGVzICkgLVxuXHRcdFx0XHRcdDAuNVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIGRpbWVuc2lvbiBdID0gdmFsdWU7XG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5LmNzcyggZWxlbSwgZGltZW5zaW9uICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG52YXIgYm9vbEhvb2ssXG5cdGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnByb3AoIGVsZW0sIG5hbWUsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvblxuXHRcdC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUgKyBcIlwiICk7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG5cdH0sXG5cblx0YXR0ckhvb2tzOiB7XG5cdFx0dHlwZToge1xuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXG5cdFx0XHRcdFx0bm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblxuXHRcdFx0Ly8gQXR0cmlidXRlIG5hbWVzIGNhbiBjb250YWluIG5vbi1IVE1MIHdoaXRlc3BhY2UgY2hhcmFjdGVyc1xuXHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG5cdFx0XHRhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0bG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG5cdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlIGFjY29yZGluZyB0byBIVE1MIHNwZWNcblx0Ly8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS1hc2NpaS13aGl0ZXNwYWNlXG5cdGZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UoIHZhbHVlICkge1xuXHRcdHZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHRcdHJldHVybiB0b2tlbnMuam9pbiggXCIgXCIgKTtcblx0fVxuXG5cbmZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xuXHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8IFwiXCI7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhenogKyBcIiBcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cblx0XHRcdFx0Ly8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuXHRcdFx0XHRpID0gMDtcblx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApO1xuXHRcdFx0XHRjbGFzc05hbWVzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFwiIFwiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIHJyZXR1cm4gPSAvXFxyL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRpZiAoIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0cmV0dXJuIHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWwgKz0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSBvbmx5XG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRzdHJpcEFuZENvbGxhcHNlKCBqUXVlcnkudGV4dCggZWxlbSApICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZWxlY3Q6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSwgb3B0aW9uLCBpLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0b25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIixcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XG5cdFx0XHRcdFx0aSA9IG1heDtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGkgPSBvbmUgPyBpbmRleCA6IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRcdCggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8XG5cdFx0XHRcdFx0XHRcdFx0IW5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0aWYgKCBvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tY29uZC1hc3NpZ24gKi9cblxuXHRcdFx0XHRcdGlmICggb3B0aW9uLnNlbGVjdGVkID1cblx0XHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID4gLTFcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdG9wdGlvblNldCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0aWYgKCAhb3B0aW9uU2V0ICkge1xuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyXG5qUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sXG5cdHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0fTtcblxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG5cblx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLCBsYXN0RWxlbWVudCxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdCggXCIuXCIgKSA6IFtdO1xuXG5cdFx0Y3VyID0gbGFzdEVsZW1lbnQgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRsYXN0RWxlbWVudCA9IGN1cjtcblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoIGRhdGFQcml2LmdldCggY3VyLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdICYmXG5cdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0c3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiZcblx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXG5cdFx0XHRcdC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQuXG5cdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcblx0XHRcdFx0aWYgKCBvbnR5cGUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblxuXHRcdFx0XHRcdGlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdFx0XHRcdGxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbnZhclxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0alF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7XG5cdFx0XHRpZiAoIHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QoIHByZWZpeCApICkge1xuXG5cdFx0XHRcdC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cblx0XHRcdFx0YWRkKCBwcmVmaXgsIHYgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0YnVpbGRQYXJhbXMoXG5cdFx0XHRcdFx0cHJlZml4ICsgXCJbXCIgKyAoIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT0gbnVsbCA/IGkgOiBcIlwiICkgKyBcIl1cIixcblx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdHRyYWRpdGlvbmFsLFxuXHRcdFx0XHRcdGFkZFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgalF1ZXJ5LnR5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0dmFyIHZhbHVlID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlT3JGdW5jdGlvbiApID9cblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uKCkgOlxuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb247XG5cblx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgK1xuXHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKTtcblx0XHR9O1xuXG5cdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdGlmICggQXJyYXkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcblx0XHRcdGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XG5cdFx0fSApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuXHRcdC8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LlxuXHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXG5cdHJldHVybiBzLmpvaW4oIFwiJlwiICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5wYXJhbSggdGhpcy5zZXJpYWxpemVBcnJheSgpICk7XG5cdH0sXG5cdHNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXG5cdFx0XHR2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgXCJlbGVtZW50c1wiICk7XG5cdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcblx0XHR9IClcblx0XHQuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xuXG5cdFx0XHQvLyBVc2UgLmlzKCBcIjpkaXNhYmxlZFwiICkgc28gdGhhdCBmaWVsZHNldFtkaXNhYmxlZF0gd29ya3Ncblx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcblx0XHRcdFx0cnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJlxuXHRcdFx0XHQoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7XG5cdFx0fSApXG5cdFx0Lm1hcCggZnVuY3Rpb24oIGksIGVsZW0gKSB7XG5cdFx0XHR2YXIgdmFsID0galF1ZXJ5KCB0aGlzICkudmFsKCk7XG5cblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cblx0XHRcdC8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KVxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xuXHRcdH1cblxuXHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyRWxlbS5jc3MoIHByb3BzICk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0Ly8gb2Zmc2V0KCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgYm9yZGVyIGJveCB0byB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHR2YXIgcmVjdCwgd2luLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiAoZGlzcGxheTogbm9uZSkgZWxlbWVudHMgKGdoLTIzMTApXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgZG9jdW1lbnQtcmVsYXRpdmUgcG9zaXRpb24gYnkgYWRkaW5nIHZpZXdwb3J0IHNjcm9sbCB0byB2aWV3cG9ydC1yZWxhdGl2ZSBnQkNSXG5cdFx0cmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0d2luID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0LFxuXHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0XG5cdFx0fTtcblx0fSxcblxuXHQvLyBwb3NpdGlvbigpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIG1hcmdpbiBib3ggdG8gaXRzIG9mZnNldCBwYXJlbnQncyBwYWRkaW5nIGJveFxuXHQvLyBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSBiZWhhdmlvciBvZiBDU1MgYWJzb2x1dGUgcG9zaXRpb25pbmdcblx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXNbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsIGRvYyxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXG5cdFx0Ly8gcG9zaXRpb246Zml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHRoZSB2aWV3cG9ydCwgd2hpY2ggaXRzZWxmIGFsd2F5cyBoYXMgemVybyBvZmZzZXRcblx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XG5cblx0XHRcdC8vIEFzc3VtZSBwb3NpdGlvbjpmaXhlZCBpbXBsaWVzIGF2YWlsYWJpbGl0eSBvZiBnZXRCb3VuZGluZ0NsaWVudFJlY3Rcblx0XHRcdG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0b2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcblxuXHRcdFx0Ly8gQWNjb3VudCBmb3IgdGhlICpyZWFsKiBvZmZzZXQgcGFyZW50LCB3aGljaCBjYW4gYmUgdGhlIGRvY3VtZW50IG9yIGl0cyByb290IGVsZW1lbnRcblx0XHRcdC8vIHdoZW4gYSBzdGF0aWNhbGx5IHBvc2l0aW9uZWQgZWxlbWVudCBpcyBpZGVudGlmaWVkXG5cdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0XHRvZmZzZXRQYXJlbnQgPSBlbGVtLm9mZnNldFBhcmVudCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiZcblx0XHRcdFx0KCBvZmZzZXRQYXJlbnQgPT09IGRvYy5ib2R5IHx8IG9mZnNldFBhcmVudCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudCApICYmXG5cdFx0XHRcdGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGVsZW0gJiYgb2Zmc2V0UGFyZW50Lm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIEluY29ycG9yYXRlIGJvcmRlcnMgaW50byBpdHMgb2Zmc2V0LCBzaW5jZSB0aGV5IGFyZSBvdXRzaWRlIGl0cyBjb250ZW50IG9yaWdpblxuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBqUXVlcnkoIG9mZnNldFBhcmVudCApLm9mZnNldCgpO1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQudG9wICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHRcdHBhcmVudE9mZnNldC5sZWZ0ICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXG5cdFx0fTtcblx0fSxcblxuXHQvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcblx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcblx0Ly8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudFxuXHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdC8vXG5cdC8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlc1xuXHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0Ly9cblx0Ly8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmVcblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XG5cdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cblx0alF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXG5cdFx0XHQvLyBDb2FsZXNjZSBkb2N1bWVudHMgYW5kIHdpbmRvd3Ncblx0XHRcdHZhciB3aW47XG5cdFx0XHRpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW07XG5cdFx0XHR9IGVsc2UgaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR3aW4gPSBlbGVtLmRlZmF1bHRWaWV3O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB3aW4gKSB7XG5cdFx0XHRcdHdpbi5zY3JvbGxUbyhcblx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtWyBtZXRob2QgXSA9IHZhbDtcblx0XHRcdH1cblx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9O1xufSApO1xuXG4vLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUgPD0zNyAtIDQ5XG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4vLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0N1xuLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcbi8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXG5qUXVlcnkuZWFjaCggWyBcInRvcFwiLCBcImxlZnRcIiBdLCBmdW5jdGlvbiggaSwgcHJvcCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcblx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0XHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xuXG5cdFx0XHRcdC8vIElmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxuXHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XG5cdFx0XHRcdFx0Y29tcHV0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xufSApO1xuXG5cbi8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkge1xuXHRqUXVlcnkuZWFjaCggeyBwYWRkaW5nOiBcImlubmVyXCIgKyBuYW1lLCBjb250ZW50OiB0eXBlLCBcIlwiOiBcIm91dGVyXCIgKyBuYW1lIH0sXG5cdFx0ZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cblx0XHQvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcblx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZG9jO1xuXG5cdFx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XG5cdFx0XHRcdFx0XHRlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgXCJjbGllbnRcIiArIG5hbWUgXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHRcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuXHRcdFx0XHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRkb2NbIFwiY2xpZW50XCIgKyBuYW1lIF1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXG5cdFx0XHRcdFx0Ly8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuXG4vLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcbn1cblxuXG5cblxudmFyXG5cblx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXG5cdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF8kID0gd2luZG93LiQ7XG5cbmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cuJCA9IF8kO1xuXHR9XG5cblx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnk7XG59O1xuXG4vLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuLy8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KVxuaWYgKCAhbm9HbG9iYWwgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5cblxuXG52YXIgcmVhZHlDYWxsYmFja3MgPSBbXSxcblx0d2hlblJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJlYWR5Q2FsbGJhY2tzLnB1c2goIGZuICk7XG5cdH0sXG5cdGV4ZWN1dGVSZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHRcdC8vIFByZXZlbnQgZXJyb3JzIGZyb20gZnJlZXppbmcgZnV0dXJlIGNhbGxiYWNrIGV4ZWN1dGlvbiAoZ2gtMTgyMylcblx0XHQvLyBOb3QgYmFja3dhcmRzLWNvbXBhdGlibGUgYXMgdGhpcyBkb2VzIG5vdCBleGVjdXRlIHN5bmNcblx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRmbi5jYWxsKCBkb2N1bWVudCwgalF1ZXJ5ICk7XG5cdFx0fSApO1xuXHR9O1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cdHdoZW5SZWFkeSggZm4gKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxuXHRyZWFkeVdhaXQ6IDEsXG5cblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0d2hlblJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0cmVhZHlDYWxsYmFja3MucHVzaCggZm4gKTtcblxuXHRcdFx0d2hpbGUgKCByZWFkeUNhbGxiYWNrcy5sZW5ndGggKSB7XG5cdFx0XHRcdGZuID0gcmVhZHlDYWxsYmFja3Muc2hpZnQoKTtcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdFx0XHRleGVjdXRlUmVhZHkoIGZuICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0d2hlblJlYWR5KCk7XG5cdH1cbn0gKTtcblxuLy8gTWFrZSBqUXVlcnkucmVhZHkgUHJvbWlzZSBjb25zdW1hYmxlIChnaC0xNzc4KVxualF1ZXJ5LnJlYWR5LnRoZW4gPSBqUXVlcnkuZm4ucmVhZHk7XG5cbi8qKlxuICogVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbiAqL1xuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdGpRdWVyeS5yZWFkeSgpO1xufVxuXG4vLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG4vLyBTdXBwb3J0OiBJRTktMTAgb25seVxuLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG59IGVsc2Uge1xuXG5cdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG59XG5cblxuXG5yZXR1cm4galF1ZXJ5O1xufSApO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvanFtaW4vanF1ZXJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJjb25zdCB3aW4gPSB3aW5kb3c7XG5jb25zdCBkb2MgPSB3aW4gPyB3aW4uZG9jdW1lbnQgOiBudWxsO1xuY29uc3QgZG9jRWxlbSA9IHdpbiA/IHdpbi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBudWxsO1xuXG5sZXQgZXZlbnRLZXlzID0ge1xuICBCQUNLU1BBQ0U6IDgsIFRBQjogOSxcbiAgUkVUVVJOOiAxMywgRVNDOiAyNywgTEVGVDogMzcsIFVQOiAzOCwgUklHSFQ6IDM5LCBET1dOOiA0MCwgREVMRVRFOiA0NixcbiAgSE9NRTogMzYsIEVORDogMzUsIFBBR0VVUDogMzMsIFBBR0VET1dOOiAzNCwgSU5TRVJUOiA0NSwgU1BBQ0U6IDMyXG59O1xubGV0IHdlZWtOYW1lcyA9IFt7IGxhYmVsOiBcIlNVTlwiIH0sIHsgbGFiZWw6IFwiTU9OXCIgfSwgeyBsYWJlbDogXCJUVUVcIiB9LCB7IGxhYmVsOiBcIldFRFwiIH0sIHsgbGFiZWw6IFwiVEhVXCIgfSwgeyBsYWJlbDogXCJGUklcIiB9LCB7IGxhYmVsOiBcIlNBVFwiIH1dO1xubGV0IHdoZWVsRW5tID0gd2luICYmIC9GaXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSA/IFwiRE9NTW91c2VTY3JvbGxcIiA6IFwibW91c2V3aGVlbFwiO1xubGV0IGVycm9yTXNnID0ge307XG5cbmNvbnN0IG9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnNvbGUuZXJyb3IoYXJndW1lbnRzKTtcbn07XG5jb25zdCBicm93c2VyID0gZnVuY3Rpb24gKHVhLCBtb2JpbGUsIGJyb3dzZXJOYW1lLCBtYXRjaCwgYnJvd3NlciwgYnJvd3NlclZlcnNpb24pIHtcbiAgaWYgKCF3aW4gfHwgIXdpbi5uYXZpZ2F0b3IpIHJldHVybiB7fTtcblxuICB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSwgbW9iaWxlID0gdWEuc2VhcmNoKC9tb2JpbGUvZykgIT0gLTEsIGJyb3dzZXJOYW1lLCBtYXRjaCwgYnJvd3NlciwgYnJvd3NlclZlcnNpb247XG5cbiAgaWYgKHVhLnNlYXJjaCgvaXBob25lL2cpICE9IC0xKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogXCJpcGhvbmVcIiwgdmVyc2lvbjogMCwgbW9iaWxlOiB0cnVlIH07XG4gIH0gZWxzZSBpZiAodWEuc2VhcmNoKC9pcGFkL2cpICE9IC0xKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogXCJpcGFkXCIsIHZlcnNpb246IDAsIG1vYmlsZTogdHJ1ZSB9O1xuICB9IGVsc2UgaWYgKHVhLnNlYXJjaCgvYW5kcm9pZC9nKSAhPSAtMSkge1xuICAgIG1hdGNoID0gLyhhbmRyb2lkKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHwgW107XG4gICAgYnJvd3NlclZlcnNpb24gPSBtYXRjaFsyXSB8fCBcIjBcIjtcbiAgICByZXR1cm4geyBuYW1lOiBcImFuZHJvaWRcIiwgdmVyc2lvbjogYnJvd3NlclZlcnNpb24sIG1vYmlsZTogbW9iaWxlIH07XG4gIH0gZWxzZSB7XG4gICAgYnJvd3Nlck5hbWUgPSBcIlwiO1xuICAgIG1hdGNoID0gLyhvcHIpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fCAvKGNocm9tZSlbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8IC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHwgLyhtc2llKSAoW1xcdy5dKykvLmV4ZWModWEpIHx8IHVhLmluZGV4T2YoXCJjb21wYXRpYmxlXCIpIDwgMCAmJiAvKG1vemlsbGEpKD86Lio/IHJ2OihbXFx3Ll0rKXwpLy5leGVjKHVhKSB8fCBbXTtcbiAgICBicm93c2VyID0gbWF0Y2hbMV0gfHwgXCJcIjtcbiAgICBicm93c2VyVmVyc2lvbiA9IG1hdGNoWzJdIHx8IFwiMFwiO1xuXG4gICAgaWYgKGJyb3dzZXIgPT0gXCJtc2llXCIpIGJyb3dzZXIgPSBcImllXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGJyb3dzZXIsXG4gICAgICB2ZXJzaW9uOiBicm93c2VyVmVyc2lvbixcbiAgICAgIG1vYmlsZTogbW9iaWxlXG4gICAgfTtcbiAgfVxuICB1YSA9IG51bGwsIG1vYmlsZSA9IG51bGwsIGJyb3dzZXJOYW1lID0gbnVsbCwgbWF0Y2ggPSBudWxsLCBicm93c2VyID0gbnVsbCwgYnJvd3NlclZlcnNpb24gPSBudWxsO1xufSgpO1xuY29uc3QgaXNCcm93c2VyID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luLmRvY3VtZW50KTtcbmNvbnN0IHVybFV0aWwgPSBmdW5jdGlvbiAodXJsLCB1cmxzKSB7XG4gIHVybCA9IHtcbiAgICBocmVmOiB3aW4ubG9jYXRpb24uaHJlZixcbiAgICBwYXJhbTogd2luLmxvY2F0aW9uLnNlYXJjaCxcbiAgICByZWZlcnJlcjogZG9jLnJlZmVycmVyLFxuICAgIHBhdGhuYW1lOiB3aW4ubG9jYXRpb24ucGF0aG5hbWUsXG4gICAgaG9zdG5hbWU6IHdpbi5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICBwb3J0OiB3aW4ubG9jYXRpb24ucG9ydFxuICB9O1xuICB1cmxzID0gdXJsLmhyZWYuc3BsaXQoL1tcXD8jXS8pO1xuICB1cmwucGFyYW0gPSB1cmwucGFyYW0ucmVwbGFjZShcIj9cIiwgXCJcIik7XG4gIHVybC51cmwgPSB1cmxzWzBdO1xuICBpZiAodXJsLmhyZWYuc2VhcmNoKFwiI1wiKSA+IC0xKSB7XG4gICAgdXJsLmhhc2hkYXRhID0gdXJsc1t1cmxzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHVybHMgPSBudWxsO1xuICB1cmwuYmFzZVVybCA9IHVybC5ocmVmLnN1YnN0cigwLCB1cmwuaHJlZi5pbmRleE9mKFwiP1wiKSkucmVwbGFjZSh1cmwucGF0aG5hbWUsIFwiXCIpO1xuXG4gIHJldHVybiB1cmw7XG59O1xuY29uc3QgZ2V0RXJyb3IgPSBmdW5jdGlvbiAoY2xhc3NOYW1lLCBlcnJvckNvZGUsIG1ldGhvZE5hbWUpIHtcbiAgaWYgKGVycm9yTXNnICYmIGVycm9yTXNnW2NsYXNzTmFtZV0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBlcnJvckNvZGU6IGVycm9yQ29kZSxcbiAgICAgIG1ldGhvZE5hbWU6IG1ldGhvZE5hbWUsXG4gICAgICBtc2c6IGVycm9yTXNnW2NsYXNzTmFtZV1bZXJyb3JDb2RlXVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGVycm9yQ29kZTogZXJyb3JDb2RlLCBtZXRob2ROYW1lOiBtZXRob2ROYW1lIH07XG4gIH1cbn07XG5jb25zdCBzdXBwb3J0VG91Y2ggPSB3aW4gPyAnb250b3VjaHN0YXJ0JyBpbiB3aW4gfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDAgOiBmYWxzZTtcbmNvbnN0IHN1cHBvcnRGaWxlQXBpID0gd2luID8gd2luLkZpbGVSZWFkZXIgJiYgd2luLkZpbGUgJiYgd2luLkZpbGVMaXN0ICYmIHdpbi5CbG9iIDogZmFsc2U7XG5cbmxldCBFYXNpbmdGdW5jdGlvbnMgPSB7XG4gIC8vIG5vIGVhc2luZywgbm8gYWNjZWxlcmF0aW9uXG4gIGxpbmVhcjogZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gdDtcbiAgfSxcbiAgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuICBlYXNlSW5RdWFkOiBmdW5jdGlvbiAodCkge1xuICAgIHJldHVybiB0ICogdDtcbiAgfSxcbiAgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcbiAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHQgKiAoMiAtIHQpO1xuICB9LFxuICAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gdCA8IC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQ7XG4gIH0sXG4gIC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcbiAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHQgKiB0ICogdDtcbiAgfSxcbiAgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcbiAgZWFzZU91dEN1YmljOiBmdW5jdGlvbiAodCkge1xuICAgIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG4gIH0sXG4gIC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gdCA8IC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMTtcbiAgfSxcbiAgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuICBlYXNlSW5RdWFydDogZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gdCAqIHQgKiB0ICogdDtcbiAgfSxcbiAgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcbiAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbiAodCkge1xuICAgIHJldHVybiAxIC0gLS10ICogdCAqIHQgKiB0O1xuICB9LFxuICAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHQgPCAuNSA/IDggKiB0ICogdCAqIHQgKiB0IDogMSAtIDggKiAtLXQgKiB0ICogdCAqIHQ7XG4gIH0sXG4gIC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcbiAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHQgKiB0ICogdCAqIHQgKiB0O1xuICB9LFxuICAvLyBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIDEgKyAtLXQgKiB0ICogdCAqIHQgKiB0O1xuICB9LFxuICAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHQgPCAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAtLXQgKiB0ICogdCAqIHQgKiB0O1xuICB9XG59O1xuLyoqXG4gKiBAbW9kdWxlIEFYNkluZm9cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICog7LKr67KI7Ke4IOyekOumrOyImCDrj5nsgqwgLSAo7ZWE7JqU7ZWc6rKD7J20IOyXhuydhOuVjCA6IDQsIOyLpO2WieyYpOulmCA6IDUpXG4gICAqIOuRkOuyiOynuCDsnpDrpqzsiJgg66qp7KCB7Ja0IC0g66y47J6Q7Je0IDAsIOyIq+yekCAxLCDrsLDsl7QgMiwg7Jik67iM7KCd7Yq4IDMsIO2VqOyImCA0LCBET00gNSwg7YyM7J28IDYsIOq4sO2DgCA3XG4gICAqIOyEuOuyiOynuCDsnpDrpqzsiJgg7Ji17IWYXG4gICAqL1xuICBlcnJvck1zZzogZXJyb3JNc2csXG4gIC8qKlxuICAgKiDsl5Drn6wg7Lac66Cl66mU7IS47KeAIOyCrOyaqeyekCDsnqwg7KCV7J2YXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBBWDZJbmZvLm9uZXJyb3IgPSBmdW5jdGlvbigpe1xuICAgKiAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIG9uZXJyb3I6IG9uZXJyb3IsXG4gIC8qKlxuICAgKiBldmVudCBrZXlDb2Rlc1xuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICoge1xuICAgKiBcdEJBQ0tTUEFDRTogOCwgVEFCOiA5LFxuICAgKiBcdFJFVFVSTjogMTMsIEVTQzogMjcsIExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgRE9XTjogNDAsIERFTEVURTogNDYsXG4gICAqIFx0SE9NRTogMzYsIEVORDogMzUsIFBBR0VVUDogMzMsIFBBR0VET1dOOiAzNCwgSU5TRVJUOiA0NSwgU1BBQ0U6IDMyXG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBldmVudEtleXM6IGV2ZW50S2V5cyxcbiAgLyoqXG4gICAqIHdlZWsgbmFtZXNcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIFtcbiAgICogIHtsYWJlbDogXCJTVU5cIn0se2xhYmVsOiBcIk1PTlwifSx7bGFiZWw6IFwiVFVFXCJ9LHtsYWJlbDogXCJXRURcIn0se2xhYmVsOiBcIlRIVVwifSx7bGFiZWw6IFwiRlJJXCJ9LHtsYWJlbDogXCJTQVRcIn1cbiAgICogXVxuICAgKiBjb25zb2xlLmxvZyggd2Vla05hbWVzWzBdICk7XG4gICAqIGNvbnNvbGUubG9nKCBBWDZJbmZvLndlZWtOYW1lc1sobmV3IERhdGUoKSkuZ2V0RGF5KCldLmxhYmVsIClcbiAgICogYGBgXG4gICAqL1xuICB3ZWVrTmFtZXM6IHdlZWtOYW1lcyxcbiAgLyoqXG4gICAqIOyCrOyaqeyekCDruIzrnbzsmrDsoIAg7Iud67OE7JqpIOyYpOu4jOygne2KuFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY29uc29sZS5sb2coIEFYNkluZm8uYnJvd3NlciApO1xuICAgKiAvL09iamVjdCB7bmFtZTogXCJjaHJvbWVcIiwgdmVyc2lvbjogXCIzOS4wLjIxNzEuNzFcIiwgbW9iaWxlOiBmYWxzZX1cbiAgICogYGBgXG4gICAqL1xuICBicm93c2VyOiBicm93c2VyLFxuICAvKipcbiAgICog67iM65287Jqw7KCAIOyXrOu2gFxuICAgKi9cbiAgaXNCcm93c2VyOiBpc0Jyb3dzZXIsXG4gIC8qKlxuICAgKiDruIzrnbzsmrDsoLjsnZgg7YSw7LmYIOqwgOuKpSDsnKDrrLTrpbwg7ZmV7J247ZWp64uI64ukLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIHZhciBjaGtGbGFnID0gQVg2SW5mby5zdXBwb3J0VG91Y2g7XG4gICAqL1xuICBzdXBwb3J0VG91Y2g6IHN1cHBvcnRUb3VjaCxcbiAgLyoqXG4gICAqIEhUTUw1IEZpbGVBcGkg7KeA7JuQ7Jes67aAXG4gICAqL1xuICBzdXBwb3J0RmlsZUFwaTogc3VwcG9ydEZpbGVBcGksXG4gIC8qKlxuICAgKiDruIzrnbzsmrDsoIDsl5Ag65Sw66W4IOuniOyasOyKpCDtnKAg7J2067Kk7Yq47J2066aEXG4gICAqL1xuICB3aGVlbEVubTogd2hlZWxFbm0sXG4gIC8qKlxuICAgKiDtmITsnqwg7Y6Y7J207KeA7J2YIFVybCDsoJXrs7Trpbwg66as7YS07ZWp64uI64ukLlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY29uc29sZS5sb2coIGF4NS51dGlsLnRvSnNvbiggQVg2SW5mby51cmxVdGlsKCkgKSApO1xuICAgKiB7XG4gICAqXHRcImJhc2VVcmxcIjogXCJodHRwOi8vYXg1OjIwMThcIixcbiAgICpcdFwiaHJlZlwiOiBcImh0dHA6Ly9heDU6MjAxOC9zYW1wbGVzL2luZGV4Lmh0bWw/YT0xJmI9MSNhYmNcIixcbiAgICpcdFwicGFyYW1cIjogXCJhPTEmYj0xXCIsXG4gICAqXHRcInJlZmVycmVyXCI6IFwiXCIsXG4gICAqXHRcInBhdGhuYW1lXCI6IFwiL3NhbXBsZXMvaW5kZXguaHRtbFwiLFxuICAgKlx0XCJob3N0bmFtZVwiOiBcImF4NVwiLFxuICAgKlx0XCJwb3J0XCI6IFwiMjAxOFwiLFxuICAgKlx0XCJ1cmxcIjogXCJodHRwOi8vYXg1OjIwMTgvc2FtcGxlcy9pbmRleC5odG1sXCIsXG4gICAqXHRcImhhc2hkYXRhXCI6IFwiYWJjXCJcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIHVybFV0aWw6IHVybFV0aWwsXG4gIC8qKlxuICAgKiBheDUtZXJyb3ItbXNnLmpzIOyXkCDsoJXsnZjrkJwgYXg1IGVycm9y66W8IOuwmO2ZmO2VqeuLiOuLpC5cbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGNvbnNvbGUubG9nKCBBWDZJbmZvLmdldEVycm9yKFwic2luZ2xlLXVwbG9hZGVyXCIsIFwiNDYwXCIsIFwidXBsb2FkXCIpICk7XG4gICAqXG4gICAqIGlmKCF0aGlzLnNlbGVjdGVkRmlsZSl7XG4gICAqICAgICAgaWYgKGNmZy5vbkV2ZW50KSB7XG4gICAqICAgICAgXHR2YXIgdGhhdCA9IHtcbiAgICogICAgICBcdFx0YWN0aW9uOiBcImVycm9yXCIsXG4gICAqICAgICAgXHRcdGVycm9yOiBBWDZJbmZvLmdldEVycm9yKFwic2luZ2xlLXVwbG9hZGVyXCIsIFwiNDYwXCIsIFwidXBsb2FkXCIpXG4gICAqICAgICAgXHR9O1xuICAgKiAgICAgIFx0Y2ZnLm9uRXZlbnQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgICogICAgICB9XG4gICAqICAgICAgcmV0dXJuIHRoaXM7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBnZXRFcnJvcjogZ2V0RXJyb3IsXG5cbiAgLyoqXG4gICAqIGxpbmVhcixcbiAgICogZWFzZUluUXVhZCxcbiAgICogZWFzZU91dFF1YWQsXG4gICAqIGVhc2VJbk91dFF1YWQsXG4gICAqIGVhc2VJbkN1YmljLFxuICAgKiBlYXNlT3V0Q3ViaWMsXG4gICAqIGVhc2VJbk91dEN1YmljLFxuICAgKiBlYXNlSW5RdWFydCxcbiAgICogZWFzZU91dFF1YXJ0LFxuICAgKiBlYXNlSW5PdXRRdWFydCxcbiAgICogZWFzZUluUXVpbnQsXG4gICAqIGVhc2VPdXRRdWludCxcbiAgICogZWFzZUluT3V0UXVpbnRcbiAgICovXG4gIGVhc2luZ0Z1bmN0aW9uczogRWFzaW5nRnVuY3Rpb25zXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNkluZm8uanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBqUXVlcnkgZnJvbSBcImpxbWluXCI7XG5cbmxldCBVSV9JTlNUQU5DRV9JRCA9IDA7XG5cbi8qKlxuICogIEBjbGFzc1xuICovXG5jbGFzcyBBWDZVSUNvcmUge1xuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZUlkKCkge1xuICAgIHJldHVybiBVSV9JTlNUQU5DRV9JRCsrO1xuICB9XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuaW5zdGFuY2VJZCA9IEFYNlVJQ29yZS5nZXRJbnN0YW5jZUlkKCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqIEByZXR1cm4ge0FYNlVJQ29yZX1cbiAgICovXG4gIHNldENvbmZpZyhjb25maWcpIHtcbiAgICBqUXVlcnkuZXh0ZW5kKHRoaXMuY29uZmlnLCBjb25maWcpO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVUnqsIAg7IOd7ISx65CgIOuVjCwgY29uZmlnIOyGjeyEseydtCDrsJTrgJTrlYwg7Zi47LacIOuQmOuKlCDrgrTrtoAg66mU7ISc65OcXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGluaXQoKSB7XG4gICAgLy8g7LSI6riw7ZmUIO2VqOyImCxcblxuICAgIHRoaXMuaW5pdE9uY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVSeqwgCDrnpzrjZTrp4Eg65CgIOuVjCAx7ZqM66eMIO2YuOy2nOuQmOuKlCDrqZTshozrk5wgcmVwYWludOqwgCDtlYTsmpTtlZwg7IOB7Zmp7JeUIOuzhOuPhOydmCByZXBhaW50IOuplOyEnOuTnOulvCDsnbTsmqntlaAg6rKD7J2EIOq2jOyepVxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpbml0T25jZSgpIHtcbiAgICAvLyAx7ZqM66eMIO2YuOy2nOuQmOyWtOyVvCDtlZjripQg7LSI6riw7ZmUIO2VqOyImFxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAvL1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGRlc3RvcnkoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBBWDZVSUNvcmU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlDb3JlLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCIvKiFcbiAqIG11c3RhY2hlLmpzIC0gTG9naWMtbGVzcyB7e211c3RhY2hlfX0gdGVtcGxhdGVzIHdpdGggSmF2YVNjcmlwdFxuICogaHR0cDovL2dpdGh1Yi5jb20vamFubC9tdXN0YWNoZS5qc1xuICogaHR0cHM6Ly9naXRodWIuY29tL3Rob21hc0phbmcvbXVzdGFjaGUuanMgLS0gaW1wb3JvdmUgc29tZSB2YXJpYWJsZXNcbiAqL1xuXG4vKipcbiAqIEFYNk11c3RhY2hl64qUIGh0dHA6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanPsl5Ag66qH6rCA7KeAIOy1nOyGjO2VnOydmCDquLDriqXsnYQg7Yqc64ud7ZWY7JesIOyCrOyaqe2VmOuKlCDthZztlIzrpr8g7JeU7KeE7J6F64uI64ukLlxuICogQG5hbWVzcGFjZSBBWDZNdXN0YWNoZVxuICovXG5cbi8qKlxuICogQG1ldGhvZCBBWDZNdXN0YWNoZS5yZW5kZXJcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogYXg1Lm11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZSwgdmlldylcbiAqXG4gKlxuICogLy9BcnJheSBAaVxuICogLy97eyNiZWF0bGVzfX1cbiAqIC8ve3tmaXJzdE5hbWV9fSB7e2xhc3ROYW1lfX0gKHt7QGl9fSkgKHt7QGZpcnN0fX0pXG4gKiAvL3t7L2JlYXRsZXN9fVxuICpcbiAqIC8vT2JqZWN0IEBlYWNoXG4gKiB7eyNiZWF0bGVzfX1cbiAqICB7eyNAZWFjaH19XG4gKiAgICAgIHt7QGtleX19IDoge3tAdmFsdWUuZmlyc3ROYW1lfX0ge3tAdmFsdWUubGFzdE5hbWV9fVxuICogIHt7L0BlYWNofX1cbiAqIHt7L2JlYXRsZXN9fVxuICpcbiAqIGBgYFxuICovXG5cbmxldCBBWDYgPSB7fTtcblxuKGZ1bmN0aW9uIGRlZmluZU11c3RhY2hlKGdsb2JhbCwgZmFjdG9yeSkge1xuXG4gIGZhY3RvcnkoZ2xvYmFsLm11c3RhY2hlID0ge30pO1xufSkoQVg2LCBmdW5jdGlvbiBtdXN0YWNoZUZhY3RvcnkobXVzdGFjaGUpIHtcblxuICB2YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheVBvbHlmaWxsKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3JlIGNvcnJlY3QgdHlwZW9mIHN0cmluZyBoYW5kbGluZyBhcnJheVxuICAgKiB3aGljaCBub3JtYWxseSByZXR1cm5zIHR5cGVvZiAnb2JqZWN0J1xuICAgKi9cbiAgZnVuY3Rpb24gdHlwZVN0cihvYmopIHtcbiAgICByZXR1cm4gaXNBcnJheShvYmopID8gJ2FycmF5JyA6IHR5cGVvZiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xuICB9XG5cbiAgLyoqXG4gICAqIE51bGwgc2FmZSB3YXkgb2YgY2hlY2tpbmcgd2hldGhlciBvciBub3QgYW4gb2JqZWN0LFxuICAgKiBpbmNsdWRpbmcgaXRzIHByb3RvdHlwZSwgaGFzIGEgZ2l2ZW4gcHJvcGVydHlcbiAgICovXG4gIGZ1bmN0aW9uIGhhc1Byb3BlcnR5KG9iaiwgcHJvcE5hbWUpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgcHJvcE5hbWUgaW4gb2JqO1xuICB9XG5cbiAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9DT1VDSERCLTU3N1xuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanMvaXNzdWVzLzE4OVxuICB2YXIgcmVnRXhwVGVzdCA9IFJlZ0V4cC5wcm90b3R5cGUudGVzdDtcblxuICBmdW5jdGlvbiB0ZXN0UmVnRXhwKHJlLCBzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVnRXhwVGVzdC5jYWxsKHJlLCBzdHJpbmcpO1xuICB9XG5cbiAgdmFyIG5vblNwYWNlUmUgPSAvXFxTLztcblxuICBmdW5jdGlvbiBpc1doaXRlc3BhY2Uoc3RyaW5nKSB7XG4gICAgcmV0dXJuICF0ZXN0UmVnRXhwKG5vblNwYWNlUmUsIHN0cmluZyk7XG4gIH1cblxuICB2YXIgZW50aXR5TWFwID0ge1xuICAgICcmJzogJyZhbXA7JywgJzwnOiAnJmx0OycsICc+JzogJyZndDsnLCAnXCInOiAnJnF1b3Q7JywgXCInXCI6ICcmIzM5OycsICcvJzogJyYjeDJGOydcbiAgfTtcblxuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLCBmdW5jdGlvbiBmcm9tRW50aXR5TWFwKHMpIHtcbiAgICAgIHJldHVybiBlbnRpdHlNYXBbc107XG4gICAgfSk7XG4gIH1cblxuICB2YXIgd2hpdGVSZSA9IC9cXHMqLztcbiAgdmFyIHNwYWNlUmUgPSAvXFxzKy87XG4gIHZhciBlcXVhbHNSZSA9IC9cXHMqPS87XG4gIHZhciBjdXJseVJlID0gL1xccypcXH0vO1xuICB2YXIgdGFnUmUgPSAvI3xcXF58XFwvfD58XFx7fCZ8PXwhLztcblxuICAvKipcbiAgICogQnJlYWtzIHVwIHRoZSBnaXZlbiBgdGVtcGxhdGVgIHN0cmluZyBpbnRvIGEgdHJlZSBvZiB0b2tlbnMuIElmIHRoZSBgdGFnc2BcbiAgICogYXJndW1lbnQgaXMgZ2l2ZW4gaGVyZSBpdCBtdXN0IGJlIGFuIGFycmF5IHdpdGggdHdvIHN0cmluZyB2YWx1ZXM6IHRoZVxuICAgKiBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3MgdXNlZCBpbiB0aGUgdGVtcGxhdGUgKGUuZy4gWyBcIjwlXCIsIFwiJT5cIiBdKS4gT2ZcbiAgICogY291cnNlLCB0aGUgZGVmYXVsdCBpcyB0byB1c2UgbXVzdGFjaGVzIChpLmUuIG11c3RhY2hlLnRhZ3MpLlxuICAgKlxuICAgKiBBIHRva2VuIGlzIGFuIGFycmF5IHdpdGggYXQgbGVhc3QgNCBlbGVtZW50cy4gVGhlIGZpcnN0IGVsZW1lbnQgaXMgdGhlXG4gICAqIG11c3RhY2hlIHN5bWJvbCB0aGF0IHdhcyB1c2VkIGluc2lkZSB0aGUgdGFnLCBlLmcuIFwiI1wiIG9yIFwiJlwiLiBJZiB0aGUgdGFnXG4gICAqIGRpZCBub3QgY29udGFpbiBhIHN5bWJvbCAoaS5lLiB7e215VmFsdWV9fSkgdGhpcyBlbGVtZW50IGlzIFwibmFtZVwiLiBGb3JcbiAgICogYWxsIHRleHQgdGhhdCBhcHBlYXJzIG91dHNpZGUgYSBzeW1ib2wgdGhpcyBlbGVtZW50IGlzIFwidGV4dFwiLlxuICAgKlxuICAgKiBUaGUgc2Vjb25kIGVsZW1lbnQgb2YgYSB0b2tlbiBpcyBpdHMgXCJ2YWx1ZVwiLiBGb3IgbXVzdGFjaGUgdGFncyB0aGlzIGlzXG4gICAqIHdoYXRldmVyIGVsc2Ugd2FzIGluc2lkZSB0aGUgdGFnIGJlc2lkZXMgdGhlIG9wZW5pbmcgc3ltYm9sLiBGb3IgdGV4dCB0b2tlbnNcbiAgICogdGhpcyBpcyB0aGUgdGV4dCBpdHNlbGYuXG4gICAqXG4gICAqIFRoZSB0aGlyZCBhbmQgZm91cnRoIGVsZW1lbnRzIG9mIHRoZSB0b2tlbiBhcmUgdGhlIHN0YXJ0IGFuZCBlbmQgaW5kaWNlcyxcbiAgICogcmVzcGVjdGl2ZWx5LCBvZiB0aGUgdG9rZW4gaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlLlxuICAgKlxuICAgKiBUb2tlbnMgdGhhdCBhcmUgdGhlIHJvb3Qgbm9kZSBvZiBhIHN1YnRyZWUgY29udGFpbiB0d28gbW9yZSBlbGVtZW50czogMSkgYW5cbiAgICogYXJyYXkgb2YgdG9rZW5zIGluIHRoZSBzdWJ0cmVlIGFuZCAyKSB0aGUgaW5kZXggaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIGF0XG4gICAqIHdoaWNoIHRoZSBjbG9zaW5nIHRhZyBmb3IgdGhhdCBzZWN0aW9uIGJlZ2lucy5cbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRhZ3MpIHtcbiAgICBpZiAoIXRlbXBsYXRlKSByZXR1cm4gW107XG5cbiAgICB2YXIgc2VjdGlvbnMgPSBbXTsgLy8gU3RhY2sgdG8gaG9sZCBzZWN0aW9uIHRva2Vuc1xuICAgIHZhciB0b2tlbnMgPSBbXTsgLy8gQnVmZmVyIHRvIGhvbGQgdGhlIHRva2Vuc1xuICAgIHZhciBzcGFjZXMgPSBbXTsgLy8gSW5kaWNlcyBvZiB3aGl0ZXNwYWNlIHRva2VucyBvbiB0aGUgY3VycmVudCBsaW5lXG4gICAgdmFyIGhhc1RhZyA9IGZhbHNlOyAvLyBJcyB0aGVyZSBhIHt7dGFnfX0gb24gdGhlIGN1cnJlbnQgbGluZT9cbiAgICB2YXIgbm9uU3BhY2UgPSBmYWxzZTsgLy8gSXMgdGhlcmUgYSBub24tc3BhY2UgY2hhciBvbiB0aGUgY3VycmVudCBsaW5lP1xuXG4gICAgLy8gU3RyaXBzIGFsbCB3aGl0ZXNwYWNlIHRva2VucyBhcnJheSBmb3IgdGhlIGN1cnJlbnQgbGluZVxuICAgIC8vIGlmIHRoZXJlIHdhcyBhIHt7I3RhZ319IG9uIGl0IGFuZCBvdGhlcndpc2Ugb25seSBzcGFjZS5cbiAgICBmdW5jdGlvbiBzdHJpcFNwYWNlKCkge1xuICAgICAgaWYgKGhhc1RhZyAmJiAhbm9uU3BhY2UpIHtcbiAgICAgICAgd2hpbGUgKHNwYWNlcy5sZW5ndGgpIGRlbGV0ZSB0b2tlbnNbc3BhY2VzLnBvcCgpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwYWNlcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBoYXNUYWcgPSBmYWxzZTtcbiAgICAgIG5vblNwYWNlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9wZW5pbmdUYWdSZSwgY2xvc2luZ1RhZ1JlLCBjbG9zaW5nQ3VybHlSZTtcblxuICAgIGZ1bmN0aW9uIGNvbXBpbGVUYWdzKHRhZ3NUb0NvbXBpbGUpIHtcbiAgICAgIGlmICh0eXBlb2YgdGFnc1RvQ29tcGlsZSA9PT0gJ3N0cmluZycpIHRhZ3NUb0NvbXBpbGUgPSB0YWdzVG9Db21waWxlLnNwbGl0KHNwYWNlUmUsIDIpO1xuXG4gICAgICBpZiAoIWlzQXJyYXkodGFnc1RvQ29tcGlsZSkgfHwgdGFnc1RvQ29tcGlsZS5sZW5ndGggIT09IDIpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YWdzOiAnICsgdGFnc1RvQ29tcGlsZSk7XG5cbiAgICAgIG9wZW5pbmdUYWdSZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKHRhZ3NUb0NvbXBpbGVbMF0pICsgJ1xcXFxzKicpO1xuICAgICAgY2xvc2luZ1RhZ1JlID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGVzY2FwZVJlZ0V4cCh0YWdzVG9Db21waWxlWzFdKSk7XG4gICAgICBjbG9zaW5nQ3VybHlSZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBlc2NhcGVSZWdFeHAoJ30nICsgdGFnc1RvQ29tcGlsZVsxXSkpO1xuICAgIH1cblxuICAgIGNvbXBpbGVUYWdzKHRhZ3MgfHwgbXVzdGFjaGUudGFncyk7XG5cbiAgICB2YXIgc2Nhbm5lciA9IG5ldyBTY2FubmVyKHRlbXBsYXRlKTtcblxuICAgIHZhciBzdGFydCwgdHlwZSwgdmFsdWUsIGNociwgdG9rZW4sIG9wZW5TZWN0aW9uO1xuICAgIHdoaWxlICghc2Nhbm5lci5lb3MoKSkge1xuICAgICAgc3RhcnQgPSBzY2FubmVyLnBvcztcblxuICAgICAgLy8gTWF0Y2ggYW55IHRleHQgYmV0d2VlbiB0YWdzLlxuICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChvcGVuaW5nVGFnUmUpO1xuXG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgdmFsdWVMZW5ndGg7ICsraSkge1xuICAgICAgICAgIGNociA9IHZhbHVlLmNoYXJBdChpKTtcblxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoY2hyKSkge1xuICAgICAgICAgICAgc3BhY2VzLnB1c2godG9rZW5zLmxlbmd0aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vblNwYWNlID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b2tlbnMucHVzaChbJ3RleHQnLCBjaHIsIHN0YXJ0LCBzdGFydCArIDFdKTtcbiAgICAgICAgICBzdGFydCArPSAxO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHdoaXRlc3BhY2Ugb24gdGhlIGN1cnJlbnQgbGluZS5cbiAgICAgICAgICBpZiAoY2hyID09PSAnXFxuJykgc3RyaXBTcGFjZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE1hdGNoIHRoZSBvcGVuaW5nIHRhZy5cbiAgICAgIGlmICghc2Nhbm5lci5zY2FuKG9wZW5pbmdUYWdSZSkpIGJyZWFrO1xuXG4gICAgICBoYXNUYWcgPSB0cnVlO1xuXG4gICAgICAvLyBHZXQgdGhlIHRhZyB0eXBlLlxuICAgICAgdHlwZSA9IHNjYW5uZXIuc2Nhbih0YWdSZSkgfHwgJ25hbWUnO1xuICAgICAgc2Nhbm5lci5zY2FuKHdoaXRlUmUpO1xuXG4gICAgICAvLyBHZXQgdGhlIHRhZyB2YWx1ZS5cbiAgICAgIGlmICh0eXBlID09PSAnPScpIHtcbiAgICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChlcXVhbHNSZSk7XG4gICAgICAgIHNjYW5uZXIuc2NhbihlcXVhbHNSZSk7XG4gICAgICAgIHNjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdUYWdSZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd7Jykge1xuICAgICAgICB2YWx1ZSA9IHNjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdDdXJseVJlKTtcbiAgICAgICAgc2Nhbm5lci5zY2FuKGN1cmx5UmUpO1xuICAgICAgICBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpO1xuICAgICAgICB0eXBlID0gJyYnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXRjaCB0aGUgY2xvc2luZyB0YWcuXG4gICAgICBpZiAoIXNjYW5uZXIuc2NhbihjbG9zaW5nVGFnUmUpKSB0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHRhZyBhdCAnICsgc2Nhbm5lci5wb3MpO1xuXG4gICAgICB0b2tlbiA9IFt0eXBlLCB2YWx1ZSwgc3RhcnQsIHNjYW5uZXIucG9zXTtcbiAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcblxuICAgICAgaWYgKHR5cGUgPT09ICcjJyB8fCB0eXBlID09PSAnXicpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICcvJykge1xuICAgICAgICAvLyBDaGVjayBzZWN0aW9uIG5lc3RpbmcuXG4gICAgICAgIG9wZW5TZWN0aW9uID0gc2VjdGlvbnMucG9wKCk7XG5cbiAgICAgICAgaWYgKCFvcGVuU2VjdGlvbikgdGhyb3cgbmV3IEVycm9yKCdVbm9wZW5lZCBzZWN0aW9uIFwiJyArIHZhbHVlICsgJ1wiIGF0ICcgKyBzdGFydCk7XG5cbiAgICAgICAgaWYgKG9wZW5TZWN0aW9uWzFdICE9PSB2YWx1ZSkgdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCBzZWN0aW9uIFwiJyArIG9wZW5TZWN0aW9uWzFdICsgJ1wiIGF0ICcgKyBzdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICduYW1lJyB8fCB0eXBlID09PSAneycgfHwgdHlwZSA9PT0gJyYnKSB7XG4gICAgICAgIG5vblNwYWNlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJz0nKSB7XG4gICAgICAgIC8vIFNldCB0aGUgdGFncyBmb3IgdGhlIG5leHQgdGltZSBhcm91bmQuXG4gICAgICAgIGNvbXBpbGVUYWdzKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlcmUgYXJlIG5vIG9wZW4gc2VjdGlvbnMgd2hlbiB3ZSdyZSBkb25lLlxuICAgIG9wZW5TZWN0aW9uID0gc2VjdGlvbnMucG9wKCk7XG5cbiAgICBpZiAob3BlblNlY3Rpb24pIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicgKyBvcGVuU2VjdGlvblsxXSArICdcIiBhdCAnICsgc2Nhbm5lci5wb3MpO1xuXG4gICAgcmV0dXJuIG5lc3RUb2tlbnMoc3F1YXNoVG9rZW5zKHRva2VucykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbWJpbmVzIHRoZSB2YWx1ZXMgb2YgY29uc2VjdXRpdmUgdGV4dCB0b2tlbnMgaW4gdGhlIGdpdmVuIGB0b2tlbnNgIGFycmF5XG4gICAqIHRvIGEgc2luZ2xlIHRva2VuLlxuICAgKi9cbiAgZnVuY3Rpb24gc3F1YXNoVG9rZW5zKHRva2Vucykge1xuICAgIHZhciBzcXVhc2hlZFRva2VucyA9IFtdO1xuXG4gICAgdmFyIHRva2VuLCBsYXN0VG9rZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG51bVRva2VucyA9IHRva2Vucy5sZW5ndGg7IGkgPCBudW1Ub2tlbnM7ICsraSkge1xuICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW5bMF0gPT09ICd0ZXh0JyAmJiBsYXN0VG9rZW4gJiYgbGFzdFRva2VuWzBdID09PSAndGV4dCcpIHtcbiAgICAgICAgICBsYXN0VG9rZW5bMV0gKz0gdG9rZW5bMV07XG4gICAgICAgICAgbGFzdFRva2VuWzNdID0gdG9rZW5bM107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3F1YXNoZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgbGFzdFRva2VuID0gdG9rZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3F1YXNoZWRUb2tlbnM7XG4gIH1cblxuICAvKipcbiAgICogRm9ybXMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIGludG8gYSBuZXN0ZWQgdHJlZSBzdHJ1Y3R1cmUgd2hlcmVcbiAgICogdG9rZW5zIHRoYXQgcmVwcmVzZW50IGEgc2VjdGlvbiBoYXZlIHR3byBhZGRpdGlvbmFsIGl0ZW1zOiAxKSBhbiBhcnJheSBvZlxuICAgKiBhbGwgdG9rZW5zIHRoYXQgYXBwZWFyIGluIHRoYXQgc2VjdGlvbiBhbmQgMikgdGhlIGluZGV4IGluIHRoZSBvcmlnaW5hbFxuICAgKiB0ZW1wbGF0ZSB0aGF0IHJlcHJlc2VudHMgdGhlIGVuZCBvZiB0aGF0IHNlY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBuZXN0VG9rZW5zKHRva2Vucykge1xuICAgIHZhciBuZXN0ZWRUb2tlbnMgPSBbXTtcbiAgICB2YXIgY29sbGVjdG9yID0gbmVzdGVkVG9rZW5zO1xuICAgIHZhciBzZWN0aW9ucyA9IFtdO1xuXG4gICAgdmFyIHRva2VuLCBzZWN0aW9uO1xuICAgIGZvciAodmFyIGkgPSAwLCBudW1Ub2tlbnMgPSB0b2tlbnMubGVuZ3RoOyBpIDwgbnVtVG9rZW5zOyArK2kpIHtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICBzd2l0Y2ggKHRva2VuWzBdKSB7XG4gICAgICAgIGNhc2UgJyMnOlxuICAgICAgICBjYXNlICdeJzpcbiAgICAgICAgICBjb2xsZWN0b3IucHVzaCh0b2tlbik7XG4gICAgICAgICAgc2VjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29sbGVjdG9yID0gdG9rZW5bNF0gPSBbXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgc2VjdGlvbiA9IHNlY3Rpb25zLnBvcCgpO1xuICAgICAgICAgIHNlY3Rpb25bNV0gPSB0b2tlblsyXTtcbiAgICAgICAgICBjb2xsZWN0b3IgPSBzZWN0aW9ucy5sZW5ndGggPiAwID8gc2VjdGlvbnNbc2VjdGlvbnMubGVuZ3RoIC0gMV1bNF0gOiBuZXN0ZWRUb2tlbnM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29sbGVjdG9yLnB1c2godG9rZW4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXN0ZWRUb2tlbnM7XG4gIH1cblxuICAvKipcbiAgICogQSBzaW1wbGUgc3RyaW5nIHNjYW5uZXIgdGhhdCBpcyB1c2VkIGJ5IHRoZSB0ZW1wbGF0ZSBwYXJzZXIgdG8gZmluZFxuICAgKiB0b2tlbnMgaW4gdGVtcGxhdGUgc3RyaW5ncy5cbiAgICovXG4gIGZ1bmN0aW9uIFNjYW5uZXIoc3RyaW5nKSB7XG4gICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgdGhpcy50YWlsID0gc3RyaW5nO1xuICAgIHRoaXMucG9zID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFpbCBpcyBlbXB0eSAoZW5kIG9mIHN0cmluZykuXG4gICAqL1xuICBTY2FubmVyLnByb3RvdHlwZS5lb3MgPSBmdW5jdGlvbiBlb3MoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFpbCA9PT0gJyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIG1hdGNoIHRoZSBnaXZlbiByZWd1bGFyIGV4cHJlc3Npb24gYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAqIFJldHVybnMgdGhlIG1hdGNoZWQgdGV4dCBpZiBpdCBjYW4gbWF0Y2gsIHRoZSBlbXB0eSBzdHJpbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgU2Nhbm5lci5wcm90b3R5cGUuc2NhbiA9IGZ1bmN0aW9uIHNjYW4ocmUpIHtcbiAgICB2YXIgbWF0Y2ggPSB0aGlzLnRhaWwubWF0Y2gocmUpO1xuXG4gICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5pbmRleCAhPT0gMCkgcmV0dXJuICcnO1xuXG4gICAgdmFyIHN0cmluZyA9IG1hdGNoWzBdO1xuXG4gICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhzdHJpbmcubGVuZ3RoKTtcbiAgICB0aGlzLnBvcyArPSBzdHJpbmcubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHN0cmluZztcbiAgfTtcblxuICAvKipcbiAgICogU2tpcHMgYWxsIHRleHQgdW50aWwgdGhlIGdpdmVuIHJlZ3VsYXIgZXhwcmVzc2lvbiBjYW4gYmUgbWF0Y2hlZC4gUmV0dXJuc1xuICAgKiB0aGUgc2tpcHBlZCBzdHJpbmcsIHdoaWNoIGlzIHRoZSBlbnRpcmUgdGFpbCBpZiBubyBtYXRjaCBjYW4gYmUgbWFkZS5cbiAgICovXG4gIFNjYW5uZXIucHJvdG90eXBlLnNjYW5VbnRpbCA9IGZ1bmN0aW9uIHNjYW5VbnRpbChyZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMudGFpbC5zZWFyY2gocmUpLFxuICAgICAgICBtYXRjaDtcblxuICAgIHN3aXRjaCAoaW5kZXgpIHtcbiAgICAgIGNhc2UgLTE6XG4gICAgICAgIG1hdGNoID0gdGhpcy50YWlsO1xuICAgICAgICB0aGlzLnRhaWwgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIG1hdGNoID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWF0Y2ggPSB0aGlzLnRhaWwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhpbmRleCk7XG4gICAgfVxuXG4gICAgdGhpcy5wb3MgKz0gbWF0Y2gubGVuZ3RoO1xuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIGEgcmVuZGVyaW5nIGNvbnRleHQgYnkgd3JhcHBpbmcgYSB2aWV3IG9iamVjdCBhbmRcbiAgICogbWFpbnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBjb250ZXh0LlxuICAgKi9cbiAgZnVuY3Rpb24gQ29udGV4dCh2aWV3LCBwYXJlbnRDb250ZXh0KSB7XG4gICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB0aGlzLmNhY2hlID0ge1xuICAgICAgJy4nOiB0aGlzLnZpZXcsXG4gICAgICAnQGVhY2gnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXR1cm5zID0gW107XG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcykge1xuICAgICAgICAgIHJldHVybnMucHVzaCh7ICdAa2V5JzogaywgJ0B2YWx1ZSc6IHRoaXNba10gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybnM7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudENvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjb250ZXh0IHVzaW5nIHRoZSBnaXZlbiB2aWV3IHdpdGggdGhpcyBjb250ZXh0XG4gICAqIGFzIHRoZSBwYXJlbnQuXG4gICAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCh2aWV3KSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZXh0KHZpZXcsIHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gbmFtZSBpbiB0aGlzIGNvbnRleHQsIHRyYXZlcnNpbmdcbiAgICogdXAgdGhlIGNvbnRleHQgaGllcmFyY2h5IGlmIHRoZSB2YWx1ZSBpcyBhYnNlbnQgaW4gdGhpcyBjb250ZXh0J3Mgdmlldy5cbiAgICovXG4gIENvbnRleHQucHJvdG90eXBlLmxvb2t1cCA9IGZ1bmN0aW9uIGxvb2t1cChuYW1lKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5jYWNoZTtcblxuICAgIHZhciB2YWx1ZTtcbiAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHZhbHVlID0gY2FjaGVbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcyxcbiAgICAgICAgICBuYW1lcyxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBsb29rdXBIaXQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignLicpID4gMCkge1xuICAgICAgICAgIHZhbHVlID0gY29udGV4dC52aWV3O1xuICAgICAgICAgIG5hbWVzID0gbmFtZS5zcGxpdCgnLicpO1xuICAgICAgICAgIGluZGV4ID0gMDtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFVzaW5nIHRoZSBkb3Qgbm90aW9uIHBhdGggaW4gYG5hbWVgLCB3ZSBkZXNjZW5kIHRocm91Z2ggdGhlXG4gICAgICAgICAgICogbmVzdGVkIG9iamVjdHMuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBUbyBiZSBjZXJ0YWluIHRoYXQgdGhlIGxvb2t1cCBoYXMgYmVlbiBzdWNjZXNzZnVsLCB3ZSBoYXZlIHRvXG4gICAgICAgICAgICogY2hlY2sgaWYgdGhlIGxhc3Qgb2JqZWN0IGluIHRoZSBwYXRoIGFjdHVhbGx5IGhhcyB0aGUgcHJvcGVydHlcbiAgICAgICAgICAgKiB3ZSBhcmUgbG9va2luZyBmb3IuIFdlIHN0b3JlIHRoZSByZXN1bHQgaW4gYGxvb2t1cEhpdGAuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBUaGlzIGlzIHNwZWNpYWxseSBuZWNlc3NhcnkgZm9yIHdoZW4gdGhlIHZhbHVlIGhhcyBiZWVuIHNldCB0b1xuICAgICAgICAgICAqIGB1bmRlZmluZWRgIGFuZCB3ZSB3YW50IHRvIGF2b2lkIGxvb2tpbmcgdXAgcGFyZW50IGNvbnRleHRzLlxuICAgICAgICAgICAqKi9cbiAgICAgICAgICB3aGlsZSAodmFsdWUgIT0gbnVsbCAmJiBpbmRleCA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBuYW1lcy5sZW5ndGggLSAxKSBsb29rdXBIaXQgPSBoYXNQcm9wZXJ0eSh2YWx1ZSwgbmFtZXNbaW5kZXhdKTtcblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVtuYW1lc1tpbmRleCsrXV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gY29udGV4dC52aWV3W25hbWVdO1xuICAgICAgICAgIGxvb2t1cEhpdCA9IGhhc1Byb3BlcnR5KGNvbnRleHQudmlldywgbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9va3VwSGl0KSBicmVhaztcblxuICAgICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIGNhY2hlW25hbWVdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB2YWx1ZSA9IHZhbHVlLmNhbGwodGhpcy52aWV3KTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQSBXcml0ZXIga25vd3MgaG93IHRvIHRha2UgYSBzdHJlYW0gb2YgdG9rZW5zIGFuZCByZW5kZXIgdGhlbSB0byBhXG4gICAqIHN0cmluZywgZ2l2ZW4gYSBjb250ZXh0LiBJdCBhbHNvIG1haW50YWlucyBhIGNhY2hlIG9mIHRlbXBsYXRlcyB0b1xuICAgKiBhdm9pZCB0aGUgbmVlZCB0byBwYXJzZSB0aGUgc2FtZSB0ZW1wbGF0ZSB0d2ljZS5cbiAgICovXG4gIGZ1bmN0aW9uIFdyaXRlcigpIHtcbiAgICB0aGlzLmNhY2hlID0ge307XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBjYWNoZWQgdGVtcGxhdGVzIGluIHRoaXMgd3JpdGVyLlxuICAgKi9cbiAgV3JpdGVyLnByb3RvdHlwZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLmNhY2hlID0ge307XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhbmQgY2FjaGVzIHRoZSBnaXZlbiBgdGVtcGxhdGVgIGFuZCByZXR1cm5zIHRoZSBhcnJheSBvZiB0b2tlbnNcbiAgICogdGhhdCBpcyBnZW5lcmF0ZWQgZnJvbSB0aGUgcGFyc2UuXG4gICAqL1xuICBXcml0ZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UodGVtcGxhdGUsIHRhZ3MpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLmNhY2hlO1xuICAgIHZhciB0b2tlbnMgPSBjYWNoZVt0ZW1wbGF0ZV07XG5cbiAgICBpZiAodG9rZW5zID09IG51bGwpIHRva2VucyA9IGNhY2hlW3RlbXBsYXRlXSA9IHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRhZ3MpO1xuXG4gICAgcmV0dXJuIHRva2VucztcbiAgfTtcblxuICAvKipcbiAgICogSGlnaC1sZXZlbCBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIHJlbmRlciB0aGUgZ2l2ZW4gYHRlbXBsYXRlYCB3aXRoXG4gICAqIHRoZSBnaXZlbiBgdmlld2AuXG4gICAqXG4gICAqIFRoZSBvcHRpb25hbCBgcGFydGlhbHNgIGFyZ3VtZW50IG1heSBiZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGVcbiAgICogbmFtZXMgYW5kIHRlbXBsYXRlcyBvZiBwYXJ0aWFscyB0aGF0IGFyZSB1c2VkIGluIHRoZSB0ZW1wbGF0ZS4gSXQgbWF5XG4gICAqIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbG9hZCBwYXJ0aWFsIHRlbXBsYXRlcyBvbiB0aGUgZmx5XG4gICAqIHRoYXQgdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQ6IHRoZSBuYW1lIG9mIHRoZSBwYXJ0aWFsLlxuICAgKi9cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIodGVtcGxhdGUsIHZpZXcsIHBhcnRpYWxzKSB7XG4gICAgdmFyIHRva2VucyA9IHRoaXMucGFyc2UodGVtcGxhdGUpO1xuICAgIHZhciBjb250ZXh0ID0gdmlldyBpbnN0YW5jZW9mIENvbnRleHQgPyB2aWV3IDogbmV3IENvbnRleHQodmlldyk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VucywgY29udGV4dCwgcGFydGlhbHMsIHRlbXBsYXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogTG93LWxldmVsIG1ldGhvZCB0aGF0IHJlbmRlcnMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIHVzaW5nXG4gICAqIHRoZSBnaXZlbiBgY29udGV4dGAgYW5kIGBwYXJ0aWFsc2AuXG4gICAqXG4gICAqIE5vdGU6IFRoZSBgb3JpZ2luYWxUZW1wbGF0ZWAgaXMgb25seSBldmVyIHVzZWQgdG8gZXh0cmFjdCB0aGUgcG9ydGlvblxuICAgKiBvZiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB3YXMgY29udGFpbmVkIGluIGEgaGlnaGVyLW9yZGVyIHNlY3Rpb24uXG4gICAqIElmIHRoZSB0ZW1wbGF0ZSBkb2Vzbid0IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMsIHRoaXMgYXJndW1lbnQgbWF5XG4gICAqIGJlIG9taXR0ZWQuXG4gICAqL1xuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlclRva2VucyA9IGZ1bmN0aW9uIHJlbmRlclRva2Vucyh0b2tlbnMsIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKSB7XG4gICAgdmFyIGJ1ZmZlciA9ICcnO1xuICAgIHZhciB0b2tlbiwgc3ltYm9sLCB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMCwgbnVtVG9rZW5zID0gdG9rZW5zLmxlbmd0aDsgaSA8IG51bVRva2VuczsgKytpKSB7XG4gICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgc3ltYm9sID0gdG9rZW5bMF07XG5cbiAgICAgIGlmIChzeW1ib2wgPT09ICcjJykgdmFsdWUgPSB0aGlzLnJlbmRlclNlY3Rpb24odG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtlbHNlIGlmIChzeW1ib2wgPT09ICdeJykgdmFsdWUgPSB0aGlzLnJlbmRlckludmVydGVkKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7ZWxzZSBpZiAoc3ltYm9sID09PSAnPicpIHZhbHVlID0gdGhpcy5yZW5kZXJQYXJ0aWFsKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7ZWxzZSBpZiAoc3ltYm9sID09PSAnJicpIHZhbHVlID0gdGhpcy51bmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCk7ZWxzZSBpZiAoc3ltYm9sID09PSAnbmFtZScpIHZhbHVlID0gdGhpcy5lc2NhcGVkVmFsdWUodG9rZW4sIGNvbnRleHQpO2Vsc2UgaWYgKHN5bWJvbCA9PT0gJ3RleHQnKSB2YWx1ZSA9IHRoaXMucmF3VmFsdWUodG9rZW4pO1xuXG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgYnVmZmVyICs9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBidWZmZXI7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXJTZWN0aW9uID0gZnVuY3Rpb24gcmVuZGVyU2VjdGlvbih0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGJ1ZmZlciA9ICcnO1xuXG4gICAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlbmRlciBhbiBhcmJpdHJhcnkgdGVtcGxhdGVcbiAgICAvLyBpbiB0aGUgY3VycmVudCBjb250ZXh0IGJ5IGhpZ2hlci1vcmRlciBzZWN0aW9ucy5cbiAgICBmdW5jdGlvbiBzdWJSZW5kZXIodGVtcGxhdGUpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbmRlcih0ZW1wbGF0ZSwgY29udGV4dCwgcGFydGlhbHMpO1xuICAgIH1cblxuICAgIGlmICghdmFsdWUpIHJldHVybjtcblxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgZm9yICh2YXIgaiA9IDAsIHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBqIDwgdmFsdWVMZW5ndGg7ICsraikge1xuICAgICAgICBpZiAodmFsdWVbal0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2pdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdmFsdWVbal1bJ0BpJ10gPSBqO1xuICAgICAgICAgICAgdmFsdWVbal1bJ0BmaXJzdCddID0gaiA9PT0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBidWZmZXIgKz0gdGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sIGNvbnRleHQucHVzaCh2YWx1ZVtqXSksIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGJ1ZmZlciArPSB0aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSwgY29udGV4dC5wdXNoKHZhbHVlKSwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxUZW1wbGF0ZSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMgd2l0aG91dCB0aGUgb3JpZ2luYWwgdGVtcGxhdGUnKTtcblxuICAgICAgLy8gRXh0cmFjdCB0aGUgcG9ydGlvbiBvZiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB0aGUgc2VjdGlvbiBjb250YWlucy5cbiAgICAgIHZhbHVlID0gdmFsdWUuY2FsbChjb250ZXh0LnZpZXcsIG9yaWdpbmFsVGVtcGxhdGUuc2xpY2UodG9rZW5bM10sIHRva2VuWzVdKSwgc3ViUmVuZGVyKTtcblxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIGJ1ZmZlciArPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXJJbnZlcnRlZCA9IGZ1bmN0aW9uIHJlbmRlckludmVydGVkKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcblxuICAgIC8vIFVzZSBKYXZhU2NyaXB0J3MgZGVmaW5pdGlvbiBvZiBmYWxzeS4gSW5jbHVkZSBlbXB0eSBhcnJheXMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8xODZcbiAgICBpZiAoIXZhbHVlIHx8IGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXJQYXJ0aWFsID0gZnVuY3Rpb24gcmVuZGVyUGFydGlhbCh0b2tlbiwgY29udGV4dCwgcGFydGlhbHMpIHtcbiAgICBpZiAoIXBhcnRpYWxzKSByZXR1cm47XG5cbiAgICB2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKHBhcnRpYWxzKSA/IHBhcnRpYWxzKHRva2VuWzFdKSA6IHBhcnRpYWxzW3Rva2VuWzFdXTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRoaXMucGFyc2UodmFsdWUpLCBjb250ZXh0LCBwYXJ0aWFscywgdmFsdWUpO1xuICB9O1xuXG4gIFdyaXRlci5wcm90b3R5cGUudW5lc2NhcGVkVmFsdWUgPSBmdW5jdGlvbiB1bmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCkge1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIFdyaXRlci5wcm90b3R5cGUuZXNjYXBlZFZhbHVlID0gZnVuY3Rpb24gZXNjYXBlZFZhbHVlKHRva2VuLCBjb250ZXh0KSB7XG4gICAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSByZXR1cm4gbXVzdGFjaGUuZXNjYXBlKHZhbHVlKTtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLnJhd1ZhbHVlID0gZnVuY3Rpb24gcmF3VmFsdWUodG9rZW4pIHtcbiAgICByZXR1cm4gdG9rZW5bMV07XG4gIH07XG5cbiAgbXVzdGFjaGUubmFtZSA9ICdtdXN0YWNoZS5qcyc7XG4gIG11c3RhY2hlLnZlcnNpb24gPSAnMi4xLjMnO1xuICBtdXN0YWNoZS50YWdzID0gWyd7eycsICd9fSddO1xuXG4gIC8vIEFsbCBoaWdoLWxldmVsIG11c3RhY2hlLiogZnVuY3Rpb25zIHVzZSB0aGlzIHdyaXRlci5cbiAgdmFyIGRlZmF1bHRXcml0ZXIgPSBuZXcgV3JpdGVyKCk7XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGUgZGVmYXVsdCB3cml0ZXIuXG4gICAqL1xuICBtdXN0YWNoZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICByZXR1cm4gZGVmYXVsdFdyaXRlci5jbGVhckNhY2hlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhbmQgY2FjaGVzIHRoZSBnaXZlbiB0ZW1wbGF0ZSBpbiB0aGUgZGVmYXVsdCB3cml0ZXIgYW5kIHJldHVybnMgdGhlXG4gICAqIGFycmF5IG9mIHRva2VucyBpdCBjb250YWlucy4gRG9pbmcgdGhpcyBhaGVhZCBvZiB0aW1lIGF2b2lkcyB0aGUgbmVlZCB0b1xuICAgKiBwYXJzZSB0ZW1wbGF0ZXMgb24gdGhlIGZseSBhcyB0aGV5IGFyZSByZW5kZXJlZC5cbiAgICovXG4gIG11c3RhY2hlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UodGVtcGxhdGUsIHRhZ3MpIHtcbiAgICByZXR1cm4gZGVmYXVsdFdyaXRlci5wYXJzZSh0ZW1wbGF0ZSwgdGFncyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIGB0ZW1wbGF0ZWAgd2l0aCB0aGUgZ2l2ZW4gYHZpZXdgIGFuZCBgcGFydGlhbHNgIHVzaW5nIHRoZVxuICAgKiBkZWZhdWx0IHdyaXRlci5cbiAgICovXG4gIG11c3RhY2hlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpIHtcbiAgICBpZiAodHlwZW9mIHRlbXBsYXRlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0ZW1wbGF0ZSEgVGVtcGxhdGUgc2hvdWxkIGJlIGEgXCJzdHJpbmdcIiAnICsgJ2J1dCBcIicgKyB0eXBlU3RyKHRlbXBsYXRlKSArICdcIiB3YXMgZ2l2ZW4gYXMgdGhlIGZpcnN0ICcgKyAnYXJndW1lbnQgZm9yIG11c3RhY2hlI3JlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRXcml0ZXIucmVuZGVyKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscyk7XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIDAuNC54LixcbiAgLyplc2xpbnQtZGlzYWJsZSAqLyAvLyBlc2xpbnQgd2FudHMgY2FtZWwgY2FzZWQgZnVuY3Rpb24gbmFtZVxuICBtdXN0YWNoZS50b19odG1sID0gZnVuY3Rpb24gdG9faHRtbCh0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMsIHNlbmQpIHtcbiAgICAvKmVzbGludC1lbmFibGUqL1xuXG4gICAgdmFyIHJlc3VsdCA9IG11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oc2VuZCkpIHtcbiAgICAgIHNlbmQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBlc2NhcGluZyBmdW5jdGlvbiBzbyB0aGF0IHRoZSB1c2VyIG1heSBvdmVycmlkZSBpdC5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8yNDRcbiAgbXVzdGFjaGUuZXNjYXBlID0gZXNjYXBlSHRtbDtcblxuICAvLyBFeHBvcnQgdGhlc2UgbWFpbmx5IGZvciB0ZXN0aW5nLCBidXQgYWxzbyBmb3IgYWR2YW5jZWQgdXNhZ2UuXG4gIG11c3RhY2hlLlNjYW5uZXIgPSBTY2FubmVyO1xuICBtdXN0YWNoZS5Db250ZXh0ID0gQ29udGV4dDtcbiAgbXVzdGFjaGUuV3JpdGVyID0gV3JpdGVyO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFYNi5tdXN0YWNoZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZNdXN0YWNoZS5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiaW1wb3J0IGpRdWVyeSBmcm9tIFwianFtaW5cIjtcbmltcG9ydCBVIGZyb20gXCIuLi9BWDZVdGlsXCI7XG5pbXBvcnQgaW5mbyBmcm9tIFwiLi4vQVg2SW5mb1wiO1xuXG4vKipcbiAqIEBtZXRob2QgYXg1Z3JpZC51dGlsLmRpdmlkZVRhYmxlQnlGcm96ZW5Db2x1bW5JbmRleFxuICogQHBhcmFtIF90YWJsZVxuICogQHBhcmFtIF9mcm96ZW5Db2x1bW5JbmRleFxuICogQHJldHVybnMge3tsZWZ0SGVhZGVyRGF0YToge3Jvd3M6IEFycmF5fSwgaGVhZGVyRGF0YToge3Jvd3M6IEFycmF5fX19XG4gKi9cbmNvbnN0IGRpdmlkZVRhYmxlQnlGcm96ZW5Db2x1bW5JbmRleCA9IGZ1bmN0aW9uIChfdGFibGUsIF9mcm96ZW5Db2x1bW5JbmRleCkge1xuXG4gIGxldCB0ZW1wVGFibGVfbCA9IHsgcm93czogW10gfSxcbiAgICAgIHRlbXBUYWJsZV9yID0geyByb3dzOiBbXSB9O1xuXG4gIGZvciAobGV0IHIgPSAwLCBybCA9IF90YWJsZS5yb3dzLmxlbmd0aDsgciA8IHJsOyByKyspIHtcbiAgICBsZXQgcm93ID0gX3RhYmxlLnJvd3Nbcl07XG5cbiAgICB0ZW1wVGFibGVfbC5yb3dzW3JdID0geyBjb2xzOiBbXSB9O1xuICAgIHRlbXBUYWJsZV9yLnJvd3Nbcl0gPSB7IGNvbHM6IFtdIH07XG5cbiAgICBmb3IgKGxldCBjID0gMCwgY2wgPSByb3cuY29scy5sZW5ndGg7IGMgPCBjbDsgYysrKSB7XG4gICAgICBsZXQgY29sID0galF1ZXJ5LmV4dGVuZCh7fSwgcm93LmNvbHNbY10pLFxuICAgICAgICAgIGNvbFN0YXJ0SW5kZXggPSBjb2wuY29sSW5kZXgsXG4gICAgICAgICAgY29sRW5kSW5kZXggPSBjb2wuY29sSW5kZXggKyBjb2wuY29sc3BhbjtcblxuICAgICAgaWYgKGNvbFN0YXJ0SW5kZXggPCBfZnJvemVuQ29sdW1uSW5kZXgpIHtcbiAgICAgICAgaWYgKGNvbEVuZEluZGV4IDw9IF9mcm96ZW5Db2x1bW5JbmRleCkge1xuICAgICAgICAgIC8vIOyijOy4oe2OuOyXkCDrs4DtmJXsl4bsnbQg7LaU6rCAXG4gICAgICAgICAgdGVtcFRhYmxlX2wucm93c1tyXS5jb2xzLnB1c2goY29sKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgbGVmdENvbCA9IGpRdWVyeS5leHRlbmQoe30sIGNvbCksXG4gICAgICAgICAgICAgIHJpZ2h0Q29sID0galF1ZXJ5LmV4dGVuZCh7fSwgbGVmdENvbCk7XG5cbiAgICAgICAgICBsZWZ0Q29sLmNvbHNwYW4gPSBfZnJvemVuQ29sdW1uSW5kZXggLSBsZWZ0Q29sLmNvbEluZGV4O1xuICAgICAgICAgIHJpZ2h0Q29sLmNvbEluZGV4ID0gX2Zyb3plbkNvbHVtbkluZGV4O1xuICAgICAgICAgIHJpZ2h0Q29sLmNvbHNwYW4gPSBjb2wuY29sc3BhbiAtIGxlZnRDb2wuY29sc3BhbjtcblxuICAgICAgICAgIHRlbXBUYWJsZV9sLnJvd3Nbcl0uY29scy5wdXNoKGxlZnRDb2wpO1xuICAgICAgICAgIGlmIChyaWdodENvbC5jb2xzcGFuKSB7XG4gICAgICAgICAgICB0ZW1wVGFibGVfci5yb3dzW3JdLmNvbHMucHVzaChyaWdodENvbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDsmKTrpbjtjrhcbiAgICAgICAgdGVtcFRhYmxlX3Iucm93c1tyXS5jb2xzLnB1c2goY29sKTtcbiAgICAgIH1cblxuICAgICAgY29sID0gbnVsbDtcbiAgICAgIGNvbFN0YXJ0SW5kZXggPSBudWxsO1xuICAgICAgY29sRW5kSW5kZXggPSBudWxsO1xuICAgIH1cblxuICAgIHJvdyA9IG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlZnREYXRhOiB0ZW1wVGFibGVfbCxcbiAgICByaWdodERhdGE6IHRlbXBUYWJsZV9yXG4gIH07XG59O1xuXG5jb25zdCBnZXRUYWJsZUJ5U3RhcnRFbmRDb2x1bW5JbmRleCA9IGZ1bmN0aW9uIChfdGFibGUsIF9zdGFydENvbHVtbkluZGV4LCBfZW5kQ29sdW1uSW5kZXgpIHtcblxuICBsZXQgdGVtcFRhYmxlID0geyByb3dzOiBbXSB9O1xuICBmb3IgKGxldCByID0gMCwgcmwgPSBfdGFibGUucm93cy5sZW5ndGg7IHIgPCBybDsgcisrKSB7XG4gICAgbGV0IHJvdyA9IF90YWJsZS5yb3dzW3JdO1xuXG4gICAgdGVtcFRhYmxlLnJvd3Nbcl0gPSB7IGNvbHM6IFtdIH07XG4gICAgZm9yIChsZXQgYyA9IDAsIGNsID0gcm93LmNvbHMubGVuZ3RoOyBjIDwgY2w7IGMrKykge1xuICAgICAgbGV0IGNvbCA9IGpRdWVyeS5leHRlbmQoe30sIHJvdy5jb2xzW2NdKSxcbiAgICAgICAgICBjb2xTdGFydEluZGV4ID0gY29sLmNvbEluZGV4LFxuICAgICAgICAgIGNvbEVuZEluZGV4ID0gY29sLmNvbEluZGV4ICsgY29sLmNvbHNwYW47XG5cbiAgICAgIGlmIChfc3RhcnRDb2x1bW5JbmRleCA8PSBjb2xTdGFydEluZGV4IHx8IGNvbEVuZEluZGV4IDw9IF9lbmRDb2x1bW5JbmRleCkge1xuICAgICAgICBpZiAoX3N0YXJ0Q29sdW1uSW5kZXggPD0gY29sU3RhcnRJbmRleCAmJiBjb2xFbmRJbmRleCA8PSBfZW5kQ29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAvLyDrs4DtmJXsl4bsnbQg7LaU6rCAXG4gICAgICAgICAgdGVtcFRhYmxlLnJvd3Nbcl0uY29scy5wdXNoKGNvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoX3N0YXJ0Q29sdW1uSW5kZXggPiBjb2xTdGFydEluZGV4ICYmIGNvbEVuZEluZGV4ID4gX3N0YXJ0Q29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAvLyDslZ7sl5DshJwg6rG47Lmc6rK97JqwXG4gICAgICAgICAgY29sLmNvbHNwYW4gPSBjb2xFbmRJbmRleCAtIF9zdGFydENvbHVtbkluZGV4O1xuICAgICAgICAgIHRlbXBUYWJsZS5yb3dzW3JdLmNvbHMucHVzaChjb2wpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbEVuZEluZGV4ID4gX2VuZENvbHVtbkluZGV4ICYmIGNvbFN0YXJ0SW5kZXggPD0gX2VuZENvbHVtbkluZGV4KSB7XG4gICAgICAgICAgdGVtcFRhYmxlLnJvd3Nbcl0uY29scy5wdXNoKGNvbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGVtcFRhYmxlO1xufTtcblxuY29uc3QgZ2V0TW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gIGxldCBtb3VzZU9iaixcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQgPyBlLm9yaWdpbmFsRXZlbnQgOiBlO1xuXG4gIG1vdXNlT2JqID0gJ2NoYW5nZWRUb3VjaGVzJyBpbiBvcmlnaW5hbEV2ZW50ICYmIG9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBvcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdIDogb3JpZ2luYWxFdmVudDtcbiAgLy8gY2xpZW50WCwgWSDsk7DrqbQg7Iqk7YGs66Gk7JeQ7IScIOusuOygnCDrsJzsg51cbiAgcmV0dXJuIHtcbiAgICBjbGllbnRYOiBtb3VzZU9iai5wYWdlWCxcbiAgICBjbGllbnRZOiBtb3VzZU9iai5wYWdlWVxuICB9O1xufTtcblxuY29uc3QgRU5NID0ge1xuICBcIm1vdXNlZG93blwiOiBpbmZvLnN1cHBvcnRUb3VjaCA/IFwidG91Y2hzdGFydFwiIDogXCJtb3VzZWRvd25cIixcbiAgXCJtb3VzZW1vdmVcIjogaW5mby5zdXBwb3J0VG91Y2ggPyBcInRvdWNobW92ZVwiIDogXCJtb3VzZW1vdmVcIixcbiAgXCJtb3VzZXVwXCI6IGluZm8uc3VwcG9ydFRvdWNoID8gXCJ0b3VjaGVuZFwiIDogXCJtb3VzZXVwXCJcbn07XG5cbmNvbnN0IG1ha2VIZWFkZXJUYWJsZSA9IGZ1bmN0aW9uIChfY29sdW1ucykge1xuICBsZXQgY29sdW1ucyA9IFUuZGVlcENvcHkoX2NvbHVtbnMpLFxuICAgICAgY2ZnID0gdGhpcy5jb25maWcsXG4gICAgICB0YWJsZSA9IHtcbiAgICByb3dzOiBbXVxuICB9LFxuICAgICAgY29sSW5kZXggPSAwLFxuICAgICAgbWFla1Jvd3MgPSBmdW5jdGlvbiAoX2NvbHVtbnMsIGRlcHRoLCBwYXJlbnRGaWVsZCkge1xuICAgIHZhciByb3cgPSB7IGNvbHM6IFtdIH07XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBsID0gX2NvbHVtbnMubGVuZ3RoO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBmaWVsZCA9IF9jb2x1bW5zW2ldO1xuICAgICAgdmFyIGNvbHNwYW4gPSAxO1xuXG4gICAgICBpZiAoIWZpZWxkLmhpZGRlbikge1xuICAgICAgICBmaWVsZC5jb2xzcGFuID0gMTtcbiAgICAgICAgZmllbGQucm93c3BhbiA9IDE7XG5cbiAgICAgICAgZmllbGQucm93SW5kZXggPSBkZXB0aDtcbiAgICAgICAgZmllbGQuY29sSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFwYXJlbnRGaWVsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbEluZGV4Kys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbEluZGV4ID0gcGFyZW50RmllbGQuY29sSW5kZXggKyBpICsgMTtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRGaWVsZC5jb2xJbmRleCArIGk7XG4gICAgICAgICAgfVxuICAgICAgICB9KCk7XG5cbiAgICAgICAgcm93LmNvbHMucHVzaChmaWVsZCk7XG5cbiAgICAgICAgaWYgKCdjb2x1bW5zJyBpbiBmaWVsZCkge1xuICAgICAgICAgIGNvbHNwYW4gPSBtYWVrUm93cyhmaWVsZC5jb2x1bW5zLCBkZXB0aCArIDEsIGZpZWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaWVsZC53aWR0aCA9ICd3aWR0aCcgaW4gZmllbGQgPyBmaWVsZC53aWR0aCA6IGNmZy5jb2x1bW5NaW5XaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZC5jb2xzcGFuID0gY29sc3BhbjtcbiAgICAgIH0gZWxzZSB7fVxuICAgIH1cblxuICAgIGlmIChyb3cuY29scy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoIXRhYmxlLnJvd3NbZGVwdGhdKSB7XG4gICAgICAgIHRhYmxlLnJvd3NbZGVwdGhdID0geyBjb2xzOiBbXSB9O1xuICAgICAgfVxuICAgICAgdGFibGUucm93c1tkZXB0aF0uY29scyA9IHRhYmxlLnJvd3NbZGVwdGhdLmNvbHMuY29uY2F0KHJvdy5jb2xzKTtcbiAgICAgIHJldHVybiByb3cuY29scy5sZW5ndGggLSAxICsgY29sc3BhbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbHNwYW47XG4gICAgfVxuICB9O1xuXG4gIG1hZWtSb3dzKGNvbHVtbnMsIDApO1xuXG4gIC8vIHNldCByb3dzcGFuXG4gIGZvciAobGV0IHIgPSAwLCBybCA9IHRhYmxlLnJvd3MubGVuZ3RoOyByIDwgcmw7IHIrKykge1xuICAgIGZvciAobGV0IGMgPSAwLCBjbCA9IHRhYmxlLnJvd3Nbcl0uY29scy5sZW5ndGg7IGMgPCBjbDsgYysrKSB7XG4gICAgICBpZiAoISgnY29sdW1ucycgaW4gdGFibGUucm93c1tyXS5jb2xzW2NdKSkge1xuICAgICAgICB0YWJsZS5yb3dzW3JdLmNvbHNbY10ucm93c3BhbiA9IHJsIC0gcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFibGU7XG59O1xuXG5jb25zdCBtYWtlQm9keVJvd1RhYmxlID0gZnVuY3Rpb24gKF9jb2x1bW5zKSB7XG4gIGxldCBjb2x1bW5zID0gVS5kZWVwQ29weShfY29sdW1ucyksXG4gICAgICB0YWJsZSA9IHtcbiAgICByb3dzOiBbXVxuICB9LFxuICAgICAgY29sSW5kZXggPSAwLFxuICAgICAgbWFla1Jvd3MgPSBmdW5jdGlvbiAoX2NvbHVtbnMsIGRlcHRoLCBwYXJlbnRGaWVsZCkge1xuICAgIGxldCByb3cgPSB7IGNvbHM6IFtdIH0sXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBsID0gX2NvbHVtbnMubGVuZ3RoLFxuICAgICAgICBjb2xzcGFuID0gMTtcblxuICAgIGxldCBzZWxmTWFrZVJvdyA9IGZ1bmN0aW9uIChfX2NvbHVtbnMpIHtcbiAgICAgIGxldCBpID0gMCxcbiAgICAgICAgICBsID0gX19jb2x1bW5zLmxlbmd0aDtcbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGxldCBmaWVsZCA9IF9fY29sdW1uc1tpXSxcbiAgICAgICAgICAgIGNvbHNwYW4gPSAxO1xuXG4gICAgICAgIGlmICghZmllbGQuaGlkZGVuKSB7XG5cbiAgICAgICAgICBpZiAoJ2tleScgaW4gZmllbGQpIHtcbiAgICAgICAgICAgIGZpZWxkLmNvbHNwYW4gPSAxO1xuICAgICAgICAgICAgZmllbGQucm93c3BhbiA9IDE7XG5cbiAgICAgICAgICAgIGZpZWxkLnJvd0luZGV4ID0gZGVwdGg7XG4gICAgICAgICAgICBmaWVsZC5jb2xJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKCFwYXJlbnRGaWVsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xJbmRleCsrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gcGFyZW50RmllbGQuY29sSW5kZXggKyBpICsgMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50RmllbGQuY29sSW5kZXggKyBpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KCk7XG5cbiAgICAgICAgICAgIHJvdy5jb2xzLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgaWYgKCdjb2x1bW5zJyBpbiBmaWVsZCkge1xuICAgICAgICAgICAgICBjb2xzcGFuID0gbWFla1Jvd3MoZmllbGQuY29sdW1ucywgZGVwdGggKyAxLCBmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWVsZC5jb2xzcGFuID0gY29sc3BhbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCdjb2x1bW5zJyBpbiBmaWVsZCkge1xuICAgICAgICAgICAgICBzZWxmTWFrZVJvdyhmaWVsZC5jb2x1bW5zLCBkZXB0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge31cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGxldCBmaWVsZCA9IF9jb2x1bW5zW2ldO1xuICAgICAgY29sc3BhbiA9IDE7XG5cbiAgICAgIGlmICghZmllbGQuaGlkZGVuKSB7XG5cbiAgICAgICAgaWYgKCdrZXknIGluIGZpZWxkKSB7XG4gICAgICAgICAgZmllbGQuY29sc3BhbiA9IDE7XG4gICAgICAgICAgZmllbGQucm93c3BhbiA9IDE7XG5cbiAgICAgICAgICBmaWVsZC5yb3dJbmRleCA9IGRlcHRoO1xuICAgICAgICAgIGZpZWxkLmNvbEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFwYXJlbnRGaWVsZCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29sSW5kZXgrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbEluZGV4ID0gcGFyZW50RmllbGQuY29sSW5kZXggKyBpICsgMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEZpZWxkLmNvbEluZGV4ICsgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KCk7XG5cbiAgICAgICAgICByb3cuY29scy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICBpZiAoJ2NvbHVtbnMnIGluIGZpZWxkKSB7XG4gICAgICAgICAgICBjb2xzcGFuID0gbWFla1Jvd3MoZmllbGQuY29sdW1ucywgZGVwdGggKyAxLCBmaWVsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLmNvbHNwYW4gPSBjb2xzcGFuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICgnY29sdW1ucycgaW4gZmllbGQpIHtcbiAgICAgICAgICAgIHNlbGZNYWtlUm93KGZpZWxkLmNvbHVtbnMsIGRlcHRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7fVxuXG4gICAgICBmaWVsZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHJvdy5jb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICghdGFibGUucm93c1tkZXB0aF0pIHtcbiAgICAgICAgdGFibGUucm93c1tkZXB0aF0gPSB7IGNvbHM6IFtdIH07XG4gICAgICB9XG4gICAgICB0YWJsZS5yb3dzW2RlcHRoXS5jb2xzID0gdGFibGUucm93c1tkZXB0aF0uY29scy5jb25jYXQocm93LmNvbHMpO1xuICAgICAgcmV0dXJuIHJvdy5jb2xzLmxlbmd0aCAtIDEgKyBjb2xzcGFuO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29sc3BhbjtcbiAgICB9XG4gIH07XG5cbiAgbWFla1Jvd3MoY29sdW1ucywgMCk7XG5cbiAgKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgIC8vIHNldCByb3dzcGFuXG4gICAgZm9yIChsZXQgciA9IDAsIHJsID0gdGFibGUucm93cy5sZW5ndGg7IHIgPCBybDsgcisrKSB7XG4gICAgICBsZXQgcm93ID0gdGFibGUucm93c1tyXTtcbiAgICAgIGZvciAobGV0IGMgPSAwLCBjbCA9IHJvdy5jb2xzLmxlbmd0aDsgYyA8IGNsOyBjKyspIHtcbiAgICAgICAgbGV0IGNvbCA9IHJvdy5jb2xzW2NdO1xuICAgICAgICBpZiAoISgnY29sdW1ucycgaW4gY29sKSkge1xuICAgICAgICAgIGNvbC5yb3dzcGFuID0gcmwgLSByO1xuICAgICAgICB9XG4gICAgICAgIGNvbCA9IG51bGw7XG4gICAgICB9XG4gICAgICByb3cgPSBudWxsO1xuICAgIH1cbiAgfSkodGFibGUpO1xuXG4gIHJldHVybiB0YWJsZTtcbn07XG5cbmNvbnN0IG1ha2VCb2R5Um93TWFwID0gZnVuY3Rpb24gKF90YWJsZSkge1xuICBsZXQgbWFwID0ge307XG4gIF90YWJsZS5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgIHJvdy5jb2xzLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xuICAgICAgbWFwW2NvbC5yb3dJbmRleCArIFwiX1wiICsgY29sLmNvbEluZGV4XSA9IGpRdWVyeS5leHRlbmQoe30sIGNvbCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gbWFwO1xufTtcblxubGV0IG1ha2VGb290U3VtVGFibGUgPSBmdW5jdGlvbiAoX2Zvb3RTdW1Db2x1bW5zKSB7XG4gIGxldCB0YWJsZSA9IHtcbiAgICByb3dzOiBbXVxuICB9O1xuXG4gIGZvciAobGV0IHIgPSAwLCBybCA9IF9mb290U3VtQ29sdW1ucy5sZW5ndGg7IHIgPCBybDsgcisrKSB7XG4gICAgbGV0IGZvb3RTdW1Sb3cgPSBfZm9vdFN1bUNvbHVtbnNbcl0sXG4gICAgICAgIGFkZEMgPSAwO1xuXG4gICAgdGFibGUucm93c1tyXSA9IHsgY29sczogW10gfTtcblxuICAgIGZvciAobGV0IGMgPSAwLCBjbCA9IGZvb3RTdW1Sb3cubGVuZ3RoOyBjIDwgY2w7IGMrKykge1xuICAgICAgaWYgKGFkZEMgPiB0aGlzLmNvbEdyb3VwLmxlbmd0aCkgYnJlYWs7XG4gICAgICBsZXQgY29sc3BhbiA9IGZvb3RTdW1Sb3dbY10uY29sc3BhbiB8fCAxO1xuICAgICAgaWYgKGZvb3RTdW1Sb3dbY10ubGFiZWwgfHwgZm9vdFN1bVJvd1tjXS5rZXkpIHtcbiAgICAgICAgdGFibGUucm93c1tyXS5jb2xzLnB1c2goe1xuICAgICAgICAgIGNvbHNwYW46IGNvbHNwYW4sXG4gICAgICAgICAgcm93c3BhbjogMSxcbiAgICAgICAgICBjb2xJbmRleDogYWRkQyxcbiAgICAgICAgICBjb2x1bW5BdHRyOiBcInN1bVwiLFxuICAgICAgICAgIGFsaWduOiBmb290U3VtUm93W2NdLmFsaWduLFxuICAgICAgICAgIGxhYmVsOiBmb290U3VtUm93W2NdLmxhYmVsLFxuICAgICAgICAgIGtleTogZm9vdFN1bVJvd1tjXS5rZXksXG4gICAgICAgICAgY29sbGVjdG9yOiBmb290U3VtUm93W2NdLmNvbGxlY3RvcixcbiAgICAgICAgICBmb3JtYXR0ZXI6IGZvb3RTdW1Sb3dbY10uZm9ybWF0dGVyXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFibGUucm93c1tyXS5jb2xzLnB1c2goe1xuICAgICAgICAgIGNvbEluZGV4OiBhZGRDLFxuICAgICAgICAgIGNvbHNwYW46IGNvbHNwYW4sXG4gICAgICAgICAgcm93c3BhbjogMSxcbiAgICAgICAgICBsYWJlbDogXCImbmJzcDtcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGFkZEMgKz0gY29sc3BhbjtcbiAgICAgIGNvbHNwYW4gPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChhZGRDIDwgdGhpcy5jb2xHcm91cC5sZW5ndGgpIHtcbiAgICAgIGZvciAobGV0IGMgPSBhZGRDOyBjIDwgdGhpcy5jb2xHcm91cC5sZW5ndGg7IGMrKykge1xuICAgICAgICB0YWJsZS5yb3dzW3JdLmNvbHMucHVzaCh7XG4gICAgICAgICAgY29sSW5kZXg6IGMsXG4gICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICByb3dzcGFuOiAxLFxuICAgICAgICAgIGxhYmVsOiBcIiZuYnNwO1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb290U3VtUm93ID0gbnVsbDtcbiAgICBhZGRDID0gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0YWJsZTtcbn07XG5cbmNvbnN0IG1ha2VCb2R5R3JvdXBpbmdUYWJsZSA9IGZ1bmN0aW9uIChfYm9keUdyb3VwaW5nQ29sdW1ucykge1xuICBsZXQgdGFibGUgPSB7XG4gICAgcm93czogW11cbiAgfSxcbiAgICAgIHIgPSAwLFxuICAgICAgYWRkQyA9IDA7XG5cbiAgdGFibGUucm93c1tyXSA9IHsgY29sczogW10gfTtcbiAgZm9yIChsZXQgYyA9IDAsIGNsID0gX2JvZHlHcm91cGluZ0NvbHVtbnMubGVuZ3RoOyBjIDwgY2w7IGMrKykge1xuICAgIGlmIChhZGRDID4gdGhpcy5jb2x1bW5zLmxlbmd0aCkgYnJlYWs7XG4gICAgbGV0IGNvbHNwYW4gPSBfYm9keUdyb3VwaW5nQ29sdW1uc1tjXS5jb2xzcGFuIHx8IDE7XG4gICAgaWYgKF9ib2R5R3JvdXBpbmdDb2x1bW5zW2NdLmxhYmVsIHx8IF9ib2R5R3JvdXBpbmdDb2x1bW5zW2NdLmtleSkge1xuICAgICAgdGFibGUucm93c1tyXS5jb2xzLnB1c2goe1xuICAgICAgICBjb2xzcGFuOiBjb2xzcGFuLFxuICAgICAgICByb3dzcGFuOiAxLFxuICAgICAgICByb3dJbmRleDogMCxcbiAgICAgICAgY29sSW5kZXg6IGFkZEMsXG4gICAgICAgIGNvbHVtbkF0dHI6IFwiZGVmYXVsdFwiLFxuICAgICAgICBhbGlnbjogX2JvZHlHcm91cGluZ0NvbHVtbnNbY10uYWxpZ24sXG4gICAgICAgIGxhYmVsOiBfYm9keUdyb3VwaW5nQ29sdW1uc1tjXS5sYWJlbCxcbiAgICAgICAga2V5OiBfYm9keUdyb3VwaW5nQ29sdW1uc1tjXS5rZXksXG4gICAgICAgIGNvbGxlY3RvcjogX2JvZHlHcm91cGluZ0NvbHVtbnNbY10uY29sbGVjdG9yLFxuICAgICAgICBmb3JtYXR0ZXI6IF9ib2R5R3JvdXBpbmdDb2x1bW5zW2NdLmZvcm1hdHRlclxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhYmxlLnJvd3Nbcl0uY29scy5wdXNoKHtcbiAgICAgICAgcm93SW5kZXg6IDAsXG4gICAgICAgIGNvbEluZGV4OiBhZGRDLFxuICAgICAgICBjb2xzcGFuOiBjb2xzcGFuLFxuICAgICAgICByb3dzcGFuOiAxLFxuICAgICAgICBsYWJlbDogXCImbmJzcDtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGFkZEMgKz0gY29sc3BhbjtcbiAgfVxuXG4gIGlmIChhZGRDIDwgdGhpcy5jb2xHcm91cC5sZW5ndGgpIHtcbiAgICBmb3IgKHZhciBjID0gYWRkQzsgYyA8IHRoaXMuY29sR3JvdXAubGVuZ3RoOyBjKyspIHtcbiAgICAgIHRhYmxlLnJvd3Nbcl0uY29scy5wdXNoKHtcbiAgICAgICAgcm93SW5kZXg6IDAsXG4gICAgICAgIGNvbEluZGV4OiBjLFxuICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICByb3dzcGFuOiAxLFxuICAgICAgICBsYWJlbDogXCImbmJzcDtcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhYmxlO1xufTtcblxuY29uc3QgZmluZFBhbmVsQnlDb2x1bW5JbmRleCA9IGZ1bmN0aW9uIChfZGluZGV4LCBfY29sSW5kZXgsIF9yb3dJbmRleCkge1xuICBsZXQgX2NvbnRhaW5lclBhbmVsTmFtZSxcbiAgICAgIF9pc1Njcm9sbFBhbmVsID0gZmFsc2UsXG4gICAgICBfcGFuZWxzID0gW107XG5cbiAgaWYgKHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA+IF9kaW5kZXgpIF9wYW5lbHMucHVzaChcInRvcFwiKTtcbiAgaWYgKHRoaXMueHZhci5mcm96ZW5Db2x1bW5JbmRleCA+IF9jb2xJbmRleCkgX3BhbmVscy5wdXNoKFwibGVmdFwiKTtcbiAgX3BhbmVscy5wdXNoKFwiYm9keVwiKTtcblxuICBpZiAodGhpcy54dmFyLmZyb3plbkNvbHVtbkluZGV4IDw9IF9jb2xJbmRleCB8fCB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXggPD0gX2RpbmRleCkge1xuICAgIF9jb250YWluZXJQYW5lbE5hbWUgPSBfcGFuZWxzLmpvaW4oXCItXCIpO1xuICAgIF9wYW5lbHMucHVzaChcInNjcm9sbFwiKTtcbiAgICBfaXNTY3JvbGxQYW5lbCA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhbmVsTmFtZTogX3BhbmVscy5qb2luKFwiLVwiKSxcbiAgICBjb250YWluZXJQYW5lbE5hbWU6IF9jb250YWluZXJQYW5lbE5hbWUsXG4gICAgaXNTY3JvbGxQYW5lbDogX2lzU2Nyb2xsUGFuZWxcbiAgfTtcbn07XG5cbmNvbnN0IGdldFJlYWxQYXRoRm9yRGF0YUl0ZW0gPSBmdW5jdGlvbiAoX2RhdGFQYXRoKSB7XG4gIGxldCBwYXRoID0gW10sXG4gICAgICBfcGF0aCA9IFtdLmNvbmNhdChfZGF0YVBhdGguc3BsaXQoL1tcXC5cXFtcXF1dL2cpKTtcblxuICBfcGF0aC5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgaWYgKG4gIT09IFwiXCIpIHBhdGgucHVzaChcIltcXFwiXCIgKyBuLnJlcGxhY2UoL1snXFxcIl0vZywgXCJcIikgKyBcIlxcXCJdXCIpO1xuICB9KTtcbiAgX3BhdGggPSBudWxsO1xuICByZXR1cm4gcGF0aC5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkaXZpZGVUYWJsZUJ5RnJvemVuQ29sdW1uSW5kZXg6IGRpdmlkZVRhYmxlQnlGcm96ZW5Db2x1bW5JbmRleCxcbiAgZ2V0VGFibGVCeVN0YXJ0RW5kQ29sdW1uSW5kZXg6IGdldFRhYmxlQnlTdGFydEVuZENvbHVtbkluZGV4LFxuICBnZXRNb3VzZVBvc2l0aW9uOiBnZXRNb3VzZVBvc2l0aW9uLFxuICBFTk06IEVOTSxcbiAgbWFrZUhlYWRlclRhYmxlOiBtYWtlSGVhZGVyVGFibGUsXG4gIG1ha2VCb2R5Um93VGFibGU6IG1ha2VCb2R5Um93VGFibGUsXG4gIG1ha2VCb2R5Um93TWFwOiBtYWtlQm9keVJvd01hcCxcbiAgbWFrZUZvb3RTdW1UYWJsZTogbWFrZUZvb3RTdW1UYWJsZSxcbiAgbWFrZUJvZHlHcm91cGluZ1RhYmxlOiBtYWtlQm9keUdyb3VwaW5nVGFibGUsXG4gIGZpbmRQYW5lbEJ5Q29sdW1uSW5kZXg6IGZpbmRQYW5lbEJ5Q29sdW1uSW5kZXgsXG4gIGdldFJlYWxQYXRoRm9yRGF0YUl0ZW06IGdldFJlYWxQYXRoRm9yRGF0YUl0ZW1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgalF1ZXJ5IGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IFUgZnJvbSBcIi4uL0FYNlV0aWxcIjtcbmltcG9ydCBVVElMIGZyb20gXCIuL0FYNlVJR3JpZF91dGlsXCI7XG5pbXBvcnQgREFUQSBmcm9tIFwiLi9BWDZVSUdyaWRfZGF0YVwiO1xuaW1wb3J0IFBBR0UgZnJvbSBcIi4vQVg2VUlHcmlkX3BhZ2VcIjtcbmltcG9ydCBIRUFERVIgZnJvbSBcIi4vQVg2VUlHcmlkX2hlYWRlclwiO1xuXG5pbXBvcnQgSU5MSU5FX0VESVRPUiBmcm9tIFwiLi9BWDZVSUdyaWRfaW5saW5lX2VkaXRvclwiO1xuaW1wb3J0IENPTExFQ1RPUiBmcm9tIFwiLi9BWDZVSUdyaWRfY29sbGVjdG9yXCI7XG5pbXBvcnQgRk9STUFUVEVSIGZyb20gXCIuL0FYNlVJR3JpZF9mb3JtYXR0ZXJcIjtcbmltcG9ydCBTQ1JPTExFUiBmcm9tIFwiLi9BWDZVSUdyaWRfc2Nyb2xsZXJcIjtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgaW1wb3J0ICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG5jb25zdCBjb2x1bW5TZWxlY3QgPSB7XG4gIGZvY3VzQ2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXMsXG4gICAgICAgIF9jb2x1bW47XG4gICAgZm9yIChsZXQgYyBpbiBzZWxmLmZvY3VzZWRDb2x1bW4pIHtcbiAgICAgIF9jb2x1bW4gPSBzZWxmLmZvY3VzZWRDb2x1bW5bY107XG4gICAgICBpZiAoX2NvbHVtbikge1xuICAgICAgICBzZWxmLiQucGFuZWxbX2NvbHVtbi5wYW5lbE5hbWVdLmZpbmQoJ1tkYXRhLWF4NmdyaWQtdHItZGF0YS1pbmRleD1cIicgKyBfY29sdW1uLmRpbmRleCArICdcIl0nKS5maW5kKCdbZGF0YS1heDZncmlkLWNvbHVtbi1yb3dpbmRleD1cIicgKyBfY29sdW1uLnJvd0luZGV4ICsgJ1wiXVtkYXRhLWF4NmdyaWQtY29sdW1uLWNvbGluZGV4PVwiJyArIF9jb2x1bW4uY29sSW5kZXggKyAnXCJdJykucmVtb3ZlQXR0cignZGF0YS1heDZncmlkLWNvbHVtbi1mb2N1c2VkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuZm9jdXNlZENvbHVtbiA9IHt9O1xuICB9LFxuICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgIGxldCBzZWxmID0gdGhpcyxcbiAgICAgICAgX2NvbHVtbjtcbiAgICBmb3IgKGxldCBjIGluIHNlbGYuc2VsZWN0ZWRDb2x1bW4pIHtcbiAgICAgIF9jb2x1bW4gPSBzZWxmLnNlbGVjdGVkQ29sdW1uW2NdO1xuICAgICAgaWYgKF9jb2x1bW4pIHtcbiAgICAgICAgc2VsZi4kLnBhbmVsW19jb2x1bW4ucGFuZWxOYW1lXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgX2NvbHVtbi5kaW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93aW5kZXg9XCInICsgX2NvbHVtbi5yb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xpbmRleD1cIicgKyBfY29sdW1uLmNvbEluZGV4ICsgJ1wiXScpLnJlbW92ZUF0dHIoJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5zZWxlY3RlZENvbHVtbiA9IHt9O1xuICB9LFxuICBpbml0OiBmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLmlzSW5saW5lRWRpdGluZykge1xuICAgICAgZm9yIChsZXQgZWRpdEtleSBpbiB0aGlzLmlubGluZUVkaXRpbmcpIHtcbiAgICAgICAgaWYgKGVkaXRLZXkgPT0gY29sdW1uLmRpbmRleCArIFwiX1wiICsgY29sdW1uLmNvbEluZGV4ICsgXCJfXCIgKyBjb2x1bW4ucm93SW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZvY3VzXG4gICAgY29sdW1uU2VsZWN0LmZvY3VzQ2xlYXIuY2FsbChzZWxmKTtcbiAgICBzZWxmLmZvY3VzZWRDb2x1bW5bY29sdW1uLmRpbmRleCArIFwiX1wiICsgY29sdW1uLmNvbEluZGV4ICsgXCJfXCIgKyBjb2x1bW4ucm93SW5kZXhdID0ge1xuICAgICAgcGFuZWxOYW1lOiBjb2x1bW4ucGFuZWxOYW1lLFxuICAgICAgZGluZGV4OiBjb2x1bW4uZGluZGV4LFxuICAgICAgZG9pbmRleDogY29sdW1uLmRvaW5kZXgsXG4gICAgICByb3dJbmRleDogY29sdW1uLnJvd0luZGV4LFxuICAgICAgY29sSW5kZXg6IGNvbHVtbi5jb2xJbmRleCxcbiAgICAgIGNvbHNwYW46IGNvbHVtbi5jb2xzcGFuXG4gICAgfTtcblxuICAgIC8vIHNlbGVjdFxuICAgIGNvbHVtblNlbGVjdC5jbGVhci5jYWxsKHNlbGYpO1xuICAgIHNlbGYueHZhci5zZWxlY3RlZFJhbmdlID0ge1xuICAgICAgc3RhcnQ6IFtjb2x1bW4uZGluZGV4LCBjb2x1bW4ucm93SW5kZXgsIGNvbHVtbi5jb2xJbmRleCwgY29sdW1uLmNvbHNwYW4gLSAxXSxcbiAgICAgIGVuZDogbnVsbFxuICAgIH07XG4gICAgc2VsZi5zZWxlY3RlZENvbHVtbltjb2x1bW4uZGluZGV4ICsgXCJfXCIgKyBjb2x1bW4uY29sSW5kZXggKyBcIl9cIiArIGNvbHVtbi5yb3dJbmRleF0gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYW5lbE5hbWU6IGNvbHVtbi5wYW5lbE5hbWUsXG4gICAgICAgICAgZGluZGV4OiBjb2x1bW4uZGluZGV4LFxuICAgICAgICAgIGRvaW5kZXg6IGNvbHVtbi5kb2luZGV4LFxuICAgICAgICAgIHJvd0luZGV4OiBjb2x1bW4ucm93SW5kZXgsXG4gICAgICAgICAgY29sSW5kZXg6IGNvbHVtbi5jb2xJbmRleCxcbiAgICAgICAgICBjb2xzcGFuOiBjb2x1bW4uY29sc3BhblxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0oc2VsZi5zZWxlY3RlZENvbHVtbltjb2x1bW4uZGluZGV4ICsgXCJfXCIgKyBjb2x1bW4uY29sSW5kZXggKyBcIl9cIiArIGNvbHVtbi5yb3dJbmRleF0pO1xuXG4gICAgdGhpcy4kLnBhbmVsW2NvbHVtbi5wYW5lbE5hbWVdLmZpbmQoJ1tkYXRhLWF4NmdyaWQtdHItZGF0YS1pbmRleD1cIicgKyBjb2x1bW4uZGluZGV4ICsgJ1wiXScpLmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29sdW1uLXJvd2luZGV4PVwiJyArIGNvbHVtbi5yb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xpbmRleD1cIicgKyBjb2x1bW4uY29sSW5kZXggKyAnXCJdJykuYXR0cignZGF0YS1heDZncmlkLWNvbHVtbi1mb2N1c2VkJywgXCJ0cnVlXCIpLmF0dHIoJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tc2VsZWN0ZWQnLCBcInRydWVcIik7XG5cbiAgICBpZiAodGhpcy5pc0lubGluZUVkaXRpbmcpIHtcbiAgICAgIGlubGluZUVkaXQuZGVBY3RpdmUuY2FsbCh0aGlzLCBcIlJFVFVSTlwiKTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24gKGNvbHVtbikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkaW5kZXgsIGRvaW5kZXgsIGNvbEluZGV4LCByb3dJbmRleCwgdHJsO1xuXG4gICAgc2VsZi54dmFyLnNlbGVjdGVkUmFuZ2VbXCJlbmRcIl0gPSBbY29sdW1uLmRpbmRleCwgY29sdW1uLnJvd0luZGV4LCBjb2x1bW4uY29sSW5kZXgsIGNvbHVtbi5jb2xzcGFuIC0gMV07XG4gICAgY29sdW1uU2VsZWN0LmNsZWFyLmNhbGwoc2VsZik7XG5cbiAgICBsZXQgcmFuZ2UgPSB7XG4gICAgICByOiB7XG4gICAgICAgIHM6IE1hdGgubWluKHNlbGYueHZhci5zZWxlY3RlZFJhbmdlW1wic3RhcnRcIl1bMF0sIHNlbGYueHZhci5zZWxlY3RlZFJhbmdlW1wiZW5kXCJdWzBdKSxcbiAgICAgICAgZTogTWF0aC5tYXgoc2VsZi54dmFyLnNlbGVjdGVkUmFuZ2VbXCJzdGFydFwiXVswXSwgc2VsZi54dmFyLnNlbGVjdGVkUmFuZ2VbXCJlbmRcIl1bMF0pXG4gICAgICB9LFxuICAgICAgYzoge1xuICAgICAgICBzOiBNYXRoLm1pbihzZWxmLnh2YXIuc2VsZWN0ZWRSYW5nZVtcInN0YXJ0XCJdWzJdLCBzZWxmLnh2YXIuc2VsZWN0ZWRSYW5nZVtcImVuZFwiXVsyXSksXG4gICAgICAgIGU6IE1hdGgubWF4KHNlbGYueHZhci5zZWxlY3RlZFJhbmdlW1wic3RhcnRcIl1bMl0gKyBzZWxmLnh2YXIuc2VsZWN0ZWRSYW5nZVtcInN0YXJ0XCJdWzNdLCBzZWxmLnh2YXIuc2VsZWN0ZWRSYW5nZVtcImVuZFwiXVsyXSArIHNlbGYueHZhci5zZWxlY3RlZFJhbmdlW1wiZW5kXCJdWzNdKVxuICAgICAgfVxuICAgIH07XG5cbiAgICBkaW5kZXggPSByYW5nZS5yLnM7XG4gICAgZm9yICg7IGRpbmRleCA8PSByYW5nZS5yLmU7IGRpbmRleCsrKSB7XG5cbiAgICAgIHRybCA9IHRoaXMuYm9keVJvd1RhYmxlLnJvd3MubGVuZ3RoO1xuICAgICAgcm93SW5kZXggPSAwO1xuICAgICAgZm9yICg7IHJvd0luZGV4IDwgdHJsOyByb3dJbmRleCsrKSB7XG4gICAgICAgIGNvbEluZGV4ID0gcmFuZ2UuYy5zO1xuICAgICAgICBmb3IgKDsgY29sSW5kZXggPD0gcmFuZ2UuYy5lOyBjb2xJbmRleCsrKSB7XG4gICAgICAgICAgdmFyIF9wYW5lbHMgPSBbXSxcbiAgICAgICAgICAgICAgcGFuZWxOYW1lID0gXCJcIjtcblxuICAgICAgICAgIGlmIChzZWxmLnh2YXIuZnJvemVuUm93SW5kZXggPiBkaW5kZXgpIF9wYW5lbHMucHVzaChcInRvcFwiKTtcbiAgICAgICAgICBpZiAoc2VsZi54dmFyLmZyb3plbkNvbHVtbkluZGV4ID4gY29sSW5kZXgpIF9wYW5lbHMucHVzaChcImxlZnRcIik7XG4gICAgICAgICAgX3BhbmVscy5wdXNoKFwiYm9keVwiKTtcbiAgICAgICAgICBpZiAoX3BhbmVsc1swXSAhPT0gXCJ0b3BcIikgX3BhbmVscy5wdXNoKFwic2Nyb2xsXCIpO1xuICAgICAgICAgIHBhbmVsTmFtZSA9IF9wYW5lbHMuam9pbihcIi1cIik7XG5cbiAgICAgICAgICBzZWxmLnNlbGVjdGVkQ29sdW1uW2RpbmRleCArIFwiX1wiICsgY29sSW5kZXggKyBcIl9cIiArIHJvd0luZGV4XSA9IHtcbiAgICAgICAgICAgIHBhbmVsTmFtZTogcGFuZWxOYW1lLFxuICAgICAgICAgICAgZGluZGV4OiBkaW5kZXgsXG4gICAgICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgICAgICBjb2xJbmRleDogY29sSW5kZXgsXG4gICAgICAgICAgICBjb2xzcGFuOiBjb2x1bW4uY29sc3BhblxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBfcGFuZWxzID0gbnVsbDtcbiAgICAgICAgICBwYW5lbE5hbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGRpbmRleCA9IG51bGw7XG4gICAgZG9pbmRleCA9IG51bGw7XG4gICAgY29sSW5kZXggPSBudWxsO1xuICAgIHJvd0luZGV4ID0gbnVsbDtcblxuICAgIGZvciAodmFyIGMgaW4gc2VsZi5zZWxlY3RlZENvbHVtbikge1xuICAgICAgdmFyIF9jb2x1bW4gPSBzZWxmLnNlbGVjdGVkQ29sdW1uW2NdO1xuICAgICAgaWYgKF9jb2x1bW4pIHtcbiAgICAgICAgc2VsZi4kLnBhbmVsW19jb2x1bW4ucGFuZWxOYW1lXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgX2NvbHVtbi5kaW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93aW5kZXg9XCInICsgX2NvbHVtbi5yb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xpbmRleD1cIicgKyBfY29sdW1uLmNvbEluZGV4ICsgJ1wiXScpLmF0dHIoJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY29sdW1uU2VsZWN0b3IgPSB7XG4gIFwib25cIjogZnVuY3Rpb24gKGNlbGwpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pbmxpbmVFZGl0aW5nW2NlbGwuZGluZGV4ICsgXCJfXCIgKyBjZWxsLmNvbEluZGV4ICsgXCJfXCIgKyBjZWxsLnJvd0luZGV4XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbHVtblNlbGVjdC5pbml0LmNhbGwoc2VsZiwgY2VsbCk7XG5cbiAgICB0aGlzLiRbXCJjb250YWluZXJcIl1bXCJib2R5XCJdLm9uKFwibW91c2Vtb3ZlLmF4NWdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQsICdbZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyPVwiZGVmYXVsdFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJvd0luZGV4XCIpKSB7XG4gICAgICAgIGNvbHVtblNlbGVjdC51cGRhdGUuY2FsbChzZWxmLCB7XG4gICAgICAgICAgcGFuZWxOYW1lOiB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1wYW5lbC1uYW1lXCIpLFxuICAgICAgICAgIGRpbmRleDogTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLWRhdGEtaW5kZXhcIikpLFxuICAgICAgICAgIGRvaW5kZXg6IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1kYXRhLW8taW5kZXhcIikpLFxuICAgICAgICAgIHJvd0luZGV4OiBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJvd0luZGV4XCIpKSxcbiAgICAgICAgICBjb2xJbmRleDogTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLWNvbHVtbi1jb2xJbmRleFwiKSksXG4gICAgICAgICAgY29sc3BhbjogTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKSlcbiAgICAgICAgfSk7XG4gICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgfVxuICAgIH0pLm9uKFwibW91c2V1cC5heDVncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb2x1bW5TZWxlY3Rvci5vZmYuY2FsbChzZWxmKTtcbiAgICB9KS5vbihcIm1vdXNlbGVhdmUuYXg1Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCwgZnVuY3Rpb24gKCkge1xuICAgICAgY29sdW1uU2VsZWN0b3Iub2ZmLmNhbGwoc2VsZik7XG4gICAgfSk7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJywgJ29uJykuY3NzKCd1c2VyLXNlbGVjdCcsICdub25lJykub24oJ3NlbGVjdHN0YXJ0JywgZmFsc2UpO1xuICB9LFxuICBcIm9mZlwiOiBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLiRbXCJjb250YWluZXJcIl1bXCJib2R5XCJdLm9mZihcIm1vdXNlbW92ZS5heDVncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vZmYoXCJtb3VzZXVwLmF4NWdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQpLm9mZihcIm1vdXNlbGVhdmUuYXg1Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCk7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkucmVtb3ZlQXR0cigndW5zZWxlY3RhYmxlJykuY3NzKCd1c2VyLXNlbGVjdCcsICdhdXRvJykub2ZmKCdzZWxlY3RzdGFydCcpO1xuICB9XG59O1xuXG5jb25zdCByZXNldEZyb3plbkNvbHVtbiA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGNmZyA9IHRoaXMuY29uZmlnLFxuICAgICAgZGl2aWRlZEJvZHlSb3dPYmogPSBVVElMLmRpdmlkZVRhYmxlQnlGcm96ZW5Db2x1bW5JbmRleCh0aGlzLmJvZHlSb3dUYWJsZSwgdGhpcy54dmFyLmZyb3plbkNvbHVtbkluZGV4KTtcblxuICB0aGlzLmFzaWRlQm9keVJvd0RhdGEgPSBmdW5jdGlvbiAoZGF0YVRhYmxlKSB7XG4gICAgbGV0IGRhdGEgPSB7IHJvd3M6IFtdIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBkYXRhVGFibGUucm93cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGRhdGEucm93c1tpXSA9IHsgY29sczogW10gfTtcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGxldCBjb2wgPSB7XG4gICAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICByb3dzcGFuOiBkYXRhVGFibGUucm93cy5sZW5ndGgsXG4gICAgICAgICAgY29sSW5kZXg6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIF9jb2wgPSB7fTtcblxuICAgICAgICBpZiAoY2ZnLnNob3dMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgX2NvbCA9IGpRdWVyeS5leHRlbmQoe30sIGNvbCwge1xuICAgICAgICAgICAgd2lkdGg6IGNmZy5saW5lTnVtYmVyQ29sdW1uV2lkdGgsXG4gICAgICAgICAgICBfd2lkdGg6IGNmZy5saW5lTnVtYmVyQ29sdW1uV2lkdGgsXG4gICAgICAgICAgICBjb2x1bW5BdHRyOiBcImxpbmVOdW1iZXJcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIiZuYnNwO1wiLCBrZXk6IFwiX19kLWluZGV4X19cIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRhdGEucm93c1tpXS5jb2xzLnB1c2goX2NvbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNmZy5zaG93Um93U2VsZWN0b3IpIHtcbiAgICAgICAgICBfY29sID0galF1ZXJ5LmV4dGVuZCh7fSwgY29sLCB7XG4gICAgICAgICAgICB3aWR0aDogY2ZnLnJvd1NlbGVjdG9yQ29sdW1uV2lkdGgsXG4gICAgICAgICAgICBfd2lkdGg6IGNmZy5yb3dTZWxlY3RvckNvbHVtbldpZHRoLFxuICAgICAgICAgICAgY29sdW1uQXR0cjogXCJyb3dTZWxlY3RvclwiLFxuICAgICAgICAgICAgbGFiZWw6IFwiXCIsIGtleTogXCJfX2QtY2hlY2tib3hfX1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0YS5yb3dzW2ldLmNvbHMucHVzaChfY29sKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9LmNhbGwodGhpcywgdGhpcy5ib2R5Um93VGFibGUpO1xuXG4gIC8vY29uc29sZS5sb2coZGl2aWRlZEJvZHlSb3dPYmopO1xuXG4gIHRoaXMubGVmdEJvZHlSb3dEYXRhID0gZGl2aWRlZEJvZHlSb3dPYmoubGVmdERhdGE7XG4gIHRoaXMuYm9keVJvd0RhdGEgPSBkaXZpZGVkQm9keVJvd09iai5yaWdodERhdGE7XG5cbiAgaWYgKGNmZy5ib2R5Lmdyb3VwaW5nKSB7XG4gICAgbGV0IGRpdmlkZWRCb2R5R3JvdXBpbmdPYmogPSBVVElMLmRpdmlkZVRhYmxlQnlGcm96ZW5Db2x1bW5JbmRleCh0aGlzLmJvZHlHcm91cGluZ1RhYmxlLCB0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXgpO1xuICAgIHRoaXMuYXNpZGVCb2R5R3JvdXBpbmdEYXRhID0gZnVuY3Rpb24gKGRhdGFUYWJsZSkge1xuICAgICAgbGV0IGRhdGEgPSB7IHJvd3M6IFtdIH07XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGRhdGFUYWJsZS5yb3dzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBkYXRhLnJvd3NbaV0gPSB7IGNvbHM6IFtdIH07XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgbGV0IGNvbCA9IHtcbiAgICAgICAgICAgIGxhYmVsOiBcIlwiLFxuICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgIHJvd3NwYW46IGRhdGFUYWJsZS5yb3dzLmxlbmd0aCxcbiAgICAgICAgICAgIGNvbEluZGV4OiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX2NvbCA9IHt9O1xuXG4gICAgICAgICAgaWYgKGNmZy5zaG93TGluZU51bWJlcikge1xuICAgICAgICAgICAgX2NvbCA9IGpRdWVyeS5leHRlbmQoe30sIGNvbCwge1xuICAgICAgICAgICAgICB3aWR0aDogY2ZnLmxpbmVOdW1iZXJDb2x1bW5XaWR0aCxcbiAgICAgICAgICAgICAgX3dpZHRoOiBjZmcubGluZU51bWJlckNvbHVtbldpZHRoLFxuICAgICAgICAgICAgICBjb2x1bW5BdHRyOiBcImxpbmVOdW1iZXJcIixcbiAgICAgICAgICAgICAgbGFiZWw6IFwiJm5ic3A7XCIsIGtleTogXCJfX2QtaW5kZXhfX1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRhdGEucm93c1tpXS5jb2xzLnB1c2goX2NvbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjZmcuc2hvd1Jvd1NlbGVjdG9yKSB7XG4gICAgICAgICAgICBfY29sID0galF1ZXJ5LmV4dGVuZCh7fSwgY29sLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBjZmcucm93U2VsZWN0b3JDb2x1bW5XaWR0aCxcbiAgICAgICAgICAgICAgX3dpZHRoOiBjZmcucm93U2VsZWN0b3JDb2x1bW5XaWR0aCxcbiAgICAgICAgICAgICAgY29sdW1uQXR0cjogXCJyb3dTZWxlY3RvclwiLFxuICAgICAgICAgICAgICBsYWJlbDogXCJcIiwga2V5OiBcIl9fZC1jaGVja2JveF9fXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGF0YS5yb3dzW2ldLmNvbHMucHVzaChfY29sKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfS5jYWxsKHRoaXMsIHRoaXMuYm9keUdyb3VwaW5nVGFibGUpO1xuICAgIHRoaXMubGVmdEJvZHlHcm91cGluZ0RhdGEgPSBkaXZpZGVkQm9keUdyb3VwaW5nT2JqLmxlZnREYXRhO1xuICAgIHRoaXMuYm9keUdyb3VwaW5nRGF0YSA9IGRpdmlkZWRCb2R5R3JvdXBpbmdPYmoucmlnaHREYXRhO1xuICAgIHRoaXMuYm9keUdyb3VwaW5nTWFwID0gVVRJTC5tYWtlQm9keVJvd01hcC5jYWxsKHRoaXMsIHRoaXMuYm9keUdyb3VwaW5nVGFibGUpO1xuICB9XG5cbiAgdGhpcy5sZWZ0Rm9vdFN1bURhdGEgPSB7fTtcbiAgdGhpcy5mb290U3VtRGF0YSA9IHt9O1xuICBpZiAodGhpcy5jb25maWcuZm9vdFN1bSkge1xuICAgIGxldCBkaXZpZGVkRm9vdFN1bU9iaiA9IFVUSUwuZGl2aWRlVGFibGVCeUZyb3plbkNvbHVtbkluZGV4KHRoaXMuZm9vdFN1bVRhYmxlLCB0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXgpO1xuICAgIHRoaXMubGVmdEZvb3RTdW1EYXRhID0gZGl2aWRlZEZvb3RTdW1PYmoubGVmdERhdGE7XG4gICAgdGhpcy5mb290U3VtRGF0YSA9IGRpdmlkZWRGb290U3VtT2JqLnJpZ2h0RGF0YTtcbiAgfVxufTtcblxuY29uc3QgZ2V0RmllbGRWYWx1ZSA9IGZ1bmN0aW9uIChfbGlzdCwgX2l0ZW0sIF9pbmRleCwgX2NvbCwgX3ZhbHVlLCBfcmV0dXJuUGxhaW5UZXh0KSB7XG5cbiAgbGV0IF9rZXkgPSBfY29sLmtleSxcbiAgICAgIHRhZ3NUb1JlcGxhY2UgPSB7XG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OydcbiAgfTtcblxuICBpZiAoX2tleSA9PT0gXCJfX2QtaW5kZXhfX1wiKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBfaXRlbVtcIl9faW5kZXhcIl0gIT09IFwidW5kZWZpbmVkXCIgPyBfaXRlbVtcIl9faW5kZXhcIl0gKyAxIDogXCJcIjtcbiAgfSBlbHNlIGlmIChfa2V5ID09PSBcIl9fZC1jaGVja2JveF9fXCIpIHtcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjaGVja0JveFwiIHN0eWxlPVwibWF4LWhlaWdodDogJHtfY29sLndpZHRoIC0gMTB9cHg7bWluLWhlaWdodDogJHtfY29sLndpZHRoIC0gMTB9cHg7XCI+PC9kaXY+YDtcbiAgfSBlbHNlIHtcbiAgICBpZiAoX2NvbC5lZGl0b3IgJiYgZnVuY3Rpb24gKF9lZGl0b3IpIHtcbiAgICAgIGlmIChfZWRpdG9yLnR5cGUgaW4gSU5MSU5FX0VESVRPUikge1xuICAgICAgICByZXR1cm4gSU5MSU5FX0VESVRPUltfZWRpdG9yLnR5cGVdLmVkaXRNb2RlID09IFwiaW5saW5lXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfShfY29sLmVkaXRvcikpIHtcbiAgICAgIC8vIGVkaXRvcuqwgCBpbmxpbmXtg4DsnoXsnbTrnbzrqbRcblxuICAgICAgX3ZhbHVlID0gX3ZhbHVlIHx8IERBVEEuZ2V0VmFsdWUuY2FsbCh0aGlzLCBfaW5kZXgsIF9pdGVtLl9fb3JpZ2luX2luZGV4X18sIF9rZXkpO1xuXG4gICAgICBpZiAoVS5pc0Z1bmN0aW9uKF9jb2wuZWRpdG9yLmRpc2FibGVkKSkge1xuICAgICAgICBpZiAoX2NvbC5lZGl0b3IuZGlzYWJsZWQuY2FsbCh7XG4gICAgICAgICAgbGlzdDogX2xpc3QsXG4gICAgICAgICAgZGluZGV4OiBfaW5kZXgsXG4gICAgICAgICAgaXRlbTogX2xpc3RbX2luZGV4XSxcbiAgICAgICAgICBrZXk6IF9rZXksXG4gICAgICAgICAgdmFsdWU6IF92YWx1ZVxuICAgICAgICB9KSkge1xuICAgICAgICAgIHJldHVybiBfdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcHJpbnQgZWRpdG9yXG4gICAgICByZXR1cm4gX3JldHVyblBsYWluVGV4dCA/IF92YWx1ZSA6IElOTElORV9FRElUT1JbX2NvbC5lZGl0b3IudHlwZV0uZ2V0SHRtbCh0aGlzLCBfY29sLmVkaXRvciwgX3ZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZVByb2Nlc3NvciA9IHtcbiAgICAgIFwiZm9ybWF0dGVyXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB7XG4gICAgICAgICAga2V5OiBfa2V5LFxuICAgICAgICAgIHZhbHVlOiBfdmFsdWUgfHwgREFUQS5nZXRWYWx1ZS5jYWxsKHRoaXMsIF9pbmRleCwgX2l0ZW0uX19vcmlnaW5faW5kZXhfXywgX2tleSksXG4gICAgICAgICAgZGluZGV4OiBfaW5kZXgsXG4gICAgICAgICAgaXRlbTogX2l0ZW0sXG4gICAgICAgICAgbGlzdDogX2xpc3RcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgY2FsbGVyID0gVS5pc0Z1bmN0aW9uKF9jb2wuZm9ybWF0dGVyKSA/IF9jb2wuZm9ybWF0dGVyIDogdGhpcy5jdXN0b21Gb3JtYXR0ZXJbX2NvbC5mb3JtYXR0ZXJdIHx8IEZPUk1BVFRFUltfY29sLmZvcm1hdHRlcl07XG4gICAgICAgIHJldHVybiBjYWxsZXIgPyBjYWxsZXIuY2FsbCh0aGF0KSA6IHRoYXQudmFsdWU7XG4gICAgICB9LFxuICAgICAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHJldHVyblZhbHVlID0gXCJcIjtcblxuICAgICAgICBpZiAodHlwZW9mIF92YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHJldHVyblZhbHVlID0gX3ZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICgvW1xcLlxcW1xcXV0vLnRlc3QoX2tleSkpIHtcbiAgICAgICAgICAgIF92YWx1ZSA9IERBVEEuZ2V0VmFsdWUuY2FsbCh0aGlzLCBfaW5kZXgsIF9pdGVtLl9fb3JpZ2luX2luZGV4X18sIF9rZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdmFsdWUgPSBfaXRlbVtfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX3ZhbHVlICE9PSBudWxsICYmIHR5cGVvZiBfdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHJldHVyblZhbHVlID0gX3ZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g7YKk6rCS7J20IEJvb2xlYW7snbzrlYwg7Jik66WYIOuwnOyDne2VmOyXrCDsiJjsoJUuXG4gICAgICAgIHJldHVybiB0eXBlb2YgcmV0dXJuVmFsdWUgIT09IFwic3RyaW5nXCIgPyByZXR1cm5WYWx1ZSA6IHJldHVyblZhbHVlLnJlcGxhY2UoL1s8Pl0vZywgZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgIHJldHVybiB0YWdzVG9SZXBsYWNlW3RhZ10gfHwgdGFnO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBcInRyZWVDb250cm9sXCI6IGZ1bmN0aW9uIChfX3ZhbHVlKSB7XG4gICAgICAgIGxldCBjZmcgPSB0aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIGtleXMgPSB0aGlzLmNvbmZpZy50cmVlLmNvbHVtbktleXMsXG4gICAgICAgICAgICBpbmRlbnROb2RlSHRtbCA9ICcnO1xuXG4gICAgICAgIGlmIChfaXRlbVtrZXlzLmNoaWxkcmVuXS5sZW5ndGgpIHtcbiAgICAgICAgICBpbmRlbnROb2RlSHRtbCArPSAnPGEgJyArICdkYXRhLWF4NmdyaWQtZGF0YS1pbmRleD1cIicgKyBfaW5kZXggKyAnXCIgJyArICdkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHI9XCJ0cmVlLWNvbnRyb2xcIiAnICsgJ2RhdGEtYXg2Z3JpZC10bm9kZS1hcnJvdz1cIlwiICcgKyAnc3R5bGU9XCJ3aWR0aDogJyArIGNmZy50cmVlLmFycm93V2lkdGggKyAncHg7cGFkZGluZy1sZWZ0OicgKyBfaXRlbVtrZXlzLmRlcHRoXSAqIGNmZy50cmVlLmluZGVudFdpZHRoICsgJ3B4O1wiJyArICc+JztcbiAgICAgICAgICBpbmRlbnROb2RlSHRtbCArPSBfaXRlbVtrZXlzLmNvbGxhcHNlXSA/IGNmZy50cmVlLmljb25zLmNvbGxhcHNlZEFycm93IDogY2ZnLnRyZWUuaWNvbnMub3BlbmVkQXJyb3c7XG4gICAgICAgICAgaW5kZW50Tm9kZUh0bWwgKz0gJzwvYT4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZGVudE5vZGVIdG1sICs9ICc8c3BhbiAnICsgJ2RhdGEtYXg2Z3JpZC10bm9kZS1hcnJvdz1cIlwiICcgKyAnc3R5bGU9XCJ3aWR0aDogJyArIGNmZy50cmVlLmFycm93V2lkdGggKyAncHg7cGFkZGluZy1sZWZ0OicgKyBfaXRlbVtrZXlzLmRlcHRoXSAqIGNmZy50cmVlLmluZGVudFdpZHRoICsgJ3B4O1wiJyArICc+Jm5ic3A7PC9zcGFuPic7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRlbnROb2RlSHRtbCArPSAnPHNwYW4gJyArICdkYXRhLWF4NmdyaWQtdG5vZGUtaXRlbT1cIicgKyAoX2l0ZW1ba2V5cy5jaGlsZHJlbl0ubGVuZ3RoID8gJ2dyb3VwJyA6ICdpdGVtJykgKyAnXCIgJyArICdzdHlsZT1cIndpZHRoOiAnICsgY2ZnLnRyZWUuaWNvbldpZHRoICsgJ3B4O1wiJyArICc+JztcbiAgICAgICAgaW5kZW50Tm9kZUh0bWwgKz0gX2l0ZW1ba2V5cy5jaGlsZHJlbl0ubGVuZ3RoID8gX2l0ZW1ba2V5cy5jb2xsYXBzZV0gPyBjZmcudHJlZS5pY29ucy5jb2xsYXBzZWRHcm91cEljb24gOiBjZmcudHJlZS5pY29ucy5ncm91cEljb24gOiBjZmcudHJlZS5pY29ucy5pdGVtSWNvbjtcbiAgICAgICAgaW5kZW50Tm9kZUh0bWwgKz0gJzwvc3Bhbj4nO1xuXG4gICAgICAgIHJldHVybiBpbmRlbnROb2RlSHRtbCArIF9fdmFsdWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCByZXR1cm5WYWx1ZSA9IF9jb2wuZm9ybWF0dGVyID8gdmFsdWVQcm9jZXNzb3IuZm9ybWF0dGVyLmNhbGwodGhpcykgOiB2YWx1ZVByb2Nlc3Nvci5kZWZhdWx0LmNhbGwodGhpcyk7XG4gICAgaWYgKHRoaXMuY29uZmlnLnRyZWUudXNlICYmIF9jb2wudHJlZUNvbnRyb2wpIHtcbiAgICAgIHJldHVyblZhbHVlID0gdmFsdWVQcm9jZXNzb3IudHJlZUNvbnRyb2wuY2FsbCh0aGlzLCByZXR1cm5WYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG59O1xuXG5jb25zdCBnZXRHcm91cGluZ1ZhbHVlID0gZnVuY3Rpb24gKF9pdGVtLCBfaW5kZXgsIF9jb2wpIHtcbiAgbGV0IHZhbHVlLFxuICAgICAgdGhhdCxcbiAgICAgIGNhbGxlcixcbiAgICAgIF9rZXkgPSBfY29sLmtleSxcbiAgICAgIF9sYWJlbCA9IF9jb2wubGFiZWw7XG5cbiAgaWYgKHR5cGVvZiBfa2V5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhhdCA9IHtcbiAgICAgIGtleTogX2tleSxcbiAgICAgIGxpc3Q6IF9pdGVtLl9fZ3JvdXBpbmdMaXN0LFxuICAgICAgZ3JvdXBCeTogX2l0ZW0uX19ncm91cGluZ0J5XG4gICAgfTtcbiAgICBpZiAoVS5pc0Z1bmN0aW9uKF9sYWJlbCkpIHtcbiAgICAgIHZhbHVlID0gX2xhYmVsLmNhbGwodGhhdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gX2xhYmVsO1xuICAgIH1cbiAgICBfaXRlbVtfY29sLmNvbEluZGV4XSA9IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSBlbHNlIGlmIChfa2V5ID09PSBcIl9fZC1pbmRleF9fXCIpIHtcbiAgICByZXR1cm4gJyc7XG4gIH0gZWxzZSBpZiAoX2tleSA9PT0gXCJfX2QtY2hlY2tib3hfX1wiKSB7XG4gICAgcmV0dXJuICcnO1xuICB9IGVsc2Uge1xuICAgIGlmIChfY29sLmNvbGxlY3Rvcikge1xuICAgICAgdGhhdCA9IHtcbiAgICAgICAga2V5OiBfa2V5LFxuICAgICAgICBsaXN0OiBfaXRlbS5fX2dyb3VwaW5nTGlzdFxuICAgICAgfTtcbiAgICAgIF9pdGVtW19jb2wuY29sSW5kZXhdID0gdmFsdWUgPSAoVS5pc0Z1bmN0aW9uKF9jb2wuY29sbGVjdG9yKSA/IF9jb2wuY29sbGVjdG9yIDogdGhpcy5jdXN0b21Db2xsZWN0b3JbX2NvbC5jb2xsZWN0b3JdIHx8IENPTExFQ1RPUltfY29sLmNvbGxlY3Rvcl0pLmNhbGwodGhhdCk7XG4gICAgICBpZiAoX2NvbC5mb3JtYXR0ZXIpIHtcbiAgICAgICAgdGhhdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBjYWxsZXIgPSBVLmlzRnVuY3Rpb24oX2NvbC5mb3JtYXR0ZXIpID8gX2NvbC5mb3JtYXR0ZXIgOiB0aGlzLmN1c3RvbUZvcm1hdHRlcltfY29sLmZvcm1hdHRlcl0gfHwgRk9STUFUVEVSW19jb2wuZm9ybWF0dGVyXTtcbiAgICAgICAgcmV0dXJuIGNhbGxlciA/IGNhbGxlci5jYWxsKHRoYXQpIDogdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIiZuYnNwO1wiO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgZ2V0U3VtRmllbGRWYWx1ZSA9IGZ1bmN0aW9uIChfbGlzdCwgX2NvbCkge1xuICBsZXQgX2tleSA9IF9jb2wua2V5LFxuICAgICAgX2xhYmVsID0gX2NvbC5sYWJlbDtcbiAgLy8sIF9jb2xsZWN0b3IsIF9mb3JtYXR0ZXJcbiAgaWYgKHR5cGVvZiBfa2V5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIF9sYWJlbDtcbiAgfSBlbHNlIGlmIChfa2V5ID09PSBcIl9fZC1pbmRleF9fXCIgfHwgX2tleSA9PT0gXCJfX2QtY2hlY2tib3hfX1wiKSB7XG4gICAgcmV0dXJuICcmbmJzcDsnO1xuICB9IGVsc2Uge1xuICAgIGlmIChfY29sLmNvbGxlY3Rvcikge1xuICAgICAgbGV0IHRoYXQgPSB7XG4gICAgICAgIGtleTogX2tleSxcbiAgICAgICAgbGlzdDogX2xpc3RcbiAgICAgIH07XG4gICAgICBsZXQgdmFsdWUgPSAoVS5pc0Z1bmN0aW9uKF9jb2wuY29sbGVjdG9yKSA/IF9jb2wuY29sbGVjdG9yIDogdGhpcy5jdXN0b21Db2xsZWN0b3JbX2NvbC5jb2xsZWN0b3JdIHx8IENPTExFQ1RPUltfY29sLmNvbGxlY3Rvcl0pLmNhbGwodGhhdCk7XG4gICAgICB0aGF0LnZhbHVlID0gdmFsdWU7XG5cbiAgICAgIGlmIChfY29sLmZvcm1hdHRlcikge1xuICAgICAgICByZXR1cm4gKFUuaXNGdW5jdGlvbihfY29sLmZvcm1hdHRlcikgPyBfY29sLmZvcm1hdHRlciA6IHRoaXMuY29uZmlnLmZvcm1hdHRlcltfY29sLmZvcm1hdHRlcl0gfHwgRk9STUFUVEVSW19jb2wuZm9ybWF0dGVyXSkuY2FsbCh0aGF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiJm5ic3A7XCI7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBpbmxpbmVFZGl0ID0ge1xuICBhY3RpdmUoX2ZvY3VzZWRDb2x1bW4sIF9lLCBfaW5pdFZhbHVlKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgICBkaW5kZXgsXG4gICAgICAgIGRvaW5kZXgsXG4gICAgICAgIGNvbEluZGV4LFxuICAgICAgICByb3dJbmRleCxcbiAgICAgICAgcGFuZWxOYW1lLFxuICAgICAgICBjb2xzcGFuLFxuICAgICAgICBjb2wsXG4gICAgICAgIGVkaXRvcjtcblxuICAgIGZvciAodmFyIGtleSBpbiBfZm9jdXNlZENvbHVtbikge1xuICAgICAgcGFuZWxOYW1lID0gX2ZvY3VzZWRDb2x1bW5ba2V5XS5wYW5lbE5hbWU7XG4gICAgICBkaW5kZXggPSBfZm9jdXNlZENvbHVtbltrZXldLmRpbmRleDtcbiAgICAgIGRvaW5kZXggPSBfZm9jdXNlZENvbHVtbltrZXldLmRvaW5kZXg7XG4gICAgICBjb2xJbmRleCA9IF9mb2N1c2VkQ29sdW1uW2tleV0uY29sSW5kZXg7XG4gICAgICByb3dJbmRleCA9IF9mb2N1c2VkQ29sdW1uW2tleV0ucm93SW5kZXg7XG4gICAgICBjb2xzcGFuID0gX2ZvY3VzZWRDb2x1bW5ba2V5XS5jb2xzcGFuO1xuXG4gICAgICAvLyDsnbjrnbzsnbgg7JeQ65SU7YyF7J2EIOupiOy2sOyVvCDtlZjripQg6rK97JqwIOyhsOqxtFxuICAgICAgY29sID0gdGhpcy5jb2xHcm91cFtjb2xJbmRleF07XG4gICAgICBpZiAoIShlZGl0b3IgPSBjb2wuZWRpdG9yKSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIGVkaXRvciBkaXNhYmxlZCDssrTtgaxcbiAgICAgIGlmIChVLmlzRnVuY3Rpb24oZWRpdG9yLmRpc2FibGVkKSkge1xuICAgICAgICBpZiAoZWRpdG9yLmRpc2FibGVkLmNhbGwoe1xuICAgICAgICAgIGxpc3Q6IHRoaXMubGlzdCxcbiAgICAgICAgICBkaW5kZXg6IGRpbmRleCxcbiAgICAgICAgICBpdGVtOiB0aGlzLmxpc3RbZGluZGV4XSxcbiAgICAgICAgICBrZXk6IGNvbC5rZXksXG4gICAgICAgICAgdmFsdWU6IF9pbml0VmFsdWVcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDsobDqsbTsl5Ag66ee7KeAIOyViuuKlCDsl5DrlJTtjIUg7YOA7J6F7J2066m0IOuwmOydkSDsl4bsnYwuXG4gICAgICBpZiAoIWZ1bmN0aW9uIChfZWRpdG9yLCBfdHlwZSkge1xuICAgICAgICBpZiAoX2VkaXRvci50eXBlIGluIElOTElORV9FRElUT1IpIHtcbiAgICAgICAgICByZXR1cm4gSU5MSU5FX0VESVRPUltfZWRpdG9yLnR5cGVdLmVkaXRNb2RlID09IFwicG9wdXBcIjtcbiAgICAgICAgfVxuICAgICAgfShlZGl0b3IpKSB7XG4gICAgICAgIC8vIOyytO2BrCDrsJXsiqQg7YOA7J6F7J2066m0IOqwkiDrs4Dqsr0g7Iuc64+EXG4gICAgICAgIGlmIChlZGl0b3IudHlwZSA9PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICBsZXQgY2hlY2tlZCwgbmV3VmFsdWU7XG4gICAgICAgICAgaWYgKGVkaXRvci5jb25maWcgJiYgZWRpdG9yLmNvbmZpZy50cnVlVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VkID0gIShfaW5pdFZhbHVlID09IGVkaXRvci5jb25maWcudHJ1ZVZhbHVlKSkge1xuICAgICAgICAgICAgICBuZXdWYWx1ZSA9IGVkaXRvci5jb25maWcudHJ1ZVZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3VmFsdWUgPSBlZGl0b3IuY29uZmlnLmZhbHNlVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2hlY2tlZCA9IF9pbml0VmFsdWUgPT0gZmFsc2UgfHwgX2luaXRWYWx1ZSA9PSBcImZhbHNlXCIgfHwgX2luaXRWYWx1ZSA8IFwiMVwiID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgREFUQS5zZXRWYWx1ZS5jYWxsKHNlbGYsIGRpbmRleCwgZG9pbmRleCwgY29sLmtleSwgbmV3VmFsdWUpO1xuICAgICAgICAgIHVwZGF0ZVJvd1N0YXRlLmNhbGwoc2VsZiwgW1wiY2VsbENoZWNrZWRcIl0sIGRpbmRleCwgZG9pbmRleCwge1xuICAgICAgICAgICAga2V5OiBjb2wua2V5LCByb3dJbmRleDogcm93SW5kZXgsIGNvbEluZGV4OiBjb2xJbmRleCxcbiAgICAgICAgICAgIGVkaXRvckNvbmZpZzogY29sLmVkaXRvci5jb25maWcsIGNoZWNrZWQ6IGNoZWNrZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubGlzdFtkaW5kZXhdLl9faXNHcm91cGluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoa2V5IGluIHRoaXMuaW5saW5lRWRpdGluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5saW5lRWRpdGluZ1trZXldID0ge1xuICAgICAgICBlZGl0b3I6IGVkaXRvcixcbiAgICAgICAgcGFuZWxOYW1lOiBwYW5lbE5hbWUsXG4gICAgICAgIGNvbHVtbktleToga2V5LFxuICAgICAgICBjb2x1bW46IF9mb2N1c2VkQ29sdW1uW2tleV0sXG4gICAgICAgIHVzZVJldHVyblRvU2F2ZTogSU5MSU5FX0VESVRPUltlZGl0b3IudHlwZV0udXNlUmV0dXJuVG9TYXZlXG4gICAgICB9O1xuICAgICAgdGhpcy5pc0lubGluZUVkaXRpbmcgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0lubGluZUVkaXRpbmcpIHtcblxuICAgICAgbGV0IG9yaWdpbmFsVmFsdWUgPSBEQVRBLmdldFZhbHVlLmNhbGwoc2VsZiwgZGluZGV4LCBkb2luZGV4LCBjb2wua2V5KSxcbiAgICAgICAgICBpbml0VmFsdWUgPSBmdW5jdGlvbiAoX192YWx1ZSwgX19lZGl0b3IpIHtcbiAgICAgICAgaWYgKFUuaXNOb3RoaW5nKF9fdmFsdWUpKSB7XG4gICAgICAgICAgX192YWx1ZSA9IFUuaXNOb3RoaW5nKG9yaWdpbmFsVmFsdWUpID8gXCJcIiA6IG9yaWdpbmFsVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX19lZGl0b3IudHlwZSA9PSBcIm1vbmV5XCIpIHtcbiAgICAgICAgICByZXR1cm4gVS5udW1iZXIoX192YWx1ZSwgeyBcIm1vbmV5XCI6IHRydWUgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIF9fdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0uY2FsbCh0aGlzLCBfaW5pdFZhbHVlLCBlZGl0b3IpO1xuXG4gICAgICB0aGlzLmlubGluZUVkaXRpbmdba2V5XS4kaW5saW5lRWRpdG9yQ2VsbCA9IHRoaXMuJFtcInBhbmVsXCJdW3BhbmVsTmFtZV0uZmluZCgnW2RhdGEtYXg2Z3JpZC10ci1kYXRhLWluZGV4PVwiJyArIGRpbmRleCArICdcIl0nKS5maW5kKCdbZGF0YS1heDZncmlkLWNvbHVtbi1yb3dpbmRleD1cIicgKyByb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xpbmRleD1cIicgKyBjb2xJbmRleCArICdcIl0nKS5maW5kKCdbZGF0YS1heDZncmlkLWNlbGxob2xkZXJdJyk7XG5cbiAgICAgIHRoaXMuaW5saW5lRWRpdGluZ1trZXldLiRpbmxpbmVFZGl0b3IgPSBJTkxJTkVfRURJVE9SW2VkaXRvci50eXBlXS5pbml0KHRoaXMsIGtleSwgZWRpdG9yLCB0aGlzLmlubGluZUVkaXRpbmdba2V5XS4kaW5saW5lRWRpdG9yQ2VsbCwgaW5pdFZhbHVlKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBkZUFjdGl2ZShfbXNnLCBfa2V5LCBfdmFsdWUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmlubGluZUVkaXRpbmcuY29sdW1uLmRpbmRleCwgdGhpcy5pbmxpbmVFZGl0aW5nLiRpbmxpbmVFZGl0b3IudmFsKCkpO1xuICAgIGlmICghdGhpcy5pbmxpbmVFZGl0aW5nW19rZXldKSByZXR1cm4gdGhpcztcblxuICAgIGxldCBwYW5lbE5hbWUgPSB0aGlzLmlubGluZUVkaXRpbmdbX2tleV0ucGFuZWxOYW1lLFxuICAgICAgICBkaW5kZXggPSB0aGlzLmlubGluZUVkaXRpbmdbX2tleV0uY29sdW1uLmRpbmRleCxcbiAgICAgICAgZG9pbmRleCA9IHRoaXMuaW5saW5lRWRpdGluZ1tfa2V5XS5jb2x1bW4uZG9pbmRleCxcbiAgICAgICAgcm93SW5kZXggPSB0aGlzLmlubGluZUVkaXRpbmdbX2tleV0uY29sdW1uLnJvd0luZGV4LFxuICAgICAgICBjb2xJbmRleCA9IHRoaXMuaW5saW5lRWRpdGluZ1tfa2V5XS5jb2x1bW4uY29sSW5kZXgsXG4gICAgICAgIGNvbHVtbiA9IHRoaXMuYm9keVJvd01hcFt0aGlzLmlubGluZUVkaXRpbmdbX2tleV0uY29sdW1uLnJvd0luZGV4ICsgXCJfXCIgKyB0aGlzLmlubGluZUVkaXRpbmdbX2tleV0uY29sdW1uLmNvbEluZGV4XSxcbiAgICAgICAgZWRpdG9yVmFsdWUgPSBmdW5jdGlvbiAoJGlubGluZUVkaXRvcikge1xuICAgICAgaWYgKHR5cGVvZiBfdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKCRpbmxpbmVFZGl0b3IuZ2V0KDApLnRhZ05hbWUgPT0gXCJTRUxFQ1RcIiB8fCAkaW5saW5lRWRpdG9yLmdldCgwKS50YWdOYW1lID09IFwiSU5QVVRcIiB8fCAkaW5saW5lRWRpdG9yLmdldCgwKS50YWdOYW1lID09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICAgIHJldHVybiAkaW5saW5lRWRpdG9yLnZhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9tc2cgPSBcIkNBTkNFTFwiO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICAgIH1cbiAgICB9KHRoaXMuaW5saW5lRWRpdGluZ1tfa2V5XS4kaW5saW5lRWRpdG9yKSxcbiAgICAgICAgbmV3VmFsdWUgPSBmdW5jdGlvbiAoX192YWx1ZSwgX19lZGl0b3IpIHtcbiAgICAgIGlmIChfX2VkaXRvci50eXBlID09IFwibW9uZXlcIikge1xuICAgICAgICByZXR1cm4gVS5udW1iZXIoX192YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX192YWx1ZTtcbiAgICAgIH1cbiAgICB9LmNhbGwodGhpcywgZWRpdG9yVmFsdWUsIGNvbHVtbi5lZGl0b3IpO1xuXG4gICAgbGV0IGFjdGlvbiA9IHtcbiAgICAgIFwiQ0FOQ0VMXCIoX2RpbmRleCwgX2NvbHVtbiwgX25ld1ZhbHVlKSB7XG4gICAgICAgIGFjdGlvbltcIl9fY2xlYXJcIl0uY2FsbCh0aGlzKTtcbiAgICAgIH0sXG4gICAgICBcIlJFVFVSTlwiKF9kaW5kZXgsIF9kb2luZGV4LCBfY29sdW1uLCBfbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKERBVEEuc2V0VmFsdWUuY2FsbCh0aGlzLCBfZGluZGV4LCBfZG9pbmRleCwgX2NvbHVtbi5rZXksIF9uZXdWYWx1ZSkpIHtcbiAgICAgICAgICBhY3Rpb25bXCJfX2NsZWFyXCJdLmNhbGwodGhpcyk7XG4gICAgICAgICAgcmVwYWludENlbGwuY2FsbCh0aGlzLCBwYW5lbE5hbWUsIF9kaW5kZXgsIF9kb2luZGV4LCByb3dJbmRleCwgY29sSW5kZXgsIF9uZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aW9uW1wiX19jbGVhclwiXS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJfX2NsZWFyXCIoKSB7XG4gICAgICAgIHRoaXMuaXNJbmxpbmVFZGl0aW5nID0gZmFsc2U7XG4gICAgICAgIGxldCBiaW5kZWRBeDV1aSA9IHRoaXMuaW5saW5lRWRpdGluZ1tfa2V5XS4kaW5saW5lRWRpdG9yLmRhdGEoXCJiaW5kZWQtYXg1dWlcIik7XG4gICAgICAgIGlmIChiaW5kZWRBeDV1aSA9PSBcImF4NXBpY2tlclwiKSB7XG4gICAgICAgICAgdGhpcy5pbmxpbmVFZGl0aW5nW19rZXldLiRpbmxpbmVFZGl0b3IuYXg1cGlja2VyKFwiY2xvc2VcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoYmluZGVkQXg1dWkgPT0gXCJheDVzZWxlY3RcIikge1xuICAgICAgICAgIHRoaXMuaW5saW5lRWRpdGluZ1tfa2V5XS4kaW5saW5lRWRpdG9yLmF4NXNlbGVjdChcImNsb3NlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbmxpbmVFZGl0aW5nW19rZXldLiRpbmxpbmVFZGl0b3IucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuaW5saW5lRWRpdGluZ1tfa2V5XS4kaW5saW5lRWRpdG9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmxpbmVFZGl0aW5nW19rZXldLiRpbmxpbmVFZGl0b3JDZWxsID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmxpbmVFZGl0aW5nW19rZXldID0gdW5kZWZpbmVkO1xuICAgICAgICBkZWxldGUgdGhpcy5pbmxpbmVFZGl0aW5nW19rZXldOyAvLyBkZWxldGUg7KeA7JuQ7JWI7ZWY64qUIOu4jOudvOyasOyggCDthYzsiqTtirguLlxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoX21zZyBpbiBhY3Rpb24pIHtcbiAgICAgIGFjdGlvbltfbXNnIHx8IFwiUkVUVVJOXCJdLmNhbGwodGhpcywgZGluZGV4LCBkb2luZGV4LCBjb2x1bW4sIG5ld1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aW9uW1wiX19jbGVhclwiXS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSxcbiAga2V5ZG93bihrZXksIGNvbHVtbktleSwgX29wdGlvbnMpIHtcbiAgICBsZXQgcHJvY2Vzc29yID0ge1xuICAgICAgXCJFU0NcIigpIHtcbiAgICAgICAgZm9yICh2YXIgY29sdW1uS2V5IGluIHRoaXMuaW5saW5lRWRpdGluZykge1xuICAgICAgICAgIGlubGluZUVkaXQuZGVBY3RpdmUuY2FsbCh0aGlzLCBcIkNBTkNFTFwiLCBjb2x1bW5LZXkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJSRVRVUk5cIigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNJbmxpbmVFZGl0aW5nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaW5saW5lRWRpdGluZ1tjb2x1bW5LZXldICYmIHRoaXMuaW5saW5lRWRpdGluZ1tjb2x1bW5LZXldLnVzZVJldHVyblRvU2F2ZSkge1xuICAgICAgICAgICAgLy8gdG9kbyA6IOuEpOydtOuwjSDqsoDspp0g7ZWgIO2VhOyalOyeiOydjC5cbiAgICAgICAgICAgIGlubGluZUVkaXQuZGVBY3RpdmUuY2FsbCh0aGlzLCBcIlJFVFVSTlwiLCBjb2x1bW5LZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmZvY3VzZWRDb2x1bW4pIHtcbiAgICAgICAgICAgIGxldCBfY29sdW1uID0gdGhpcy5mb2N1c2VkQ29sdW1uW2tdLFxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuYm9keVJvd01hcFtfY29sdW1uLnJvd0luZGV4ICsgXCJfXCIgKyBfY29sdW1uLmNvbEluZGV4XSxcbiAgICAgICAgICAgICAgICBkaW5kZXggPSBfY29sdW1uLmRpbmRleCxcbiAgICAgICAgICAgICAgICBkb2luZGV4ID0gX2NvbHVtbi5kb2luZGV4LFxuICAgICAgICAgICAgICAgIHZhbHVlID0gXCJcIixcbiAgICAgICAgICAgICAgICBjb2wgPSB0aGlzLmNvbEdyb3VwW19jb2x1bW4uY29sSW5kZXhdO1xuXG4gICAgICAgICAgICBpZiAoY29sdW1uKSB7XG4gICAgICAgICAgICAgIGlmICghdGhpcy5saXN0W2RpbmRleF0uX19pc0dyb3VwaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBEQVRBLmdldFZhbHVlLmNhbGwodGhpcywgZGluZGV4LCBkb2luZGV4LCBjb2x1bW4ua2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29sLmVkaXRvciAmJiBJTkxJTkVfRURJVE9SW2NvbC5lZGl0b3IudHlwZV0uZWRpdE1vZGUgPT09IFwiaW5saW5lXCIpIHtcbiAgICAgICAgICAgICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLm1vdmVGb2N1cykge30gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5lZGl0b3IgJiYgY29sdW1uLmVkaXRvci50eXBlID09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBEQVRBLmdldFZhbHVlLmNhbGwodGhpcywgZGluZGV4LCBkb2luZGV4LCBjb2x1bW4ua2V5KTtcblxuICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrZWQsIG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5lZGl0b3IuY29uZmlnICYmIGNvbHVtbi5lZGl0b3IuY29uZmlnLnRydWVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWx1ZSwgY29sdW1uLmVkaXRvci5jb25maWcudHJ1ZVZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gY29sdW1uLmVkaXRvci5jb25maWcudHJ1ZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBjb2x1bW4uZWRpdG9yLmNvbmZpZy50cnVlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBjb2x1bW4uZWRpdG9yLmNvbmZpZy5mYWxzZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBjaGVja2VkID0gdmFsdWUgPT0gZmFsc2UgfHwgdmFsdWUgPT0gXCJmYWxzZVwiIHx8IHZhbHVlIDwgXCIxXCIgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgREFUQS5zZXRWYWx1ZS5jYWxsKHRoaXMsIGRpbmRleCwgZG9pbmRleCwgY29sdW1uLmtleSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlUm93U3RhdGUuY2FsbCh0aGlzLCBbXCJjZWxsQ2hlY2tlZFwiXSwgZGluZGV4LCBkb2luZGV4LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogY29sdW1uLmtleSwgcm93SW5kZXg6IF9jb2x1bW4ucm93SW5kZXgsIGNvbEluZGV4OiBfY29sdW1uLmNvbEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBlZGl0b3JDb25maWc6IGNvbHVtbi5lZGl0b3IuY29uZmlnLCBjaGVja2VkOiBjaGVja2VkXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlubGluZUVkaXQuYWN0aXZlLmNhbGwodGhpcywgdGhpcy5mb2N1c2VkQ29sdW1uLCBudWxsLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoa2V5IGluIHByb2Nlc3Nvcikge1xuICAgICAgcHJvY2Vzc29yW2tleV0uY2FsbCh0aGlzLCBrZXksIGNvbHVtbktleSwgX29wdGlvbnMpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgcmVwYWludCA9IGZ1bmN0aW9uIChfcmVzZXQpIHtcbiAgLy8gZGVidWdnZXI7XG4gIGxldCBjZmcgPSB0aGlzLmNvbmZpZyxcbiAgICAgIGxpc3QgPSB0aGlzLnByb3h5TGlzdCA/IHRoaXMucHJveHlMaXN0IDogdGhpcy5saXN0O1xuXG4gIC8vLyByZXBhaW50IHJlc2V0IO2DgOyeheydtOuptCDqs6DsoJXsu6zrn7zsnYQg7J6s7KGw7KCVXG4gIGlmIChfcmVzZXQpIHtcbiAgICByZXNldEZyb3plbkNvbHVtbi5jYWxsKHRoaXMpO1xuICAgIC8vIO2LgOqzoOyglSDsnbQg67OA6rK965CY66m0IOy2nOugpSDsi5zsnpEg7J24642x7IqkIOqwkuydhCDstIjquLDtmZRcbiAgICB0aGlzLnh2YXIucGFpbnRTdGFydFJvd0luZGV4ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMueHZhci5wYWludFN0YXJ0Q29sdW1uSW5kZXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvLy8g7Lac66Cl7Iuc7J6RIOyduOuNseyKpFxuICBsZXQgcGFpbnRTdGFydFJvd0luZGV4LCB2aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4O1xuXG4gIGlmICh0aGlzLmNvbmZpZy52aXJ0dWFsU2Nyb2xsWSkge1xuICAgIHZpcnR1YWxQYWludFN0YXJ0Um93SW5kZXggPSBwYWludFN0YXJ0Um93SW5kZXggPSBNYXRoLmZsb29yKC10aGlzLiQucGFuZWxbXCJib2R5LXNjcm9sbFwiXS5wb3NpdGlvbigpLnRvcCAvIHRoaXMueHZhci5ib2R5VHJIZWlnaHQpICsgdGhpcy54dmFyLmZyb3plblJvd0luZGV4O1xuICAgIGlmICh0aGlzLnh2YXIucGFpbnRSb3dDb3VudFRvcE1hcmdpbiA8IHBhaW50U3RhcnRSb3dJbmRleCkge1xuICAgICAgcGFpbnRTdGFydFJvd0luZGV4IC09IHRoaXMueHZhci5wYWludFJvd0NvdW50VG9wTWFyZ2luO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwYWludFN0YXJ0Um93SW5kZXggPSB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXg7XG4gIH1cblxuICBpZiAoaXNOYU4ocGFpbnRTdGFydFJvd0luZGV4KSkgcmV0dXJuIHRoaXM7XG5cbiAgbGV0IHBhaW50U3RhcnRDb2x1bW5JbmRleCA9IDAsXG4gICAgICBwYWludEVuZENvbHVtbkluZGV4ID0gMCxcbiAgICAgIG5vcGFpbnRMZWZ0Q29sdW1uc1dpZHRoID0gbnVsbCxcbiAgICAgIG5vcGFpbnRSaWdodENvbHVtbnNXaWR0aCA9IG51bGw7XG5cbiAgbGV0IGJvZHlTY3JvbGxMZWZ0ID0gLXRoaXMuJC5wYW5lbFtcImJvZHktc2Nyb2xsXCJdLnBvc2l0aW9uKCkubGVmdDtcblxuICBpZiAodGhpcy5jb25maWcudmlydHVhbFNjcm9sbFgpIHtcbiAgICAvLyDtjpjsnbjtirgg7Iuc7J6R7Lus65+87JyE7LmY7JmAIOyiheujjOy7rOufvOychOy5mCDqtaztlZjquLBcbiAgICBmb3IgKGxldCBjaSA9IHRoaXMueHZhci5mcm96ZW5Db2x1bW5JbmRleDsgY2kgPCB0aGlzLmNvbEdyb3VwLmxlbmd0aDsgY2krKykge1xuICAgICAgLy8gYm9keVNjcm9sbExlZnRcbiAgICAgIHRoaXMuY29sR3JvdXBbY2ldLl9zeCA9IGNpID09IHRoaXMueHZhci5mcm96ZW5Db2x1bW5JbmRleCA/IDAgOiB0aGlzLmNvbEdyb3VwW2NpIC0gMV0uX2V4O1xuICAgICAgdGhpcy5jb2xHcm91cFtjaV0uX2V4ID0gdGhpcy5jb2xHcm91cFtjaV0uX3N4ICsgdGhpcy5jb2xHcm91cFtjaV0uX3dpZHRoO1xuXG4gICAgICBpZiAodGhpcy5jb2xHcm91cFtjaV0uX3N4IDw9IGJvZHlTY3JvbGxMZWZ0ICYmIHRoaXMuY29sR3JvdXBbY2ldLl9leCA+PSBib2R5U2Nyb2xsTGVmdCkge1xuICAgICAgICBwYWludFN0YXJ0Q29sdW1uSW5kZXggPSBjaTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNvbEdyb3VwW2NpXS5fc3ggPD0gYm9keVNjcm9sbExlZnQgKyB0aGlzLnh2YXIuYm9keVdpZHRoICYmIHRoaXMuY29sR3JvdXBbY2ldLl9leCA+PSBib2R5U2Nyb2xsTGVmdCArIHRoaXMueHZhci5ib2R5V2lkdGgpIHtcbiAgICAgICAgcGFpbnRFbmRDb2x1bW5JbmRleCA9IGNpO1xuXG4gICAgICAgIGlmIChub3BhaW50TGVmdENvbHVtbnNXaWR0aCA9PT0gbnVsbCkgbm9wYWludExlZnRDb2x1bW5zV2lkdGggPSB0aGlzLmNvbEdyb3VwW3BhaW50U3RhcnRDb2x1bW5JbmRleF0uX3N4O1xuICAgICAgICBpZiAobm9wYWludFJpZ2h0Q29sdW1uc1dpZHRoID09PSBudWxsKSBub3BhaW50UmlnaHRDb2x1bW5zV2lkdGggPSB0aGlzLnh2YXIuc2Nyb2xsQ29udGVudFdpZHRoIC0gdGhpcy5jb2xHcm91cFtjaV0uX2V4O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub3BhaW50TGVmdENvbHVtbnNXaWR0aCA9PT0gbnVsbCkgbm9wYWludExlZnRDb2x1bW5zV2lkdGggPSAwO1xuICAgIGlmIChub3BhaW50UmlnaHRDb2x1bW5zV2lkdGggPT09IG51bGwpIG5vcGFpbnRSaWdodENvbHVtbnNXaWR0aCA9IDA7XG4gICAgdGhpcy4kLnBhbmVsW1widG9wLWJvZHktc2Nyb2xsXCJdLmNzcyh7IFwicGFkZGluZy1sZWZ0XCI6IG5vcGFpbnRMZWZ0Q29sdW1uc1dpZHRoLCBcInBhZGRpbmctcmlnaHRcIjogbm9wYWludFJpZ2h0Q29sdW1uc1dpZHRoIH0pO1xuICAgIHRoaXMuJC5wYW5lbFtcImJvZHktc2Nyb2xsXCJdLmNzcyh7IFwicGFkZGluZy1sZWZ0XCI6IG5vcGFpbnRMZWZ0Q29sdW1uc1dpZHRoLCBcInBhZGRpbmctcmlnaHRcIjogbm9wYWludFJpZ2h0Q29sdW1uc1dpZHRoIH0pO1xuICAgIHRoaXMuJC5wYW5lbFtcImJvdHRvbS1ib2R5LXNjcm9sbFwiXS5jc3MoeyBcInBhZGRpbmctbGVmdFwiOiBub3BhaW50TGVmdENvbHVtbnNXaWR0aCwgXCJwYWRkaW5nLXJpZ2h0XCI6IG5vcGFpbnRSaWdodENvbHVtbnNXaWR0aCB9KTtcbiAgfVxuXG4gIGxldCBpc0ZpcnN0UGFpbnQgPSB0eXBlb2YgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9PT0gXCJ1bmRlZmluZWRcIixcbiAgICAgIGhlYWRlckNvbEdyb3VwID0gdGhpcy5oZWFkZXJDb2xHcm91cCxcbiAgICAgIGFzaWRlQm9keVJvd0RhdGEgPSB0aGlzLmFzaWRlQm9keVJvd0RhdGEsXG4gICAgICBsZWZ0Qm9keVJvd0RhdGEgPSB0aGlzLmxlZnRCb2R5Um93RGF0YSxcbiAgICAgIGJvZHlSb3dEYXRhID0gdGhpcy5ib2R5Um93RGF0YSxcbiAgICAgIGxlZnRGb290U3VtRGF0YSA9IHRoaXMubGVmdEZvb3RTdW1EYXRhLFxuICAgICAgZm9vdFN1bURhdGEgPSB0aGlzLmZvb3RTdW1EYXRhLFxuICAgICAgYXNpZGVCb2R5R3JvdXBpbmdEYXRhID0gdGhpcy5hc2lkZUJvZHlHcm91cGluZ0RhdGEsXG4gICAgICBsZWZ0Qm9keUdyb3VwaW5nRGF0YSA9IHRoaXMubGVmdEJvZHlHcm91cGluZ0RhdGEsXG4gICAgICBib2R5R3JvdXBpbmdEYXRhID0gdGhpcy5ib2R5R3JvdXBpbmdEYXRhLFxuICAgICAgYm9keUFsaWduID0gY2ZnLmJvZHkuYWxpZ24sXG4gICAgICBwYWludFJvd0NvdW50LFxuICAgICAgdmlydHVhbFBhaW50Um93Q291bnQ7XG5cbiAgaWYgKCF0aGlzLmNvbmZpZy52aXJ0dWFsU2Nyb2xsWSkge1xuICAgIHZpcnR1YWxQYWludFJvd0NvdW50ID0gcGFpbnRSb3dDb3VudCA9IGxpc3QubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIHZpcnR1YWxQYWludFJvd0NvdW50ID0gTWF0aC5jZWlsKHRoaXMueHZhci5ib2R5SGVpZ2h0IC8gdGhpcy54dmFyLmJvZHlUckhlaWdodCk7XG4gICAgcGFpbnRSb3dDb3VudCA9IHZpcnR1YWxQYWludFJvd0NvdW50ICsgKHRoaXMueHZhci5wYWludFJvd0NvdW50TWFyZ2luIHx8IDEpO1xuICB9XG5cbiAgLy8g7Jes7Jyg67KU7JyEIOyViOyXkCDsnojsnLzrqbQg7Y6Y7J247YyFIOyViO2VoOyImCDsnojqsowgcGFpbnRTdGFydFJvd0luZGV4IOuzgOqyve2VmOyngCDslYrsnYwuXG4gIGlmICh0aGlzLnh2YXIucGFpbnRSb3dDb3VudFRvcE1hcmdpbiA8IHBhaW50U3RhcnRSb3dJbmRleCAmJiBNYXRoLmFicyh0aGlzLnh2YXIucGFpbnRTdGFydFJvd0luZGV4IC0gcGFpbnRTdGFydFJvd0luZGV4KSA8PSB0aGlzLnh2YXIucGFpbnRSb3dDb3VudFRvcE1hcmdpbikge1xuICAgIHBhaW50U3RhcnRSb3dJbmRleCA9IHRoaXMueHZhci5wYWludFN0YXJ0Um93SW5kZXg7XG4gIH1cblxuICBpZiAodGhpcy54dmFyLmRhdGFSb3dDb3VudCA9PT0gbGlzdC5sZW5ndGggJiYgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9PT0gcGFpbnRTdGFydFJvd0luZGV4ICYmIHRoaXMueHZhci5wYWludFJvd0NvdW50ID09PSBwYWludFJvd0NvdW50ICYmIHRoaXMueHZhci5wYWludFN0YXJ0Q29sdW1uSW5kZXggPT09IHBhaW50U3RhcnRDb2x1bW5JbmRleCAmJiB0aGlzLnh2YXIucGFpbnRFbmRDb2x1bW5JbmRleCA9PT0gcGFpbnRFbmRDb2x1bW5JbmRleCkgcmV0dXJuIHRoaXM7IC8vIOyKpO2BrOuhpCDtj6zsp4DshZgg67OA6rK9IOyXrOu2gOyXkCDrlLDrnbwg7ZSE66Gc7IS47IqkIOynhO2WieyXrOu2gCDqsrDsoJVcblxuICAvLyBib2R5Um93RGF0YSDsiJjsoJUgOiDtjpjsnbjtirgg7Lus65+8IO2PrOyngOyFmOydtCDri6zrnbzsp4Drr4DroZxcbiAgaWYgKG5vcGFpbnRMZWZ0Q29sdW1uc1dpZHRoIHx8IG5vcGFpbnRSaWdodENvbHVtbnNXaWR0aCkge1xuICAgIGhlYWRlckNvbEdyb3VwID0gW10uY29uY2F0KGhlYWRlckNvbEdyb3VwKS5zcGxpY2UocGFpbnRTdGFydENvbHVtbkluZGV4IC0gdGhpcy54dmFyLmZyb3plbkNvbHVtbkluZGV4LCBwYWludEVuZENvbHVtbkluZGV4IC0gcGFpbnRTdGFydENvbHVtbkluZGV4ICsgMSArIHRoaXMueHZhci5mcm96ZW5Db2x1bW5JbmRleCk7XG4gICAgYm9keVJvd0RhdGEgPSBVVElMLmdldFRhYmxlQnlTdGFydEVuZENvbHVtbkluZGV4KGJvZHlSb3dEYXRhLCBwYWludFN0YXJ0Q29sdW1uSW5kZXgsIHBhaW50RW5kQ29sdW1uSW5kZXgpO1xuXG4gICAgaWYgKGNmZy5ib2R5Lmdyb3VwaW5nKSB7XG4gICAgICBib2R5R3JvdXBpbmdEYXRhID0gVVRJTC5nZXRUYWJsZUJ5U3RhcnRFbmRDb2x1bW5JbmRleChib2R5R3JvdXBpbmdEYXRhLCBwYWludFN0YXJ0Q29sdW1uSW5kZXgsIHBhaW50RW5kQ29sdW1uSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoY2ZnLmZvb3RTdW0pIHtcbiAgICAgIGZvb3RTdW1EYXRhID0gVVRJTC5nZXRUYWJsZUJ5U3RhcnRFbmRDb2x1bW5JbmRleChmb290U3VtRGF0YSwgcGFpbnRTdGFydENvbHVtbkluZGV4LCBwYWludEVuZENvbHVtbkluZGV4KTtcbiAgICB9XG4gICAgaWYgKHRoaXMueHZhci5wYWludFN0YXJ0Q29sdW1uSW5kZXggIT09IHBhaW50U3RhcnRDb2x1bW5JbmRleCB8fCB0aGlzLnh2YXIucGFpbnRFbmRDb2x1bW5JbmRleCAhPT0gcGFpbnRFbmRDb2x1bW5JbmRleCkge1xuICAgICAgdGhpcy5uZWVkVG9QYWludFN1bSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8vIOyKpO2BrOuhpCDsu6jthZDsuKDsnZgg64aS7J20IDog6re466as65OcIOyKpO2BrOuhpOydmCDsi6TsoJwg7YGs6riw7JmA64qUIOq0gOqzhCDsl4bsnbQg642w7J207YSwIOqwr+yImOyXkCDrlLDrnbwg7Iqk7YGs66GkIOy7qO2FkOy4oCDrhpLsnbTqsJIg6rWs7ZW07IScIOyggOyepe2VtOuRkOq4sC5cbiAgdGhpcy54dmFyLnNjcm9sbENvbnRlbnRIZWlnaHQgPSB0aGlzLnh2YXIuYm9keVRySGVpZ2h0ICogKGxpc3QubGVuZ3RoIC0gdGhpcy54dmFyLmZyb3plblJvd0luZGV4KTtcbiAgaWYgKHRoaXMueHZhci5zY3JvbGxDb250ZW50SGVpZ2h0IDwgMCkgdGhpcy54dmFyLnNjcm9sbENvbnRlbnRIZWlnaHQgPSAwO1xuXG4gIC8vLyDsgqzsmqnrkJwg7Yyo64SQ65Ok7J2YIO2CpCDrqqjsnYxcbiAgdGhpcy4kLmxpdmVQYW5lbEtleXMgPSBbXTtcblxuICAvLyDqt7jrpqzrk5wg67CU65SUIOyYgeyXrSDtjpjsnbjtirgg7ZWo7IiYXG4gIC8qKlxuICAgKiBAcGFyYW0gX2VsVGFyZ2V0S2V5XG4gICAqIEBwYXJhbSBfY29sR3JvdXBcbiAgICogQHBhcmFtIF9ib2R5Um93XG4gICAqIEBwYXJhbSBfZ3JvdXBSb3dcbiAgICogQHBhcmFtIF9saXN0XG4gICAqIEBwYXJhbSBbX3Njcm9sbENvbmZpZ11cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBsZXQgcmVwYWludEJvZHkgPSBmdW5jdGlvbiAoX2VsVGFyZ2V0S2V5LCBfY29sR3JvdXAsIF9ib2R5Um93LCBfZ3JvdXBSb3csIF9saXN0LCBfc2Nyb2xsQ29uZmlnKSB7XG4gICAgbGV0IF9lbFRhcmdldCA9IHRoaXMuJC5wYW5lbFtfZWxUYXJnZXRLZXldO1xuXG4gICAgaWYgKCFpc0ZpcnN0UGFpbnQgJiYgIV9zY3JvbGxDb25maWcpIHtcbiAgICAgIHRoaXMuJC5saXZlUGFuZWxLZXlzLnB1c2goX2VsVGFyZ2V0S2V5KTsgLy8g7IKs7Jqp7KSR7J24IO2MqOuEkO2CpOulvCDrqqjslYTrkaAuICjrt7DsnZgg7IOB7YOcIOuzgOqyveyLnCDsgqzsmqntlZjroKTqs6ApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IFNTID0gW10sXG4gICAgICAgIGNnaSxcbiAgICAgICAgY2dsLFxuICAgICAgICBkaSxcbiAgICAgICAgZGwsXG4gICAgICAgIHRyaSxcbiAgICAgICAgdHJsLFxuICAgICAgICBjaSxcbiAgICAgICAgY2wsXG4gICAgICAgIGNvbCxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY29sQWxpZ24sXG4gICAgICAgIGlzU2Nyb2xsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyDsiqTtgazroaTqsJLsnbQg67OA6rK965CY6rGw64KYIOyymOydjCDtmLjstpzrkJjsl4jsirXri4jquYw/XG4gICAgICBpZiAodHlwZW9mIF9zY3JvbGxDb25maWcgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIF9zY3JvbGxDb25maWdbJ3BhaW50U3RhcnRSb3dJbmRleCddID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIF9zY3JvbGxDb25maWcgPSB7XG4gICAgICAgICAgcGFpbnRTdGFydFJvd0luZGV4OiAwLFxuICAgICAgICAgIHBhaW50Um93Q291bnQ6IF9saXN0Lmxlbmd0aFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KCksXG4gICAgICAgIHN0cmlwZVN0cmluZyA9ICcjZmZmIDBweCwgI2ZmZiAnICsgKGNmZy5ib2R5LmNvbHVtbkhlaWdodCAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoKSArICdweCwgI2VlZSAnICsgKGNmZy5ib2R5LmNvbHVtbkhlaWdodCAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoKSArICdweCwgI2VlZSAnICsgY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICsgJ3B4JztcblxuICAgIGlmIChpc1Njcm9sbGVkKSB7XG4gICAgICBTUy5wdXNoKCc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDpyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgJyArIHN0cmlwZVN0cmluZyArICcpOycgKyAnZm9udC1zaXplOjA7JyArICdsaW5lLWhlaWdodDowO2hlaWdodDogJyArIChfc2Nyb2xsQ29uZmlnLnBhaW50U3RhcnRSb3dJbmRleCAtIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCkgKiBfc2Nyb2xsQ29uZmlnLmJvZHlUckhlaWdodCArICdweDtcIj48L2Rpdj4nKTtcbiAgICB9XG5cbiAgICBTUy5wdXNoKCc8dGFibGUgYm9yZGVyPVwiMFwiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiPicpO1xuICAgIFNTLnB1c2goJzxjb2xncm91cD4nKTtcbiAgICBmb3IgKGNnaSA9IDAsIGNnbCA9IF9jb2xHcm91cC5sZW5ndGg7IGNnaSA8IGNnbDsgY2dpKyspIHtcbiAgICAgIFNTLnB1c2goJzxjb2wgc3R5bGU9XCJ3aWR0aDonICsgX2NvbEdyb3VwW2NnaV0uX3dpZHRoICsgJ3B4O1wiICAvPicpO1xuICAgIH1cbiAgICBTUy5wdXNoKCc8Y29sICAvPicpO1xuICAgIFNTLnB1c2goJzwvY29sZ3JvdXA+Jyk7XG5cbiAgICBkaSA9IF9zY3JvbGxDb25maWcucGFpbnRTdGFydFJvd0luZGV4O1xuXG4gICAgZm9yIChkbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBsZW47XG4gICAgICBsZW4gPSBfbGlzdC5sZW5ndGg7XG4gICAgICBpZiAoX3Njcm9sbENvbmZpZy5wYWludFJvd0NvdW50ICsgX3Njcm9sbENvbmZpZy5wYWludFN0YXJ0Um93SW5kZXggPCBsZW4pIHtcbiAgICAgICAgbGVuID0gX3Njcm9sbENvbmZpZy5wYWludFJvd0NvdW50ICsgX3Njcm9sbENvbmZpZy5wYWludFN0YXJ0Um93SW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVuO1xuICAgIH0oKTsgZGkgPCBkbDsgZGkrKykge1xuXG4gICAgICBpZiAoX2xpc3RbZGldKSB7XG4gICAgICAgIGxldCBpc0dyb3VwaW5nUm93ID0gZmFsc2UsXG4gICAgICAgICAgICByb3dUYWJsZSxcbiAgICAgICAgICAgIG9kaSA9IHR5cGVvZiBfbGlzdFtkaV0uX19vcmlnaW5faW5kZXhfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9saXN0W2RpXS5fX29yaWdpbl9pbmRleF9fIDogZGk7XG4gICAgICAgIGlmIChfZ3JvdXBSb3cgJiYgXCJfX2lzR3JvdXBpbmdcIiBpbiBfbGlzdFtkaV0pIHtcbiAgICAgICAgICByb3dUYWJsZSA9IF9ncm91cFJvdztcbiAgICAgICAgICBpc0dyb3VwaW5nUm93ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3dUYWJsZSA9IF9ib2R5Um93O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh0cmkgPSAwLCB0cmwgPSByb3dUYWJsZS5yb3dzLmxlbmd0aDsgdHJpIDwgdHJsOyB0cmkrKykge1xuXG4gICAgICAgICAgU1MucHVzaCgnPHRyIGNsYXNzPVwidHItJyArIGRpICUgNCArICcnLCBjZmcuYm9keS50clN0eWxlQ2xhc3MgPyBVLmlzRnVuY3Rpb24oY2ZnLmJvZHkudHJTdHlsZUNsYXNzKSA/ICcgJyArIGNmZy5ib2R5LnRyU3R5bGVDbGFzcy5jYWxsKHtcbiAgICAgICAgICAgIGl0ZW06IF9saXN0W2RpXSxcbiAgICAgICAgICAgIGluZGV4OiBkaVxuICAgICAgICAgIH0sIF9saXN0W2RpXSwgZGkpIDogJyAnICsgY2ZnLmJvZHkudHJTdHlsZUNsYXNzIDogJycsICdcIicsIGlzR3JvdXBpbmdSb3cgPyAnIGRhdGEtYXg2Z3JpZC1ncm91cGluZy10cj1cInRydWVcIicgOiAnJywgJyBkYXRhLWF4NmdyaWQtdHItZGF0YS1pbmRleD1cIicgKyBkaSArICdcIicsICcgZGF0YS1heDZncmlkLXRyLWRhdGEtby1pbmRleD1cIicgKyBvZGkgKyAnXCInLCAnIGRhdGEtYXg2Z3JpZC1zZWxlY3RlZD1cIicgKyAoX2xpc3RbZGldW2NmZy5jb2x1bW5LZXlzLnNlbGVjdGVkXSB8fCBcImZhbHNlXCIpICsgJ1wiJywgJyBkYXRhLWF4NmdyaWQtZGlzYWJsZS1zZWxlY3Rpb249XCInICsgKF9saXN0W2RpXVtjZmcuY29sdW1uS2V5cy5kaXNhYmxlU2VsZWN0aW9uXSB8fCBcImZhbHNlXCIpICsgJ1wiJywgJz4nKTtcbiAgICAgICAgICBmb3IgKGNpID0gMCwgY2wgPSByb3dUYWJsZS5yb3dzW3RyaV0uY29scy5sZW5ndGg7IGNpIDwgY2w7IGNpKyspIHtcbiAgICAgICAgICAgIGNvbCA9IHJvd1RhYmxlLnJvd3NbdHJpXS5jb2xzW2NpXTtcbiAgICAgICAgICAgIGNlbGxIZWlnaHQgPSBjZmcuYm9keS5jb2x1bW5IZWlnaHQgKiBjb2wucm93c3BhbiAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoO1xuICAgICAgICAgICAgY29sQWxpZ24gPSBjb2wuYWxpZ24gfHwgYm9keUFsaWduO1xuXG4gICAgICAgICAgICBTUy5wdXNoKCc8dGQgJywgJ2RhdGEtYXg2Z3JpZC1wYW5lbC1uYW1lPVwiJyArIF9lbFRhcmdldEtleSArICdcIiAnLCAnZGF0YS1heDZncmlkLWRhdGEtaW5kZXg9XCInICsgZGkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1kYXRhLW8taW5kZXg9XCInICsgb2RpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvdz1cIicgKyB0cmkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sPVwiJyArIGNpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvd0luZGV4PVwiJyArIGNvbC5yb3dJbmRleCArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2xJbmRleD1cIicgKyBjb2wuY29sSW5kZXggKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tYXR0cj1cIicgKyAoY29sLmNvbHVtbkF0dHIgfHwgXCJkZWZhdWx0XCIpICsgJ1wiICcsIGZ1bmN0aW9uIChfZm9jdXNlZENvbHVtbiwgX3NlbGVjdGVkQ29sdW1uKSB7XG4gICAgICAgICAgICAgIGxldCBhdHRycyA9IFwiXCI7XG4gICAgICAgICAgICAgIGlmIChfZm9jdXNlZENvbHVtbikge1xuICAgICAgICAgICAgICAgIGF0dHJzICs9ICdkYXRhLWF4NmdyaWQtY29sdW1uLWZvY3VzZWQ9XCJ0cnVlXCIgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoX3NlbGVjdGVkQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMgKz0gJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tc2VsZWN0ZWQ9XCJ0cnVlXCIgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICAgICAgICB9KHRoaXMuZm9jdXNlZENvbHVtbltkaSArIFwiX1wiICsgY29sLmNvbEluZGV4ICsgXCJfXCIgKyBjb2wucm93SW5kZXhdLCB0aGlzLnNlbGVjdGVkQ29sdW1uW2RpICsgXCJfXCIgKyBjb2wuY29sSW5kZXggKyBcIl9cIiArIGNvbC5yb3dJbmRleF0pLCAnY29sc3Bhbj1cIicgKyBjb2wuY29sc3BhbiArICdcIiAnLCAncm93c3Bhbj1cIicgKyBjb2wucm93c3BhbiArICdcIiAnLCAnY2xhc3M9XCInICsgZnVuY3Rpb24gKF9jb2wpIHtcbiAgICAgICAgICAgICAgbGV0IHRkQ1NTX2NsYXNzID0gXCJcIjtcbiAgICAgICAgICAgICAgaWYgKF9jb2wuc3R5bGVDbGFzcykge1xuICAgICAgICAgICAgICAgIGlmIChVLmlzRnVuY3Rpb24oX2NvbC5zdHlsZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5zdHlsZUNsYXNzLmNhbGwoe1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46IF9jb2wsXG4gICAgICAgICAgICAgICAgICAgIGtleTogX2NvbC5rZXksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IF9saXN0W2RpXSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGRpXG4gICAgICAgICAgICAgICAgICB9KSArIFwiIFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0ZENTU19jbGFzcyArPSBfY29sLnN0eWxlQ2xhc3MgKyBcIiBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoKSB0ZENTU19jbGFzcyArPSBcImhhc0JvcmRlciBcIjtcbiAgICAgICAgICAgICAgaWYgKGNpID09IGNsIC0gMSkgdGRDU1NfY2xhc3MgKz0gXCJpc0xhc3RDb2x1bW4gXCI7XG4gICAgICAgICAgICAgIHJldHVybiB0ZENTU19jbGFzcztcbiAgICAgICAgICAgIH0uY2FsbCh0aGlzLCBjb2wpICsgJ1wiICcsICdzdHlsZT1cImhlaWdodDogJyArIGNlbGxIZWlnaHQgKyAncHg7bWluLWhlaWdodDogMXB4O1wiPicpO1xuXG4gICAgICAgICAgICBTUy5wdXNoKGZ1bmN0aW9uIChfY2VsbEhlaWdodCkge1xuICAgICAgICAgICAgICBsZXQgbGluZUhlaWdodCA9IGNmZy5ib2R5LmNvbHVtbkhlaWdodCAtIGNmZy5ib2R5LmNvbHVtblBhZGRpbmcgKiAyIC0gY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgICAgICAgIGlmICghY29sLm11bHRpTGluZSkge1xuICAgICAgICAgICAgICAgIF9jZWxsSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0IC0gY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGRhdGEtYXg2Z3JpZC1jZWxsSG9sZGVyPVwiJyArIChjb2wubXVsdGlMaW5lID8gJ211bHRpTGluZScgOiAnJykgKyAnXCIgJyArIChjb2xBbGlnbiA/ICdkYXRhLWF4NmdyaWQtdGV4dC1hbGlnbj1cIicgKyBjb2xBbGlnbiArICdcIicgOiAnJykgKyAnXCIgc3R5bGU9XCJoZWlnaHQ6JyArIF9jZWxsSGVpZ2h0ICsgJ3B4OycgKyAoY29sLm11bHRpTGluZSA/ICcnIDogJ2xpbmUtaGVpZ2h0OiAnICsgbGluZUhlaWdodCArICdweDsnKSArICdcIj4nO1xuICAgICAgICAgICAgfShjZWxsSGVpZ2h0KSwgaXNHcm91cGluZ1JvdyA/IGdldEdyb3VwaW5nVmFsdWUuY2FsbCh0aGlzLCBfbGlzdFtkaV0sIGRpLCBjb2wpIDogZ2V0RmllbGRWYWx1ZS5jYWxsKHRoaXMsIF9saXN0LCBfbGlzdFtkaV0sIGRpLCBjb2wpLCAnPC9zcGFuPicpO1xuXG4gICAgICAgICAgICBTUy5wdXNoKCc8L3RkPicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBTUy5wdXNoKCc8dGQgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93PVwibnVsbFwiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbD1cIm51bGxcIiAnLCAnZGF0YS1heDZncmlkLWRhdGEtaW5kZXg9XCInICsgZGkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1kYXRhLW8taW5kZXg9XCInICsgb2RpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHI9XCInICsgXCJkZWZhdWx0XCIgKyAnXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICsgJ3B4O21pbi1oZWlnaHQ6IDFweDtcIiAnLCAnPjwvdGQ+Jyk7XG4gICAgICAgICAgU1MucHVzaCgnPC90cj4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBTUy5wdXNoKCc8L3RhYmxlPicpO1xuXG4gICAgaWYgKGlzU2Nyb2xsZWQgJiYgX2xpc3QubGVuZ3RoKSB7XG4gICAgICBTUy5wdXNoKCc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDpyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgJyArIHN0cmlwZVN0cmluZyArICcpOycgKyAnZm9udC1zaXplOjA7JyArICdsaW5lLWhlaWdodDowO2hlaWdodDogJyArIChfbGlzdC5sZW5ndGggLSBkaSkgKiBfc2Nyb2xsQ29uZmlnLmJvZHlUckhlaWdodCArICdweDtcIj48L2Rpdj4nKTtcbiAgICB9XG5cbiAgICBfZWxUYXJnZXQuZW1wdHkoKTtcbiAgICBTUyA9IFNTLmpvaW4oJycpO1xuXG4gICAgX2VsVGFyZ2V0LmdldCgwKS5pbm5lckhUTUwgPSBTUztcblxuICAgIHRoaXMuJC5saXZlUGFuZWxLZXlzLnB1c2goX2VsVGFyZ2V0S2V5KTsgLy8g7IKs7Jqp7KSR7J24IO2MqOuEkO2CpOulvCDrqqjslYTrkaAuICjrt7DsnZgg7IOB7YOcIOuzgOqyveyLnCDsgqzsmqntlZjroKTqs6ApXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBfZWxUYXJnZXRLZXlcbiAgICogQHBhcmFtIF9jb2xHcm91cFxuICAgKiBAcGFyYW0gX2JvZHlSb3dcbiAgICogQHBhcmFtIF9saXN0XG4gICAqIEBwYXJhbSBbX3Njcm9sbENvbmZpZ11cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBsZXQgcmVwYWludFN1bSA9IGZ1bmN0aW9uIChfZWxUYXJnZXRLZXksIF9jb2xHcm91cCwgX2JvZHlSb3csIF9saXN0LCBfc2Nyb2xsQ29uZmlnKSB7XG4gICAgbGV0IF9lbFRhcmdldCA9IHRoaXMuJC5wYW5lbFtfZWxUYXJnZXRLZXldO1xuXG4gICAgaWYgKCFpc0ZpcnN0UGFpbnQgJiYgIV9zY3JvbGxDb25maWcpIHtcbiAgICAgIHRoaXMuJC5saXZlUGFuZWxLZXlzLnB1c2goX2VsVGFyZ2V0S2V5KTsgLy8g7IKs7Jqp7KSR7J24IO2MqOuEkO2CpOulvCDrqqjslYTrkaAuICjrt7DsnZgg7IOB7YOcIOuzgOqyveyLnCDsgqzsmqntlZjroKTqs6ApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IFNTID0gW10sXG4gICAgICAgIGNnaSxcbiAgICAgICAgY2dsLFxuICAgICAgICB0cmksXG4gICAgICAgIHRybCxcbiAgICAgICAgY2ksXG4gICAgICAgIGNsLFxuICAgICAgICBjb2wsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNvbEFsaWduO1xuXG4gICAgU1MucHVzaCgnPHRhYmxlIGJvcmRlcj1cIjBcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIj4nKTtcbiAgICBTUy5wdXNoKCc8Y29sZ3JvdXA+Jyk7XG4gICAgZm9yIChjZ2kgPSAwLCBjZ2wgPSBfY29sR3JvdXAubGVuZ3RoOyBjZ2kgPCBjZ2w7IGNnaSsrKSB7XG4gICAgICBTUy5wdXNoKCc8Y29sIHN0eWxlPVwid2lkdGg6JyArIF9jb2xHcm91cFtjZ2ldLl93aWR0aCArICdweDtcIiAgLz4nKTtcbiAgICB9XG4gICAgU1MucHVzaCgnPGNvbCAgLz4nKTtcbiAgICBTUy5wdXNoKCc8L2NvbGdyb3VwPicpO1xuXG4gICAgZm9yICh0cmkgPSAwLCB0cmwgPSBfYm9keVJvdy5yb3dzLmxlbmd0aDsgdHJpIDwgdHJsOyB0cmkrKykge1xuICAgICAgU1MucHVzaCgnPHRyIGNsYXNzPVwidHItc3VtXCI+Jyk7XG4gICAgICBmb3IgKGNpID0gMCwgY2wgPSBfYm9keVJvdy5yb3dzW3RyaV0uY29scy5sZW5ndGg7IGNpIDwgY2w7IGNpKyspIHtcbiAgICAgICAgY29sID0gX2JvZHlSb3cucm93c1t0cmldLmNvbHNbY2ldO1xuICAgICAgICBjZWxsSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICogY29sLnJvd3NwYW4gLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgY29sQWxpZ24gPSBjb2wuYWxpZ24gfHwgYm9keUFsaWduO1xuXG4gICAgICAgIFNTLnB1c2goJzx0ZCAnLCAnZGF0YS1heDZncmlkLXBhbmVsLW5hbWU9XCInICsgX2VsVGFyZ2V0S2V5ICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvdz1cIicgKyB0cmkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sPVwiJyArIGNpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvd0luZGV4PVwiJyArIHRyaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2xJbmRleD1cIicgKyBjb2wuY29sSW5kZXggKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tYXR0cj1cIicgKyAoY29sLmNvbHVtbkF0dHIgfHwgXCJzdW1cIikgKyAnXCIgJywgZnVuY3Rpb24gKF9mb2N1c2VkQ29sdW1uLCBfc2VsZWN0ZWRDb2x1bW4pIHtcbiAgICAgICAgICB2YXIgYXR0cnMgPSBcIlwiO1xuICAgICAgICAgIGlmIChfZm9jdXNlZENvbHVtbikge1xuICAgICAgICAgICAgYXR0cnMgKz0gJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tZm9jdXNlZD1cInRydWVcIiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX3NlbGVjdGVkQ29sdW1uKSB7XG4gICAgICAgICAgICBhdHRycyArPSAnZGF0YS1heDZncmlkLWNvbHVtbi1zZWxlY3RlZD1cInRydWVcIiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICAgIH0odGhpcy5mb2N1c2VkQ29sdW1uW1wic3VtX1wiICsgY29sLmNvbEluZGV4ICsgXCJfXCIgKyB0cmldLCB0aGlzLnNlbGVjdGVkQ29sdW1uW1wic3VtX1wiICsgY29sLmNvbEluZGV4ICsgXCJfXCIgKyB0cmldKSwgJ2NvbHNwYW49XCInICsgY29sLmNvbHNwYW4gKyAnXCIgJywgJ3Jvd3NwYW49XCInICsgY29sLnJvd3NwYW4gKyAnXCIgJywgJ2NsYXNzPVwiJyArIGZ1bmN0aW9uIChfY29sKSB7XG4gICAgICAgICAgdmFyIHRkQ1NTX2NsYXNzID0gXCJcIjtcbiAgICAgICAgICBpZiAoX2NvbC5zdHlsZUNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoVS5pc0Z1bmN0aW9uKF9jb2wuc3R5bGVDbGFzcykpIHtcbiAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5zdHlsZUNsYXNzLmNhbGwoe1xuICAgICAgICAgICAgICAgIGNvbHVtbjogX2NvbCxcbiAgICAgICAgICAgICAgICBrZXk6IF9jb2wua2V5LFxuICAgICAgICAgICAgICAgIGlzRm9vdFN1bTogdHJ1ZVxuICAgICAgICAgICAgICB9KSArIFwiIFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5zdHlsZUNsYXNzICsgXCIgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aCkgdGRDU1NfY2xhc3MgKz0gXCJoYXNCb3JkZXIgXCI7XG4gICAgICAgICAgaWYgKGNpID09IGNsIC0gMSkgdGRDU1NfY2xhc3MgKz0gXCJpc0xhc3RDb2x1bW4gXCI7XG4gICAgICAgICAgcmV0dXJuIHRkQ1NTX2NsYXNzO1xuICAgICAgICB9LmNhbGwodGhpcywgY29sKSArICdcIiAnLCAnc3R5bGU9XCJoZWlnaHQ6ICcgKyBjZWxsSGVpZ2h0ICsgJ3B4O21pbi1oZWlnaHQ6IDFweDtcIj4nKTtcblxuICAgICAgICBTUy5wdXNoKGZ1bmN0aW9uIChfY2VsbEhlaWdodCkge1xuICAgICAgICAgIGxldCBsaW5lSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0IC0gY2ZnLmJvZHkuY29sdW1uUGFkZGluZyAqIDIgLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgICBpZiAoIWNvbC5tdWx0aUxpbmUpIHtcbiAgICAgICAgICAgIF9jZWxsSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0IC0gY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuICc8c3BhbiBkYXRhLWF4NmdyaWQtY2VsbEhvbGRlcj1cIicgKyAoY29sLm11bHRpTGluZSA/ICdtdWx0aUxpbmUnIDogJycpICsgJ1wiICcgKyAoY29sQWxpZ24gPyAnZGF0YS1heDZncmlkLXRleHQtYWxpZ249XCInICsgY29sQWxpZ24gKyAnXCInIDogJycpICsgJ1wiIHN0eWxlPVwiaGVpZ2h0OicgKyBfY2VsbEhlaWdodCArICdweDsnICsgKGNvbC5tdWx0aUxpbmUgPyAnJyA6ICdsaW5lLWhlaWdodDogJyArIGxpbmVIZWlnaHQgKyAncHg7JykgKyAnXCI+JztcbiAgICAgICAgfShjZWxsSGVpZ2h0KSwgZ2V0U3VtRmllbGRWYWx1ZS5jYWxsKHRoaXMsIF9saXN0LCBjb2wpLCAnPC9zcGFuPicpO1xuXG4gICAgICAgIFNTLnB1c2goJzwvdGQ+Jyk7XG4gICAgICB9XG4gICAgICBTUy5wdXNoKCc8dGQgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93PVwibnVsbFwiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbD1cIm51bGxcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyPVwiJyArIFwic3VtXCIgKyAnXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICsgJ3B4O21pbi1oZWlnaHQ6IDFweDtcIiAnLCAnPjwvdGQ+Jyk7XG4gICAgICBTUy5wdXNoKCc8L3RyPicpO1xuICAgIH1cblxuICAgIFNTLnB1c2goJzwvdGFibGU+Jyk7XG5cbiAgICBfZWxUYXJnZXQuZW1wdHkoKTtcbiAgICBTUyA9IFNTLmpvaW4oJycpO1xuXG4gICAgX2VsVGFyZ2V0LmdldCgwKS5pbm5lckhUTUwgPSBTUztcblxuICAgIHRoaXMuJC5saXZlUGFuZWxLZXlzLnB1c2goX2VsVGFyZ2V0S2V5KTsgLy8g7IKs7Jqp7KSR7J24IO2MqOuEkO2CpOulvCDrqqjslYTrkaAuICjrt7DsnZgg7IOB7YOcIOuzgOqyveyLnCDsgqzsmqntlZjroKTqs6ApXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBfZWxUYXJnZXRLZXlcbiAgICogQHBhcmFtIF9jb2xHcm91cFxuICAgKiBAcGFyYW0gX2JvZHlSb3dcbiAgICogQHBhcmFtIF9saXN0XG4gICAqIEBwYXJhbSBbX3Njcm9sbENvbmZpZ11cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBsZXQgbWVyZ2VDZWxsc0JvZHkgPSBmdW5jdGlvbiAoX2VsVGFyZ2V0S2V5LCBfY29sR3JvdXAsIF9ib2R5Um93LCBfbGlzdCwgX3Njcm9sbENvbmZpZykge1xuICAgIGxldCB0YmxSb3dNYXBzID0gW107XG4gICAgbGV0IF9lbFRhcmdldCA9IHRoaXMuJC5wYW5lbFtfZWxUYXJnZXRLZXldO1xuICAgIGxldCB0b2tlbiA9IHt9LFxuICAgICAgICBoYXNNZXJnZVRkO1xuXG4gICAgLy8g7YWM7J2067iU7J2YIHRk65Ok7J2EIOyImOyeoe2VmOyXrCDsoIDsnqXtlbTrkZDqs6Ag7Iqk7YGs66a97Yq466GcIOuwmOuzte2VmOyXrCDsoJXrpqwuXG4gICAgbGV0IHRhYmxlVHJzID0gX2VsVGFyZ2V0LmZpbmQoXCJ0clwiKTtcbiAgICBmb3IgKGxldCByaSA9IDAsIHJsID0gdGFibGVUcnMubGVuZ3RoOyByaSA8IHJsOyByaSsrKSB7XG4gICAgICBsZXQgdGFibGVUclRkcywgdHJNYXBzO1xuICAgICAgdGFibGVUclRkcyA9IHRhYmxlVHJzW3JpXS5jaGlsZE5vZGVzO1xuICAgICAgdHJNYXBzID0gW107XG5cbiAgICAgIGZvciAobGV0IGNpID0gMCwgY2wgPSB0YWJsZVRyVGRzLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuICAgICAgICBsZXQgdGRPYmogPSB7XG4gICAgICAgICAgXCIkXCI6IGpRdWVyeSh0YWJsZVRyVGRzW2NpXSlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGRPYmpbXCIkXCJdLmF0dHIoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWNvbFwiKSAhPSBcIm51bGxcIikge1xuICAgICAgICAgIHRkT2JqLmRpbmRleCA9IHRkT2JqW1wiJFwiXS5hdHRyKFwiZGF0YS1heDZncmlkLWRhdGEtaW5kZXhcIik7XG4gICAgICAgICAgdGRPYmoudHJpID0gdGRPYmpbXCIkXCJdLmF0dHIoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJvd1wiKTtcbiAgICAgICAgICB0ZE9iai5jaSA9IHRkT2JqW1wiJFwiXS5hdHRyKFwiZGF0YS1heDZncmlkLWNvbHVtbi1jb2xcIik7XG4gICAgICAgICAgdGRPYmoucm93SW5kZXggPSB0ZE9ialtcIiRcIl0uYXR0cihcImRhdGEtYXg2Z3JpZC1jb2x1bW4tcm93SW5kZXhcIik7XG4gICAgICAgICAgdGRPYmouY29sSW5kZXggPSB0ZE9ialtcIiRcIl0uYXR0cihcImRhdGEtYXg2Z3JpZC1jb2x1bW4tY29sSW5kZXhcIik7XG4gICAgICAgICAgdGRPYmoucm93c3BhbiA9IHRkT2JqW1wiJFwiXS5hdHRyKFwicm93c3BhblwiKTtcbiAgICAgICAgICB0ZE9iai50ZXh0ID0gdGRPYmpbXCIkXCJdLnRleHQoKTtcbiAgICAgICAgICB0ck1hcHMucHVzaCh0ZE9iaik7XG4gICAgICAgIH1cblxuICAgICAgICB0ZE9iaiA9IG51bGw7XG4gICAgICB9XG4gICAgICB0YmxSb3dNYXBzLnB1c2godHJNYXBzKTtcbiAgICB9XG5cbiAgICAvLyDrkZDspITsnbTsg4Eg7J28IOuVjCDsnZjrr7jqsIAg7J6I7Jy864uILlxuICAgIGlmICh0YmxSb3dNYXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGhhc01lcmdlVGQgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IHJpID0gMCwgcmwgPSB0YmxSb3dNYXBzLmxlbmd0aDsgcmkgPCBybDsgcmkrKykge1xuICAgICAgICBsZXQgcHJldlRva2VuQ29sSW5kZXhzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgY2kgPSAwLCBjbCA9IHRibFJvd01hcHNbcmldLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuICAgICAgICAgIC8vIOyggeyaqSDtlZjroKTripQg7Lus65+87JeQIGVkaXRvciDsho3shLHsnbQg7JeG64uk66m0IOuouOyngCDrjIDsg4HsnoXri4jri6QuXG5cbiAgICAgICAgICBpZiAoIV9jb2xHcm91cFtjaV0uZWRpdG9yICYmICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoVS5pc0FycmF5KGNmZy5ib2R5Lm1lcmdlQ2VsbHMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBVLnNlYXJjaChjZmcuYm9keS5tZXJnZUNlbGxzLCBfY29sR3JvdXBbY2ldLmtleSkgPiAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKCkpIHtcblxuICAgICAgICAgICAgLy8g7JWe7KSE6rO8IOqwkuydtCDqsJnri6TrqbQuXG4gICAgICAgICAgICBpZiAodG9rZW5bY2ldICYmICgoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChwcmV2VG9rZW5Db2xJbmRleHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBoYXNGYWxzZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHJldlRva2VuQ29sSW5kZXhzLmZvckVhY2goZnVuY3Rpb24gKHRpKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodGJsUm93TWFwc1tyaSAtIDFdW3RpXS50ZXh0ICE9IHRibFJvd01hcHNbcmldW3RpXS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0ZhbHNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc0ZhbHNlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpICYmIHRva2VuW2NpXS50ZXh0ID09IHRibFJvd01hcHNbcmldW2NpXS50ZXh0KSB7XG4gICAgICAgICAgICAgIHRibFJvd01hcHNbcmldW2NpXS5yb3dzcGFuID0gMDtcbiAgICAgICAgICAgICAgdGJsUm93TWFwc1t0b2tlbltjaV0ucmldW2NpXS5yb3dzcGFuKys7XG4gICAgICAgICAgICAgIGhhc01lcmdlVGQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdG9rZW5bY2ldID0ge1xuICAgICAgICAgICAgICAgIHJpOiByaSxcbiAgICAgICAgICAgICAgICBjaTogY2ksXG4gICAgICAgICAgICAgICAgdGV4dDogdGJsUm93TWFwc1tyaV1bY2ldLnRleHRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJldlRva2VuQ29sSW5kZXhzLnB1c2goY2kpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByb3dzcGFu7J2EIOuLpCDqtaztlojsnLzrqbQg7KCB7Jqp7ZWp64uI64ukLlxuICAgICAgaWYgKGhhc01lcmdlVGQpIHtcbiAgICAgICAgZm9yIChsZXQgcmkgPSAwLCBybCA9IHRibFJvd01hcHMubGVuZ3RoOyByaSA8IHJsOyByaSsrKSB7XG4gICAgICAgICAgZm9yIChsZXQgY2kgPSAwLCBjbCA9IHRibFJvd01hcHNbcmldLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuICAgICAgICAgICAgaWYgKHRibFJvd01hcHNbcmldW2NpXS5yb3dzcGFuID09IDApIHtcbiAgICAgICAgICAgICAgdGJsUm93TWFwc1tyaV1bY2ldW1wiJFwiXS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGJsUm93TWFwc1tyaV1bY2ldLnJvd3NwYW4gPiAxKSB7XG4gICAgICAgICAgICAgIHRibFJvd01hcHNbcmldW2NpXVtcIiRcIl0uYXR0cihcInJvd3NwYW5cIiwgdGJsUm93TWFwc1tyaV1bY2ldLnJvd3NwYW4pLmFkZENsYXNzKFwibWVyZ2VkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBsZXQgc2Nyb2xsQ29uZmlnID0ge1xuICAgIHBhaW50U3RhcnRSb3dJbmRleDogcGFpbnRTdGFydFJvd0luZGV4LFxuICAgIHBhaW50Um93Q291bnQ6IHBhaW50Um93Q291bnQsXG4gICAgcGFpbnRTdGFydENvbHVtbkluZGV4OiBwYWludFN0YXJ0Q29sdW1uSW5kZXgsXG4gICAgcGFpbnRFbmRDb2x1bW5JbmRleDogcGFpbnRFbmRDb2x1bW5JbmRleCxcbiAgICBub3BhaW50TGVmdENvbHVtbnNXaWR0aDogbm9wYWludExlZnRDb2x1bW5zV2lkdGgsXG4gICAgbm9wYWludFJpZ2h0Q29sdW1uc1dpZHRoOiBub3BhaW50UmlnaHRDb2x1bW5zV2lkdGgsXG4gICAgYm9keVRySGVpZ2h0OiB0aGlzLnh2YXIuYm9keVRySGVpZ2h0LFxuICAgIHZpcnR1YWxTY3JvbGxYOiB0aGlzLmNvbmZpZy52aXJ0dWFsU2Nyb2xsWCxcbiAgICB2aXJ0dWFsU2Nyb2xsWTogdGhpcy5jb25maWcudmlydHVhbFNjcm9sbFlcbiAgfTtcbiAgbGV0IGZyb3plblNjcm9sbENvbmZpZyA9IGpRdWVyeS5leHRlbmQoe30sIHNjcm9sbENvbmZpZywge1xuICAgIHBhaW50U3RhcnRSb3dJbmRleDogMCxcbiAgICBwYWludFJvd0NvdW50OiB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXhcbiAgfSk7XG5cbiAgLy8gYXNpZGVcbiAgaWYgKGNmZy5hc2lkZVBhbmVsV2lkdGggPiAwKSB7XG4gICAgaWYgKHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA+IDApIHtcbiAgICAgIC8vIOyDgeuLqCDtlonqs6DsoJVcbiAgICAgIHJlcGFpbnRCb2R5LmNhbGwodGhpcywgXCJ0b3AtYXNpZGUtYm9keVwiLCB0aGlzLmFzaWRlQ29sR3JvdXAsIGFzaWRlQm9keVJvd0RhdGEsIGFzaWRlQm9keUdyb3VwaW5nRGF0YSwgbGlzdC5zbGljZSgwLCB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXgpLCBmcm96ZW5TY3JvbGxDb25maWcpO1xuICAgIH1cblxuICAgIHJlcGFpbnRCb2R5LmNhbGwodGhpcywgXCJhc2lkZS1ib2R5LXNjcm9sbFwiLCB0aGlzLmFzaWRlQ29sR3JvdXAsIGFzaWRlQm9keVJvd0RhdGEsIGFzaWRlQm9keUdyb3VwaW5nRGF0YSwgbGlzdCwgc2Nyb2xsQ29uZmlnKTtcblxuICAgIGlmIChjZmcuZm9vdFN1bSkge1xuICAgICAgLy8g67CU64ulIOyalOyVvSAoZm9vdFN1beyXkCDrjIDtlZwgYXNpZGUg7IKs7Jqp7JWI7ZWoKVxuICAgICAgcmVwYWludFN1bS5jYWxsKHRoaXMsIFwiYm90dG9tLWFzaWRlLWJvZHlcIiwgdGhpcy5hc2lkZUNvbEdyb3VwLCBhc2lkZUJvZHlSb3dEYXRhLCBudWxsLCBsaXN0KTtcbiAgICB9XG4gIH1cblxuICAvLyBsZWZ0XG4gIGlmICh0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXggPiAwKSB7XG4gICAgaWYgKHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA+IDApIHtcbiAgICAgIC8vIOyDgeuLqCDtlonqs6DsoJVcbiAgICAgIHJlcGFpbnRCb2R5LmNhbGwodGhpcywgXCJ0b3AtbGVmdC1ib2R5XCIsIHRoaXMubGVmdEhlYWRlckNvbEdyb3VwLCBsZWZ0Qm9keVJvd0RhdGEsIGxlZnRCb2R5R3JvdXBpbmdEYXRhLCBsaXN0LnNsaWNlKDAsIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCksIGZyb3plblNjcm9sbENvbmZpZyk7XG4gICAgfVxuXG4gICAgcmVwYWludEJvZHkuY2FsbCh0aGlzLCBcImxlZnQtYm9keS1zY3JvbGxcIiwgdGhpcy5sZWZ0SGVhZGVyQ29sR3JvdXAsIGxlZnRCb2R5Um93RGF0YSwgbGVmdEJvZHlHcm91cGluZ0RhdGEsIGxpc3QsIHNjcm9sbENvbmZpZyk7XG5cbiAgICBpZiAoY2ZnLmZvb3RTdW0gJiYgdGhpcy5uZWVkVG9QYWludFN1bSkge1xuICAgICAgLy8g67CU64ulIOyalOyVvVxuICAgICAgcmVwYWludFN1bS5jYWxsKHRoaXMsIFwiYm90dG9tLWxlZnQtYm9keVwiLCB0aGlzLmxlZnRIZWFkZXJDb2xHcm91cCwgbGVmdEZvb3RTdW1EYXRhLCBsaXN0KTtcbiAgICB9XG4gIH1cblxuICAvLyBib2R5XG4gIGlmICh0aGlzLnh2YXIuZnJvemVuUm93SW5kZXggPiAwKSB7XG4gICAgLy8g7IOB64uoIO2WieqzoOyglVxuICAgIHJlcGFpbnRCb2R5LmNhbGwodGhpcywgXCJ0b3AtYm9keS1zY3JvbGxcIiwgaGVhZGVyQ29sR3JvdXAsIGJvZHlSb3dEYXRhLCBib2R5R3JvdXBpbmdEYXRhLCBsaXN0LnNsaWNlKDAsIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCksIGZyb3plblNjcm9sbENvbmZpZyk7XG4gIH1cbiAgcmVwYWludEJvZHkuY2FsbCh0aGlzLCBcImJvZHktc2Nyb2xsXCIsIGhlYWRlckNvbEdyb3VwLCBib2R5Um93RGF0YSwgYm9keUdyb3VwaW5nRGF0YSwgbGlzdCwgc2Nyb2xsQ29uZmlnKTtcblxuICAvLyDrsJTri6Ug7JqU7JW9XG4gIGlmIChjZmcuZm9vdFN1bSAmJiB0aGlzLm5lZWRUb1BhaW50U3VtKSB7XG4gICAgcmVwYWludFN1bS5jYWxsKHRoaXMsIFwiYm90dG9tLWJvZHktc2Nyb2xsXCIsIGhlYWRlckNvbEdyb3VwLCBmb290U3VtRGF0YSwgbGlzdCwgc2Nyb2xsQ29uZmlnKTtcbiAgfVxuICAvLyByaWdodFxuICBpZiAoY2ZnLnJpZ2h0U3VtKSB7fVxuICAvLyB0b2RvIDogcmlnaHQg7ZGc7ZiEIOygleumrFxuXG5cbiAgLy8vIG1lcmdlQ2VsbHNcbiAgaWYgKGNmZy5ib2R5Lm1lcmdlQ2VsbHMgJiYgbGlzdC5sZW5ndGgpIHtcbiAgICAvLyBsZWZ0XG4gICAgaWYgKHRoaXMueHZhci5mcm96ZW5Db2x1bW5JbmRleCA+IDApIHtcbiAgICAgIGlmICh0aGlzLnh2YXIuZnJvemVuUm93SW5kZXggPiAwKSB7XG4gICAgICAgIC8vIOyDgeuLqCDtlonqs6DsoJVcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5sZWZ0SGVhZGVyQ29sR3JvdXAsIGxlZnRCb2R5Um93RGF0YSk7XG4gICAgICAgIG1lcmdlQ2VsbHNCb2R5LmNhbGwodGhpcywgXCJ0b3AtbGVmdC1ib2R5XCIsIHRoaXMubGVmdEhlYWRlckNvbEdyb3VwLCBsZWZ0Qm9keVJvd0RhdGEsIGxpc3Quc2xpY2UoMCwgdGhpcy54dmFyLmZyb3plblJvd0luZGV4KSk7XG4gICAgICB9XG4gICAgICBtZXJnZUNlbGxzQm9keS5jYWxsKHRoaXMsIFwibGVmdC1ib2R5LXNjcm9sbFwiLCB0aGlzLmxlZnRIZWFkZXJDb2xHcm91cCwgbGVmdEJvZHlSb3dEYXRhLCBsaXN0LCBzY3JvbGxDb25maWcpO1xuICAgIH1cblxuICAgIC8vIGJvZHlcbiAgICBpZiAodGhpcy54dmFyLmZyb3plblJvd0luZGV4ID4gMCkge1xuICAgICAgLy8g7IOB64uoIO2WieqzoOyglVxuICAgICAgbWVyZ2VDZWxsc0JvZHkuY2FsbCh0aGlzLCBcInRvcC1ib2R5LXNjcm9sbFwiLCB0aGlzLmhlYWRlckNvbEdyb3VwLCBib2R5Um93RGF0YSwgbGlzdC5zbGljZSgwLCB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXgpKTtcbiAgICB9XG4gICAgbWVyZ2VDZWxsc0JvZHkuY2FsbCh0aGlzLCBcImJvZHktc2Nyb2xsXCIsIHRoaXMuaGVhZGVyQ29sR3JvdXAsIGJvZHlSb3dEYXRhLCBsaXN0LCBzY3JvbGxDb25maWcpO1xuICB9XG5cbiAgdGhpcy54dmFyLnZpcnR1YWxQYWludFN0YXJ0Um93SW5kZXggPSB2aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4O1xuICB0aGlzLnh2YXIucGFpbnRTdGFydFJvd0luZGV4ID0gcGFpbnRTdGFydFJvd0luZGV4O1xuICB0aGlzLnh2YXIucGFpbnRSb3dDb3VudCA9IHBhaW50Um93Q291bnQ7XG4gIHRoaXMueHZhci52aXJ0dWFsUGFpbnRSb3dDb3VudCA9IHZpcnR1YWxQYWludFJvd0NvdW50O1xuICB0aGlzLnh2YXIucGFpbnRTdGFydENvbHVtbkluZGV4ID0gcGFpbnRTdGFydENvbHVtbkluZGV4O1xuICB0aGlzLnh2YXIucGFpbnRFbmRDb2x1bW5JbmRleCA9IHBhaW50RW5kQ29sdW1uSW5kZXg7XG4gIHRoaXMueHZhci5ub3BhaW50TGVmdENvbHVtbnNXaWR0aCA9IG5vcGFpbnRMZWZ0Q29sdW1uc1dpZHRoO1xuICB0aGlzLnh2YXIubm9wYWludFJpZ2h0Q29sdW1uc1dpZHRoID0gbm9wYWludFJpZ2h0Q29sdW1uc1dpZHRoO1xuICB0aGlzLnh2YXIuZGF0YVJvd0NvdW50ID0gbGlzdC5sZW5ndGg7XG4gIHRoaXMubmVlZFRvUGFpbnRTdW0gPSBmYWxzZTtcblxuICBQQUdFLnN0YXR1c1VwZGF0ZS5jYWxsKHRoaXMpO1xufTtcblxuY29uc3QgcmVwYWludENlbGwgPSBmdW5jdGlvbiAoX3BhbmVsTmFtZSwgX2RpbmRleCwgX2RvaW5kZXgsIF9yb3dJbmRleCwgX2NvbEluZGV4LCBfbmV3VmFsdWUpIHtcbiAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgY2ZnID0gdGhpcy5jb25maWcsXG4gICAgICBsaXN0ID0gdGhpcy5saXN0O1xuXG4gIGxldCB1cGRhdGVDZWxsID0gdGhpcy4kW1wicGFuZWxcIl1bX3BhbmVsTmFtZV0uZmluZCgnW2RhdGEtYXg2Z3JpZC10ci1kYXRhLWluZGV4PVwiJyArIF9kaW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93aW5kZXg9XCInICsgX3Jvd0luZGV4ICsgJ1wiXVtkYXRhLWF4NmdyaWQtY29sdW1uLWNvbGluZGV4PVwiJyArIF9jb2xJbmRleCArICdcIl0nKS5maW5kKCdbZGF0YS1heDZncmlkLWNlbGxob2xkZXJdJyksXG4gICAgICBjb2xHcm91cCA9IHRoaXMuY29sR3JvdXAsXG4gICAgICBjb2wgPSBjb2xHcm91cFtfY29sSW5kZXhdO1xuXG4gIHVwZGF0ZUNlbGwuaHRtbChnZXRGaWVsZFZhbHVlLmNhbGwodGhpcywgbGlzdCwgbGlzdFtfZGluZGV4XSwgX2RpbmRleCwgY29sKSk7XG5cbiAgaWYgKGNvbC5lZGl0b3IgJiYgY29sLmVkaXRvci51cGRhdGVXaXRoKSB7XG4gICAgY29sLmVkaXRvci51cGRhdGVXaXRoLmZvckVhY2goZnVuY3Rpb24gKHVwZGF0ZUNvbHVtbktleSkge1xuICAgICAgY29sR3JvdXAuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XG4gICAgICAgIGlmIChjb2wua2V5ID09IHVwZGF0ZUNvbHVtbktleSkge1xuICAgICAgICAgIGxldCByb3dJbmRleCA9IGNvbC5yb3dJbmRleCxcbiAgICAgICAgICAgICAgY29sSW5kZXggPSBjb2wuY29sSW5kZXgsXG4gICAgICAgICAgICAgIHBhbmVsTmFtZSA9IFVUSUwuZmluZFBhbmVsQnlDb2x1bW5JbmRleC5jYWxsKHNlbGYsIF9kaW5kZXgsIGNvbEluZGV4LCByb3dJbmRleCkucGFuZWxOYW1lLFxuICAgICAgICAgICAgICB1cGRhdGVXaXRoQ2VsbCA9IHNlbGYuJFtcInBhbmVsXCJdW3BhbmVsTmFtZV0uZmluZCgnW2RhdGEtYXg2Z3JpZC10ci1kYXRhLWluZGV4PVwiJyArIF9kaW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93aW5kZXg9XCInICsgcm93SW5kZXggKyAnXCJdW2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29saW5kZXg9XCInICsgY29sSW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jZWxsaG9sZGVyXScpO1xuXG4gICAgICAgICAgdXBkYXRlV2l0aENlbGwuaHRtbChnZXRGaWVsZFZhbHVlLmNhbGwoc2VsZiwgbGlzdCwgbGlzdFtfZGluZGV4XSwgX2RpbmRleCwgY29sKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8vIH5+fn5+flxuXG4gIGxldCBwYWludFN0YXJ0Um93SW5kZXggPSBNYXRoLmZsb29yKE1hdGguYWJzKHRoaXMuJC5wYW5lbFtcImJvZHktc2Nyb2xsXCJdLnBvc2l0aW9uKCkudG9wKSAvIHRoaXMueHZhci5ib2R5VHJIZWlnaHQpICsgdGhpcy54dmFyLmZyb3plblJvd0luZGV4LFxuICAgICAgaGVhZGVyQ29sR3JvdXAgPSB0aGlzLmhlYWRlckNvbEdyb3VwLFxuICAgICAgbGVmdEZvb3RTdW1EYXRhID0gdGhpcy5sZWZ0Rm9vdFN1bURhdGEsXG4gICAgICBmb290U3VtRGF0YSA9IHRoaXMuZm9vdFN1bURhdGEsXG4gICAgICBsZWZ0Qm9keUdyb3VwaW5nRGF0YSA9IHRoaXMubGVmdEJvZHlHcm91cGluZ0RhdGEsXG4gICAgICBib2R5R3JvdXBpbmdEYXRhID0gdGhpcy5ib2R5R3JvdXBpbmdEYXRhLFxuICAgICAgYm9keUFsaWduID0gY2ZnLmJvZHkuYWxpZ24sXG4gICAgICBwYWludFJvd0NvdW50ID0gTWF0aC5jZWlsKHRoaXMuJC5wYW5lbFtcImJvZHlcIl0uaGVpZ2h0KCkgLyB0aGlzLnh2YXIuYm9keVRySGVpZ2h0KSArIDEsXG4gICAgICBzY3JvbGxDb25maWcgPSB7XG4gICAgcGFpbnRTdGFydFJvd0luZGV4OiBwYWludFN0YXJ0Um93SW5kZXgsXG4gICAgcGFpbnRSb3dDb3VudDogcGFpbnRSb3dDb3VudCxcbiAgICBib2R5VHJIZWlnaHQ6IHRoaXMueHZhci5ib2R5VHJIZWlnaHRcbiAgfTtcblxuICBpZiAodGhpcy54dmFyLm5vcGFpbnRMZWZ0Q29sdW1uc1dpZHRoIHx8IHRoaXMueHZhci5ub3BhaW50UmlnaHRDb2x1bW5zV2lkdGgpIHtcbiAgICBoZWFkZXJDb2xHcm91cCA9IFtdLmNvbmNhdChoZWFkZXJDb2xHcm91cCkuc3BsaWNlKHRoaXMueHZhci5wYWludFN0YXJ0Q29sdW1uSW5kZXgsIHRoaXMueHZhci5wYWludEVuZENvbHVtbkluZGV4IC0gdGhpcy54dmFyLnBhaW50U3RhcnRDb2x1bW5JbmRleCArIDEpO1xuICAgIGlmIChjZmcuYm9keS5ncm91cGluZykge1xuICAgICAgYm9keUdyb3VwaW5nRGF0YSA9IFVUSUwuZ2V0VGFibGVCeVN0YXJ0RW5kQ29sdW1uSW5kZXgoYm9keUdyb3VwaW5nRGF0YSwgdGhpcy54dmFyLnBhaW50U3RhcnRDb2x1bW5JbmRleCwgdGhpcy54dmFyLnBhaW50RW5kQ29sdW1uSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoY2ZnLmZvb3RTdW0pIHtcbiAgICAgIGZvb3RTdW1EYXRhID0gVVRJTC5nZXRUYWJsZUJ5U3RhcnRFbmRDb2x1bW5JbmRleChmb290U3VtRGF0YSwgdGhpcy54dmFyLnBhaW50U3RhcnRDb2x1bW5JbmRleCwgdGhpcy54dmFyLnBhaW50RW5kQ29sdW1uSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIGxldCByZXBhaW50U3VtID0gZnVuY3Rpb24gKF9lbFRhcmdldEtleSwgX2NvbEdyb3VwLCBfYm9keVJvdywgX2xpc3QsIF9zY3JvbGxDb25maWcpIHtcbiAgICBsZXQgX2VsVGFyZ2V0ID0gdGhpcy4kLnBhbmVsW19lbFRhcmdldEtleV0sXG4gICAgICAgIFNTID0gW10sXG4gICAgICAgIGNnaSxcbiAgICAgICAgY2dsLFxuICAgICAgICB0cmksXG4gICAgICAgIHRybCxcbiAgICAgICAgY2ksXG4gICAgICAgIGNsLFxuICAgICAgICBjb2wsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNvbEFsaWduO1xuXG4gICAgU1MucHVzaCgnPHRhYmxlIGJvcmRlcj1cIjBcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIj4nKTtcbiAgICBTUy5wdXNoKCc8Y29sZ3JvdXA+Jyk7XG4gICAgZm9yIChjZ2kgPSAwLCBjZ2wgPSBfY29sR3JvdXAubGVuZ3RoOyBjZ2kgPCBjZ2w7IGNnaSsrKSB7XG4gICAgICBTUy5wdXNoKCc8Y29sIHN0eWxlPVwid2lkdGg6JyArIF9jb2xHcm91cFtjZ2ldLl93aWR0aCArICdweDtcIiAgLz4nKTtcbiAgICB9XG4gICAgU1MucHVzaCgnPGNvbCAgLz4nKTtcbiAgICBTUy5wdXNoKCc8L2NvbGdyb3VwPicpO1xuXG4gICAgZm9yICh0cmkgPSAwLCB0cmwgPSBfYm9keVJvdy5yb3dzLmxlbmd0aDsgdHJpIDwgdHJsOyB0cmkrKykge1xuICAgICAgU1MucHVzaCgnPHRyIGNsYXNzPVwidHItc3VtXCI+Jyk7XG4gICAgICBmb3IgKGNpID0gMCwgY2wgPSBfYm9keVJvdy5yb3dzW3RyaV0uY29scy5sZW5ndGg7IGNpIDwgY2w7IGNpKyspIHtcbiAgICAgICAgY29sID0gX2JvZHlSb3cucm93c1t0cmldLmNvbHNbY2ldO1xuICAgICAgICBjZWxsSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICogY29sLnJvd3NwYW4gLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgY29sQWxpZ24gPSBjb2wuYWxpZ24gfHwgYm9keUFsaWduO1xuXG4gICAgICAgIFNTLnB1c2goJzx0ZCAnLCAnZGF0YS1heDZncmlkLXBhbmVsLW5hbWU9XCInICsgX2VsVGFyZ2V0S2V5ICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvdz1cIicgKyB0cmkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sPVwiJyArIGNpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvd0luZGV4PVwiJyArIHRyaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2xJbmRleD1cIicgKyBjb2wuY29sSW5kZXggKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tYXR0cj1cIicgKyAoY29sLmNvbHVtbkF0dHIgfHwgXCJzdW1cIikgKyAnXCIgJywgZnVuY3Rpb24gKF9mb2N1c2VkQ29sdW1uLCBfc2VsZWN0ZWRDb2x1bW4pIHtcbiAgICAgICAgICB2YXIgYXR0cnMgPSBcIlwiO1xuICAgICAgICAgIGlmIChfZm9jdXNlZENvbHVtbikge1xuICAgICAgICAgICAgYXR0cnMgKz0gJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tZm9jdXNlZD1cInRydWVcIiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX3NlbGVjdGVkQ29sdW1uKSB7XG4gICAgICAgICAgICBhdHRycyArPSAnZGF0YS1heDZncmlkLWNvbHVtbi1zZWxlY3RlZD1cInRydWVcIiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICAgIH0odGhpcy5mb2N1c2VkQ29sdW1uW1wic3VtX1wiICsgY29sLmNvbEluZGV4ICsgXCJfXCIgKyB0cmldLCB0aGlzLnNlbGVjdGVkQ29sdW1uW1wic3VtX1wiICsgY29sLmNvbEluZGV4ICsgXCJfXCIgKyB0cmldKSwgJ2NvbHNwYW49XCInICsgY29sLmNvbHNwYW4gKyAnXCIgJywgJ3Jvd3NwYW49XCInICsgY29sLnJvd3NwYW4gKyAnXCIgJywgJ2NsYXNzPVwiJyArIGZ1bmN0aW9uIChfY29sKSB7XG4gICAgICAgICAgbGV0IHRkQ1NTX2NsYXNzID0gXCJcIjtcbiAgICAgICAgICBpZiAoX2NvbC5zdHlsZUNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoVS5pc0Z1bmN0aW9uKF9jb2wuc3R5bGVDbGFzcykpIHtcbiAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5zdHlsZUNsYXNzLmNhbGwoe1xuICAgICAgICAgICAgICAgIGNvbHVtbjogX2NvbCxcbiAgICAgICAgICAgICAgICBrZXk6IF9jb2wua2V5LFxuICAgICAgICAgICAgICAgIGlzRm9vdFN1bTogdHJ1ZVxuICAgICAgICAgICAgICB9KSArIFwiIFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5zdHlsZUNsYXNzICsgXCIgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aCkgdGRDU1NfY2xhc3MgKz0gXCJoYXNCb3JkZXIgXCI7XG4gICAgICAgICAgaWYgKGNpID09IGNsIC0gMSkgdGRDU1NfY2xhc3MgKz0gXCJpc0xhc3RDb2x1bW4gXCI7XG4gICAgICAgICAgcmV0dXJuIHRkQ1NTX2NsYXNzO1xuICAgICAgICB9LmNhbGwodGhpcywgY29sKSArICdcIiAnLCAnc3R5bGU9XCJoZWlnaHQ6ICcgKyBjZWxsSGVpZ2h0ICsgJ3B4O21pbi1oZWlnaHQ6IDFweDtcIj4nKTtcblxuICAgICAgICBTUy5wdXNoKGZ1bmN0aW9uIChfY2VsbEhlaWdodCkge1xuICAgICAgICAgIGxldCBsaW5lSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0IC0gY2ZnLmJvZHkuY29sdW1uUGFkZGluZyAqIDIgLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgICBpZiAoIWNvbC5tdWx0aUxpbmUpIHtcbiAgICAgICAgICAgIF9jZWxsSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0IC0gY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuICc8c3BhbiBkYXRhLWF4NmdyaWQtY2VsbEhvbGRlcj1cIicgKyAoY29sLm11bHRpTGluZSA/ICdtdWx0aUxpbmUnIDogJycpICsgJ1wiICcgKyAoY29sQWxpZ24gPyAnZGF0YS1heDZncmlkLXRleHQtYWxpZ249XCInICsgY29sQWxpZ24gKyAnXCInIDogJycpICsgJ1wiIHN0eWxlPVwiaGVpZ2h0OicgKyBfY2VsbEhlaWdodCArICdweDsnICsgKGNvbC5tdWx0aUxpbmUgPyAnJyA6ICdsaW5lLWhlaWdodDogJyArIGxpbmVIZWlnaHQgKyAncHg7JykgKyAnXCI+JztcbiAgICAgICAgfShjZWxsSGVpZ2h0KSwgZ2V0U3VtRmllbGRWYWx1ZS5jYWxsKHRoaXMsIF9saXN0LCBjb2wpLCAnPC9zcGFuPicpO1xuXG4gICAgICAgIFNTLnB1c2goJzwvdGQ+Jyk7XG4gICAgICB9XG4gICAgICBTUy5wdXNoKCc8dGQgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93PVwibnVsbFwiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbD1cIm51bGxcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyPVwiJyArIFwic3VtXCIgKyAnXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICsgJ3B4O21pbi1oZWlnaHQ6IDFweDtcIiAnLCAnPjwvdGQ+Jyk7XG4gICAgICBTUy5wdXNoKCc8L3RyPicpO1xuICAgIH1cblxuICAgIFNTLnB1c2goJzwvdGFibGU+Jyk7XG5cbiAgICBfZWxUYXJnZXQuZW1wdHkoKS5nZXQoMCkuaW5uZXJIVE1MID0gU1Muam9pbignJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGxldCByZXBsYWNlR3JvdXBUciA9IGZ1bmN0aW9uIChfZWxUYXJnZXRLZXksIF9jb2xHcm91cCwgX2dyb3VwUm93LCBfbGlzdCwgX3Njcm9sbENvbmZpZykge1xuICAgIGxldCBfZWxUYXJnZXQgPSB0aGlzLiQucGFuZWxbX2VsVGFyZ2V0S2V5XSxcbiAgICAgICAgU1MgPSBbXSxcbiAgICAgICAgZGksXG4gICAgICAgIGRsLFxuICAgICAgICB0cmksXG4gICAgICAgIHRybCxcbiAgICAgICAgY2ksXG4gICAgICAgIGNsLFxuICAgICAgICBjb2wsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNvbEFsaWduO1xuXG4gICAgZm9yIChkaSA9IF9zY3JvbGxDb25maWcucGFpbnRTdGFydFJvd0luZGV4LCBkbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBsZW47XG4gICAgICBsZW4gPSBfbGlzdC5sZW5ndGg7XG4gICAgICBpZiAoX3Njcm9sbENvbmZpZy5wYWludFJvd0NvdW50ICsgX3Njcm9sbENvbmZpZy5wYWludFN0YXJ0Um93SW5kZXggPCBsZW4pIHtcbiAgICAgICAgbGVuID0gX3Njcm9sbENvbmZpZy5wYWludFJvd0NvdW50ICsgX3Njcm9sbENvbmZpZy5wYWludFN0YXJ0Um93SW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVuO1xuICAgIH0oKTsgZGkgPCBkbDsgZGkrKykge1xuICAgICAgaWYgKF9saXN0W2RpXSAmJiBfZ3JvdXBSb3cgJiYgXCJfX2lzR3JvdXBpbmdcIiBpbiBfbGlzdFtkaV0pIHtcbiAgICAgICAgbGV0IHJvd1RhYmxlID0gX2dyb3VwUm93O1xuICAgICAgICBTUyA9IFtdO1xuICAgICAgICBmb3IgKHRyaSA9IDAsIHRybCA9IHJvd1RhYmxlLnJvd3MubGVuZ3RoOyB0cmkgPCB0cmw7IHRyaSsrKSB7XG4gICAgICAgICAgZm9yIChjaSA9IDAsIGNsID0gcm93VGFibGUucm93c1t0cmldLmNvbHMubGVuZ3RoOyBjaSA8IGNsOyBjaSsrKSB7XG4gICAgICAgICAgICBjb2wgPSByb3dUYWJsZS5yb3dzW3RyaV0uY29sc1tjaV07XG4gICAgICAgICAgICBjZWxsSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICogY29sLnJvd3NwYW4gLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgICAgIGNvbEFsaWduID0gY29sLmFsaWduIHx8IGJvZHlBbGlnbjtcblxuICAgICAgICAgICAgU1MucHVzaCgnPHRkICcsICdkYXRhLWF4NmdyaWQtcGFuZWwtbmFtZT1cIicgKyBfZWxUYXJnZXRLZXkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1kYXRhLWluZGV4PVwiJyArIGRpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvdz1cIicgKyB0cmkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sPVwiJyArIGNpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvd0luZGV4PVwiJyArIGNvbC5yb3dJbmRleCArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2xJbmRleD1cIicgKyBjb2wuY29sSW5kZXggKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tYXR0cj1cIicgKyAoY29sLmNvbHVtbkF0dHIgfHwgXCJkZWZhdWx0XCIpICsgJ1wiICcsIGZ1bmN0aW9uIChfZm9jdXNlZENvbHVtbiwgX3NlbGVjdGVkQ29sdW1uKSB7XG4gICAgICAgICAgICAgIGxldCBhdHRycyA9IFwiXCI7XG4gICAgICAgICAgICAgIGlmIChfZm9jdXNlZENvbHVtbikge1xuICAgICAgICAgICAgICAgIGF0dHJzICs9ICdkYXRhLWF4NmdyaWQtY29sdW1uLWZvY3VzZWQ9XCJ0cnVlXCIgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoX3NlbGVjdGVkQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMgKz0gJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tc2VsZWN0ZWQ9XCJ0cnVlXCIgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICAgICAgICB9KHRoaXMuZm9jdXNlZENvbHVtbltkaSArIFwiX1wiICsgY29sLmNvbEluZGV4ICsgXCJfXCIgKyBjb2wucm93SW5kZXhdLCB0aGlzLnNlbGVjdGVkQ29sdW1uW2RpICsgXCJfXCIgKyBjb2wuY29sSW5kZXggKyBcIl9cIiArIGNvbC5yb3dJbmRleF0pLCAnY29sc3Bhbj1cIicgKyBjb2wuY29sc3BhbiArICdcIiAnLCAncm93c3Bhbj1cIicgKyBjb2wucm93c3BhbiArICdcIiAnLCAnY2xhc3M9XCInICsgZnVuY3Rpb24gKF9jb2wpIHtcbiAgICAgICAgICAgICAgbGV0IHRkQ1NTX2NsYXNzID0gXCJcIjtcbiAgICAgICAgICAgICAgaWYgKF9jb2wuc3R5bGVDbGFzcykge1xuICAgICAgICAgICAgICAgIGlmIChVLmlzRnVuY3Rpb24oX2NvbC5zdHlsZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5zdHlsZUNsYXNzLmNhbGwoe1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46IF9jb2wsXG4gICAgICAgICAgICAgICAgICAgIGtleTogX2NvbC5rZXksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IF9saXN0W2RpXSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGRpXG4gICAgICAgICAgICAgICAgICB9KSArIFwiIFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0ZENTU19jbGFzcyArPSBfY29sLnN0eWxlQ2xhc3MgKyBcIiBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoKSB0ZENTU19jbGFzcyArPSBcImhhc0JvcmRlciBcIjtcbiAgICAgICAgICAgICAgaWYgKGNpID09IGNsIC0gMSkgdGRDU1NfY2xhc3MgKz0gXCJpc0xhc3RDb2x1bW4gXCI7XG4gICAgICAgICAgICAgIHJldHVybiB0ZENTU19jbGFzcztcbiAgICAgICAgICAgIH0uY2FsbCh0aGlzLCBjb2wpICsgJ1wiICcsICdzdHlsZT1cImhlaWdodDogJyArIGNlbGxIZWlnaHQgKyAncHg7bWluLWhlaWdodDogMXB4O1wiPicpO1xuXG4gICAgICAgICAgICBTUy5wdXNoKGZ1bmN0aW9uIChfY2VsbEhlaWdodCkge1xuICAgICAgICAgICAgICBsZXQgbGluZUhlaWdodCA9IGNmZy5ib2R5LmNvbHVtbkhlaWdodCAtIGNmZy5ib2R5LmNvbHVtblBhZGRpbmcgKiAyIC0gY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgICAgICAgIGlmICghY29sLm11bHRpTGluZSkge1xuICAgICAgICAgICAgICAgIF9jZWxsSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0IC0gY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGRhdGEtYXg2Z3JpZC1jZWxsSG9sZGVyPVwiJyArIChjb2wubXVsdGlMaW5lID8gJ211bHRpTGluZScgOiAnJykgKyAnXCIgJyArIChjb2xBbGlnbiA/ICdkYXRhLWF4NmdyaWQtdGV4dC1hbGlnbj1cIicgKyBjb2xBbGlnbiArICdcIicgOiAnJykgKyAnXCIgc3R5bGU9XCJoZWlnaHQ6JyArIF9jZWxsSGVpZ2h0ICsgJ3B4OycgKyAoY29sLm11bHRpTGluZSA/ICcnIDogJ2xpbmUtaGVpZ2h0OiAnICsgbGluZUhlaWdodCArICdweDsnKSArICdcIj4nO1xuICAgICAgICAgICAgfShjZWxsSGVpZ2h0KSwgZ2V0R3JvdXBpbmdWYWx1ZS5jYWxsKHRoaXMsIF9saXN0W2RpXSwgZGksIGNvbCksICc8L3NwYW4+Jyk7XG5cbiAgICAgICAgICAgIFNTLnB1c2goJzwvdGQ+Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFNTLnB1c2goJzx0ZCAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1yb3c9XCJudWxsXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sPVwibnVsbFwiICcsICdkYXRhLWF4NmdyaWQtZGF0YS1pbmRleD1cIicgKyBkaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyPVwiJyArIFwiZGVmYXVsdFwiICsgJ1wiICcsICdzdHlsZT1cImhlaWdodDogJyArIGNmZy5ib2R5LmNvbHVtbkhlaWdodCArICdweDttaW4taGVpZ2h0OiAxcHg7XCIgJywgJz48L3RkPicpO1xuICAgICAgICB9XG4gICAgICAgIF9lbFRhcmdldC5maW5kKCd0cltkYXRhLWF4NmdyaWQtdHItZGF0YS1pbmRleD1cIicgKyBkaSArICdcIl0nKS5lbXB0eSgpLmdldCgwKS5pbm5lckhUTUwgPSBTUy5qb2luKCcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gYm9keS5ncm91cGluZyB0ciDri6Tsi5wg6re466as6riwLi5cbiAgaWYgKGNmZy5ib2R5Lmdyb3VwaW5nKSB7XG4gICAgLy8gbGVmdFxuICAgIGlmICh0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXggPiAwKSB7XG4gICAgICBpZiAodGhpcy54dmFyLmZyb3plblJvd0luZGV4ID4gMCkge1xuICAgICAgICAvLyDsg4Hri6gg7ZaJ6rOg7KCVXG4gICAgICAgIHJlcGxhY2VHcm91cFRyLmNhbGwodGhpcywgXCJ0b3AtbGVmdC1ib2R5XCIsIGhlYWRlckNvbEdyb3VwLCBsZWZ0Qm9keUdyb3VwaW5nRGF0YSwgbGlzdC5zbGljZSgwLCB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXgpLCB7XG4gICAgICAgICAgcGFpbnRTdGFydFJvd0luZGV4OiAwLFxuICAgICAgICAgIHBhaW50Um93Q291bnQ6IHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCxcbiAgICAgICAgICBib2R5VHJIZWlnaHQ6IHRoaXMueHZhci5ib2R5VHJIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXBsYWNlR3JvdXBUci5jYWxsKHRoaXMsIFwibGVmdC1ib2R5LXNjcm9sbFwiLCBoZWFkZXJDb2xHcm91cCwgbGVmdEJvZHlHcm91cGluZ0RhdGEsIGxpc3QsIHNjcm9sbENvbmZpZyk7XG4gICAgfVxuXG4gICAgLy8gYm9keVxuICAgIGlmICh0aGlzLnh2YXIuZnJvemVuUm93SW5kZXggPiAwKSB7XG4gICAgICAvLyDsg4Hri6gg7ZaJ6rOg7KCVXG4gICAgICByZXBsYWNlR3JvdXBUci5jYWxsKHRoaXMsIFwidG9wLWJvZHktc2Nyb2xsXCIsIGhlYWRlckNvbEdyb3VwLCBib2R5R3JvdXBpbmdEYXRhLCBsaXN0LnNsaWNlKDAsIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCksIHtcbiAgICAgICAgcGFpbnRTdGFydFJvd0luZGV4OiAwLFxuICAgICAgICBwYWludFJvd0NvdW50OiB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXgsXG4gICAgICAgIGJvZHlUckhlaWdodDogdGhpcy54dmFyLmJvZHlUckhlaWdodFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVwbGFjZUdyb3VwVHIuY2FsbCh0aGlzLCBcImJvZHktc2Nyb2xsXCIsIGhlYWRlckNvbEdyb3VwLCBib2R5R3JvdXBpbmdEYXRhLCBsaXN0LCBzY3JvbGxDb25maWcpO1xuICB9XG5cbiAgaWYgKHRoaXMueHZhci5mcm96ZW5Db2x1bW5JbmRleCA+IDApIHtcbiAgICBpZiAoY2ZnLmZvb3RTdW0gJiYgdGhpcy5uZWVkVG9QYWludFN1bSkge1xuICAgICAgLy8g67CU64ulIOyalOyVvVxuICAgICAgcmVwYWludFN1bS5jYWxsKHRoaXMsIFwiYm90dG9tLWxlZnQtYm9keVwiLCBoZWFkZXJDb2xHcm91cCwgbGVmdEZvb3RTdW1EYXRhLCBsaXN0KTtcbiAgICB9XG4gIH1cblxuICBpZiAoY2ZnLmZvb3RTdW0gJiYgdGhpcy5uZWVkVG9QYWludFN1bSkge1xuICAgIC8vIOuwlOuLpSDsmpTslb1cbiAgICByZXBhaW50U3VtLmNhbGwodGhpcywgXCJib3R0b20tYm9keS1zY3JvbGxcIiwgaGVhZGVyQ29sR3JvdXAsIGZvb3RTdW1EYXRhLCBsaXN0LCBzY3JvbGxDb25maWcpO1xuICB9XG59O1xuXG5jb25zdCByZXBhaW50Um93ID0gZnVuY3Rpb24gKF9kaW5kZXgpIHtcbiAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgY2ZnID0gdGhpcy5jb25maWcsXG4gICAgICBsaXN0ID0gdGhpcy5saXN0O1xuICAvLy8gfn5+fn5+XG5cbiAgbGV0IHBhaW50U3RhcnRSb3dJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5hYnModGhpcy4kLnBhbmVsW1wiYm9keS1zY3JvbGxcIl0ucG9zaXRpb24oKS50b3ApIC8gdGhpcy54dmFyLmJvZHlUckhlaWdodCkgKyB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXgsXG4gICAgICBhc2lkZUJvZHlSb3dEYXRhID0gdGhpcy5hc2lkZUJvZHlSb3dEYXRhLFxuICAgICAgbGVmdEJvZHlSb3dEYXRhID0gdGhpcy5sZWZ0Qm9keVJvd0RhdGEsXG4gICAgICBib2R5Um93RGF0YSA9IHRoaXMuYm9keVJvd0RhdGEsXG4gICAgICBsZWZ0Rm9vdFN1bURhdGEgPSB0aGlzLmxlZnRGb290U3VtRGF0YSxcbiAgICAgIGZvb3RTdW1EYXRhID0gdGhpcy5mb290U3VtRGF0YSxcbiAgICAgIGFzaWRlQm9keUdyb3VwaW5nRGF0YSA9IHRoaXMuYXNpZGVCb2R5R3JvdXBpbmdEYXRhLFxuICAgICAgbGVmdEJvZHlHcm91cGluZ0RhdGEgPSB0aGlzLmxlZnRCb2R5R3JvdXBpbmdEYXRhLFxuICAgICAgYm9keUdyb3VwaW5nRGF0YSA9IHRoaXMuYm9keUdyb3VwaW5nRGF0YSxcbiAgICAgIGJvZHlBbGlnbiA9IGNmZy5ib2R5LmFsaWduLFxuICAgICAgcGFpbnRSb3dDb3VudCA9IE1hdGguY2VpbCh0aGlzLiQucGFuZWxbXCJib2R5XCJdLmhlaWdodCgpIC8gdGhpcy54dmFyLmJvZHlUckhlaWdodCkgKyAxLFxuICAgICAgc2Nyb2xsQ29uZmlnID0ge1xuICAgIHBhaW50U3RhcnRSb3dJbmRleDogcGFpbnRTdGFydFJvd0luZGV4LFxuICAgIHBhaW50Um93Q291bnQ6IHBhaW50Um93Q291bnQsXG4gICAgYm9keVRySGVpZ2h0OiB0aGlzLnh2YXIuYm9keVRySGVpZ2h0XG4gIH07XG5cbiAgbGV0IHJlcGFpbnRTdW0gPSBmdW5jdGlvbiAoX2VsVGFyZ2V0S2V5LCBfY29sR3JvdXAsIF9ib2R5Um93LCBfbGlzdCkge1xuICAgIGxldCBfZWxUYXJnZXQgPSB0aGlzLiQucGFuZWxbX2VsVGFyZ2V0S2V5XSxcbiAgICAgICAgU1MgPSBbXSxcbiAgICAgICAgY2dpLFxuICAgICAgICBjZ2wsXG4gICAgICAgIHRyaSxcbiAgICAgICAgdHJsLFxuICAgICAgICBjaSxcbiAgICAgICAgY2wsXG4gICAgICAgIGNvbCxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY29sQWxpZ247XG5cbiAgICBTUy5wdXNoKCc8dGFibGUgYm9yZGVyPVwiMFwiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiPicpO1xuICAgIFNTLnB1c2goJzxjb2xncm91cD4nKTtcbiAgICBmb3IgKGNnaSA9IDAsIGNnbCA9IF9jb2xHcm91cC5sZW5ndGg7IGNnaSA8IGNnbDsgY2dpKyspIHtcbiAgICAgIFNTLnB1c2goJzxjb2wgc3R5bGU9XCJ3aWR0aDonICsgX2NvbEdyb3VwW2NnaV0uX3dpZHRoICsgJ3B4O1wiICAvPicpO1xuICAgIH1cbiAgICBTUy5wdXNoKCc8Y29sICAvPicpO1xuICAgIFNTLnB1c2goJzwvY29sZ3JvdXA+Jyk7XG5cbiAgICBmb3IgKHRyaSA9IDAsIHRybCA9IF9ib2R5Um93LnJvd3MubGVuZ3RoOyB0cmkgPCB0cmw7IHRyaSsrKSB7XG4gICAgICBTUy5wdXNoKCc8dHIgY2xhc3M9XCJ0ci1zdW1cIj4nKTtcbiAgICAgIGZvciAoY2kgPSAwLCBjbCA9IF9ib2R5Um93LnJvd3NbdHJpXS5jb2xzLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuICAgICAgICBjb2wgPSBfYm9keVJvdy5yb3dzW3RyaV0uY29sc1tjaV07XG4gICAgICAgIGNlbGxIZWlnaHQgPSBjZmcuYm9keS5jb2x1bW5IZWlnaHQgKiBjb2wucm93c3BhbiAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoO1xuICAgICAgICBjb2xBbGlnbiA9IGNvbC5hbGlnbiB8fCBib2R5QWxpZ247XG5cbiAgICAgICAgU1MucHVzaCgnPHRkICcsICdkYXRhLWF4NmdyaWQtcGFuZWwtbmFtZT1cIicgKyBfZWxUYXJnZXRLZXkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93PVwiJyArIHRyaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2w9XCInICsgY2kgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93SW5kZXg9XCInICsgdHJpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbEluZGV4PVwiJyArIGNvbC5jb2xJbmRleCArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyPVwiJyArIChjb2wuY29sdW1uQXR0ciB8fCBcInN1bVwiKSArICdcIiAnLCBmdW5jdGlvbiAoX2ZvY3VzZWRDb2x1bW4sIF9zZWxlY3RlZENvbHVtbikge1xuICAgICAgICAgIHZhciBhdHRycyA9IFwiXCI7XG4gICAgICAgICAgaWYgKF9mb2N1c2VkQ29sdW1uKSB7XG4gICAgICAgICAgICBhdHRycyArPSAnZGF0YS1heDZncmlkLWNvbHVtbi1mb2N1c2VkPVwidHJ1ZVwiICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfc2VsZWN0ZWRDb2x1bW4pIHtcbiAgICAgICAgICAgIGF0dHJzICs9ICdkYXRhLWF4NmdyaWQtY29sdW1uLXNlbGVjdGVkPVwidHJ1ZVwiICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICAgICAgfSh0aGlzLmZvY3VzZWRDb2x1bW5bXCJzdW1fXCIgKyBjb2wuY29sSW5kZXggKyBcIl9cIiArIHRyaV0sIHRoaXMuc2VsZWN0ZWRDb2x1bW5bXCJzdW1fXCIgKyBjb2wuY29sSW5kZXggKyBcIl9cIiArIHRyaV0pLCAnY29sc3Bhbj1cIicgKyBjb2wuY29sc3BhbiArICdcIiAnLCAncm93c3Bhbj1cIicgKyBjb2wucm93c3BhbiArICdcIiAnLCAnY2xhc3M9XCInICsgZnVuY3Rpb24gKF9jb2wpIHtcbiAgICAgICAgICB2YXIgdGRDU1NfY2xhc3MgPSBcIlwiO1xuICAgICAgICAgIGlmIChfY29sLnN0eWxlQ2xhc3MpIHtcbiAgICAgICAgICAgIGlmIChVLmlzRnVuY3Rpb24oX2NvbC5zdHlsZUNsYXNzKSkge1xuICAgICAgICAgICAgICB0ZENTU19jbGFzcyArPSBfY29sLnN0eWxlQ2xhc3MuY2FsbCh7XG4gICAgICAgICAgICAgICAgY29sdW1uOiBfY29sLFxuICAgICAgICAgICAgICAgIGtleTogX2NvbC5rZXksXG4gICAgICAgICAgICAgICAgaXNGb290U3VtOiB0cnVlXG4gICAgICAgICAgICAgIH0pICsgXCIgXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZENTU19jbGFzcyArPSBfY29sLnN0eWxlQ2xhc3MgKyBcIiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoKSB0ZENTU19jbGFzcyArPSBcImhhc0JvcmRlciBcIjtcbiAgICAgICAgICBpZiAoY2kgPT0gY2wgLSAxKSB0ZENTU19jbGFzcyArPSBcImlzTGFzdENvbHVtbiBcIjtcbiAgICAgICAgICByZXR1cm4gdGRDU1NfY2xhc3M7XG4gICAgICAgIH0uY2FsbCh0aGlzLCBjb2wpICsgJ1wiICcsICdzdHlsZT1cImhlaWdodDogJyArIGNlbGxIZWlnaHQgKyAncHg7bWluLWhlaWdodDogMXB4O1wiPicpO1xuXG4gICAgICAgIFNTLnB1c2goZnVuY3Rpb24gKF9jZWxsSGVpZ2h0KSB7XG4gICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBjZmcuYm9keS5jb2x1bW5IZWlnaHQgLSBjZmcuYm9keS5jb2x1bW5QYWRkaW5nICogMiAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoO1xuICAgICAgICAgIGlmICghY29sLm11bHRpTGluZSkge1xuICAgICAgICAgICAgX2NlbGxIZWlnaHQgPSBjZmcuYm9keS5jb2x1bW5IZWlnaHQgLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gJzxzcGFuIGRhdGEtYXg2Z3JpZC1jZWxsSG9sZGVyPVwiJyArIChjb2wubXVsdGlMaW5lID8gJ211bHRpTGluZScgOiAnJykgKyAnXCIgJyArIChjb2xBbGlnbiA/ICdkYXRhLWF4NmdyaWQtdGV4dC1hbGlnbj1cIicgKyBjb2xBbGlnbiArICdcIicgOiAnJykgKyAnXCIgc3R5bGU9XCJoZWlnaHQ6JyArIF9jZWxsSGVpZ2h0ICsgJ3B4O2xpbmUtaGVpZ2h0OiAnICsgbGluZUhlaWdodCArICdweDtcIj4nO1xuICAgICAgICB9KGNlbGxIZWlnaHQpLCBnZXRTdW1GaWVsZFZhbHVlLmNhbGwodGhpcywgX2xpc3QsIGNvbCksICc8L3NwYW4+Jyk7XG5cbiAgICAgICAgU1MucHVzaCgnPC90ZD4nKTtcbiAgICAgIH1cbiAgICAgIFNTLnB1c2goJzx0ZCAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1yb3c9XCJudWxsXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sPVwibnVsbFwiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHI9XCInICsgXCJzdW1cIiArICdcIiAnLCAnc3R5bGU9XCJoZWlnaHQ6ICcgKyBjZmcuYm9keS5jb2x1bW5IZWlnaHQgKyAncHg7bWluLWhlaWdodDogMXB4O1wiICcsICc+PC90ZD4nKTtcbiAgICAgIFNTLnB1c2goJzwvdHI+Jyk7XG4gICAgfVxuXG4gICAgU1MucHVzaCgnPC90YWJsZT4nKTtcblxuICAgIF9lbFRhcmdldC5lbXB0eSgpLmdldCgwKS5pbm5lckhUTUwgPSBTUy5qb2luKCcnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgbGV0IHJlcGxhY2VHcm91cFRyID0gZnVuY3Rpb24gKF9lbFRhcmdldEtleSwgX2NvbEdyb3VwLCBfZ3JvdXBSb3csIF9saXN0LCBfc2Nyb2xsQ29uZmlnKSB7XG4gICAgbGV0IF9lbFRhcmdldCA9IHRoaXMuJC5wYW5lbFtfZWxUYXJnZXRLZXldLFxuICAgICAgICBTUyA9IFtdLFxuICAgICAgICBkaSxcbiAgICAgICAgZGwsXG4gICAgICAgIHRyaSxcbiAgICAgICAgdHJsLFxuICAgICAgICBjaSxcbiAgICAgICAgY2wsXG4gICAgICAgIGNvbCxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY29sQWxpZ247XG5cbiAgICBpZiAodHlwZW9mIF9zY3JvbGxDb25maWcgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIF9zY3JvbGxDb25maWdbJ3BhaW50U3RhcnRSb3dJbmRleCddID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBfc2Nyb2xsQ29uZmlnID0ge1xuICAgICAgICBwYWludFN0YXJ0Um93SW5kZXg6IDAsXG4gICAgICAgIHBhaW50Um93Q291bnQ6IF9saXN0Lmxlbmd0aFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3IgKGRpID0gX3Njcm9sbENvbmZpZy5wYWludFN0YXJ0Um93SW5kZXgsIGRsID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGxlbjtcbiAgICAgIGxlbiA9IF9saXN0Lmxlbmd0aDtcbiAgICAgIGlmIChfc2Nyb2xsQ29uZmlnLnBhaW50Um93Q291bnQgKyBfc2Nyb2xsQ29uZmlnLnBhaW50U3RhcnRSb3dJbmRleCA8IGxlbikge1xuICAgICAgICBsZW4gPSBfc2Nyb2xsQ29uZmlnLnBhaW50Um93Q291bnQgKyBfc2Nyb2xsQ29uZmlnLnBhaW50U3RhcnRSb3dJbmRleDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZW47XG4gICAgfSgpOyBkaSA8IGRsOyBkaSsrKSB7XG4gICAgICBpZiAoX2xpc3RbZGldICYmIF9ncm91cFJvdyAmJiBcIl9faXNHcm91cGluZ1wiIGluIF9saXN0W2RpXSkge1xuICAgICAgICBsZXQgcm93VGFibGUgPSBfZ3JvdXBSb3c7XG4gICAgICAgIFNTID0gW107XG4gICAgICAgIGZvciAodHJpID0gMCwgdHJsID0gcm93VGFibGUucm93cy5sZW5ndGg7IHRyaSA8IHRybDsgdHJpKyspIHtcbiAgICAgICAgICBmb3IgKGNpID0gMCwgY2wgPSByb3dUYWJsZS5yb3dzW3RyaV0uY29scy5sZW5ndGg7IGNpIDwgY2w7IGNpKyspIHtcbiAgICAgICAgICAgIGNvbCA9IHJvd1RhYmxlLnJvd3NbdHJpXS5jb2xzW2NpXTtcbiAgICAgICAgICAgIGNlbGxIZWlnaHQgPSBjZmcuYm9keS5jb2x1bW5IZWlnaHQgKiBjb2wucm93c3BhbiAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoO1xuICAgICAgICAgICAgY29sQWxpZ24gPSBjb2wuYWxpZ24gfHwgYm9keUFsaWduO1xuXG4gICAgICAgICAgICBTUy5wdXNoKCc8dGQgJywgJ2RhdGEtYXg2Z3JpZC1wYW5lbC1uYW1lPVwiJyArIF9lbFRhcmdldEtleSArICdcIiAnLCAnZGF0YS1heDZncmlkLWRhdGEtaW5kZXg9XCInICsgZGkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93PVwiJyArIHRyaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2w9XCInICsgY2kgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93SW5kZXg9XCInICsgY29sLnJvd0luZGV4ICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbEluZGV4PVwiJyArIGNvbC5jb2xJbmRleCArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyPVwiJyArIChjb2wuY29sdW1uQXR0ciB8fCBcImRlZmF1bHRcIikgKyAnXCIgJywgZnVuY3Rpb24gKF9mb2N1c2VkQ29sdW1uLCBfc2VsZWN0ZWRDb2x1bW4pIHtcbiAgICAgICAgICAgICAgbGV0IGF0dHJzID0gXCJcIjtcbiAgICAgICAgICAgICAgaWYgKF9mb2N1c2VkQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMgKz0gJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tZm9jdXNlZD1cInRydWVcIiAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChfc2VsZWN0ZWRDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICBhdHRycyArPSAnZGF0YS1heDZncmlkLWNvbHVtbi1zZWxlY3RlZD1cInRydWVcIiAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICAgICAgICAgIH0odGhpcy5mb2N1c2VkQ29sdW1uW2RpICsgXCJfXCIgKyBjb2wuY29sSW5kZXggKyBcIl9cIiArIGNvbC5yb3dJbmRleF0sIHRoaXMuc2VsZWN0ZWRDb2x1bW5bZGkgKyBcIl9cIiArIGNvbC5jb2xJbmRleCArIFwiX1wiICsgY29sLnJvd0luZGV4XSksICdjb2xzcGFuPVwiJyArIGNvbC5jb2xzcGFuICsgJ1wiICcsICdyb3dzcGFuPVwiJyArIGNvbC5yb3dzcGFuICsgJ1wiICcsICdjbGFzcz1cIicgKyBmdW5jdGlvbiAoX2NvbCkge1xuICAgICAgICAgICAgICBsZXQgdGRDU1NfY2xhc3MgPSBcIlwiO1xuICAgICAgICAgICAgICBpZiAoX2NvbC5zdHlsZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKFUuaXNGdW5jdGlvbihfY29sLnN0eWxlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICB0ZENTU19jbGFzcyArPSBfY29sLnN0eWxlQ2xhc3MuY2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogX2NvbCxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBfY29sLmtleSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogX2xpc3RbZGldLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogZGlcbiAgICAgICAgICAgICAgICAgIH0pICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRkQ1NTX2NsYXNzICs9IF9jb2wuc3R5bGVDbGFzcyArIFwiIFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGgpIHRkQ1NTX2NsYXNzICs9IFwiaGFzQm9yZGVyIFwiO1xuICAgICAgICAgICAgICBpZiAoY2kgPT0gY2wgLSAxKSB0ZENTU19jbGFzcyArPSBcImlzTGFzdENvbHVtbiBcIjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRkQ1NTX2NsYXNzO1xuICAgICAgICAgICAgfS5jYWxsKHRoaXMsIGNvbCkgKyAnXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2VsbEhlaWdodCArICdweDttaW4taGVpZ2h0OiAxcHg7XCI+Jyk7XG5cbiAgICAgICAgICAgIFNTLnB1c2goZnVuY3Rpb24gKF9jZWxsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgIGxldCBsaW5lSGVpZ2h0ID0gY2ZnLmJvZHkuY29sdW1uSGVpZ2h0IC0gY2ZnLmJvZHkuY29sdW1uUGFkZGluZyAqIDIgLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgICAgICAgaWYgKCFjb2wubXVsdGlMaW5lKSB7XG4gICAgICAgICAgICAgICAgX2NlbGxIZWlnaHQgPSBjZmcuYm9keS5jb2x1bW5IZWlnaHQgLSBjZmcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiAnPHNwYW4gZGF0YS1heDZncmlkLWNlbGxIb2xkZXI9XCInICsgKGNvbC5tdWx0aUxpbmUgPyAnbXVsdGlMaW5lJyA6ICcnKSArICdcIiAnICsgKGNvbEFsaWduID8gJ2RhdGEtYXg2Z3JpZC10ZXh0LWFsaWduPVwiJyArIGNvbEFsaWduICsgJ1wiJyA6ICcnKSArICdcIiBzdHlsZT1cImhlaWdodDonICsgX2NlbGxIZWlnaHQgKyAncHg7bGluZS1oZWlnaHQ6ICcgKyBsaW5lSGVpZ2h0ICsgJ3B4O1wiPic7XG4gICAgICAgICAgICB9KGNlbGxIZWlnaHQpLCBnZXRHcm91cGluZ1ZhbHVlLmNhbGwodGhpcywgX2xpc3RbZGldLCBkaSwgY29sKSwgJzwvc3Bhbj4nKTtcblxuICAgICAgICAgICAgU1MucHVzaCgnPC90ZD4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgU1MucHVzaCgnPHRkICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvdz1cIm51bGxcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2w9XCJudWxsXCIgJywgJ2RhdGEtYXg2Z3JpZC1kYXRhLWluZGV4PVwiJyArIGRpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHI9XCInICsgXCJkZWZhdWx0XCIgKyAnXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2ZnLmJvZHkuY29sdW1uSGVpZ2h0ICsgJ3B4O21pbi1oZWlnaHQ6IDFweDtcIiAnLCAnPjwvdGQ+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VsVGFyZ2V0LmZpbmQoJ3RyW2RhdGEtYXg2Z3JpZC10ci1kYXRhLWluZGV4PVwiJyArIGRpICsgJ1wiXScpLmVtcHR5KCkuZ2V0KDApLmlubmVySFRNTCA9IFNTLmpvaW4oJycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbGV0IHJlcGxhY2VUciA9IGZ1bmN0aW9uIChfZWxUYXJnZXRLZXksIF9jb2xHcm91cCwgX2JvZHlSb3csIF9saXN0LCBkaSkge1xuICAgIGxldCBfZWxUYXJnZXQgPSB0aGlzLiQucGFuZWxbX2VsVGFyZ2V0S2V5XSxcbiAgICAgICAgU1MgPSBbXSxcbiAgICAgICAgdHJpLFxuICAgICAgICB0cmwsXG4gICAgICAgIGNpLFxuICAgICAgICBjbCxcbiAgICAgICAgY29sLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjb2xBbGlnbixcbiAgICAgICAgcm93VGFibGUgPSBfYm9keVJvdyxcbiAgICAgICAgb2RpID0gdHlwZW9mIF9saXN0W2RpXS5fX29yaWdpbl9pbmRleF9fICE9PSBcInVuZGVmaW5lZFwiID8gX2xpc3RbZGldLl9fb3JpZ2luX2luZGV4X18gOiBkaTtcblxuICAgIGZvciAodHJpID0gMCwgdHJsID0gcm93VGFibGUucm93cy5sZW5ndGg7IHRyaSA8IHRybDsgdHJpKyspIHtcbiAgICAgIGZvciAoY2kgPSAwLCBjbCA9IHJvd1RhYmxlLnJvd3NbdHJpXS5jb2xzLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuICAgICAgICBjb2wgPSByb3dUYWJsZS5yb3dzW3RyaV0uY29sc1tjaV07XG4gICAgICAgIGNlbGxIZWlnaHQgPSBjZmcuYm9keS5jb2x1bW5IZWlnaHQgKiBjb2wucm93c3BhbiAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoO1xuICAgICAgICBjb2xBbGlnbiA9IGNvbC5hbGlnbiB8fCBib2R5QWxpZ247XG5cbiAgICAgICAgU1MucHVzaCgnPHRkICcsICdkYXRhLWF4NmdyaWQtcGFuZWwtbmFtZT1cIicgKyBfZWxUYXJnZXRLZXkgKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1kYXRhLWluZGV4PVwiJyArIGRpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtZGF0YS1vLWluZGV4PVwiJyArIG9kaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1yb3c9XCInICsgdHJpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbD1cIicgKyBjaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1yb3dJbmRleD1cIicgKyBjb2wucm93SW5kZXggKyAnXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sSW5kZXg9XCInICsgY29sLmNvbEluZGV4ICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHI9XCInICsgKGNvbC5jb2x1bW5BdHRyIHx8IFwiZGVmYXVsdFwiKSArICdcIiAnLCBmdW5jdGlvbiAoX2ZvY3VzZWRDb2x1bW4sIF9zZWxlY3RlZENvbHVtbikge1xuICAgICAgICAgIGxldCBhdHRycyA9IFwiXCI7XG4gICAgICAgICAgaWYgKF9mb2N1c2VkQ29sdW1uKSB7XG4gICAgICAgICAgICBhdHRycyArPSAnZGF0YS1heDZncmlkLWNvbHVtbi1mb2N1c2VkPVwidHJ1ZVwiICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfc2VsZWN0ZWRDb2x1bW4pIHtcbiAgICAgICAgICAgIGF0dHJzICs9ICdkYXRhLWF4NmdyaWQtY29sdW1uLXNlbGVjdGVkPVwidHJ1ZVwiICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICAgICAgfSh0aGlzLmZvY3VzZWRDb2x1bW5bZGkgKyBcIl9cIiArIGNvbC5jb2xJbmRleCArIFwiX1wiICsgY29sLnJvd0luZGV4XSwgdGhpcy5zZWxlY3RlZENvbHVtbltkaSArIFwiX1wiICsgY29sLmNvbEluZGV4ICsgXCJfXCIgKyBjb2wucm93SW5kZXhdKSwgJ2NvbHNwYW49XCInICsgY29sLmNvbHNwYW4gKyAnXCIgJywgJ3Jvd3NwYW49XCInICsgY29sLnJvd3NwYW4gKyAnXCIgJywgJ2NsYXNzPVwiJyArIGZ1bmN0aW9uIChfY29sKSB7XG4gICAgICAgICAgbGV0IHRkQ1NTX2NsYXNzID0gXCJcIjtcbiAgICAgICAgICBpZiAoX2NvbC5zdHlsZUNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoVS5pc0Z1bmN0aW9uKF9jb2wuc3R5bGVDbGFzcykpIHtcbiAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5zdHlsZUNsYXNzLmNhbGwoe1xuICAgICAgICAgICAgICAgIGNvbHVtbjogX2NvbCxcbiAgICAgICAgICAgICAgICBrZXk6IF9jb2wua2V5LFxuICAgICAgICAgICAgICAgIGl0ZW06IF9saXN0W2RpXSxcbiAgICAgICAgICAgICAgICBpbmRleDogZGlcbiAgICAgICAgICAgICAgfSkgKyBcIiBcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRkQ1NTX2NsYXNzICs9IF9jb2wuc3R5bGVDbGFzcyArIFwiIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGgpIHRkQ1NTX2NsYXNzICs9IFwiaGFzQm9yZGVyIFwiO1xuICAgICAgICAgIGlmIChjaSA9PSBjbCAtIDEpIHRkQ1NTX2NsYXNzICs9IFwiaXNMYXN0Q29sdW1uIFwiO1xuICAgICAgICAgIHJldHVybiB0ZENTU19jbGFzcztcbiAgICAgICAgfS5jYWxsKHRoaXMsIGNvbCkgKyAnXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2VsbEhlaWdodCArICdweDttaW4taGVpZ2h0OiAxcHg7XCI+Jyk7XG5cbiAgICAgICAgU1MucHVzaChmdW5jdGlvbiAoX2NlbGxIZWlnaHQpIHtcbiAgICAgICAgICBsZXQgbGluZUhlaWdodCA9IGNmZy5ib2R5LmNvbHVtbkhlaWdodCAtIGNmZy5ib2R5LmNvbHVtblBhZGRpbmcgKiAyIC0gY2ZnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgICAgaWYgKCFjb2wubXVsdGlMaW5lKSB7XG4gICAgICAgICAgICBfY2VsbEhlaWdodCA9IGNmZy5ib2R5LmNvbHVtbkhlaWdodCAtIGNmZy5ib2R5LmNvbHVtbkJvcmRlcldpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAnPHNwYW4gZGF0YS1heDZncmlkLWNlbGxIb2xkZXI9XCInICsgKGNvbC5tdWx0aUxpbmUgPyAnbXVsdGlMaW5lJyA6ICcnKSArICdcIiAnICsgKGNvbEFsaWduID8gJ2RhdGEtYXg2Z3JpZC10ZXh0LWFsaWduPVwiJyArIGNvbEFsaWduICsgJ1wiJyA6ICcnKSArICdcIiBzdHlsZT1cImhlaWdodDonICsgX2NlbGxIZWlnaHQgKyAncHg7JyArIChjb2wubXVsdGlMaW5lID8gJycgOiAnbGluZS1oZWlnaHQ6ICcgKyBsaW5lSGVpZ2h0ICsgJ3B4OycpICsgJ1wiPic7XG4gICAgICAgIH0oY2VsbEhlaWdodCksIGdldEZpZWxkVmFsdWUuY2FsbCh0aGlzLCBfbGlzdCwgX2xpc3RbZGldLCBkaSwgY29sKSwgJzwvc3Bhbj4nKTtcbiAgICAgICAgU1MucHVzaCgnPC90ZD4nKTtcbiAgICAgIH1cbiAgICAgIFNTLnB1c2goJzx0ZCAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1yb3c9XCJudWxsXCIgJywgJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29sPVwibnVsbFwiICcsICdkYXRhLWF4NmdyaWQtZGF0YS1pbmRleD1cIicgKyBkaSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyPVwiJyArIFwiZGVmYXVsdFwiICsgJ1wiICcsICdzdHlsZT1cImhlaWdodDogJyArIGNmZy5ib2R5LmNvbHVtbkhlaWdodCArICdweDttaW4taGVpZ2h0OiAxcHg7XCIgJywgJz48L3RkPicpO1xuICAgIH1cblxuICAgIF9lbFRhcmdldC5maW5kKCd0cltkYXRhLWF4NmdyaWQtdHItZGF0YS1pbmRleD1cIicgKyBkaSArICdcIl0nKS5lbXB0eSgpLmdldCgwKS5pbm5lckhUTUwgPSBTUy5qb2luKCcnKTtcbiAgfTtcblxuICAvLyBsZWZ0XG4gIGlmICh0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXggPiAwKSB7XG4gICAgaWYgKHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA+IF9kaW5kZXgpIHtcbiAgICAgIC8vIOyDgeuLqCDtlonqs6DsoJVcbiAgICAgIHJlcGxhY2VUci5jYWxsKHRoaXMsIFwidG9wLWxlZnQtYm9keVwiLCB0aGlzLmxlZnRIZWFkZXJDb2xHcm91cCwgbGVmdEJvZHlSb3dEYXRhLCBsaXN0LnNsaWNlKDAsIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCksIF9kaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlVHIuY2FsbCh0aGlzLCBcImxlZnQtYm9keS1zY3JvbGxcIiwgdGhpcy5sZWZ0SGVhZGVyQ29sR3JvdXAsIGxlZnRCb2R5Um93RGF0YSwgbGlzdCwgX2RpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgLy8gYm9keVxuICBpZiAodGhpcy54dmFyLmZyb3plblJvd0luZGV4ID4gX2RpbmRleCkge1xuICAgIC8vIOyDgeuLqCDtlonqs6DsoJVcbiAgICByZXBsYWNlVHIuY2FsbCh0aGlzLCBcInRvcC1ib2R5LXNjcm9sbFwiLCB0aGlzLmhlYWRlckNvbEdyb3VwLCBib2R5Um93RGF0YSwgbGlzdC5zbGljZSgwLCB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXgpLCBfZGluZGV4KTtcbiAgfSBlbHNlIHtcbiAgICByZXBsYWNlVHIuY2FsbCh0aGlzLCBcImJvZHktc2Nyb2xsXCIsIHRoaXMuaGVhZGVyQ29sR3JvdXAsIGJvZHlSb3dEYXRhLCBsaXN0LCBfZGluZGV4KTtcbiAgfVxuXG4gIC8vIGJvZHkuZ3JvdXBpbmcgdHIg64uk7IucIOq3uOumrOq4sC4uXG4gIGlmIChjZmcuYm9keS5ncm91cGluZykge1xuICAgIC8vIGxlZnRcbiAgICBpZiAodGhpcy54dmFyLmZyb3plbkNvbHVtbkluZGV4ID4gMCkge1xuICAgICAgaWYgKHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA+IF9kaW5kZXgpIHtcbiAgICAgICAgLy8g7IOB64uoIO2WieqzoOyglVxuICAgICAgICByZXBsYWNlR3JvdXBUci5jYWxsKHRoaXMsIFwidG9wLWxlZnQtYm9keVwiLCB0aGlzLmxlZnRIZWFkZXJDb2xHcm91cCwgbGVmdEJvZHlHcm91cGluZ0RhdGEsIGxpc3Quc2xpY2UoMCwgdGhpcy54dmFyLmZyb3plblJvd0luZGV4KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXBsYWNlR3JvdXBUci5jYWxsKHRoaXMsIFwibGVmdC1ib2R5LXNjcm9sbFwiLCB0aGlzLmxlZnRIZWFkZXJDb2xHcm91cCwgbGVmdEJvZHlHcm91cGluZ0RhdGEsIGxpc3QsIHNjcm9sbENvbmZpZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYm9keVxuICAgIGlmICh0aGlzLnh2YXIuZnJvemVuUm93SW5kZXggPiBfZGluZGV4KSB7XG4gICAgICAvLyDsg4Hri6gg7ZaJ6rOg7KCVXG4gICAgICByZXBsYWNlR3JvdXBUci5jYWxsKHRoaXMsIFwidG9wLWJvZHktc2Nyb2xsXCIsIHRoaXMuaGVhZGVyQ29sR3JvdXAsIGJvZHlHcm91cGluZ0RhdGEsIGxpc3Quc2xpY2UoMCwgdGhpcy54dmFyLmZyb3plblJvd0luZGV4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VHcm91cFRyLmNhbGwodGhpcywgXCJib2R5LXNjcm9sbFwiLCB0aGlzLmhlYWRlckNvbEdyb3VwLCBib2R5R3JvdXBpbmdEYXRhLCBsaXN0LCBzY3JvbGxDb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXggPiAwKSB7XG4gICAgaWYgKGNmZy5mb290U3VtICYmIHRoaXMubmVlZFRvUGFpbnRTdW0pIHtcbiAgICAgIC8vIOuwlOuLpSDsmpTslb1cbiAgICAgIHJlcGFpbnRTdW0uY2FsbCh0aGlzLCBcImJvdHRvbS1sZWZ0LWJvZHlcIiwgdGhpcy5sZWZ0SGVhZGVyQ29sR3JvdXAsIGxlZnRGb290U3VtRGF0YSwgbGlzdCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNmZy5mb290U3VtICYmIHRoaXMubmVlZFRvUGFpbnRTdW0pIHtcbiAgICAvLyDrsJTri6Ug7JqU7JW9XG4gICAgcmVwYWludFN1bS5jYWxsKHRoaXMsIFwiYm90dG9tLWJvZHktc2Nyb2xsXCIsIHRoaXMuaGVhZGVyQ29sR3JvdXAsIGZvb3RTdW1EYXRhLCBsaXN0LCBzY3JvbGxDb25maWcpO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVSb3dTdGF0ZSA9IGZ1bmN0aW9uIChfc3RhdGVzLCBfZGluZGV4LCBfZG9pbmRleCwgX2RhdGEpIHtcbiAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgY2ZnID0gdGhpcy5jb25maWcsXG4gICAgICBwcm9jZXNzb3IgPSB7XG4gICAgXCJzZWxlY3RlZFwiOiBmdW5jdGlvbiAoX2RpbmRleCwgX2RvaW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLmxpc3RbX2RvaW5kZXhdKSB7XG4gICAgICAgIGxldCBpID0gdGhpcy4kLmxpdmVQYW5lbEtleXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgdGhpcy4kLnBhbmVsW3RoaXMuJC5saXZlUGFuZWxLZXlzW2ldXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgX2RpbmRleCArICdcIl0nKS5hdHRyKFwiZGF0YS1heDZncmlkLXNlbGVjdGVkXCIsIHRoaXMubGlzdFtfZG9pbmRleF1bY2ZnLmNvbHVtbktleXMuc2VsZWN0ZWRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJzZWxlY3RlZENsZWFyXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBkaSA9IHRoaXMubGlzdC5sZW5ndGg7XG4gICAgICBsZXQgcGk7XG5cbiAgICAgIGlmICghdGhpcy5wcm94eUxpc3QpIHtcbiAgICAgICAgd2hpbGUgKGRpLS0pIHtcbiAgICAgICAgICBpZiAodGhpcy5saXN0W2RpXVtjZmcuY29sdW1uS2V5cy5zZWxlY3RlZF0pIHtcbiAgICAgICAgICAgIHBpID0gdGhpcy4kLmxpdmVQYW5lbEtleXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKHBpLS0pIHtcbiAgICAgICAgICAgICAgdGhpcy4kLnBhbmVsW3RoaXMuJC5saXZlUGFuZWxLZXlzW3BpXV0uZmluZCgnW2RhdGEtYXg2Z3JpZC10ci1kYXRhLWluZGV4PVwiJyArIGRpICsgJ1wiXScpLmF0dHIoXCJkYXRhLWF4NmdyaWQtc2VsZWN0ZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxpc3RbZGldW2NmZy5jb2x1bW5LZXlzLnNlbGVjdGVkXSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoZGktLSkge1xuICAgICAgICAgIHRoaXMubGlzdFtkaV1bY2ZnLmNvbHVtbktleXMuc2VsZWN0ZWRdID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGkgPSB0aGlzLnByb3h5TGlzdC5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChkaS0tKSB7XG4gICAgICAgICAgaWYgKHRoaXMubGlzdFtkb2ldW2NmZy5jb2x1bW5LZXlzLnNlbGVjdGVkXSkge1xuICAgICAgICAgICAgcGkgPSB0aGlzLiQubGl2ZVBhbmVsS2V5cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAocGktLSkge1xuICAgICAgICAgICAgICB0aGlzLiQucGFuZWxbdGhpcy4kLmxpdmVQYW5lbEtleXNbcGldXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgZGkgKyAnXCJdJykuYXR0cihcImRhdGEtYXg2Z3JpZC1zZWxlY3RlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5wcm94eUxpc3RbZGldW2NmZy5jb2x1bW5LZXlzLnNlbGVjdGVkXSA9IGZhbHNlO1xuICAgICAgICAgIGxldCBkb2kgPSB0aGlzLnByb3h5TGlzdFtkaV0uX19vcmlnaW5hbF9pbmRleF9fO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBcImNlbGxDaGVja2VkXCI6IGZ1bmN0aW9uIChfZGluZGV4LCBfZG9pbmRleCwgX2RhdGEpIHtcbiAgICAgIGxldCBrZXkgPSBfZGF0YS5rZXksXG4gICAgICAgICAgcm93SW5kZXggPSBfZGF0YS5yb3dJbmRleCxcbiAgICAgICAgICBjb2xJbmRleCA9IF9kYXRhLmNvbEluZGV4O1xuXG4gICAgICBsZXQgcGFuZWxOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgX3BhbmVscyA9IFtdO1xuICAgICAgICBpZiAodGhpcy54dmFyLmZyb3plblJvd0luZGV4ID4gX2RpbmRleCkgX3BhbmVscy5wdXNoKFwidG9wXCIpO1xuICAgICAgICBpZiAodGhpcy54dmFyLmZyb3plbkNvbHVtbkluZGV4ID4gY29sSW5kZXgpIF9wYW5lbHMucHVzaChcImxlZnRcIik7XG4gICAgICAgIF9wYW5lbHMucHVzaChcImJvZHlcIik7XG4gICAgICAgIGlmIChfcGFuZWxzWzBdICE9PSBcInRvcFwiKSBfcGFuZWxzLnB1c2goXCJzY3JvbGxcIik7XG4gICAgICAgIHJldHVybiBfcGFuZWxzLmpvaW4oXCItXCIpO1xuICAgICAgfS5jYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLiQucGFuZWxbcGFuZWxOYW1lXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgX2RpbmRleCArICdcIl0nKS5maW5kKCdbZGF0YS1heDZncmlkLWNvbHVtbi1yb3dJbmRleD1cIicgKyByb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xJbmRleD1cIicgKyBjb2xJbmRleCArICdcIl0nKS5maW5kKCdbZGF0YS1heDZncmlkLWVkaXRvcj1cImNoZWNrYm94XCJdJykuYXR0cihcImRhdGEtYXg2Z3JpZC1jaGVja2VkXCIsICcnICsgX2RhdGEuY2hlY2tlZCk7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgX2RvaW5kZXggPT09IFwidW5kZWZpbmVkXCIpIF9kb2luZGV4ID0gX2RpbmRleDtcblxuICBfc3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKF9zdGF0ZSkge1xuICAgIGlmICghcHJvY2Vzc29yW19zdGF0ZV0pIHRocm93ICdpbnZhaWxkIHN0YXRlIG5hbWUnO1xuICAgIHByb2Nlc3Nvcltfc3RhdGVdLmNhbGwoc2VsZiwgX2RpbmRleCwgX2RvaW5kZXgsIF9kYXRhKTtcbiAgfSk7XG59O1xuXG5jb25zdCB1cGRhdGVSb3dTdGF0ZUFsbCA9IGZ1bmN0aW9uIChfc3RhdGVzLCBfZGF0YSkge1xuICBsZXQgc2VsZiA9IHRoaXMsXG4gICAgICBjZmcgPSB0aGlzLmNvbmZpZyxcbiAgICAgIHByb2Nlc3NvciA9IHtcbiAgICBcInNlbGVjdGVkXCI6IGZ1bmN0aW9uIChfZGluZGV4KSB7XG4gICAgICByZXBhaW50LmNhbGwodGhpcywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIF9zdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoX3N0YXRlKSB7XG4gICAgaWYgKCFwcm9jZXNzb3JbX3N0YXRlXSkgdGhyb3cgJ2ludmFpbGQgc3RhdGUgbmFtZSc7XG4gICAgcHJvY2Vzc29yW19zdGF0ZV0uY2FsbChzZWxmLCBfZGF0YSk7XG4gIH0pO1xufTtcblxuY29uc3QgdG9nZ2xlQ29sbGFwc2UgPSBmdW5jdGlvbiAoX2RpbmRleCwgX2RvaW5kZXgsIF9jb2xsYXBzZSkge1xuICBpZiAoREFUQS50b2dnbGVDb2xsYXBzZS5jYWxsKHRoaXMsIF9kaW5kZXgsIF9kb2luZGV4LCBfY29sbGFwc2UpKSB7XG4gICAgdGhpcy5wcm94eUxpc3QgPSBEQVRBLmdldFByb3h5TGlzdC5jYWxsKHRoaXMsIHRoaXMubGlzdCk7XG4gICAgdGhpcy5hbGlnbigpO1xuICB9XG59O1xuXG5jb25zdCBzY3JvbGxUbyA9IGZ1bmN0aW9uIChjc3MsIG9wdHMpIHtcbiAgbGV0IHNlbGYgPSB0aGlzO1xuICBpZiAodHlwZW9mIG9wdHMgPT09IFwidW5kZWZpbmVkXCIpIG9wdHMgPSB7IHRpbWVvdXRVblVzZTogZmFsc2UgfTtcbiAgaWYgKHRoaXMuaXNJbmxpbmVFZGl0aW5nKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5saW5lRWRpdGluZykge1xuICAgICAgLy9pZih0aGlzLmlubGluZUVkaXRpbmdba2V5XS5lZGl0b3IudHlwZSA9PT0gXCJzZWxlY3RcIikge31cbiAgICAgIC8vIOyduOudvOyduCDsl5DrlJTtjIUg7J24642wIOyKpO2BrOuhpCDsnbTrsqTtirjqsIAg67Cc7IOd7ZWY66m0IOuUlOyVoe2LsOu4jCDsspjrpqxcbiAgICAgIGlubGluZUVkaXQuZGVBY3RpdmUuY2FsbCh0aGlzLCBcIkVTQ1wiLCBrZXkpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLmNvbmZpZy5hc2lkZVBhbmVsV2lkdGggPiAwICYmIFwidG9wXCIgaW4gY3NzKSB7XG4gICAgdGhpcy4kLnBhbmVsW1wiYXNpZGUtYm9keS1zY3JvbGxcIl0uY3NzKHsgdG9wOiBjc3MudG9wIH0pO1xuICB9XG4gIGlmICh0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXggPiAwICYmIFwidG9wXCIgaW4gY3NzKSB7XG4gICAgdGhpcy4kLnBhbmVsW1wibGVmdC1ib2R5LXNjcm9sbFwiXS5jc3MoeyB0b3A6IGNzcy50b3AgfSk7XG4gIH1cbiAgaWYgKHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA+IDAgJiYgXCJsZWZ0XCIgaW4gY3NzKSB7XG4gICAgdGhpcy4kLnBhbmVsW1widG9wLWJvZHktc2Nyb2xsXCJdLmNzcyh7IGxlZnQ6IGNzcy5sZWZ0IH0pO1xuICB9XG5cbiAgdGhpcy4kLnBhbmVsW1wiYm9keS1zY3JvbGxcIl0uY3NzKGNzcyk7XG5cbiAgaWYgKHRoaXMuY29uZmlnLmZvb3RTdW0gJiYgXCJsZWZ0XCIgaW4gY3NzKSB7XG4gICAgdGhpcy4kLnBhbmVsW1wiYm90dG9tLWJvZHktc2Nyb2xsXCJdLmNzcyh7IGxlZnQ6IGNzcy5sZWZ0IH0pO1xuICB9XG5cbiAgLy8g67CU65SUIOumrO2OmOyduO2MhSB0aGlzLl9fdGhyb3R0bGVkU2Nyb2xsIOydgCBib2R5IGluaXQg7JeQ7IScIOy0iOq4sO2ZlFxuICBpZiAodGhpcy5fX3Rocm90dGxlZFNjcm9sbCkge1xuICAgIHRoaXMuX190aHJvdHRsZWRTY3JvbGwoY3NzLCBvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5jb25maWcudmlydHVhbFNjcm9sbFkgJiYgIW9wdHMubm9SZXBhaW50ICYmIFwidG9wXCIgaW4gY3NzKSB7XG4gICAgICByZXBhaW50LmNhbGwodGhpcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbmZpZy52aXJ0dWFsU2Nyb2xsWCAmJiAhb3B0cy5ub1JlcGFpbnQgJiYgXCJsZWZ0XCIgaW4gY3NzKSB7XG4gICAgICByZXBhaW50LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGlmIChvcHRzLmNhbGxiYWNrKSB7XG4gICAgICBvcHRzLmNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBibHVyID0gZnVuY3Rpb24gKCkge1xuICBjb2x1bW5TZWxlY3QuZm9jdXNDbGVhci5jYWxsKHRoaXMpO1xuICBjb2x1bW5TZWxlY3QuY2xlYXIuY2FsbCh0aGlzKTtcbiAgaWYgKHRoaXMuaXNJbmxpbmVFZGl0aW5nKSB7XG4gICAgaW5saW5lRWRpdC5kZUFjdGl2ZS5jYWxsKHRoaXMpO1xuICB9XG59O1xuXG5jb25zdCBtb3ZlRm9jdXMgPSBmdW5jdGlvbiAoX3Bvc2l0aW9uKSB7XG4gIGxldCBmb2N1cyA9IHtcbiAgICBcIlVEXCI6IGZ1bmN0aW9uIChfZHkpIHtcbiAgICAgIGxldCBtb3ZlUmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBmb2N1c2VkQ29sdW1uLFxuICAgICAgICAgIG9yaWdpbmFsQ29sdW1uLFxuICAgICAgICAgIHdoaWxlX2ksXG4gICAgICAgICAgblBhbmVsSW5mbztcblxuICAgICAgZm9yIChsZXQgYyBpbiB0aGlzLmZvY3VzZWRDb2x1bW4pIHtcbiAgICAgICAgZm9jdXNlZENvbHVtbiA9IGpRdWVyeS5leHRlbmQoe30sIHRoaXMuZm9jdXNlZENvbHVtbltjXSwgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZvY3VzZWRDb2x1bW4pIHJldHVybiBmYWxzZTtcblxuICAgICAgb3JpZ2luYWxDb2x1bW4gPSB0aGlzLmJvZHlSb3dNYXBbZm9jdXNlZENvbHVtbi5yb3dJbmRleCArIFwiX1wiICsgZm9jdXNlZENvbHVtbi5jb2xJbmRleF07XG4gICAgICBjb2x1bW5TZWxlY3QuZm9jdXNDbGVhci5jYWxsKHRoaXMpO1xuICAgICAgY29sdW1uU2VsZWN0LmNsZWFyLmNhbGwodGhpcyk7XG5cbiAgICAgIGlmIChfZHkgPiAwKSB7XG4gICAgICAgIC8vIOyVhOuemOuhnFxuICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5yb3dJbmRleCArIChvcmlnaW5hbENvbHVtbi5yb3dzcGFuIC0gMSkgKyBfZHkgPiB0aGlzLmJvZHlSb3dUYWJsZS5yb3dzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBmb2N1c2VkQ29sdW1uLmRpbmRleCA9IGZvY3VzZWRDb2x1bW4uZGluZGV4ICsgX2R5O1xuICAgICAgICAgIGZvY3VzZWRDb2x1bW4uZG9pbmRleCA9IGZvY3VzZWRDb2x1bW4uZG9pbmRleCArIF9keTtcbiAgICAgICAgICBmb2N1c2VkQ29sdW1uLnJvd0luZGV4ID0gMDtcbiAgICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5kaW5kZXggPiB0aGlzLmxpc3QubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgZm9jdXNlZENvbHVtbi5kaW5kZXggPSBmb2N1c2VkQ29sdW1uLmRvaW5kZXggPSB0aGlzLmxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIG1vdmVSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9jdXNlZENvbHVtbi5yb3dJbmRleCA9IGZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyBfZHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOychOuhnFxuICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5yb3dJbmRleCArIF9keSA8IDApIHtcbiAgICAgICAgICBmb2N1c2VkQ29sdW1uLmRpbmRleCA9IGZvY3VzZWRDb2x1bW4uZGluZGV4ICsgX2R5O1xuICAgICAgICAgIGZvY3VzZWRDb2x1bW4uZG9pbmRleCA9IGZvY3VzZWRDb2x1bW4uZG9pbmRleCArIF9keTtcbiAgICAgICAgICBmb2N1c2VkQ29sdW1uLnJvd0luZGV4ID0gdGhpcy5ib2R5Um93VGFibGUucm93cy5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChmb2N1c2VkQ29sdW1uLmRpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGZvY3VzZWRDb2x1bW4uZGluZGV4ID0gZm9jdXNlZENvbHVtbi5kb2luZGV4ID0gMDtcbiAgICAgICAgICAgIG1vdmVSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9jdXNlZENvbHVtbi5yb3dJbmRleCA9IGZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyBfZHk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2hpbGVfaSA9IDA7XG4gICAgICB3aGlsZSAodHlwZW9mIHRoaXMuYm9keVJvd01hcFtmb2N1c2VkQ29sdW1uLnJvd0luZGV4ICsgXCJfXCIgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5yb3dJbmRleCA9PSAwIHx8IHdoaWxlX2kgJSAyID09IChfZHkgPiAwID8gMCA6IDEpKSB7XG4gICAgICAgICAgZm9jdXNlZENvbHVtbi5jb2xJbmRleC0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvY3VzZWRDb2x1bW4ucm93SW5kZXgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb2N1c2VkQ29sdW1uLnJvd0luZGV4IDw9IDAgJiYgZm9jdXNlZENvbHVtbi5jb2xJbmRleCA8PSAwKSB7XG4gICAgICAgICAgLy8gZmluZCBmYWlsXG4gICAgICAgICAgbW92ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlX2krKztcbiAgICAgIH1cblxuICAgICAgblBhbmVsSW5mbyA9IFVUSUwuZmluZFBhbmVsQnlDb2x1bW5JbmRleC5jYWxsKHRoaXMsIGZvY3VzZWRDb2x1bW4uZGluZGV4LCBmb2N1c2VkQ29sdW1uLmNvbEluZGV4KTtcblxuICAgICAgLy8gaWYgbWVyZ2VDZWxsc1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmJvZHkubWVyZ2VDZWxscyAmJiB0aGlzLmxpc3QubGVuZ3RoKSB7XG4gICAgICAgIHdoaWxlICghdGhpcy4kLnBhbmVsW25QYW5lbEluZm8ucGFuZWxOYW1lXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5kaW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93aW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5yb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xpbmRleD1cIicgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4ICsgJ1wiXScpLmdldCgwKSkge1xuXG4gICAgICAgICAgaWYgKF9keSA+IDApIHtcbiAgICAgICAgICAgIGZvY3VzZWRDb2x1bW4uZGluZGV4Kys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvY3VzZWRDb2x1bW4uZGluZGV4LS07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZvY3VzZWRDb2x1bW4uZGluZGV4IDwgMCB8fCBmb2N1c2VkQ29sdW1uLmRpbmRleCA+IHRoaXMubGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgblBhbmVsSW5mbyA9IFVUSUwuZmluZFBhbmVsQnlDb2x1bW5JbmRleC5jYWxsKHRoaXMsIGZvY3VzZWRDb2x1bW4uZGluZGV4LCBmb2N1c2VkQ29sdW1uLmNvbEluZGV4KTtcbiAgICAgIH1cblxuICAgICAgZm9jdXNlZENvbHVtbi5wYW5lbE5hbWUgPSBuUGFuZWxJbmZvLnBhbmVsTmFtZTtcblxuICAgICAgLy8g7Y+s7Luk7IqkIOy7rOufvOydmCDsnITsuZjsl5Ag65Sw6528IOyKpO2BrOuhpCDsspjrpqwu44WK44WHXG5cbiAgICAgIGlmIChmb2N1c2VkQ29sdW1uLmRpbmRleCArIDEgPiB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXgpIHtcbiAgICAgICAgaWYgKGZvY3VzZWRDb2x1bW4uZGluZGV4IDw9IHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4KSB7XG4gICAgICAgICAgbGV0IG5ld1RvcCA9IChmb2N1c2VkQ29sdW1uLmRpbmRleCAtIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCAtIDEpICogdGhpcy54dmFyLmJvZHlUckhlaWdodDtcbiAgICAgICAgICBpZiAobmV3VG9wIDwgMCkgbmV3VG9wID0gMDtcbiAgICAgICAgICBzY3JvbGxUby5jYWxsKHRoaXMsIHsgdG9wOiAtbmV3VG9wLCB0aW1lb3V0VW5Vc2U6IGZhbHNlIH0pO1xuICAgICAgICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZvY3VzZWRDb2x1bW4uZGluZGV4ICsgMSA+IHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ICsgKHRoaXMueHZhci52aXJ0dWFsUGFpbnRSb3dDb3VudCAtIDIpKSB7XG4gICAgICAgICAgc2Nyb2xsVG8uY2FsbCh0aGlzLCB7IHRvcDogKHRoaXMueHZhci52aXJ0dWFsUGFpbnRSb3dDb3VudCAtIDIgLSBmb2N1c2VkQ29sdW1uLmRpbmRleCkgKiB0aGlzLnh2YXIuYm9keVRySGVpZ2h0LCB0aW1lb3V0VW5Vc2U6IGZhbHNlIH0pO1xuICAgICAgICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZm9jdXNlZENvbHVtbltmb2N1c2VkQ29sdW1uLmRpbmRleCArIFwiX1wiICsgZm9jdXNlZENvbHVtbi5jb2xJbmRleCArIFwiX1wiICsgZm9jdXNlZENvbHVtbi5yb3dJbmRleF0gPSBmb2N1c2VkQ29sdW1uO1xuICAgICAgdGhpcy4kLnBhbmVsW2ZvY3VzZWRDb2x1bW4ucGFuZWxOYW1lXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5kaW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93aW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5yb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xpbmRleD1cIicgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4ICsgJ1wiXScpLmF0dHIoJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tZm9jdXNlZCcsIFwidHJ1ZVwiKTtcblxuICAgICAgcmV0dXJuIG1vdmVSZXN1bHQ7XG4gICAgfSxcbiAgICBcIkxSXCI6IGZ1bmN0aW9uIChfZHgpIHtcbiAgICAgIGxldCBtb3ZlUmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBmb2N1c2VkQ29sdW1uLFxuICAgICAgICAgIG9yaWdpbmFsQ29sdW1uLFxuICAgICAgICAgIHdoaWxlX2kgPSAwLFxuICAgICAgICAgIGlzU2Nyb2xsUGFuZWwgPSBmYWxzZSxcbiAgICAgICAgICBjb250YWluZXJQYW5lbE5hbWUgPSBcIlwiLFxuICAgICAgICAgIG5QYW5lbEluZm87XG5cbiAgICAgIGZvciAodmFyIGMgaW4gdGhpcy5mb2N1c2VkQ29sdW1uKSB7XG4gICAgICAgIGZvY3VzZWRDb2x1bW4gPSBqUXVlcnkuZXh0ZW5kKHt9LCB0aGlzLmZvY3VzZWRDb2x1bW5bY10sIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICghZm9jdXNlZENvbHVtbikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBvcmlnaW5hbENvbHVtbiA9IHRoaXMuYm9keVJvd01hcFtmb2N1c2VkQ29sdW1uLnJvd0luZGV4ICsgXCJfXCIgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4XTtcblxuICAgICAgY29sdW1uU2VsZWN0LmZvY3VzQ2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgIGNvbHVtblNlbGVjdC5jbGVhci5jYWxsKHRoaXMpO1xuXG4gICAgICBpZiAoX2R4IDwgMCkge1xuICAgICAgICBmb2N1c2VkQ29sdW1uLmNvbEluZGV4ID0gZm9jdXNlZENvbHVtbi5jb2xJbmRleCArIF9keDtcbiAgICAgICAgaWYgKGZvY3VzZWRDb2x1bW4uY29sSW5kZXggPCAwKSB7XG4gICAgICAgICAgZm9jdXNlZENvbHVtbi5jb2xJbmRleCA9IDA7XG4gICAgICAgICAgbW92ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb2N1c2VkQ29sdW1uLmNvbEluZGV4ID0gZm9jdXNlZENvbHVtbi5jb2xJbmRleCArIF9keDtcbiAgICAgICAgaWYgKGZvY3VzZWRDb2x1bW4uY29sSW5kZXggPiB0aGlzLmNvbEdyb3VwLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBmb2N1c2VkQ29sdW1uLmNvbEluZGV4ID0gdGhpcy5jb2xHcm91cC5sZW5ndGggLSAxO1xuICAgICAgICAgIG1vdmVSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuYm9keVJvd01hcFtmb2N1c2VkQ29sdW1uLnJvd0luZGV4ICsgXCJfXCIgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBmb2N1c2VkQ29sdW1uLnJvd0luZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubGlzdFtmb2N1c2VkQ29sdW1uLmRpbmRleF0gJiYgdGhpcy5saXN0W2ZvY3VzZWRDb2x1bW4uZGluZGV4XS5fX2lzR3JvdXBpbmcpIHtcbiAgICAgICAgaWYgKF9keCA8IDApIHtcbiAgICAgICAgICB3aGlsZSAodHlwZW9mIHRoaXMuYm9keUdyb3VwaW5nTWFwW2ZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyBcIl9cIiArIGZvY3VzZWRDb2x1bW4uY29sSW5kZXhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBmb2N1c2VkQ29sdW1uLmNvbEluZGV4LS07XG4gICAgICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5jb2xJbmRleCA8PSAwKSB7XG4gICAgICAgICAgICAgIC8vIGZpbmQgZmFpbFxuICAgICAgICAgICAgICBtb3ZlUmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aGlsZSAodHlwZW9mIHRoaXMuYm9keUdyb3VwaW5nTWFwW2ZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyBcIl9cIiArIGZvY3VzZWRDb2x1bW4uY29sSW5kZXhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBmb2N1c2VkQ29sdW1uLmNvbEluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5jb2xJbmRleCA+PSB0aGlzLmNvbEdyb3VwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBmaW5kIGZhaWxcbiAgICAgICAgICAgICAgbW92ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChfZHggPCAwKSB7XG4gICAgICAgICAgd2hpbGUgKHR5cGVvZiB0aGlzLmJvZHlSb3dNYXBbZm9jdXNlZENvbHVtbi5yb3dJbmRleCArIFwiX1wiICsgZm9jdXNlZENvbHVtbi5jb2xJbmRleF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGZvY3VzZWRDb2x1bW4uY29sSW5kZXgtLTtcbiAgICAgICAgICAgIGlmIChmb2N1c2VkQ29sdW1uLmNvbEluZGV4IDw9IDApIHtcbiAgICAgICAgICAgICAgLy8gZmluZCBmYWlsXG4gICAgICAgICAgICAgIG1vdmVSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlICh0eXBlb2YgdGhpcy5ib2R5Um93TWFwW2ZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyBcIl9cIiArIGZvY3VzZWRDb2x1bW4uY29sSW5kZXhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBmb2N1c2VkQ29sdW1uLmNvbEluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5jb2xJbmRleCA+PSB0aGlzLmNvbEdyb3VwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBmaW5kIGZhaWxcbiAgICAgICAgICAgICAgbW92ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgblBhbmVsSW5mbyA9IFVUSUwuZmluZFBhbmVsQnlDb2x1bW5JbmRleC5jYWxsKHRoaXMsIGZvY3VzZWRDb2x1bW4uZGluZGV4LCBmb2N1c2VkQ29sdW1uLmNvbEluZGV4KTtcblxuICAgICAgLy8gaWYgbWVyZ2VDZWxsc1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmJvZHkubWVyZ2VDZWxscyAmJiB0aGlzLmxpc3QubGVuZ3RoICYmIGZvY3VzZWRDb2x1bW4uZGluZGV4ID4gMSkge1xuICAgICAgICB3aGlsZSAoIXRoaXMuJC5wYW5lbFtuUGFuZWxJbmZvLnBhbmVsTmFtZV0uZmluZCgnW2RhdGEtYXg2Z3JpZC10ci1kYXRhLWluZGV4PVwiJyArIGZvY3VzZWRDb2x1bW4uZGluZGV4ICsgJ1wiXScpLmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29sdW1uLXJvd2luZGV4PVwiJyArIGZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyAnXCJdW2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29saW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5jb2xJbmRleCArICdcIl0nKS5nZXQoMCkpIHtcblxuICAgICAgICAgIGZvY3VzZWRDb2x1bW4uZGluZGV4LS07XG5cbiAgICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5kaW5kZXggPCAwIHx8IGZvY3VzZWRDb2x1bW4uZGluZGV4ID4gdGhpcy5saXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuUGFuZWxJbmZvID0gVVRJTC5maW5kUGFuZWxCeUNvbHVtbkluZGV4LmNhbGwodGhpcywgZm9jdXNlZENvbHVtbi5kaW5kZXgsIGZvY3VzZWRDb2x1bW4uY29sSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBmb2N1c2VkQ29sdW1uLnBhbmVsTmFtZSA9IG5QYW5lbEluZm8ucGFuZWxOYW1lO1xuXG4gICAgICAvLyDtj6zsu6TsiqQg7Lus65+87J2YIOychOy5mOyXkCDrlLDrnbwg7Iqk7YGs66GkIOyymOumrFxuICAgICAgbGV0IGlzU2Nyb2xsVG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcudmlydHVhbFNjcm9sbFgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHNjcm9sbExlZnQgPSAwO1xuICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5jb2xJbmRleCArIDEgPiB0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXgpIHtcbiAgICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5jb2xJbmRleCA8PSB0aGlzLnh2YXIucGFpbnRTdGFydENvbHVtbkluZGV4ICYmIHRoaXMuY29sR3JvdXBbZm9jdXNlZENvbHVtbi5jb2xJbmRleF0pIHtcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSAtdGhpcy5jb2xHcm91cFtOdW1iZXIoZm9jdXNlZENvbHVtbi5jb2xJbmRleCldLl9zeDtcbiAgICAgICAgICAgIHNjcm9sbFRvLmNhbGwodGhpcywgeyBsZWZ0OiBzY3JvbGxMZWZ0IH0pO1xuICAgICAgICAgICAgSEVBREVSLnNjcm9sbFRvLmNhbGwodGhpcywgeyBsZWZ0OiBzY3JvbGxMZWZ0IH0pO1xuICAgICAgICAgICAgU0NST0xMRVIucmVzaXplLmNhbGwodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZvY3VzZWRDb2x1bW4uY29sSW5kZXggPj0gdGhpcy54dmFyLnBhaW50RW5kQ29sdW1uSW5kZXggJiYgdGhpcy5jb2xHcm91cFtOdW1iZXIoZm9jdXNlZENvbHVtbi5jb2xJbmRleCldKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb2xHcm91cFtOdW1iZXIoZm9jdXNlZENvbHVtbi5jb2xJbmRleCldLl9leCA+IHRoaXMueHZhci5ib2R5V2lkdGgpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsTGVmdCA9IHRoaXMuY29sR3JvdXBbTnVtYmVyKGZvY3VzZWRDb2x1bW4uY29sSW5kZXgpXS5fZXggLSB0aGlzLnh2YXIuYm9keVdpZHRoO1xuICAgICAgICAgICAgICBzY3JvbGxUby5jYWxsKHRoaXMsIHsgbGVmdDogLXNjcm9sbExlZnQgfSk7XG4gICAgICAgICAgICAgIEhFQURFUi5zY3JvbGxUby5jYWxsKHRoaXMsIHsgbGVmdDogLXNjcm9sbExlZnQgfSk7XG4gICAgICAgICAgICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjcm9sbExlZnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LmNhbGwodGhpcyk7XG5cbiAgICAgIGNvbnRhaW5lclBhbmVsTmFtZSA9IG5QYW5lbEluZm8uY29udGFpbmVyUGFuZWxOYW1lO1xuICAgICAgaXNTY3JvbGxQYW5lbCA9IG5QYW5lbEluZm8uaXNTY3JvbGxQYW5lbDtcblxuICAgICAgdGhpcy5mb2N1c2VkQ29sdW1uW2ZvY3VzZWRDb2x1bW4uZGluZGV4ICsgXCJfXCIgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4ICsgXCJfXCIgKyBmb2N1c2VkQ29sdW1uLnJvd0luZGV4XSA9IGZvY3VzZWRDb2x1bW47XG5cbiAgICAgIHZhciAkY29sdW1uID0gdGhpcy4kLnBhbmVsW2ZvY3VzZWRDb2x1bW4ucGFuZWxOYW1lXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5kaW5kZXggKyAnXCJdJykuZmluZCgnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tcm93aW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5yb3dJbmRleCArICdcIl1bZGF0YS1heDZncmlkLWNvbHVtbi1jb2xpbmRleD1cIicgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4ICsgJ1wiXScpLmF0dHIoJ2RhdGEtYXg2Z3JpZC1jb2x1bW4tZm9jdXNlZCcsIFwidHJ1ZVwiKTtcblxuICAgICAgaWYgKCFpc1Njcm9sbFRvICYmICRjb2x1bW4gJiYgaXNTY3JvbGxQYW5lbCkge1xuICAgICAgICAvLyDsiqTtgazroaQg7Yyo64SQIOydtOudvOuptH5cbiAgICAgICAgLy8gdG9kbyA6IOy7rOufvOydtOuPme2VoCDrlYzsl5Drj4Qgc2Nyb2xsVG8g7LK07YGsXG4gICAgICAgIHZhciBuZXdMZWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICgkY29sdW1uLnBvc2l0aW9uKCkubGVmdCArICRjb2x1bW4ub3V0ZXJXaWR0aCgpID4gTWF0aC5hYnModGhpcy4kLnBhbmVsW2ZvY3VzZWRDb2x1bW4ucGFuZWxOYW1lXS5wb3NpdGlvbigpLmxlZnQpICsgdGhpcy4kLnBhbmVsW2NvbnRhaW5lclBhbmVsTmFtZV0ud2lkdGgoKSkge1xuICAgICAgICAgICAgcmV0dXJuICRjb2x1bW4ucG9zaXRpb24oKS5sZWZ0ICsgJGNvbHVtbi5vdXRlcldpZHRoKCkgLSB0aGlzLiQucGFuZWxbY29udGFpbmVyUGFuZWxOYW1lXS53aWR0aCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModGhpcy4kLnBhbmVsW2ZvY3VzZWRDb2x1bW4ucGFuZWxOYW1lXS5wb3NpdGlvbigpLmxlZnQpID4gJGNvbHVtbi5wb3NpdGlvbigpLmxlZnQpIHtcbiAgICAgICAgICAgIHJldHVybiAkY29sdW1uLnBvc2l0aW9uKCkubGVmdDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbmV3TGVmdCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIEhFQURFUi5zY3JvbGxUby5jYWxsKHRoaXMsIHsgbGVmdDogLW5ld0xlZnQgfSk7XG4gICAgICAgICAgc2Nyb2xsVG8uY2FsbCh0aGlzLCB7IGxlZnQ6IC1uZXdMZWZ0IH0pO1xuICAgICAgICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtb3ZlUmVzdWx0O1xuICAgIH0sXG4gICAgXCJJTkRFWFwiOiBmdW5jdGlvbiAoX2RpbmRleCkge1xuICAgICAgbGV0IG1vdmVSZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIGZvY3VzZWRDb2x1bW4sXG4gICAgICAgICAgb3JpZ2luYWxDb2x1bW4sXG4gICAgICAgICAgd2hpbGVfaTtcblxuICAgICAgZm9yIChsZXQgYyBpbiB0aGlzLmZvY3VzZWRDb2x1bW4pIHtcbiAgICAgICAgZm9jdXNlZENvbHVtbiA9IGpRdWVyeS5leHRlbmQoe30sIHRoaXMuZm9jdXNlZENvbHVtbltjXSwgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKCFmb2N1c2VkQ29sdW1uKSB7XG4gICAgICAgIGZvY3VzZWRDb2x1bW4gPSB7XG4gICAgICAgICAgcm93SW5kZXg6IDAsXG4gICAgICAgICAgY29sSW5kZXg6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIG9yaWdpbmFsQ29sdW1uID0gdGhpcy5ib2R5Um93TWFwW2ZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyBcIl9cIiArIGZvY3VzZWRDb2x1bW4uY29sSW5kZXhdO1xuXG4gICAgICBjb2x1bW5TZWxlY3QuZm9jdXNDbGVhci5jYWxsKHRoaXMpO1xuICAgICAgY29sdW1uU2VsZWN0LmNsZWFyLmNhbGwodGhpcyk7XG5cbiAgICAgIGlmIChfZGluZGV4ID09IFwiZW5kXCIpIHtcbiAgICAgICAgX2RpbmRleCA9IHRoaXMubGlzdC5sZW5ndGggLSAxO1xuICAgICAgfVxuXG4gICAgICBmb2N1c2VkQ29sdW1uLmRpbmRleCA9IF9kaW5kZXg7XG4gICAgICBmb2N1c2VkQ29sdW1uLnJvd0luZGV4ID0gMDtcblxuICAgICAgd2hpbGVfaSA9IDA7XG4gICAgICB3aGlsZSAodHlwZW9mIHRoaXMuYm9keVJvd01hcFtmb2N1c2VkQ29sdW1uLnJvd0luZGV4ICsgXCJfXCIgKyBmb2N1c2VkQ29sdW1uLmNvbEluZGV4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoZm9jdXNlZENvbHVtbi5yb3dJbmRleCA9PSAwIHx8IHdoaWxlX2kgJSAyID09IChfZHkgPiAwID8gMCA6IDEpKSB7XG4gICAgICAgICAgZm9jdXNlZENvbHVtbi5jb2xJbmRleC0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvY3VzZWRDb2x1bW4ucm93SW5kZXgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb2N1c2VkQ29sdW1uLnJvd0luZGV4IDw9IDAgJiYgZm9jdXNlZENvbHVtbi5jb2xJbmRleCA8PSAwKSB7XG4gICAgICAgICAgLy8gZmluZCBmYWlsXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGVfaSsrO1xuICAgICAgfVxuXG4gICAgICBsZXQgblBhbmVsSW5mbyA9IFVUSUwuZmluZFBhbmVsQnlDb2x1bW5JbmRleC5jYWxsKHRoaXMsIGZvY3VzZWRDb2x1bW4uZGluZGV4LCBmb2N1c2VkQ29sdW1uLmNvbEluZGV4KTtcbiAgICAgIGZvY3VzZWRDb2x1bW4ucGFuZWxOYW1lID0gblBhbmVsSW5mby5wYW5lbE5hbWU7XG5cbiAgICAgIC8vIO2PrOy7pOyKpCDsu6zrn7zsnZgg7JyE7LmY7JeQIOuUsOudvCDsiqTtgazroaQg7LKY66asLlxuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGZvY3VzZWRDb2x1bW4uZGluZGV4ICsgMSA+IHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCkge1xuICAgICAgICAgIGlmIChmb2N1c2VkQ29sdW1uLmRpbmRleCA8IHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4KSB7XG4gICAgICAgICAgICBzY3JvbGxUby5jYWxsKHRoaXMsIHsgdG9wOiAtKGZvY3VzZWRDb2x1bW4uZGluZGV4IC0gdGhpcy54dmFyLmZyb3plblJvd0luZGV4KSAqIHRoaXMueHZhci5ib2R5VHJIZWlnaHQgfSk7XG4gICAgICAgICAgICBTQ1JPTExFUi5yZXNpemUuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZvY3VzZWRDb2x1bW4uZGluZGV4ICsgMSA+IHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ICsgKHRoaXMueHZhci52aXJ0dWFsUGFpbnRSb3dDb3VudCAtIDIpKSB7XG4gICAgICAgICAgICBzY3JvbGxUby5jYWxsKHRoaXMsIHsgdG9wOiAtKGZvY3VzZWRDb2x1bW4uZGluZGV4IC0gdGhpcy54dmFyLmZyb3plblJvd0luZGV4IC0gdGhpcy54dmFyLnZpcnR1YWxQYWludFJvd0NvdW50ICsgMykgKiB0aGlzLnh2YXIuYm9keVRySGVpZ2h0IH0pO1xuICAgICAgICAgICAgU0NST0xMRVIucmVzaXplLmNhbGwodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KS5jYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLmZvY3VzZWRDb2x1bW5bZm9jdXNlZENvbHVtbi5kaW5kZXggKyBcIl9cIiArIGZvY3VzZWRDb2x1bW4uY29sSW5kZXggKyBcIl9cIiArIGZvY3VzZWRDb2x1bW4ucm93SW5kZXhdID0gZm9jdXNlZENvbHVtbjtcbiAgICAgIHRoaXMuJC5wYW5lbFtmb2N1c2VkQ29sdW1uLnBhbmVsTmFtZV0uZmluZCgnW2RhdGEtYXg2Z3JpZC10ci1kYXRhLWluZGV4PVwiJyArIGZvY3VzZWRDb2x1bW4uZGluZGV4ICsgJ1wiXScpLmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29sdW1uLXJvd2luZGV4PVwiJyArIGZvY3VzZWRDb2x1bW4ucm93SW5kZXggKyAnXCJdW2RhdGEtYXg2Z3JpZC1jb2x1bW4tY29saW5kZXg9XCInICsgZm9jdXNlZENvbHVtbi5jb2xJbmRleCArICdcIl0nKS5hdHRyKCdkYXRhLWF4NmdyaWQtY29sdW1uLWZvY3VzZWQnLCBcInRydWVcIik7XG5cbiAgICAgIHJldHVybiBtb3ZlUmVzdWx0O1xuICAgIH1cbiAgfTtcblxuICBsZXQgcHJvY2Vzc29yID0ge1xuICAgIFwiVVBcIjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZvY3VzW1wiVURcIl0uY2FsbCh0aGlzLCAtMSk7XG4gICAgfSxcbiAgICBcIkRPV05cIjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZvY3VzW1wiVURcIl0uY2FsbCh0aGlzLCAxKTtcbiAgICB9LFxuICAgIFwiTEVGVFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm9jdXNbXCJMUlwiXS5jYWxsKHRoaXMsIC0xKTtcbiAgICB9LFxuICAgIFwiUklHSFRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZvY3VzW1wiTFJcIl0uY2FsbCh0aGlzLCAxKTtcbiAgICB9LFxuICAgIFwiSE9NRVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm9jdXNbXCJJTkRFWFwiXS5jYWxsKHRoaXMsIDApO1xuICAgIH0sXG4gICAgXCJFTkRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZvY3VzW1wiSU5ERVhcIl0uY2FsbCh0aGlzLCBcImVuZFwiKTtcbiAgICB9LFxuICAgIFwicG9zaXRpb25cIjogZnVuY3Rpb24gKF9wb3NpdGlvbikge1xuICAgICAgcmV0dXJuIGZvY3VzW1wiSU5ERVhcIl0uY2FsbCh0aGlzLCBfcG9zaXRpb24pO1xuICAgIH1cbiAgfTtcblxuICBpZiAoX3Bvc2l0aW9uIGluIHByb2Nlc3Nvcikge1xuICAgIHJldHVybiBwcm9jZXNzb3JbX3Bvc2l0aW9uXS5jYWxsKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcm9jZXNzb3JbXCJwb3NpdGlvblwiXS5jYWxsKHRoaXMsIF9wb3NpdGlvbik7XG4gIH1cbn07XG5cbmNvbnN0IGdldEV4Y2VsU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICBsZXQgY2ZnID0gdGhpcy5jb25maWcsXG4gICAgICBsaXN0ID0gdGhpcy5saXN0LFxuICAgICAgYm9keVJvd0RhdGEgPSB0aGlzLmJvZHlSb3dUYWJsZSxcbiAgICAgIGZvb3RTdW1EYXRhID0gdGhpcy5mb290U3VtVGFibGUsXG4gICAgICBib2R5R3JvdXBpbmdEYXRhID0gdGhpcy5ib2R5R3JvdXBpbmdUYWJsZTtcblxuICAvLyBib2R5LXNjcm9sbCDsnZgg7Y+s7KeA7IWY7JeQIOydmOyhtOyggeydtOuvgOuhnC4uXG4gIGxldCBnZXRCb2R5ID0gZnVuY3Rpb24gKF9jb2xHcm91cCwgX2JvZHlSb3csIF9ncm91cFJvdywgX2xpc3QpIHtcbiAgICBsZXQgU1MgPSBbXSxcbiAgICAgICAgZGksXG4gICAgICAgIGRsLFxuICAgICAgICB0cmksXG4gICAgICAgIHRybCxcbiAgICAgICAgY2ksXG4gICAgICAgIGNsLFxuICAgICAgICBjb2wsXG4gICAgICAgIHZhbDtcblxuICAgIC8vU1MucHVzaCgnPHRhYmxlIGJvcmRlcj1cIjFcIj4nKTtcbiAgICBmb3IgKGRpID0gMCwgZGwgPSBfbGlzdC5sZW5ndGg7IGRpIDwgZGw7IGRpKyspIHtcbiAgICAgIGxldCBpc0dyb3VwaW5nUm93ID0gZmFsc2UsXG4gICAgICAgICAgcm93VGFibGU7XG5cbiAgICAgIGlmIChfZ3JvdXBSb3cgJiYgXCJfX2lzR3JvdXBpbmdcIiBpbiBfbGlzdFtkaV0pIHtcbiAgICAgICAgcm93VGFibGUgPSBfZ3JvdXBSb3c7XG4gICAgICAgIGlzR3JvdXBpbmdSb3cgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm93VGFibGUgPSBfYm9keVJvdztcbiAgICAgIH1cblxuICAgICAgZm9yICh0cmkgPSAwLCB0cmwgPSByb3dUYWJsZS5yb3dzLmxlbmd0aDsgdHJpIDwgdHJsOyB0cmkrKykge1xuICAgICAgICBTUy5wdXNoKCdcXG48dHI+Jyk7XG4gICAgICAgIGZvciAoY2kgPSAwLCBjbCA9IHJvd1RhYmxlLnJvd3NbdHJpXS5jb2xzLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuICAgICAgICAgIGNvbCA9IHJvd1RhYmxlLnJvd3NbdHJpXS5jb2xzW2NpXTtcblxuICAgICAgICAgIFNTLnB1c2goJzx0ZCAnLCAnY29sc3Bhbj1cIicgKyBjb2wuY29sc3BhbiArICdcIiAnLCAncm93c3Bhbj1cIicgKyBjb2wucm93c3BhbiArICdcIiAnLCAnPicsIGlzR3JvdXBpbmdSb3cgPyBnZXRHcm91cGluZ1ZhbHVlLmNhbGwodGhpcywgX2xpc3RbZGldLCBkaSwgY29sKSA6IGdldEZpZWxkVmFsdWUuY2FsbCh0aGlzLCBfbGlzdCwgX2xpc3RbZGldLCBkaSwgY29sLCB2YWwsIFwidGV4dFwiKSwgJyZuYnNwOzwvdGQ+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgU1MucHVzaCgnXFxuPC90cj4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy9TUy5wdXNoKCc8L3RhYmxlPicpO1xuICAgIHJldHVybiBTUy5qb2luKCcnKTtcbiAgfTtcbiAgbGV0IGdldFN1bSA9IGZ1bmN0aW9uIChfY29sR3JvdXAsIF9ib2R5Um93LCBfbGlzdCkge1xuICAgIGxldCBTUyA9IFtdLFxuICAgICAgICB0cmksXG4gICAgICAgIHRybCxcbiAgICAgICAgY2ksXG4gICAgICAgIGNsLFxuICAgICAgICBjb2w7XG5cbiAgICAvL1NTLnB1c2goJzx0YWJsZSBib3JkZXI9XCIxXCI+Jyk7XG4gICAgZm9yICh0cmkgPSAwLCB0cmwgPSBfYm9keVJvdy5yb3dzLmxlbmd0aDsgdHJpIDwgdHJsOyB0cmkrKykge1xuICAgICAgU1MucHVzaCgnXFxuPHRyPicpO1xuICAgICAgZm9yIChjaSA9IDAsIGNsID0gX2JvZHlSb3cucm93c1t0cmldLmNvbHMubGVuZ3RoOyBjaSA8IGNsOyBjaSsrKSB7XG4gICAgICAgIGNvbCA9IF9ib2R5Um93LnJvd3NbdHJpXS5jb2xzW2NpXTtcbiAgICAgICAgU1MucHVzaCgnPHRkICcsICdjb2xzcGFuPVwiJyArIGNvbC5jb2xzcGFuICsgJ1wiICcsICdyb3dzcGFuPVwiJyArIGNvbC5yb3dzcGFuICsgJ1wiICcsICc+JywgZ2V0U3VtRmllbGRWYWx1ZS5jYWxsKHRoaXMsIF9saXN0LCBjb2wpLCAnPC90ZD4nKTtcbiAgICAgIH1cbiAgICAgIFNTLnB1c2goJ1xcbjwvdHI+Jyk7XG4gICAgfVxuICAgIC8vU1MucHVzaCgnPC90YWJsZT4nKTtcblxuICAgIHJldHVybiBTUy5qb2luKCcnKTtcbiAgfTtcblxuICBsZXQgcG8gPSBbXTtcbiAgcG8ucHVzaChnZXRCb2R5LmNhbGwodGhpcywgdGhpcy5oZWFkZXJDb2xHcm91cCwgYm9keVJvd0RhdGEsIGJvZHlHcm91cGluZ0RhdGEsIGxpc3QpKTtcbiAgaWYgKGNmZy5mb290U3VtKSB7XG4gICAgLy8g67CU64ulIOyalOyVvVxuICAgIHBvLnB1c2goZ2V0U3VtLmNhbGwodGhpcywgdGhpcy5oZWFkZXJDb2xHcm91cCwgZm9vdFN1bURhdGEsIGxpc3QpKTtcbiAgfVxuXG4gIC8vIHJpZ2h0XG4gIGlmIChjZmcucmlnaHRTdW0pIHtcbiAgICAvLyB0b2RvIDogcmlnaHQg7ZGc7ZiEIOygleumrFxuICB9XG5cbiAgcmV0dXJuIHBvLmpvaW4oJycpO1xufTtcblxuY29uc3QgY2xpY2sgPSBmdW5jdGlvbiAoX2RpbmRleCwgX2RvaW5kZXgpIHtcbiAgbGV0IHRoYXQgPSB7XG4gICAgc2VsZjogdGhpcyxcbiAgICBwYWdlOiB0aGlzLnBhZ2UsXG4gICAgbGlzdDogdGhpcy5saXN0LFxuICAgIGl0ZW06IHRoaXMubGlzdFtfZGluZGV4XSxcbiAgICBkaW5kZXg6IF9kaW5kZXhcbiAgfTtcblxuICBtb3ZlRm9jdXMuY2FsbCh0aGlzLCBfZGluZGV4KTtcblxuICBpZiAodGhpcy5jb25maWcuYm9keS5vbkNsaWNrKSB7XG4gICAgdGhpcy5jb25maWcuYm9keS5vbkNsaWNrLmNhbGwodGhhdCk7XG4gIH1cblxuICB0aGF0ID0gbnVsbDtcbiAgLy8gY29uc29sZS5sb2codGhpcy4kW1wicGFuZWxcIl1bXCJib2R5LXNjcm9sbFwiXS5maW5kKCdbZGF0YS1heDZncmlkLXRyLWRhdGEtaW5kZXg9XCInICsgX2RpbmRleCArICdcIl0+dGQ6Zmlyc3QtY2hpbGQnKSk7XG59O1xuXG5jb25zdCBkYmxDbGljayA9IGZ1bmN0aW9uIChfZGluZGV4LCBfZG9pbmRleCkge1xuICBsZXQgdGhhdCA9IHtcbiAgICBzZWxmOiB0aGlzLFxuICAgIHBhZ2U6IHRoaXMucGFnZSxcbiAgICBsaXN0OiB0aGlzLmxpc3QsXG4gICAgaXRlbTogdGhpcy5saXN0W19kaW5kZXhdLFxuICAgIGRpbmRleDogX2RpbmRleFxuICB9O1xuXG4gIG1vdmVGb2N1cy5jYWxsKHRoaXMsIF9kaW5kZXgpO1xuXG4gIGlmICh0aGlzLmNvbmZpZy5ib2R5Lm9uREJMQ2xpY2spIHtcbiAgICB0aGlzLmNvbmZpZy5ib2R5Lm9uREJMQ2xpY2suY2FsbCh0aGF0KTtcbiAgfVxuXG4gIHRoYXQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBAbW9kdWxlIEFYNlVJR3JpZF9ib2R5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy4kW1wiY29udGFpbmVyXCJdW1wiYm9keVwiXS5vbihcImRibGNsaWNrXCIsICdbZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsZXQgcGFuZWxOYW1lLFxuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgcm93LFxuICAgICAgICAgIGNvbCxcbiAgICAgICAgICBkaW5kZXgsXG4gICAgICAgICAgZG9pbmRleCxcbiAgICAgICAgICByb3dJbmRleCxcbiAgICAgICAgICBjb2xJbmRleCxcbiAgICAgICAgICB0YXJnZXREQkxDbGljayA9IHtcbiAgICAgICAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uIChfY29sdW1uKSB7XG4gICAgICAgICAgaWYgKHNlbGYuaXNJbmxpbmVFZGl0aW5nKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2x1bW5LZXkgaW4gc2VsZi5pbmxpbmVFZGl0aW5nKSB7XG4gICAgICAgICAgICAgIGlmIChjb2x1bW5LZXkgPT0gX2NvbHVtbi5kaW5kZXggKyBcIl9cIiArIF9jb2x1bW4uY29sSW5kZXggKyBcIl9cIiArIF9jb2x1bW4ucm93SW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBjb2x1bW4gPSBzZWxmLmJvZHlSb3dNYXBbX2NvbHVtbi5yb3dJbmRleCArIFwiX1wiICsgX2NvbHVtbi5jb2xJbmRleF0sXG4gICAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgICAgICBpZiAoY29sdW1uKSB7XG4gICAgICAgICAgICBpZiAoIXNlbGYubGlzdFtkaW5kZXhdLl9faXNHcm91cGluZykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IERBVEEuZ2V0VmFsdWUuY2FsbChzZWxmLCBkaW5kZXgsIGRvaW5kZXgsIGNvbHVtbi5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBlZGl0b3IgPSBzZWxmLmNvbEdyb3VwW19jb2x1bW4uY29sSW5kZXhdLmVkaXRvcjtcbiAgICAgICAgICBpZiAoVS5pc09iamVjdChlZGl0b3IpKSB7XG4gICAgICAgICAgICBpbmxpbmVFZGl0LmFjdGl2ZS5jYWxsKHNlbGYsIHNlbGYuZm9jdXNlZENvbHVtbiwgZSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDrjZTruJTtgbTrpq0g7Iuk7ZaJXG4gICAgICAgICAgICBpZiAoc2VsZi5jb25maWcuYm9keS5vbkRCTENsaWNrKSB7XG4gICAgICAgICAgICAgIGxldCB0aGF0ID0ge1xuICAgICAgICAgICAgICAgIHNlbGY6IHNlbGYsXG4gICAgICAgICAgICAgICAgcGFnZTogc2VsZi5wYWdlLFxuICAgICAgICAgICAgICAgIGxpc3Q6IHNlbGYubGlzdCxcbiAgICAgICAgICAgICAgICBpdGVtOiBzZWxmLmxpc3RbX2NvbHVtbi5kaW5kZXhdLFxuICAgICAgICAgICAgICAgIGRpbmRleDogX2NvbHVtbi5kaW5kZXgsXG4gICAgICAgICAgICAgICAgZG9pbmRleDogX2NvbHVtbi5kb2luZGV4LFxuICAgICAgICAgICAgICAgIHJvd0luZGV4OiBfY29sdW1uLnJvd0luZGV4LFxuICAgICAgICAgICAgICAgIGNvbEluZGV4OiBfY29sdW1uLmNvbEluZGV4LFxuICAgICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLmxpc3RbX2NvbHVtbi5kaW5kZXhdW2NvbHVtbi5rZXldXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHNlbGYuY29uZmlnLmJvZHkub25EQkxDbGljay5jYWxsKHRoYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJyb3dTZWxlY3RvclwiOiBmdW5jdGlvbiAoX2NvbHVtbikge30sXG4gICAgICAgIFwibGluZU51bWJlclwiOiBmdW5jdGlvbiAoX2NvbHVtbikge31cbiAgICAgIH07XG5cbiAgICAgIHBhbmVsTmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLXBhbmVsLW5hbWVcIik7XG4gICAgICBhdHRyID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHJcIik7XG4gICAgICByb3cgPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJvd1wiKSk7XG4gICAgICBjb2wgPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWNvbFwiKSk7XG4gICAgICByb3dJbmRleCA9IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1jb2x1bW4tcm93SW5kZXhcIikpO1xuICAgICAgY29sSW5kZXggPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWNvbEluZGV4XCIpKTtcbiAgICAgIGRpbmRleCA9IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1kYXRhLWluZGV4XCIpKTtcbiAgICAgIGRvaW5kZXggPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtZGF0YS1vLWluZGV4XCIpKTtcblxuICAgICAgaWYgKGF0dHIgaW4gdGFyZ2V0REJMQ2xpY2spIHtcbiAgICAgICAgdGFyZ2V0REJMQ2xpY2tbYXR0cl0oe1xuICAgICAgICAgIHBhbmVsTmFtZTogcGFuZWxOYW1lLFxuICAgICAgICAgIGF0dHI6IGF0dHIsXG4gICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgZGluZGV4OiBkaW5kZXgsXG4gICAgICAgICAgZG9pbmRleDogZG9pbmRleCxcbiAgICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgICAgY29sSW5kZXg6IGNvbEluZGV4XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy4kW1wiY29udGFpbmVyXCJdW1wiYm9keVwiXS5vbihcImNsaWNrXCIsICdbZGF0YS1heDZncmlkLWNvbHVtbi1hdHRyXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsZXQgcGFuZWxOYW1lLFxuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgcm93LFxuICAgICAgICAgIGNvbCxcbiAgICAgICAgICBkaW5kZXgsXG4gICAgICAgICAgZG9pbmRleCxcbiAgICAgICAgICByb3dJbmRleCxcbiAgICAgICAgICBjb2xJbmRleCxcbiAgICAgICAgICBkaXNhYmxlU2VsZWN0aW9uLFxuICAgICAgICAgIHRhcmdldENsaWNrID0ge1xuICAgICAgICBcImRlZmF1bHRcIjogZnVuY3Rpb24gKF9jb2x1bW4pIHtcbiAgICAgICAgICBsZXQgY29sdW1uID0gc2VsZi5ib2R5Um93TWFwW19jb2x1bW4ucm93SW5kZXggKyBcIl9cIiArIF9jb2x1bW4uY29sSW5kZXhdLFxuICAgICAgICAgICAgICB0aGF0ID0ge1xuICAgICAgICAgICAgc2VsZjogc2VsZixcbiAgICAgICAgICAgIHBhZ2U6IHNlbGYucGFnZSxcbiAgICAgICAgICAgIGxpc3Q6IHNlbGYubGlzdCxcbiAgICAgICAgICAgIGl0ZW06IHNlbGYubGlzdFtfY29sdW1uLmRvaW5kZXhdLFxuICAgICAgICAgICAgZGluZGV4OiBfY29sdW1uLmRpbmRleCxcbiAgICAgICAgICAgIGRvaW5kZXg6IF9jb2x1bW4uZG9pbmRleCxcbiAgICAgICAgICAgIHJvd0luZGV4OiBfY29sdW1uLnJvd0luZGV4LFxuICAgICAgICAgICAgY29sSW5kZXg6IF9jb2x1bW4uY29sSW5kZXgsXG4gICAgICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgICAgIHZhbHVlOiBzZWxmLmxpc3RbX2NvbHVtbi5kaW5kZXhdW2NvbHVtbi5rZXldXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChjb2x1bW4uZWRpdG9yICYmIGNvbHVtbi5lZGl0b3IudHlwZSA9PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIC8vIHRvZG8gOiBJTkxJTkVfRURJVE9S7JeQ7IScIOyymOumrCDtlaDsiJgg7J6I64+E66GdIOq1rOusuCDrs4Dqsr0g7ZWE7JqULlxuICAgICAgICAgICAgbGV0IHZhbHVlID0gREFUQS5nZXRWYWx1ZS5jYWxsKHNlbGYsIF9jb2x1bW4uZGluZGV4LCBfY29sdW1uLmRvaW5kZXgsIGNvbHVtbi5rZXkpLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChjb2x1bW4uZWRpdG9yLmNvbmZpZyAmJiBjb2x1bW4uZWRpdG9yLmNvbmZpZy50cnVlVmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGNoZWNrZWQgPSAhKHZhbHVlID09IGNvbHVtbi5lZGl0b3IuY29uZmlnLnRydWVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IGNvbHVtbi5lZGl0b3IuY29uZmlnLnRydWVWYWx1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IGNvbHVtbi5lZGl0b3IuY29uZmlnLmZhbHNlVmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlID0gY2hlY2tlZCA9IHZhbHVlID09IGZhbHNlIHx8IHZhbHVlID09IFwiZmFsc2VcIiB8fCB2YWx1ZSA8IFwiMVwiID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIERBVEEuc2V0VmFsdWUuY2FsbChzZWxmLCBfY29sdW1uLmRpbmRleCwgX2NvbHVtbi5kb2luZGV4LCBjb2x1bW4ua2V5LCBuZXdWYWx1ZSk7XG5cbiAgICAgICAgICAgIHVwZGF0ZVJvd1N0YXRlLmNhbGwoc2VsZiwgW1wiY2VsbENoZWNrZWRcIl0sIF9jb2x1bW4uZGluZGV4LCBfY29sdW1uLmRvaW5kZXgsIHtcbiAgICAgICAgICAgICAga2V5OiBjb2x1bW4ua2V5LCByb3dJbmRleDogX2NvbHVtbi5yb3dJbmRleCwgY29sSW5kZXg6IF9jb2x1bW4uY29sSW5kZXgsXG4gICAgICAgICAgICAgIGVkaXRvckNvbmZpZzogY29sdW1uLmVkaXRvci5jb25maWcsIGNoZWNrZWQ6IGNoZWNrZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb25maWcuYm9keS5vbkNsaWNrKSB7XG4gICAgICAgICAgICAgIHNlbGYuY29uZmlnLmJvZHkub25DbGljay5jYWxsKHRoYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJyb3dTZWxlY3RvclwiOiBmdW5jdGlvbiAoX2NvbHVtbikge1xuICAgICAgICAgIGxldCBpdGVtID0gc2VsZi5saXN0W19jb2x1bW4uZG9pbmRleF07XG4gICAgICAgICAgaWYgKGl0ZW1bc2VsZi5jb25maWcuY29sdW1uS2V5cy5kaXNhYmxlU2VsZWN0aW9uXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghc2VsZi5jb25maWcubXVsdGlwbGVTZWxlY3QgJiYgc2VsZi5zZWxlY3RlZERhdGFJbmRleHNbMF0gIT09IF9jb2x1bW4uZG9pbmRleCkge1xuICAgICAgICAgICAgdXBkYXRlUm93U3RhdGUuY2FsbChzZWxmLCBbXCJzZWxlY3RlZENsZWFyXCJdKTtcbiAgICAgICAgICAgIERBVEEuY2xlYXJTZWxlY3QuY2FsbChzZWxmKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBEQVRBLnNlbGVjdC5jYWxsKHNlbGYsIF9jb2x1bW4uZGluZGV4LCBfY29sdW1uLmRvaW5kZXgsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgaW50ZXJuYWxDYWxsOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdXBkYXRlUm93U3RhdGUuY2FsbChzZWxmLCBbXCJzZWxlY3RlZFwiXSwgX2NvbHVtbi5kaW5kZXgsIF9jb2x1bW4uZG9pbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwibGluZU51bWJlclwiOiBmdW5jdGlvbiAoX2NvbHVtbikge30sXG4gICAgICAgIFwidHJlZS1jb250cm9sXCI6IGZ1bmN0aW9uIChfY29sdW1uLCBfZWwpIHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKF9jb2x1bW4pO1xuICAgICAgICAgIHRvZ2dsZUNvbGxhcHNlLmNhbGwoc2VsZiwgX2NvbHVtbi5kaW5kZXgsIF9jb2x1bW4uZG9pbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHBhbmVsTmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLXBhbmVsLW5hbWVcIik7XG4gICAgICBhdHRyID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHJcIik7XG4gICAgICByb3cgPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJvd1wiKSk7XG4gICAgICBjb2wgPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWNvbFwiKSk7XG4gICAgICByb3dJbmRleCA9IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1jb2x1bW4tcm93SW5kZXhcIikpO1xuICAgICAgY29sSW5kZXggPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWNvbEluZGV4XCIpKTtcbiAgICAgIGRpbmRleCA9IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1kYXRhLWluZGV4XCIpKTtcbiAgICAgIGRvaW5kZXggPSBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtZGF0YS1vLWluZGV4XCIpKTtcblxuICAgICAgaWYgKGF0dHIgaW4gdGFyZ2V0Q2xpY2spIHtcbiAgICAgICAgdGFyZ2V0Q2xpY2tbYXR0cl0oe1xuICAgICAgICAgIHBhbmVsTmFtZTogcGFuZWxOYW1lLFxuICAgICAgICAgIGF0dHI6IGF0dHIsXG4gICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgZGluZGV4OiBkaW5kZXgsXG4gICAgICAgICAgZG9pbmRleDogZG9pbmRleCxcbiAgICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgICAgY29sSW5kZXg6IGNvbEluZGV4XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy4kW1wiY29udGFpbmVyXCJdW1wiYm9keVwiXS5vbihcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsZXQgdGFyZ2V0LFxuICAgICAgICAgIGRpbmRleCxcbiAgICAgICAgICBkb2luZGV4LFxuICAgICAgICAgIHJvd0luZGV4LFxuICAgICAgICAgIGNvbEluZGV4LFxuICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICAgIHBhcmFtID0ge307XG5cbiAgICAgIHRhcmdldCA9IFUuZmluZFBhcmVudE5vZGUoZS50YXJnZXQsIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0LmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1jb2x1bW4tYXR0clwiKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAvLyBpdGVtIOywvuq4sFxuICAgICAgICByb3dJbmRleCA9IE51bWJlcih0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLWNvbHVtbi1yb3dJbmRleFwiKSk7XG4gICAgICAgIGNvbEluZGV4ID0gTnVtYmVyKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWNvbEluZGV4XCIpKTtcbiAgICAgICAgZGluZGV4ID0gTnVtYmVyKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtZGF0YS1pbmRleFwiKSk7XG4gICAgICAgIGRvaW5kZXggPSBOdW1iZXIodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1kYXRhLW8taW5kZXhcIikpO1xuICAgICAgICBjb2x1bW4gPSBzZWxmLmJvZHlSb3dNYXBbcm93SW5kZXggKyBcIl9cIiArIGNvbEluZGV4XTtcbiAgICAgICAgaXRlbSA9IHNlbGYubGlzdFtkaW5kZXhdO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5jb25maWcuYm9keS5vbkNvbnRleHRNZW51KSB7XG4gICAgICAgIHBhcmFtID0ge1xuICAgICAgICAgIGVsZW1lbnQ6IHRhcmdldCxcbiAgICAgICAgICBkaW5kZXg6IGRpbmRleCxcbiAgICAgICAgICBkb2luZGV4OiBkb2luZGV4LFxuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgICBjb2xJbmRleDogY29sSW5kZXgsXG4gICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgICBncmlkU2VsZjogc2VsZlxuICAgICAgICB9O1xuICAgICAgICBzZWxmLmNvbmZpZy5ib2R5Lm9uQ29udGV4dE1lbnUuY2FsbCh7XG4gICAgICAgICAgc2VsZjogc2VsZixcbiAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgIGNvbHVtbjogY29sdW1uLFxuICAgICAgICAgIGRpbmRleDogZGluZGV4LFxuICAgICAgICAgIGRvaW5kZXg6IGRvaW5kZXgsXG4gICAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4LFxuICAgICAgICAgIGNvbEluZGV4OiBjb2xJbmRleFxuICAgICAgICB9LCBlLCBwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIFUuc3RvcEV2ZW50KGUub3JpZ2luYWxFdmVudCk7XG4gICAgICB0YXJnZXQgPSBudWxsO1xuICAgICAgZGluZGV4ID0gbnVsbDtcbiAgICAgIGRvaW5kZXggPSBudWxsO1xuICAgICAgcm93SW5kZXggPSBudWxsO1xuICAgICAgY29sSW5kZXggPSBudWxsO1xuICAgICAgaXRlbSA9IG51bGw7XG4gICAgICBjb2x1bW4gPSBudWxsO1xuICAgICAgcGFyYW0gPSBudWxsO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kW1wiY29udGFpbmVyXCJdW1wiYm9keVwiXS5vbihcIm1vdXNlZG93blwiLCAnW2RhdGEtYXg2Z3JpZC1jb2x1bW4tYXR0cj1cImRlZmF1bHRcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKHNlbGYueHZhci50b3VjaG1vdmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJvd0luZGV4XCIpKSB7XG4gICAgICAgIGNvbHVtblNlbGVjdG9yLm9uLmNhbGwoc2VsZiwge1xuICAgICAgICAgIHBhbmVsTmFtZTogdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtcGFuZWwtbmFtZVwiKSxcbiAgICAgICAgICBkaW5kZXg6IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1kYXRhLWluZGV4XCIpKSxcbiAgICAgICAgICBkb2luZGV4OiBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtZGF0YS1vLWluZGV4XCIpKSxcbiAgICAgICAgICByb3dJbmRleDogTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLWNvbHVtbi1yb3dJbmRleFwiKSksXG4gICAgICAgICAgY29sSW5kZXg6IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1jb2x1bW4tY29sSW5kZXhcIikpLFxuICAgICAgICAgIGNvbHNwYW46IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIikpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLm9uKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHJlc2V0RnJvemVuQ29sdW1uLmNhbGwodGhpcyk7XG5cbiAgICAvLyDqt7jrpqzrk5wg67CU65SU7JeQIOy2nOugpe2VoCDsl6zsnKAg7Lm07Jq07Yq4XG4gICAgdGhpcy54dmFyLnBhaW50Um93Q291bnRNYXJnaW4gPSB0aGlzLmNvbmZpZy52aXJ0dWFsU2Nyb2xsWUNvdW50TWFyZ2luO1xuICAgIHRoaXMueHZhci5wYWludFJvd0NvdW50VG9wTWFyZ2luID0gdGhpcy5jb25maWcudmlydHVhbFNjcm9sbFlDb3VudE1hcmdpbiAtIE1hdGguZmxvb3IodGhpcy5jb25maWcudmlydHVhbFNjcm9sbFlDb3VudE1hcmdpbiAvIDIpO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLnZpcnR1YWxTY3JvbGxBY2NlbGVyYXRlZCkge1xuICAgICAgdGhpcy5fX3Rocm90dGxlZFNjcm9sbCA9IFUudGhyb3R0bGUoZnVuY3Rpb24gKGNzcywgb3B0cykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcudmlydHVhbFNjcm9sbFkgJiYgIW9wdHMubm9SZXBhaW50ICYmIFwidG9wXCIgaW4gY3NzKSB7XG4gICAgICAgICAgcmVwYWludC5jYWxsKHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29uZmlnLnZpcnR1YWxTY3JvbGxYICYmICFvcHRzLm5vUmVwYWludCAmJiBcImxlZnRcIiBpbiBjc3MpIHtcbiAgICAgICAgICByZXBhaW50LmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuY2FsbGJhY2spIHtcbiAgICAgICAgICBvcHRzLmNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuY29uZmlnLnZpcnR1YWxTY3JvbGxBY2NlbGVyYXRlZERlbGF5VGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX190aHJvdHRsZWRTY3JvbGwgPSBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX3Jlc2V0XG4gICAqIEByZXR1cm4ge21vZHVsZTpBWDZVSUdyaWRfYm9keX1cbiAgICovXG4gIHJlcGFpbnQ6IHJlcGFpbnQsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX3BhbmVsTmFtZVxuICAgKiBAcGFyYW0gX2RpbmRleFxuICAgKiBAcGFyYW0gX2RvaW5kZXhcbiAgICogQHBhcmFtIF9yb3dJbmRleFxuICAgKiBAcGFyYW0gX2NvbEluZGV4XG4gICAqIEBwYXJhbSBfbmV3VmFsdWVcbiAgICovXG4gIHJlcGFpbnRDZWxsOiByZXBhaW50Q2VsbCxcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBfZGluZGV4XG4gICAqL1xuICByZXBhaW50Um93OiByZXBhaW50Um93LFxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9zdGF0ZXNcbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHBhcmFtIF9kb2luZGV4XG4gICAqIEBwYXJhbSBfZGF0YVxuICAgKi9cbiAgdXBkYXRlUm93U3RhdGU6IHVwZGF0ZVJvd1N0YXRlLFxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9zdGF0ZXNcbiAgICogQHBhcmFtIF9kYXRhXG4gICAqL1xuICB1cGRhdGVSb3dTdGF0ZUFsbDogdXBkYXRlUm93U3RhdGVBbGwsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gY3NzXG4gICAqIEBwYXJhbSBvcHRzXG4gICAqL1xuICBzY3JvbGxUbzogc2Nyb2xsVG8sXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYmx1cjogYmx1cixcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBfcG9zaXRpb25cbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIG1vdmVGb2N1czogbW92ZUZvY3VzLFxuICBpbmxpbmVFZGl0OiBpbmxpbmVFZGl0LFxuICAvKipcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0RXhjZWxTdHJpbmc6IGdldEV4Y2VsU3RyaW5nLFxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHBhcmFtIF9kb2luZGV4XG4gICAqIEBwYXJhbSBfY29sbGFwc2VcbiAgICovXG4gIHRvZ2dsZUNvbGxhcHNlOiB0b2dnbGVDb2xsYXBzZSxcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBfZGluZGV4XG4gICAqIEBwYXJhbSBfZG9pbmRleFxuICAgKi9cbiAgY2xpY2s6IGNsaWNrLFxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHBhcmFtIF9kb2luZGV4XG4gICAqL1xuICBkYmxDbGljazogZGJsQ2xpY2tcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF9ib2R5LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiaW1wb3J0IGpRdWVyeSBmcm9tIFwianFtaW5cIjtcbmltcG9ydCBVIGZyb20gXCIuLi9BWDZVdGlsXCI7XG5pbXBvcnQgUEFHRSBmcm9tIFwiLi9BWDZVSUdyaWRfcGFnZVwiO1xuaW1wb3J0IFVUSUwgZnJvbSBcIi4vQVg2VUlHcmlkX3V0aWxcIjtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgaW1wb3J0ICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG5jb25zdCBjbGVhckdyb3VwaW5nRGF0YSA9IGZ1bmN0aW9uIChfbGlzdCkge1xuICBsZXQgaSA9IDAsXG4gICAgICBsID0gX2xpc3QubGVuZ3RoLFxuICAgICAgcmV0dXJuTGlzdCA9IFtdO1xuICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChfbGlzdFtpXSAmJiAhX2xpc3RbaV1bXCJfX2lzR3JvdXBpbmdcIl0pIHtcbiAgICAgIGlmIChfbGlzdFtpXVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLnNlbGVjdGVkXSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkRGF0YUluZGV4cy5wdXNoKGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuTGlzdC5wdXNoKGpRdWVyeS5leHRlbmQoe30sIF9saXN0W2ldKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXR1cm5MaXN0O1xufTtcblxuY29uc3QgaW5pdERhdGEgPSBmdW5jdGlvbiAoX2xpc3QpIHtcbiAgdGhpcy5zZWxlY3RlZERhdGFJbmRleHMgPSBbXTtcbiAgLy8gdGhpcy5kZWxldGVkTGlzdCA9IFtdO1xuICAvLyB0b2RvIDogZGVsZXRlZExpc3Qg7LSI6riw7ZmUIOyLnOygkOydtCDslrjsoJzroZwg7ZWY64qU6rKMIOyii+ydgOqwgC4gc2V0IOuplOyGjOuTnOyXkOyEnCDstIjquLDtmZQg7ZWY64qUIOqyg+ycvOuhnCDsiJjsoJVcblxuICBsZXQgaSA9IDAsXG4gICAgICBsID0gX2xpc3QubGVuZ3RoLFxuICAgICAgcmV0dXJuTGlzdCA9IFtdLFxuICAgICAgYXBwZW5kSW5kZXggPSAwLFxuICAgICAgZGF0YVJlYWxSb3dDb3VudCA9IDAsXG4gICAgICBsaW5lTnVtYmVyID0gMDtcblxuICBpZiAodGhpcy5jb25maWcuYm9keS5ncm91cGluZykge1xuXG4gICAgbGV0IGdyb3VwaW5nS2V5cyA9IFUubWFwKHRoaXMuYm9keUdyb3VwaW5nLmJ5LCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IHRoaXMsXG4gICAgICAgIGNvbXBhcmVTdHJpbmc6IFwiXCIsXG4gICAgICAgIGdyb3VwaW5nOiBmYWxzZSxcbiAgICAgICAgbGlzdDogW11cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBsZXQgZ2kgPSAwLFxuICAgICAgICBnbCA9IGdyb3VwaW5nS2V5cy5sZW5ndGgsXG4gICAgICAgIGNvbXBhcmVTdHJpbmcsXG4gICAgICAgIGFwcGVuZFJvdyA9IFtdLFxuICAgICAgICBhcmk7XG4gICAgZm9yICg7IGkgPCBsICsgMTsgaSsrKSB7XG4gICAgICBnaSA9IDA7XG5cbiAgICAgIGlmIChfbGlzdFtpXSAmJiBfbGlzdFtpXVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLmRlbGV0ZWRdKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlZExpc3QucHVzaChfbGlzdFtpXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wYXJlU3RyaW5nID0gXCJcIjsgLy8g6re466O57ZWRIOq1rOusuOqygOyCrOyaqVxuICAgICAgICBhcHBlbmRSb3cgPSBbXTsgLy8g7ZiE7J6s7KSEIOyVnuyXkCDstpTqsIDtlbTspJjslbwg7ZWY64qUIOykhFxuXG4gICAgICAgIC8vIOq3uOujue2VkSDqtazrrLjqsoDsgqxcbiAgICAgICAgZm9yICg7IGdpIDwgZ2w7IGdpKyspIHtcbiAgICAgICAgICBpZiAoX2xpc3RbaV0pIHtcbiAgICAgICAgICAgIGNvbXBhcmVTdHJpbmcgKz0gXCIkfCRcIiArIF9saXN0W2ldW2dyb3VwaW5nS2V5c1tnaV0ua2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXBwZW5kSW5kZXggPiAwICYmIGNvbXBhcmVTdHJpbmcgIT0gZ3JvdXBpbmdLZXlzW2dpXS5jb21wYXJlU3RyaW5nKSB7XG4gICAgICAgICAgICBsZXQgYXBwZW5kUm93SXRlbSA9IHsga2V5czogW10sIGxhYmVsczogW10sIGxpc3Q6IGdyb3VwaW5nS2V5c1tnaV0ubGlzdCB9O1xuICAgICAgICAgICAgZm9yIChsZXQga2kgPSAwOyBraSA8IGdpICsgMTsga2krKykge1xuICAgICAgICAgICAgICBhcHBlbmRSb3dJdGVtLmtleXMucHVzaChncm91cGluZ0tleXNba2ldLmtleSk7XG4gICAgICAgICAgICAgIGFwcGVuZFJvd0l0ZW0ubGFiZWxzLnB1c2goX2xpc3RbaSAtIDFdW2dyb3VwaW5nS2V5c1traV0ua2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcHBlbmRSb3cucHVzaChhcHBlbmRSb3dJdGVtKTtcbiAgICAgICAgICAgIGdyb3VwaW5nS2V5c1tnaV0ubGlzdCA9IFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdyb3VwaW5nS2V5c1tnaV0ubGlzdC5wdXNoKF9saXN0W2ldKTtcbiAgICAgICAgICBncm91cGluZ0tleXNbZ2ldLmNvbXBhcmVTdHJpbmcgPSBjb21wYXJlU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g7IOI66GcIOy2lOqwgO2VtOyVvO2VoCDqt7jro7ntlZEgcm93XG4gICAgICAgIGFyaSA9IGFwcGVuZFJvdy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChhcmktLSkge1xuICAgICAgICAgIHJldHVybkxpc3QucHVzaCh7IF9faXNHcm91cGluZzogdHJ1ZSwgX19ncm91cGluZ0xpc3Q6IGFwcGVuZFJvd1thcmldLmxpc3QsIF9fZ3JvdXBpbmdCeTogeyBrZXlzOiBhcHBlbmRSb3dbYXJpXS5rZXlzLCBsYWJlbHM6IGFwcGVuZFJvd1thcmldLmxhYmVscyB9IH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vfiDqt7jro7ntlZEg6rWs66y4IOqygOyCrCDsmYTro4xcblxuICAgICAgICBpZiAoX2xpc3RbaV0pIHtcbiAgICAgICAgICBpZiAoX2xpc3RbaV1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5zZWxlY3RlZF0pIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzLnB1c2goaSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIOq3uOujue2VkeydtCDsoIHsmqnrkJwg6rK97JqwIOyYpOumrOyngOuEkCDsnbjrjbHsiqQg7J2Y66+4IOyXhuydjCA6IOygleugrOuztOuLpCDqt7jro7ntlZHsnbQg642UIOykkeyalO2VmOuvgOuhnC5cbiAgICAgICAgICBfbGlzdFtpXVtcIl9fb3JpZ2luYWxfaW5kZXhcIl0gPSBfbGlzdFtpXVtcIl9faW5kZXhcIl0gPSBsaW5lTnVtYmVyO1xuICAgICAgICAgIHJldHVybkxpc3QucHVzaChfbGlzdFtpXSk7XG5cbiAgICAgICAgICBkYXRhUmVhbFJvd0NvdW50Kys7XG4gICAgICAgICAgYXBwZW5kSW5kZXgrKztcbiAgICAgICAgICBsaW5lTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChfbGlzdFtpXSkge1xuICAgICAgICBpZiAoX2xpc3RbaV1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5kZWxldGVkXSkge1xuICAgICAgICAgIHRoaXMuZGVsZXRlZExpc3QucHVzaChfbGlzdFtpXSk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICBpZiAoX2xpc3RbaV1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5zZWxlY3RlZF0pIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzLnB1c2goaSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gX19vcmlnaW5hbF9pbmRleCDsnbjrjbHsiqQg7YKk6rCAIOyXhuuLpOuptCDstpTqsIAuXG4gICAgICAgICAgaWYgKHR5cGVvZiBfbGlzdFtpXVtcIl9fb3JpZ2luYWxfaW5kZXhcIl0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIF9saXN0W2ldW1wiX19vcmlnaW5hbF9pbmRleFwiXSA9IGxpbmVOdW1iZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9saXN0W2ldW1wiX19pbmRleFwiXSA9IGxpbmVOdW1iZXI7XG4gICAgICAgICAgZGF0YVJlYWxSb3dDb3VudCsrO1xuICAgICAgICAgIGxpbmVOdW1iZXIrKztcbiAgICAgICAgICByZXR1cm5MaXN0LnB1c2goX2xpc3RbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g7JuQ67O4IOuNsOydtO2EsOydmCDqsK/siJhcbiAgLy8gZ3JvdXBpbmfsnYAg7KCc7Jm47ZWY6rOgIOyImOynkeuQqC5cbiAgdGhpcy54dmFyLmRhdGFSZWFsUm93Q291bnQgPSBkYXRhUmVhbFJvd0NvdW50O1xuICByZXR1cm4gcmV0dXJuTGlzdDtcbn07XG5cbmNvbnN0IGFycmFuZ2VEYXRhNHRyZWUgPSBmdW5jdGlvbiAoX2xpc3QpIHtcbiAgdGhpcy5zZWxlY3RlZERhdGFJbmRleHMgPSBbXTtcbiAgdGhpcy5kZWxldGVkTGlzdCA9IFtdO1xuICBsZXQgaSA9IDAsXG4gICAgICBzZXEgPSAwLFxuICAgICAgYXBwZW5kSW5kZXggPSAwLFxuICAgICAgZGF0YVJlYWxSb3dDb3VudCA9IDAsXG4gICAgICBsaW5lTnVtYmVyID0gMDtcblxuICBsZXQgbGkgPSBfbGlzdC5sZW5ndGg7XG4gIGxldCBrZXlzID0gdGhpcy5jb25maWcudHJlZS5jb2x1bW5LZXlzO1xuICBsZXQgaGFzaERpZ2l0ID0gdGhpcy5jb25maWcudHJlZS5oYXNoRGlnaXQ7XG4gIGxldCBsaXN0SW5kZXhNYXAgPSB7fTtcblxuICB3aGlsZSAobGktLSkge1xuICAgIGRlbGV0ZSBfbGlzdFtsaV1ba2V5cy5wYXJlbnRIYXNoXTtcbiAgICBkZWxldGUgX2xpc3RbbGldW2tleXMuc2VsZkhhc2hdO1xuICAgIC8vZGVsZXRlIF9saXN0W2xpXVtrZXlzLmNoaWxkcmVuTGVuZ3RoXTtcbiAgfVxuXG4gIC8vLyDro6jtirgg7JWE7J207YWcIOyImOynkVxuICBpID0gMDtcbiAgc2VxID0gMDtcbiAgbGkgPSBfbGlzdC5sZW5ndGg7XG4gIGZvciAoOyBpIDwgbGk7IGkrKykge1xuICAgIGlmIChfbGlzdFtpXSkge1xuICAgICAgbGlzdEluZGV4TWFwW19saXN0W2ldW2tleXMuc2VsZktleV1dID0gaTsgLy8g7J24642x7IuxXG5cbiAgICAgIGlmIChVLmlzTm90aGluZyhfbGlzdFtpXVtrZXlzLnBhcmVudEtleV0pIHx8IF9saXN0W2ldW2tleXMucGFyZW50S2V5XSA9PT0gXCJ0b3BcIikge1xuICAgICAgICAvLyDstZzsg4HsnIQg7JWE7J207YWc7J24IOqyveyasFxuICAgICAgICBfbGlzdFtpXVtrZXlzLnBhcmVudEtleV0gPSBcInRvcFwiO1xuICAgICAgICBfbGlzdFtpXVtrZXlzLmNoaWxkcmVuXSA9IFtdO1xuICAgICAgICBfbGlzdFtpXVtrZXlzLnBhcmVudEhhc2hdID0gVS5zZXREaWdpdChcIjBcIiwgaGFzaERpZ2l0KTtcbiAgICAgICAgX2xpc3RbaV1ba2V5cy5zZWxmSGFzaF0gPSBVLnNldERpZ2l0KFwiMFwiLCBoYXNoRGlnaXQpICsgXCIuXCIgKyBVLnNldERpZ2l0KHNlcSwgaGFzaERpZ2l0KTtcbiAgICAgICAgX2xpc3RbaV1ba2V5cy5kZXB0aF0gPSAwO1xuICAgICAgICBfbGlzdFtpXVtrZXlzLmhpZGRlbl0gPSBmYWxzZTtcblxuICAgICAgICBzZXErKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLy8g7J6Q7IudIOyVhOydtO2FnCDsiJjsp5FcbiAgaSA9IDA7XG4gIGxpbmVOdW1iZXIgPSAwO1xuICBmb3IgKDsgaSA8IGxpOyBpKyspIHtcbiAgICBsZXQgX3BhcmVudCwgX3BhcmVudEhhc2g7XG4gICAgaWYgKF9saXN0W2ldICYmIF9saXN0W2ldW2tleXMucGFyZW50S2V5XSAhPT0gXCJ0b3BcIiAmJiB0eXBlb2YgX2xpc3RbaV1ba2V5cy5wYXJlbnRIYXNoXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXG4gICAgICBpZiAoX3BhcmVudCA9IF9saXN0W2xpc3RJbmRleE1hcFtfbGlzdFtpXVtrZXlzLnBhcmVudEtleV1dXSkge1xuICAgICAgICBfcGFyZW50SGFzaCA9IF9wYXJlbnRba2V5cy5zZWxmSGFzaF07XG4gICAgICAgIF9saXN0W2ldW2tleXMuY2hpbGRyZW5dID0gW107XG4gICAgICAgIF9saXN0W2ldW2tleXMucGFyZW50SGFzaF0gPSBfcGFyZW50SGFzaDtcbiAgICAgICAgX2xpc3RbaV1ba2V5cy5zZWxmSGFzaF0gPSBfcGFyZW50SGFzaCArIFwiLlwiICsgVS5zZXREaWdpdChfcGFyZW50W2tleXMuY2hpbGRyZW5dLmxlbmd0aCwgaGFzaERpZ2l0KTtcbiAgICAgICAgX2xpc3RbaV1ba2V5cy5kZXB0aF0gPSBfcGFyZW50W2tleXMuZGVwdGhdICsgMTtcbiAgICAgICAgaWYgKF9wYXJlbnRba2V5cy5jb2xsYXBzZV0gfHwgX3BhcmVudFtrZXlzLmhpZGRlbl0pIF9saXN0W2ldW2tleXMuaGlkZGVuXSA9IHRydWU7XG4gICAgICAgIF9wYXJlbnRba2V5cy5jaGlsZHJlbl0ucHVzaChfbGlzdFtpXVtrZXlzLnNlbGZLZXldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9saXN0W2ldW2tleXMucGFyZW50S2V5XSA9IFwidG9wXCI7XG4gICAgICAgIF9saXN0W2ldW2tleXMuY2hpbGRyZW5dID0gW107XG4gICAgICAgIF9saXN0W2ldW2tleXMucGFyZW50SGFzaF0gPSBVLnNldERpZ2l0KFwiMFwiLCBoYXNoRGlnaXQpO1xuICAgICAgICBfbGlzdFtpXVtrZXlzLnNlbGZIYXNoXSA9IFUuc2V0RGlnaXQoXCIwXCIsIGhhc2hEaWdpdCkgKyBcIi5cIiArIFUuc2V0RGlnaXQoc2VxLCBoYXNoRGlnaXQpO1xuICAgICAgICBfbGlzdFtpXVtrZXlzLmhpZGRlbl0gPSBmYWxzZTtcblxuICAgICAgICBzZXErKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoX2xpc3RbaV0pIHtcbiAgICAgIGlmIChfbGlzdFtpXVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLmRlbGV0ZWRdKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlZExpc3QucHVzaChfbGlzdFtpXSk7XG4gICAgICAgIF9saXN0W2ldW2tleXMuaGlkZGVuXSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKF9saXN0W2ldW3RoaXMuY29uZmlnLmNvbHVtbktleXMuc2VsZWN0ZWRdKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzLnB1c2goaSk7XG4gICAgICB9XG5cbiAgICAgIF9saXN0W2ldW1wiX19pbmRleFwiXSA9IGxpbmVOdW1iZXI7XG4gICAgICBkYXRhUmVhbFJvd0NvdW50Kys7XG4gICAgICBsaW5lTnVtYmVyKys7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5saXN0SW5kZXhNYXAgPSBsaXN0SW5kZXhNYXA7XG4gIHRoaXMueHZhci5kYXRhUmVhbFJvd0NvdW50ID0gZGF0YVJlYWxSb3dDb3VudDtcblxuICByZXR1cm4gX2xpc3Q7XG59O1xuXG5jb25zdCBzZXQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBsZXQgbGlzdDtcbiAgaWYgKFUuaXNBcnJheShkYXRhKSkge1xuICAgIHRoaXMucGFnZSA9IG51bGw7XG4gICAgbGlzdCA9IGRhdGE7XG4gIH0gZWxzZSBpZiAoXCJwYWdlXCIgaW4gZGF0YSkge1xuICAgIHRoaXMucGFnZSA9IGpRdWVyeS5leHRlbmQoe30sIGRhdGEucGFnZSk7XG4gICAgbGlzdCA9IGRhdGEubGlzdDtcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdC5sZW5ndGgpO1xuXG4gIGlmICh0aGlzLmNvbmZpZy50cmVlLnVzZSkge1xuICAgIHRoaXMubGlzdCA9IGFycmFuZ2VEYXRhNHRyZWUuY2FsbCh0aGlzLCBsaXN0KTtcbiAgICB0aGlzLnByb3h5TGlzdCA9IGdldFByb3h5TGlzdC5jYWxsKHRoaXMsIHNvcnQuY2FsbCh0aGlzLCB0aGlzLnNvcnRJbmZvLCB0aGlzLmxpc3QpKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnByb3h5TGlzdCA9IG51bGw7XG4gICAgdGhpcy5saXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCAhdGhpcy5jb25maWcucmVtb3RlU29ydCAmJiBPYmplY3Qua2V5cyh0aGlzLnNvcnRJbmZvKS5sZW5ndGggPyBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgbGlzdCkgOiBsaXN0KTtcbiAgfVxuICB0aGlzLnNlbGVjdGVkRGF0YUluZGV4cyA9IFtdO1xuICB0aGlzLmRlbGV0ZWRMaXN0ID0gW107XG5cbiAgdGhpcy5uZWVkVG9QYWludFN1bSA9IHRydWU7XG4gIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA9IHRoaXMuY29uZmlnLmZyb3plblJvd0luZGV4ID4gdGhpcy5saXN0Lmxlbmd0aCA/IHRoaXMubGlzdC5sZW5ndGggOiB0aGlzLmNvbmZpZy5mcm96ZW5Sb3dJbmRleDtcbiAgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9IHVuZGVmaW5lZDsgLy8g7Iqk7YGs66GkIO2PrOyngOyFmCDsoIDsnqXrs4DsiJgg7LSI6riw7ZmUXG4gIHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ID0gdW5kZWZpbmVkOyAvLyDsiqTtgazroaQg7Y+s7KeA7IWYIOyggOyepeuzgOyImCDstIjquLDtmZRcbiAgUEFHRS5uYXZpZ2F0aW9uVXBkYXRlLmNhbGwodGhpcyk7XG5cbiAgaWYgKHRoaXMuY29uZmlnLmJvZHkuZ3JvdXBpbmcpIHt9XG4gIHJldHVybiB0aGlzO1xufTtcblxuY29uc3QgZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGxpc3Q6IHRoaXMubGlzdCxcbiAgICBwYWdlOiB0aGlzLnBhZ2VcbiAgfTtcbn07XG5cbmNvbnN0IGdldExpc3QgPSBmdW5jdGlvbiAoX3R5cGUpIHtcbiAgbGV0IHJldHVybkxpc3QgPSBbXTtcbiAgLy9sZXQgbGlzdCA9ICh0aGlzLnByb3h5TGlzdCkgPyB0aGlzLnByb3h5TGlzdCA6IHRoaXMubGlzdDtcbiAgbGV0IGxpc3QgPSB0aGlzLmxpc3Q7XG4gIGxldCBpID0gMCxcbiAgICAgIGwgPSBsaXN0Lmxlbmd0aDtcbiAgc3dpdGNoIChfdHlwZSkge1xuICAgIGNhc2UgXCJtb2RpZmllZFwiOlxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGxpc3RbaV0gJiYgIWxpc3RbaV1bXCJfX2lzR3JvdXBpbmdcIl0gJiYgbGlzdFtpXVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLm1vZGlmaWVkXSkge1xuICAgICAgICAgIHJldHVybkxpc3QucHVzaChqUXVlcnkuZXh0ZW5kKHt9LCBsaXN0W2ldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGxpc3RbaV0gJiYgIWxpc3RbaV1bXCJfX2lzR3JvdXBpbmdcIl0gJiYgbGlzdFtpXVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLnNlbGVjdGVkXSkge1xuICAgICAgICAgIHJldHVybkxpc3QucHVzaChqUXVlcnkuZXh0ZW5kKHt9LCBsaXN0W2ldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJkZWxldGVkXCI6XG4gICAgICAvL19saXN0ID0gY2xlYXJHcm91cGluZ0RhdGEodGhpcy5saXN0KTtcbiAgICAgIHJldHVybkxpc3QgPSBbXS5jb25jYXQodGhpcy5kZWxldGVkTGlzdCk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuTGlzdCA9IGNsZWFyR3JvdXBpbmdEYXRhLmNhbGwodGhpcywgbGlzdCk7XG4gIH1cbiAgcmV0dXJuIHJldHVybkxpc3Q7XG59O1xuXG5jb25zdCBnZXRQcm94eUxpc3QgPSBmdW5jdGlvbiAoX2xpc3QpIHtcbiAgbGV0IGkgPSAwLFxuICAgICAgbCA9IF9saXN0Lmxlbmd0aCxcbiAgICAgIHJldHVybkxpc3QgPSBbXTtcbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcblxuICAgIGlmIChfbGlzdFtpXSAmJiAhX2xpc3RbaV1bdGhpcy5jb25maWcudHJlZS5jb2x1bW5LZXlzLmhpZGRlbl0pIHtcbiAgICAgIF9saXN0W2ldLl9fb3JpZ2luX2luZGV4X18gPSBpO1xuICAgICAgcmV0dXJuTGlzdC5wdXNoKF9saXN0W2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVybkxpc3Q7XG59O1xuXG5jb25zdCBzZXRWYWx1ZSA9IGZ1bmN0aW9uIChfZGluZGV4LCBfZG9pbmRleCwgX2tleSwgX3ZhbHVlKSB7XG4gIGxldCBvcmlnaW5hbFZhbHVlID0gZ2V0VmFsdWUuY2FsbCh0aGlzLCBfZGluZGV4LCBfZG9pbmRleCwgX2tleSk7XG4gIGxldCBsaXN0ID0gdGhpcy5saXN0O1xuICBsZXQgbGlzdEluZGV4ID0gdHlwZW9mIF9kb2luZGV4ID09PSBcInVuZGVmaW5lZFwiID8gX2RpbmRleCA6IF9kb2luZGV4O1xuICB0aGlzLm5lZWRUb1BhaW50U3VtID0gdHJ1ZTtcblxuICBpZiAob3JpZ2luYWxWYWx1ZSAhPT0gX3ZhbHVlKSB7XG4gICAgaWYgKC9bXFwuXFxbXFxdXS8udGVzdChfa2V5KSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlzdFtsaXN0SW5kZXhdW3RoaXMuY29uZmlnLmNvbHVtbktleXMubW9kaWZpZWRdID0gdHJ1ZTtcbiAgICAgICAgRnVuY3Rpb24oXCJ2YWxcIiwgXCJ0aGlzXCIgKyBVVElMLmdldFJlYWxQYXRoRm9yRGF0YUl0ZW0oX2tleSkgKyBcIiA9IHZhbDtcIikuY2FsbChsaXN0W2xpc3RJbmRleF0sIF92YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0W2xpc3RJbmRleF1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5tb2RpZmllZF0gPSB0cnVlO1xuICAgICAgbGlzdFtsaXN0SW5kZXhdW19rZXldID0gX3ZhbHVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9uRGF0YUNoYW5nZWQpIHtcbiAgICAgIHRoaXMub25EYXRhQ2hhbmdlZC5jYWxsKHtcbiAgICAgICAgc2VsZjogdGhpcyxcbiAgICAgICAgbGlzdDogdGhpcy5saXN0LFxuICAgICAgICBkaW5kZXg6IF9kaW5kZXgsXG4gICAgICAgIGRvaW5kZXg6IF9kb2luZGV4LFxuICAgICAgICBpdGVtOiB0aGlzLmxpc3RbX2RpbmRleF0sXG4gICAgICAgIGtleTogX2tleSxcbiAgICAgICAgdmFsdWU6IF92YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBnZXRWYWx1ZSA9IGZ1bmN0aW9uIChfZGluZGV4LCBfZG9pbmRleCwgX2tleSwgX3ZhbHVlKSB7XG4gIGxldCBsaXN0ID0gdGhpcy5saXN0O1xuICBsZXQgbGlzdEluZGV4ID0gdHlwZW9mIF9kb2luZGV4ID09PSBcInVuZGVmaW5lZFwiID8gX2RpbmRleCA6IF9kb2luZGV4O1xuXG4gIGlmICgvW1xcLlxcW1xcXV0vLnRlc3QoX2tleSkpIHtcbiAgICB0cnkge1xuICAgICAgX3ZhbHVlID0gRnVuY3Rpb24oXCJcIiwgXCJyZXR1cm4gdGhpc1wiICsgVVRJTC5nZXRSZWFsUGF0aEZvckRhdGFJdGVtKF9rZXkpICsgXCI7XCIpLmNhbGwobGlzdFtsaXN0SW5kZXhdKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9IGVsc2Uge1xuICAgIF92YWx1ZSA9IGxpc3RbbGlzdEluZGV4XVtfa2V5XTtcbiAgfVxuICByZXR1cm4gX3ZhbHVlO1xufTtcblxuY29uc3QgY2xlYXJTZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzID0gW107XG59O1xuXG5jb25zdCBzZWxlY3QgPSBmdW5jdGlvbiAoX2RpbmRleCwgX2RvaW5kZXgsIF9zZWxlY3RlZCwgX29wdGlvbnMpIHtcbiAgbGV0IGNmZyA9IHRoaXMuY29uZmlnO1xuXG4gIGlmICh0eXBlb2YgX2RvaW5kZXggPT09IFwidW5kZWZpbmVkXCIpIF9kb2luZGV4ID0gX2RpbmRleDtcblxuICBpZiAoIXRoaXMubGlzdFtfZG9pbmRleF0pIHJldHVybiBmYWxzZTtcbiAgaWYgKHRoaXMubGlzdFtfZG9pbmRleF0uX19pc0dyb3VwaW5nKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0aGlzLmxpc3RbX2RvaW5kZXhdW2NmZy5jb2x1bW5LZXlzLmRpc2FibGVTZWxlY3Rpb25dKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBfc2VsZWN0ZWQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodGhpcy5saXN0W19kb2luZGV4XVtjZmcuY29sdW1uS2V5cy5zZWxlY3RlZF0gPSAhdGhpcy5saXN0W19kb2luZGV4XVtjZmcuY29sdW1uS2V5cy5zZWxlY3RlZF0pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzLnB1c2goX2RvaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkRGF0YUluZGV4cy5zcGxpY2UoVS5zZWFyY2godGhpcy5zZWxlY3RlZERhdGFJbmRleHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT0gX2RvaW5kZXg7XG4gICAgICB9KSwgMSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLmxpc3RbX2RvaW5kZXhdW2NmZy5jb2x1bW5LZXlzLnNlbGVjdGVkXSA9IF9zZWxlY3RlZCkge1xuICAgICAgdGhpcy5zZWxlY3RlZERhdGFJbmRleHMucHVzaChfZG9pbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzLnNwbGljZShVLnNlYXJjaCh0aGlzLnNlbGVjdGVkRGF0YUluZGV4cywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcyA9PSBfZG9pbmRleDtcbiAgICAgIH0pLCAxKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5vbkRhdGFDaGFuZ2VkICYmIF9vcHRpb25zICYmIF9vcHRpb25zLmludGVybmFsQ2FsbCkge1xuICAgIHRoaXMub25EYXRhQ2hhbmdlZC5jYWxsKHtcbiAgICAgIHNlbGY6IHRoaXMsXG4gICAgICBsaXN0OiB0aGlzLmxpc3QsXG4gICAgICBkaW5kZXg6IF9kaW5kZXgsXG4gICAgICBkb2luZGV4OiBfZG9pbmRleCxcbiAgICAgIGl0ZW06IHRoaXMubGlzdFtfZG9pbmRleF0sXG4gICAgICBrZXk6IGNmZy5jb2x1bW5LZXlzLnNlbGVjdGVkLFxuICAgICAgdmFsdWU6IHRoaXMubGlzdFtfZG9pbmRleF1bY2ZnLmNvbHVtbktleXMuc2VsZWN0ZWRdXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5saXN0W19kb2luZGV4XVtjZmcuY29sdW1uS2V5cy5zZWxlY3RlZF07XG59O1xuXG5jb25zdCBzZWxlY3RBbGwgPSBmdW5jdGlvbiAoX3NlbGVjdGVkLCBfb3B0aW9ucykge1xuICBsZXQgY2ZnID0gdGhpcy5jb25maWcsXG4gICAgICBkaW5kZXggPSB0aGlzLmxpc3QubGVuZ3RoO1xuXG4gIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzID0gW107XG5cbiAgaWYgKHR5cGVvZiBfc2VsZWN0ZWQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB3aGlsZSAoZGluZGV4LS0pIHtcbiAgICAgIGlmICh0aGlzLmxpc3RbZGluZGV4XS5fX2lzR3JvdXBpbmcpIGNvbnRpbnVlO1xuICAgICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLmZpbHRlcikge1xuICAgICAgICBpZiAoX29wdGlvbnMuZmlsdGVyLmNhbGwodGhpcy5saXN0W2RpbmRleF0pICE9PSB0cnVlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmxpc3RbZGluZGV4XVtjZmcuY29sdW1uS2V5cy5kaXNhYmxlU2VsZWN0aW9uXSkgY29udGludWU7XG5cbiAgICAgIGlmICh0aGlzLmxpc3RbZGluZGV4XVtjZmcuY29sdW1uS2V5cy5zZWxlY3RlZF0gPSAhdGhpcy5saXN0W2RpbmRleF1bY2ZnLmNvbHVtbktleXMuc2VsZWN0ZWRdKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzLnB1c2goZGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKGRpbmRleC0tKSB7XG4gICAgICBpZiAodGhpcy5saXN0W2RpbmRleF0uX19pc0dyb3VwaW5nKSBjb250aW51ZTtcbiAgICAgIGlmIChfb3B0aW9ucyAmJiBfb3B0aW9ucy5maWx0ZXIpIHtcbiAgICAgICAgaWYgKF9vcHRpb25zLmZpbHRlci5jYWxsKHRoaXMubGlzdFtkaW5kZXhdKSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5saXN0W2RpbmRleF1bY2ZnLmNvbHVtbktleXMuZGlzYWJsZVNlbGVjdGlvbl0pIGNvbnRpbnVlO1xuXG4gICAgICBpZiAodGhpcy5saXN0W2RpbmRleF1bY2ZnLmNvbHVtbktleXMuc2VsZWN0ZWRdID0gX3NlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSW5kZXhzLnB1c2goZGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5vbkRhdGFDaGFuZ2VkICYmIF9vcHRpb25zICYmIF9vcHRpb25zLmludGVybmFsQ2FsbCkge1xuICAgIHRoaXMub25EYXRhQ2hhbmdlZC5jYWxsKHtcbiAgICAgIHNlbGY6IHRoaXMsXG4gICAgICBsaXN0OiB0aGlzLmxpc3RcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmxpc3Q7XG59O1xuXG5jb25zdCBhZGQgPSBmdW5jdGlvbiAoX3JvdywgX2RpbmRleCwgX29wdGlvbnMpIHtcbiAgbGV0IGxpc3QgPSB0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nID8gY2xlYXJHcm91cGluZ0RhdGEuY2FsbCh0aGlzLCB0aGlzLmxpc3QpIDogdGhpcy5saXN0O1xuICBsZXQgcHJvY2Vzc29yID0ge1xuICAgIFwiZmlyc3RcIigpIHtcbiAgICAgIGxpc3QgPSBbXS5jb25jYXQoX3JvdykuY29uY2F0KGxpc3QpO1xuICAgIH0sXG4gICAgXCJsYXN0XCIoKSB7XG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQoW10uY29uY2F0KF9yb3cpKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHRoaXMuY29uZmlnLnRyZWUudXNlKSB7XG4gICAgbGV0IGxpc3QgPSB0aGlzLmxpc3QuY29uY2F0KFtdLmNvbmNhdChfcm93KSk7XG5cbiAgICB0aGlzLmxpc3QgPSBhcnJhbmdlRGF0YTR0cmVlLmNhbGwodGhpcywgbGlzdCk7XG4gICAgdGhpcy5wcm94eUxpc3QgPSBnZXRQcm94eUxpc3QuY2FsbCh0aGlzLCBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgdGhpcy5saXN0KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBfZGluZGV4ID09PSBcInVuZGVmaW5lZFwiKSBfZGluZGV4ID0gXCJsYXN0XCI7XG4gICAgaWYgKF9kaW5kZXggaW4gcHJvY2Vzc29yKSB7XG4gICAgICBfcm93W3RoaXMuY29uZmlnLmNvbHVtbktleXMubW9kaWZpZWRdID0gdHJ1ZTtcbiAgICAgIHByb2Nlc3NvcltfZGluZGV4XS5jYWxsKHRoaXMsIF9yb3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVUuaXNOdW1iZXIoX2RpbmRleCkpIHtcbiAgICAgICAgdGhyb3cgJ2ludmFsaWQgYXJndW1lbnQgX2RpbmRleCc7XG4gICAgICB9XG4gICAgICBpZiAoVS5pc0FycmF5KF9yb3cpKSB7XG4gICAgICAgIGZvciAobGV0IF9pID0gMCwgX2wgPSBfcm93Lmxlbmd0aDsgX2kgPCBfbDsgX2krKykge1xuICAgICAgICAgIGxpc3Quc3BsaWNlKF9kaW5kZXggKyBfaSwgMCwgX3Jvd1tfaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0LnNwbGljZShfZGluZGV4LCAwLCBfcm93KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb25maWcuYm9keS5ncm91cGluZykge1xuICAgICAgbGlzdCA9IGluaXREYXRhLmNhbGwodGhpcywgc29ydC5jYWxsKHRoaXMsIHRoaXMuc29ydEluZm8sIGxpc3QpKTtcbiAgICB9IGVsc2UgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLnNvcnQgJiYgT2JqZWN0LmtleXModGhpcy5zb3J0SW5mbykubGVuZ3RoKSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgbGlzdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBsaXN0KTtcbiAgICB9XG5cbiAgICB0aGlzLmxpc3QgPSBsaXN0O1xuICB9XG5cbiAgdGhpcy5uZWVkVG9QYWludFN1bSA9IHRydWU7XG4gIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA9IHRoaXMuY29uZmlnLmZyb3plblJvd0luZGV4ID4gdGhpcy5saXN0Lmxlbmd0aCA/IHRoaXMubGlzdC5sZW5ndGggOiB0aGlzLmNvbmZpZy5mcm96ZW5Sb3dJbmRleDtcbiAgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9IHVuZGVmaW5lZDsgLy8g7Iqk7YGs66GkIO2PrOyngOyFmCDsoIDsnqXrs4DsiJgg7LSI6riw7ZmUXG4gIHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ID0gdW5kZWZpbmVkOyAvLyDsiqTtgazroaQg7Y+s7KeA7IWYIOyggOyepeuzgOyImCDstIjquLDtmZRcbiAgUEFHRS5uYXZpZ2F0aW9uVXBkYXRlLmNhbGwodGhpcyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuY29uc3QgcmVtb3ZlID0gZnVuY3Rpb24gKF9kaW5kZXgpIHtcbiAgbGV0IGxpc3QgPSB0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nID8gY2xlYXJHcm91cGluZ0RhdGEuY2FsbCh0aGlzLCB0aGlzLmxpc3QpIDogdGhpcy5saXN0O1xuICBsZXQgcHJvY2Vzc29yID0ge1xuICAgIFwiZmlyc3RcIjogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLnRyZWUudXNlKSB7XG4gICAgICAgIHByb2Nlc3Nvci50cmVlLmNhbGwodGhpcywgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0LnNwbGljZSgwLCAxKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFwibGFzdFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcudHJlZS51c2UpIHtcbiAgICAgICAgcHJvY2Vzc29yLnRyZWUuY2FsbCh0aGlzLCBsaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5zcGxpY2UobGlzdC5sZW5ndGggLSAxLCAxKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiaW5kZXhcIjogZnVuY3Rpb24gKF9kaW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy50cmVlLnVzZSkge1xuICAgICAgICBwcm9jZXNzb3IudHJlZS5jYWxsKHRoaXMsIF9kaW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoX2RpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBcInNlbGVjdGVkXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy50cmVlLnVzZSkge1xuICAgICAgICBwcm9jZXNzb3IudHJlZS5jYWxsKHRoaXMsIFwic2VsZWN0ZWRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgX19saXN0ID0gW10sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbDtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWxpc3RbaV1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5zZWxlY3RlZF0pIHtcbiAgICAgICAgICAgIF9fbGlzdC5wdXNoKGxpc3RbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaXN0ID0gX19saXN0O1xuICAgICAgICBfX2xpc3QgPSBudWxsO1xuICAgICAgICBpID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIFwidHJlZVwiOiBmdW5jdGlvbiAoX2RpbmRleCkge1xuICAgICAgbGV0IHRyZWVLZXlzID0gdGhpcy5jb25maWcudHJlZS5jb2x1bW5LZXlzLFxuICAgICAgICAgIHNlbGZIYXNoID0gbGlzdFtfZGluZGV4XVt0aGlzLmNvbmZpZy50cmVlLmNvbHVtbktleXMuc2VsZkhhc2hdO1xuICAgICAgbGlzdCA9IFUuZmlsdGVyKGxpc3QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdHJlZUtleXMuc2VsZkhhc2hdLnN1YnN0cigwLCBzZWxmSGFzaC5sZW5ndGgpICE9IHNlbGZIYXNoO1xuICAgICAgfSk7XG4gICAgICB0cmVlS2V5cyA9IG51bGw7XG4gICAgICBzZWxmSGFzaCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgX2RpbmRleCA9PT0gXCJ1bmRlZmluZWRcIikgX2RpbmRleCA9IFwibGFzdFwiO1xuICBpZiAoX2RpbmRleCBpbiBwcm9jZXNzb3IpIHtcbiAgICBwcm9jZXNzb3JbX2RpbmRleF0uY2FsbCh0aGlzLCBfZGluZGV4KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIVUuaXNOdW1iZXIoX2RpbmRleCkpIHtcbiAgICAgIHRocm93ICdpbnZhbGlkIGFyZ3VtZW50IF9kaW5kZXgnO1xuICAgIH1cbiAgICBwcm9jZXNzb3JbXCJpbmRleFwiXS5jYWxsKHRoaXMsIF9kaW5kZXgpO1xuICB9XG5cbiAgaWYgKHRoaXMuY29uZmlnLnRyZWUudXNlKSB7XG4gICAgdGhpcy5saXN0ID0gYXJyYW5nZURhdGE0dHJlZS5jYWxsKHRoaXMsIGxpc3QpO1xuICAgIHRoaXMucHJveHlMaXN0ID0gZ2V0UHJveHlMaXN0LmNhbGwodGhpcywgc29ydC5jYWxsKHRoaXMsIHRoaXMuc29ydEluZm8sIHRoaXMubGlzdCkpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nKSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgbGlzdCkpO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXModGhpcy5zb3J0SW5mbykubGVuZ3RoKSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgbGlzdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBsaXN0KTtcbiAgICB9XG4gICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgfVxuXG4gIHRoaXMubmVlZFRvUGFpbnRTdW0gPSB0cnVlO1xuICB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXggPSB0aGlzLmNvbmZpZy5mcm96ZW5Sb3dJbmRleCA+IHRoaXMubGlzdC5sZW5ndGggPyB0aGlzLmxpc3QubGVuZ3RoIDogdGhpcy5jb25maWcuZnJvemVuUm93SW5kZXg7XG4gIHRoaXMueHZhci5wYWludFN0YXJ0Um93SW5kZXggPSB1bmRlZmluZWQ7IC8vIOyKpO2BrOuhpCDtj6zsp4DshZgg7KCA7J6l67OA7IiYIOy0iOq4sO2ZlFxuICB0aGlzLnh2YXIudmlydHVhbFBhaW50U3RhcnRSb3dJbmRleCA9IHVuZGVmaW5lZDsgLy8g7Iqk7YGs66GkIO2PrOyngOyFmCDsoIDsnqXrs4DsiJgg7LSI6riw7ZmUXG4gIFBBR0UubmF2aWdhdGlvblVwZGF0ZS5jYWxsKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmNvbnN0IGRlbGV0ZVJvdyA9IGZ1bmN0aW9uIChfZGluZGV4KSB7XG4gIGxldCBsaXN0ID0gdGhpcy5jb25maWcuYm9keS5ncm91cGluZyA/IGNsZWFyR3JvdXBpbmdEYXRhLmNhbGwodGhpcywgdGhpcy5saXN0KSA6IHRoaXMubGlzdDtcbiAgbGV0IHByb2Nlc3NvciA9IHtcbiAgICBcImZpcnN0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy50cmVlLnVzZSkge1xuICAgICAgICBwcm9jZXNzb3IudHJlZS5jYWxsKHRoaXMsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdFswXVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLmRlbGV0ZWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFwibGFzdFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcudHJlZS51c2UpIHtcbiAgICAgICAgcHJvY2Vzc29yLnRyZWUuY2FsbCh0aGlzLCBsaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdW3RoaXMuY29uZmlnLmNvbHVtbktleXMuZGVsZXRlZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgXCJzZWxlY3RlZFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcudHJlZS51c2UpIHtcbiAgICAgICAgcHJvY2Vzc29yLnRyZWUuY2FsbCh0aGlzLCBcInNlbGVjdGVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGkgPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldW3RoaXMuY29uZmlnLmNvbHVtbktleXMuc2VsZWN0ZWRdKSB7XG4gICAgICAgICAgICBsaXN0W2ldW3RoaXMuY29uZmlnLmNvbHVtbktleXMuZGVsZXRlZF0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIFwidHJlZVwiOiBmdW5jdGlvbiAoX2RpbmRleCkge1xuICAgICAgbGV0IGtleXMgPSB0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLFxuICAgICAgICAgIHRyZWVLZXlzID0gdGhpcy5jb25maWcudHJlZS5jb2x1bW5LZXlzO1xuXG4gICAgICBpZiAoX2RpbmRleCA9PT0gXCJzZWxlY3RlZFwiKSB7XG5cbiAgICAgICAgbGV0IGkgPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldW3RoaXMuY29uZmlnLmNvbHVtbktleXMuc2VsZWN0ZWRdKSB7XG4gICAgICAgICAgICBsaXN0W2ldW3RoaXMuY29uZmlnLmNvbHVtbktleXMuZGVsZXRlZF0gPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgc2VsZkhhc2ggPSBsaXN0W2ldW3RyZWVLZXlzLnNlbGZIYXNoXTtcbiAgICAgICAgICAgIGxldCBpaSA9IGxpc3QubGVuZ3RoO1xuXG4gICAgICAgICAgICB3aGlsZSAoaWktLSkge1xuICAgICAgICAgICAgICBpZiAobGlzdFtpaV1bdHJlZUtleXMuc2VsZkhhc2hdLnN1YnN0cigwLCBzZWxmSGFzaC5sZW5ndGgpID09PSBzZWxmSGFzaCkge1xuICAgICAgICAgICAgICAgIGxpc3RbaWldW2tleXMuZGVsZXRlZF0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGZIYXNoID0gbnVsbDtcbiAgICAgICAgICAgIGlpID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc2VsZkhhc2ggPSBsaXN0W19kaW5kZXhdW3RyZWVLZXlzLnNlbGZIYXNoXTtcbiAgICAgICAgbGV0IGkgPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldW3RyZWVLZXlzLnNlbGZIYXNoXS5zdWJzdHIoMCwgc2VsZkhhc2gubGVuZ3RoKSAhPT0gc2VsZkhhc2gpIHtcbiAgICAgICAgICAgIGxpc3RbaV1ba2V5cy5kZWxldGVkXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNlbGZIYXNoID0gbnVsbDtcbiAgICAgICAgaSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGtleXMgPSBudWxsO1xuICAgICAgdHJlZUtleXMgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZW9mIF9kaW5kZXggPT09IFwidW5kZWZpbmVkXCIpIF9kaW5kZXggPSBcImxhc3RcIjtcblxuICBpZiAoX2RpbmRleCBpbiBwcm9jZXNzb3IpIHtcbiAgICBwcm9jZXNzb3JbX2RpbmRleF0uY2FsbCh0aGlzLCBfZGluZGV4KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIVUuaXNOdW1iZXIoX2RpbmRleCkpIHtcbiAgICAgIHRocm93ICdpbnZhbGlkIGFyZ3VtZW50IF9kaW5kZXgnO1xuICAgIH1cbiAgICBsaXN0W19kaW5kZXhdW3RoaXMuY29uZmlnLmNvbHVtbktleXMuZGVsZXRlZF0gPSB0cnVlO1xuICB9XG5cbiAgaWYgKHRoaXMuY29uZmlnLnRyZWUudXNlKSB7XG4gICAgdGhpcy5saXN0ID0gYXJyYW5nZURhdGE0dHJlZS5jYWxsKHRoaXMsIGxpc3QpO1xuICAgIHRoaXMucHJveHlMaXN0ID0gZ2V0UHJveHlMaXN0LmNhbGwodGhpcywgc29ydC5jYWxsKHRoaXMsIHRoaXMuc29ydEluZm8sIHRoaXMubGlzdCkpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nKSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgbGlzdCkpO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXModGhpcy5zb3J0SW5mbykubGVuZ3RoKSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgbGlzdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBsaXN0KTtcbiAgICB9XG5cbiAgICB0aGlzLmxpc3QgPSBsaXN0O1xuICB9XG5cbiAgdGhpcy5uZWVkVG9QYWludFN1bSA9IHRydWU7XG4gIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA9IHRoaXMuY29uZmlnLmZyb3plblJvd0luZGV4ID4gdGhpcy5saXN0Lmxlbmd0aCA/IHRoaXMubGlzdC5sZW5ndGggOiB0aGlzLmNvbmZpZy5mcm96ZW5Sb3dJbmRleDtcbiAgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9IHVuZGVmaW5lZDsgLy8g7Iqk7YGs66GkIO2PrOyngOyFmCDsoIDsnqXrs4DsiJgg7LSI6riw7ZmUXG4gIHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ID0gdW5kZWZpbmVkOyAvLyDsiqTtgazroaQg7Y+s7KeA7IWYIOyggOyepeuzgOyImCDstIjquLDtmZRcbiAgUEFHRS5uYXZpZ2F0aW9uVXBkYXRlLmNhbGwodGhpcyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuY29uc3QgdXBkYXRlID0gZnVuY3Rpb24gKF9yb3csIF9kaW5kZXgpIHtcbiAgaWYgKCFVLmlzTnVtYmVyKF9kaW5kZXgpKSB7XG4gICAgdGhyb3cgJ2ludmFsaWQgYXJndW1lbnQgX2RpbmRleCc7XG4gIH1cbiAgLy9cbiAgdGhpcy5uZWVkVG9QYWludFN1bSA9IHRydWU7XG4gIHRoaXMubGlzdC5zcGxpY2UoX2RpbmRleCwgMSwgX3Jvdyk7XG5cbiAgaWYgKHRoaXMuY29uZmlnLmJvZHkuZ3JvdXBpbmcpIHtcbiAgICB0aGlzLmxpc3QgPSBpbml0RGF0YS5jYWxsKHRoaXMsIGNsZWFyR3JvdXBpbmdEYXRhLmNhbGwodGhpcywgdGhpcy5saXN0KSk7XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZUNoaWxkID0gZnVuY3Rpb24gKF9kaW5kZXgsIF91cGRhdGVEYXRhLCBfb3B0aW9ucykge1xuICBsZXQga2V5cyA9IHRoaXMuY29uZmlnLnRyZWUuY29sdW1uS2V5cyxcbiAgICAgIHNlbGZIYXNoLFxuICAgICAgb3JpZ2luSW5kZXg7XG5cbiAgaWYgKHR5cGVvZiBfZGluZGV4ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZmFsc2U7XG4gIG9yaWdpbkluZGV4ID0gdGhpcy5wcm94eUxpc3RbX2RpbmRleF0uX19vcmlnaW5faW5kZXhfXztcblxuICBpZiAodGhpcy5saXN0W29yaWdpbkluZGV4XVtrZXlzLmNoaWxkcmVuXSkge1xuICAgIHRoaXMucHJveHlMaXN0ID0gW107IC8vIOumrOyFiyDtlITroZ3si5xcblxuICAgIGlmIChfb3B0aW9ucyAmJiBfb3B0aW9ucy5maWx0ZXIpIHtcbiAgICAgIGlmIChfb3B0aW9ucy5maWx0ZXIuY2FsbCh7IGl0ZW06IHRoaXMubGlzdFtvcmlnaW5JbmRleF0sIGRpbmRleDogb3JpZ2luSW5kZXggfSwgdGhpcy5saXN0W29yaWdpbkluZGV4XSkpIHtcbiAgICAgICAgZm9yIChsZXQgX2sgaW4gX3VwZGF0ZURhdGEpIHtcbiAgICAgICAgICB0aGlzLmxpc3Rbb3JpZ2luSW5kZXhdW19rXSA9IF91cGRhdGVEYXRhW19rXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBfayBpbiBfdXBkYXRlRGF0YSkge1xuICAgICAgICB0aGlzLmxpc3Rbb3JpZ2luSW5kZXhdW19rXSA9IF91cGRhdGVEYXRhW19rXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmSGFzaCA9IHRoaXMubGlzdFtvcmlnaW5JbmRleF1ba2V5cy5zZWxmSGFzaF07XG5cbiAgICBsZXQgaSA9IDAsXG4gICAgICAgIGwgPSB0aGlzLmxpc3QubGVuZ3RoO1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5saXN0W2ldKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RbaV1ba2V5cy5wYXJlbnRIYXNoXS5zdWJzdHIoMCwgc2VsZkhhc2gubGVuZ3RoKSA9PT0gc2VsZkhhc2gpIHtcblxuICAgICAgICAgIGlmIChfb3B0aW9ucyAmJiBfb3B0aW9ucy5maWx0ZXIpIHtcbiAgICAgICAgICAgIGlmIChfb3B0aW9ucy5maWx0ZXIuY2FsbCh7IGl0ZW06IHRoaXMubGlzdFtpXSwgZGluZGV4OiBpIH0sIHRoaXMubGlzdFtpXSkpIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgX2sgaW4gX3VwZGF0ZURhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RbaV1bX2tdID0gX3VwZGF0ZURhdGFbX2tdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IF9rIGluIF91cGRhdGVEYXRhKSB7XG4gICAgICAgICAgICAgIHRoaXMubGlzdFtpXVtfa10gPSBfdXBkYXRlRGF0YVtfa107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmxpc3RbaV1ba2V5cy5oaWRkZW5dKSB7XG4gICAgICAgICAgdGhpcy5wcm94eUxpc3QucHVzaCh0aGlzLmxpc3RbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBzb3J0ID0gZnVuY3Rpb24gKF9zb3J0SW5mbywgX2xpc3QsIF9vcHRpb25zKSB7XG4gIGxldCBzZWxmID0gdGhpcyxcbiAgICAgIGxpc3QgPSBfbGlzdCB8fCB0aGlzLmxpc3QsXG4gICAgICBzb3J0SW5mb0FycmF5ID0gW10sXG4gICAgICBsaW5lTnVtYmVyID0gMDtcbiAgbGV0IGdldEtleVZhbHVlID0gZnVuY3Rpb24gKF9pdGVtLCBfa2V5LCBfdmFsdWUpIHtcbiAgICBpZiAoL1tcXC5cXFtcXF1dLy50ZXN0KF9rZXkpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBfdmFsdWUgPSBGdW5jdGlvbihcIlwiLCBcInJldHVybiB0aGlzXCIgKyBVVElMLmdldFJlYWxQYXRoRm9yRGF0YUl0ZW0oX2tleSkgKyBcIjtcIikuY2FsbChfaXRlbSk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBfdmFsdWUgPSBfaXRlbVtfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIF92YWx1ZTtcbiAgfTtcblxuICBmb3IgKGxldCBrIGluIF9zb3J0SW5mbykge1xuICAgIHNvcnRJbmZvQXJyYXlbX3NvcnRJbmZvW2tdLnNlcV0gPSB7IGtleTogaywgb3JkZXI6IF9zb3J0SW5mb1trXS5vcmRlckJ5IH07XG4gIH1cbiAgc29ydEluZm9BcnJheSA9IFUuZmlsdGVyKHNvcnRJbmZvQXJyYXksIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMgIT09IFwidW5kZWZpbmVkXCI7XG4gIH0pO1xuXG4gIC8vIOygleugrOyhsOqxtOydtCDsl4bsnLzrqbQgb3JpZ2luYWxfaW5kZXjqsJLsnYQg7J207Jqp7ZWY7JesIOygleugrOyymOumrFxuICBpZiAoX29wdGlvbnMgJiYgX29wdGlvbnMucmVzZXRMaW5lTnVtYmVyICYmIHNvcnRJbmZvQXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgc29ydEluZm9BcnJheVswXSA9IHsga2V5OiAnX19vcmlnaW5hbF9pbmRleCcsIG9yZGVyOiBcImFzY1wiIH07XG4gIH1cblxuICBsZXQgaSA9IDAsXG4gICAgICBsID0gc29ydEluZm9BcnJheS5sZW5ndGgsXG4gICAgICBfYV92YWwsXG4gICAgICBfYl92YWw7XG5cbiAgbGlzdC5zb3J0KGZ1bmN0aW9uIChfYSwgX2IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBfYV92YWwgPSBnZXRLZXlWYWx1ZShfYSwgc29ydEluZm9BcnJheVtpXS5rZXkpO1xuICAgICAgX2JfdmFsID0gZ2V0S2V5VmFsdWUoX2IsIHNvcnRJbmZvQXJyYXlbaV0ua2V5KTtcblxuICAgICAgaWYgKHR5cGVvZiBfYV92YWwgIT09IHR5cGVvZiBfYl92YWwpIHtcbiAgICAgICAgX2FfdmFsID0gJycgKyBfYV92YWw7XG4gICAgICAgIF9iX3ZhbCA9ICcnICsgX2JfdmFsO1xuICAgICAgfVxuICAgICAgaWYgKF9hX3ZhbCA8IF9iX3ZhbCkge1xuICAgICAgICByZXR1cm4gc29ydEluZm9BcnJheVtpXS5vcmRlciA9PT0gXCJhc2NcIiA/IC0xIDogMTtcbiAgICAgIH0gZWxzZSBpZiAoX2FfdmFsID4gX2JfdmFsKSB7XG4gICAgICAgIHJldHVybiBzb3J0SW5mb0FycmF5W2ldLm9yZGVyID09PSBcImFzY1wiID8gMSA6IC0xO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLnJlc2V0TGluZU51bWJlcikge1xuICAgIGkgPSAwLCBsID0gbGlzdC5sZW5ndGgsIGxpbmVOdW1iZXIgPSAwO1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoX2xpc3RbaV0gJiYgIV9saXN0W2ldW1wiX19pc0dyb3VwaW5nXCJdKSB7XG4gICAgICAgIF9saXN0W2ldW1wiX19pbmRleFwiXSA9IGxpbmVOdW1iZXIrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoX2xpc3QpIHtcbiAgICByZXR1cm4gbGlzdDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnh2YXIuZnJvemVuUm93SW5kZXggPSB0aGlzLmNvbmZpZy5mcm96ZW5Sb3dJbmRleCA+IHRoaXMubGlzdC5sZW5ndGggPyB0aGlzLmxpc3QubGVuZ3RoIDogdGhpcy5jb25maWcuZnJvemVuUm93SW5kZXg7XG4gICAgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9IHVuZGVmaW5lZDsgLy8g7Iqk7YGs66GkIO2PrOyngOyFmCDsoIDsnqXrs4DsiJgg7LSI6riw7ZmUXG4gICAgdGhpcy54dmFyLnZpcnR1YWxQYWludFN0YXJ0Um93SW5kZXggPSB1bmRlZmluZWQ7IC8vIOyKpO2BrOuhpCDtj6zsp4DshZgg7KCA7J6l67OA7IiYIOy0iOq4sO2ZlFxuICAgIFBBR0UubmF2aWdhdGlvblVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5jb25zdCBhcHBlbmQgPSBmdW5jdGlvbiAoX2xpc3QsIF9jYWxsYmFjaykge1xuICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuY29uZmlnLnRyZWUudXNlKSB7XG4gICAgbGV0IGxpc3QgPSB0aGlzLmxpc3QuY29uY2F0KFtdLmNvbmNhdChfbGlzdCkpO1xuXG4gICAgdGhpcy5saXN0ID0gYXJyYW5nZURhdGE0dHJlZS5jYWxsKHRoaXMsIGxpc3QpO1xuICAgIHRoaXMucHJveHlMaXN0ID0gZ2V0UHJveHlMaXN0LmNhbGwodGhpcywgc29ydC5jYWxsKHRoaXMsIHRoaXMuc29ydEluZm8sIHRoaXMubGlzdCkpO1xuICAgIGxpc3QgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdC5jb25jYXQoW10uY29uY2F0KF9saXN0KSk7XG4gIH1cblxuICB0aGlzLmFwcGVuZFByb2dyZXNzID0gdHJ1ZTtcbiAgUEFHRS5zdGF0dXNVcGRhdGUuY2FsbCh0aGlzKTtcblxuICBpZiAodGhpcy5hcHBlbmREZWJvdW5jZXIpIHtcbiAgICBpZiAoc2VsZi5hcHBlbmREZWJvdW5jZVRpbWVzIDwgdGhpcy5jb25maWcuZGVib3VuY2VUaW1lIC8gMTApIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFwcGVuZERlYm91bmNlcik7XG4gICAgICBzZWxmLmFwcGVuZERlYm91bmNlVGltZXMrKztcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5hcHBlbmREZWJvdW5jZVRpbWVzID0gMDtcbiAgICAgIGFwcGVuZElkbGUuY2FsbChzZWxmKTtcbiAgICAgIF9jYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuYXBwZW5kRGVib3VuY2VyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5hcHBlbmREZWJvdW5jZVRpbWVzID0gMDtcbiAgICBhcHBlbmRJZGxlLmNhbGwoc2VsZik7XG4gICAgX2NhbGxiYWNrKCk7XG4gIH0sIHRoaXMuY29uZmlnLmRlYm91bmNlVGltZSk7XG5cbiAgLy8gdG9kbyA6IGFwcGVuZCBib3VuY2UgYW5pbWF0aW9uXG59O1xuXG5jb25zdCBhcHBlbmRJZGxlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmFwcGVuZFByb2dyZXNzID0gZmFsc2U7XG4gIGlmICh0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nKSB7XG4gICAgdGhpcy5saXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCBzb3J0LmNhbGwodGhpcywgdGhpcy5zb3J0SW5mbywgdGhpcy5saXN0KSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5saXN0ID0gaW5pdERhdGEuY2FsbCh0aGlzLCB0aGlzLmxpc3QpO1xuICB9XG5cbiAgdGhpcy5uZWVkVG9QYWludFN1bSA9IHRydWU7XG4gIHRoaXMueHZhci5mcm96ZW5Sb3dJbmRleCA9IHRoaXMuY29uZmlnLmZyb3plblJvd0luZGV4ID4gdGhpcy5saXN0Lmxlbmd0aCA/IHRoaXMubGlzdC5sZW5ndGggOiB0aGlzLmNvbmZpZy5mcm96ZW5Sb3dJbmRleDtcbiAgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9IHVuZGVmaW5lZDsgLy8g7Iqk7YGs66GkIO2PrOyngOyFmCDsoIDsnqXrs4DsiJgg7LSI6riw7ZmUXG4gIHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ID0gdW5kZWZpbmVkOyAvLyDsiqTtgazroaQg7Y+s7KeA7IWYIOyggOyepeuzgOyImCDstIjquLDtmZRcbiAgUEFHRS5uYXZpZ2F0aW9uVXBkYXRlLmNhbGwodGhpcyk7XG59O1xuXG5jb25zdCB0b2dnbGVDb2xsYXBzZSA9IGZ1bmN0aW9uIChfZGluZGV4LCBfZG9pbmR4LCBfY29sbGFwc2UpIHtcbiAgbGV0IGtleXMgPSB0aGlzLmNvbmZpZy50cmVlLmNvbHVtbktleXMsXG4gICAgICBzZWxmSGFzaCxcbiAgICAgIG9yaWdpbkluZGV4O1xuXG4gIGlmICh0eXBlb2YgX2RpbmRleCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGZhbHNlO1xuICBvcmlnaW5JbmRleCA9IHRoaXMucHJveHlMaXN0W19kaW5kZXhdLl9fb3JpZ2luX2luZGV4X187XG5cbiAgaWYgKHRoaXMubGlzdFtvcmlnaW5JbmRleF1ba2V5cy5jaGlsZHJlbl0pIHtcbiAgICB0aGlzLnByb3h5TGlzdCA9IFtdOyAvLyDrpqzshYsg7ZSE66Gd7IucXG4gICAgaWYgKHR5cGVvZiBfY29sbGFwc2UgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgX2NvbGxhcHNlID0gISh0aGlzLmxpc3Rbb3JpZ2luSW5kZXhdW2tleXMuY29sbGFwc2VdIHx8IGZhbHNlKTtcbiAgICB9XG5cbiAgICB0aGlzLmxpc3Rbb3JpZ2luSW5kZXhdW2tleXMuY29sbGFwc2VdID0gX2NvbGxhcHNlO1xuICAgIHNlbGZIYXNoID0gdGhpcy5saXN0W29yaWdpbkluZGV4XVtrZXlzLnNlbGZIYXNoXTtcblxuICAgIGxldCBpID0gdGhpcy5saXN0Lmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZiAodGhpcy5saXN0W2ldKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdFtpXVtrZXlzLnBhcmVudEhhc2hdLnN1YnN0cigwLCBzZWxmSGFzaC5sZW5ndGgpLCBzZWxmSGFzaCk7XG4gICAgICAgIGlmICh0aGlzLmxpc3RbaV1ba2V5cy5wYXJlbnRIYXNoXS5zdWJzdHIoMCwgc2VsZkhhc2gubGVuZ3RoKSA9PT0gc2VsZkhhc2gpIHtcbiAgICAgICAgICB0aGlzLmxpc3RbaV1ba2V5cy5oaWRkZW5dID0gX2NvbGxhcHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmxpc3RbaV1ba2V5cy5oaWRkZW5dKSB7XG4gICAgICAgICAgdGhpcy5wcm94eUxpc3QucHVzaCh0aGlzLmxpc3RbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIEBtb2R1bGUgQVg2VUlHcmlkX2RhdGFcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7fSxcbiAgLyoqXG4gICAqIEBwYXJhbSBkYXRhXG4gICAqIEByZXR1cm4ge21vZHVsZTpBWDZVSUdyaWRfZGF0YX1cbiAgICovXG4gIHNldDogc2V0LFxuICAvKipcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGdldDogZ2V0LFxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IF90eXBlIC0gbW9kaWZpZWR8c2VsZWN0ZWR8ZGVsZXRlZFxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIGdldExpc3Q6IGdldExpc3QsXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5fVxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIGdldFByb3h5TGlzdDogZ2V0UHJveHlMaXN0LFxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHBhcmFtIF9kb2luZGV4XG4gICAqIEBwYXJhbSBfa2V5XG4gICAqIEBwYXJhbSBfdmFsdWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHNldFZhbHVlOiBzZXRWYWx1ZSxcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBfZGluZGV4XG4gICAqIEBwYXJhbSBfZG9pbmRleFxuICAgKiBAcGFyYW0gX2tleVxuICAgKiBAcGFyYW0gX3ZhbHVlXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBnZXRWYWx1ZTogZ2V0VmFsdWUsXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY2xlYXJTZWxlY3Q6IGNsZWFyU2VsZWN0LFxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHBhcmFtIF9kb2luZGV4XG4gICAqIEBwYXJhbSBfc2VsZWN0ZWRcbiAgICogQHBhcmFtIF9vcHRpb25zXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzZWxlY3Q6IHNlbGVjdCxcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBfc2VsZWN0ZWRcbiAgICogQHBhcmFtIF9vcHRpb25zXG4gICAqL1xuICBzZWxlY3RBbGw6IHNlbGVjdEFsbCxcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBfcm93XG4gICAqIEBwYXJhbSBfZGluZGV4XG4gICAqIEBwYXJhbSBfb3B0aW9uc1xuICAgKiBAcmV0dXJuIHthZGR9XG4gICAqL1xuICBhZGQ6IGFkZCxcbiAgLyoqXG4gICAqIGxpc3Tsl5DshJwg7JmE7KCEIOygnOqxsCDtlZjripQg6rK97JqwIOyCrOyaqS5cbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHJldHVybiB7cmVtb3ZlfVxuICAgKi9cbiAgcmVtb3ZlOiByZW1vdmUsXG4gIC8qKlxuICAgKiBsaXN07JeQ7IScIGRlbGV0ZWQg7LKY66asIHJlcGFpbnRcbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHJldHVybiB7ZGVsZXRlUm93fVxuICAgKi9cbiAgZGVsZXRlUm93OiBkZWxldGVSb3csXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX3Jvd1xuICAgKiBAcGFyYW0gX2RpbmRleFxuICAgKi9cbiAgdXBkYXRlOiB1cGRhdGUsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX2RpbmRleFxuICAgKiBAcGFyYW0gX3VwZGF0ZURhdGFcbiAgICogQHBhcmFtIF9vcHRpb25zXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB1cGRhdGVDaGlsZDogdXBkYXRlQ2hpbGQsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX3NvcnRJbmZvXG4gICAqIEBwYXJhbSBfbGlzdFxuICAgKiBAcGFyYW0gX29wdGlvbnNcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIHNvcnQ6IHNvcnQsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX2xpc3RcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICBpbml0RGF0YTogaW5pdERhdGEsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX2xpc3RcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICBjbGVhckdyb3VwaW5nRGF0YTogY2xlYXJHcm91cGluZ0RhdGEsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX2xpc3RcbiAgICogQHBhcmFtIF9jYWxsYmFja1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgYXBwZW5kOiBhcHBlbmQsXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX2RpbmRleFxuICAgKiBAcGFyYW0gX2RvaW5keFxuICAgKiBAcGFyYW0gX2NvbGxhcHNlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB0b2dnbGVDb2xsYXBzZTogdG9nZ2xlQ29sbGFwc2Vcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF9kYXRhLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgVSBmcm9tIFwiLi4vQVg2VXRpbFwiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCIuLi9BWDZNdXN0YWNoZVwiO1xuXG5jb25zdCBvbmNsaWNrUGFnZU1vdmUgPSBmdW5jdGlvbiAoX2FjdCkge1xuICBjb25zdCBjYWxsYmFjayA9IGZ1bmN0aW9uIChfcGFnZU5vKSB7XG4gICAgaWYgKHRoaXMucGFnZS5jdXJyZW50UGFnZSAhPSBfcGFnZU5vKSB7XG4gICAgICB0aGlzLnBhZ2Uuc2VsZWN0UGFnZSA9IF9wYWdlTm87XG4gICAgICBpZiAodGhpcy5jb25maWcucGFnZS5vbkNoYW5nZSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5wYWdlLm9uQ2hhbmdlLmNhbGwoe1xuICAgICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgICAgcGFnZTogdGhpcy5wYWdlLFxuICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NvciA9IHtcbiAgICBcImZpcnN0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgMCk7XG4gICAgfSxcbiAgICBcInByZXZcIjogZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHBhZ2VObyA9IHRoaXMucGFnZS5jdXJyZW50UGFnZSAtIDE7XG4gICAgICBpZiAocGFnZU5vIDwgMCkgcGFnZU5vID0gMDtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcGFnZU5vKTtcbiAgICB9LFxuICAgIFwibmV4dFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcGFnZU5vID0gdGhpcy5wYWdlLmN1cnJlbnRQYWdlICsgMTtcbiAgICAgIGlmIChwYWdlTm8gPiB0aGlzLnBhZ2UudG90YWxQYWdlcyAtIDEpIHBhZ2VObyA9IHRoaXMucGFnZS50b3RhbFBhZ2VzIC0gMTtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcGFnZU5vKTtcbiAgICB9LFxuICAgIFwibGFzdFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMucGFnZS50b3RhbFBhZ2VzIC0gMSk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChfYWN0IGluIHByb2Nlc3Nvcikge1xuICAgIHByb2Nlc3NvcltfYWN0XS5jYWxsKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrLmNhbGwodGhpcywgX2FjdCAtIDEpO1xuICB9XG59O1xuXG5jb25zdCBuYXZpZ2F0aW9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICBsZXQgc2VsZiA9IHRoaXM7XG4gIGlmICh0aGlzLnBhZ2UpIHtcbiAgICBsZXQgcGFnZSA9IHtcbiAgICAgIGhhc1BhZ2U6IGZhbHNlLFxuICAgICAgY3VycmVudFBhZ2U6IHRoaXMucGFnZS5jdXJyZW50UGFnZSxcbiAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2UucGFnZVNpemUsXG4gICAgICB0b3RhbEVsZW1lbnRzOiB0aGlzLnBhZ2UudG90YWxFbGVtZW50cyxcbiAgICAgIHRvdGFsUGFnZXM6IHRoaXMucGFnZS50b3RhbFBhZ2VzLFxuICAgICAgZmlyc3RJY29uOiB0aGlzLmNvbmZpZy5wYWdlLmZpcnN0SWNvbixcbiAgICAgIHByZXZJY29uOiB0aGlzLmNvbmZpZy5wYWdlLnByZXZJY29uIHx8IFwiwqtcIixcbiAgICAgIG5leHRJY29uOiB0aGlzLmNvbmZpZy5wYWdlLm5leHRJY29uIHx8IFwiwrtcIixcbiAgICAgIGxhc3RJY29uOiB0aGlzLmNvbmZpZy5wYWdlLmxhc3RJY29uXG4gICAgfTtcbiAgICBsZXQgbmF2aWdhdGlvbkl0ZW1Db3VudCA9IHRoaXMuY29uZmlnLnBhZ2UubmF2aWdhdGlvbkl0ZW1Db3VudDtcblxuICAgIHBhZ2VbXCJAcGFnaW5nXCJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHJldHVybnMgPSBbXSxcbiAgICAgICAgICBzdGFydEksXG4gICAgICAgICAgZW5kSTtcblxuICAgICAgc3RhcnRJID0gcGFnZS5jdXJyZW50UGFnZSAtIE1hdGguZmxvb3IobmF2aWdhdGlvbkl0ZW1Db3VudCAvIDIpO1xuICAgICAgaWYgKHN0YXJ0SSA8IDApIHN0YXJ0SSA9IDA7XG4gICAgICBlbmRJID0gcGFnZS5jdXJyZW50UGFnZSArIG5hdmlnYXRpb25JdGVtQ291bnQ7XG4gICAgICBpZiAoZW5kSSA+IHBhZ2UudG90YWxQYWdlcykgZW5kSSA9IHBhZ2UudG90YWxQYWdlcztcblxuICAgICAgaWYgKGVuZEkgLSBzdGFydEkgPiBuYXZpZ2F0aW9uSXRlbUNvdW50KSB7XG4gICAgICAgIGVuZEkgPSBzdGFydEkgKyBuYXZpZ2F0aW9uSXRlbUNvdW50O1xuICAgICAgfVxuXG4gICAgICBpZiAoZW5kSSAtIHN0YXJ0SSA8IG5hdmlnYXRpb25JdGVtQ291bnQpIHtcbiAgICAgICAgc3RhcnRJID0gZW5kSSAtIG5hdmlnYXRpb25JdGVtQ291bnQ7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnRJIDwgMCkgc3RhcnRJID0gMDtcblxuICAgICAgZm9yIChsZXQgcCA9IHN0YXJ0SSwgbCA9IGVuZEk7IHAgPCBsOyBwKyspIHtcbiAgICAgICAgcmV0dXJucy5wdXNoKHsgJ3BhZ2VObyc6IHAgKyAxLCAnc2VsZWN0ZWQnOiBwYWdlLmN1cnJlbnRQYWdlID09IHAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0dXJucztcbiAgICB9KCk7XG5cbiAgICBpZiAocGFnZVtcIkBwYWdpbmdcIl0ubGVuZ3RoID4gMCkge1xuICAgICAgcGFnZS5oYXNQYWdlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLiRbXCJwYWdlXCJdW1wibmF2aWdhdGlvblwiXS5odG1sKG11c3RhY2hlLnJlbmRlcih0aGlzLl9fdG1wbC5wYWdlX25hdmlnYXRpb24uY2FsbCh0aGlzKSwgcGFnZSkpO1xuICAgIHRoaXMuJFtcInBhZ2VcIl1bXCJuYXZpZ2F0aW9uXCJdLmZpbmQoXCJbZGF0YS1heDZncmlkLXBhZ2UtbW92ZV1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBvbmNsaWNrUGFnZU1vdmUuY2FsbChzZWxmLCB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1wYWdlLW1vdmVcIikpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuJFtcInBhZ2VcIl1bXCJuYXZpZ2F0aW9uXCJdLmVtcHR5KCk7XG4gIH1cbn07XG5cbmNvbnN0IHN0YXR1c1VwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmNvbmZpZy5wYWdlLnN0YXR1c0Rpc3BsYXkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgdG9Sb3dJbmRleCxcbiAgICAgIHJhbmdlQ291bnQgPSBNYXRoLm1pbih0aGlzLnh2YXIuZGF0YVJvd0NvdW50LCB0aGlzLnh2YXIudmlydHVhbFBhaW50Um93Q291bnQpO1xuICBsZXQgZGF0YSA9IHt9O1xuXG4gIHRvUm93SW5kZXggPSB0aGlzLnh2YXIudmlydHVhbFBhaW50U3RhcnRSb3dJbmRleCArIHJhbmdlQ291bnQ7XG5cbiAgaWYgKHRvUm93SW5kZXggPiB0aGlzLnh2YXIuZGF0YVJvd0NvdW50KSB7XG4gICAgdG9Sb3dJbmRleCA9IHRoaXMueHZhci5kYXRhUm93Q291bnQ7XG4gIH1cblxuICBkYXRhLmZyb21Sb3dJbmRleCA9IFUubnVtYmVyKHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ICsgMSwgeyBcIm1vbmV5XCI6IHRydWUgfSk7XG4gIGRhdGEudG9Sb3dJbmRleCA9IFUubnVtYmVyKHRvUm93SW5kZXgsIHsgXCJtb25leVwiOiB0cnVlIH0pO1xuICBkYXRhLnRvdGFsRWxlbWVudHMgPSBmYWxzZTtcbiAgZGF0YS5kYXRhUmVhbFJvd0NvdW50ID0gdGhpcy54dmFyLmRhdGFSb3dDb3VudCAhPT0gdGhpcy54dmFyLmRhdGFSZWFsUm93Q291bnQgPyBVLm51bWJlcih0aGlzLnh2YXIuZGF0YVJlYWxSb3dDb3VudCwgeyBcIm1vbmV5XCI6IHRydWUgfSkgOiBmYWxzZTtcbiAgZGF0YS5kYXRhUm93Q291bnQgPSBVLm51bWJlcih0aGlzLnh2YXIuZGF0YVJvd0NvdW50LCB7IFwibW9uZXlcIjogdHJ1ZSB9KTtcbiAgZGF0YS5wcm9ncmVzcyA9IHRoaXMuYXBwZW5kUHJvZ3Jlc3MgPyB0aGlzLmNvbmZpZy5hcHBlbmRQcm9ncmVzc0ljb24gOiBcIlwiO1xuXG4gIGlmICh0aGlzLnBhZ2UpIHtcbiAgICBkYXRhLmZyb21Sb3dJbmRleF9wYWdlID0gVS5udW1iZXIodGhpcy54dmFyLnZpcnR1YWxQYWludFN0YXJ0Um93SW5kZXggKyB0aGlzLnBhZ2UuY3VycmVudFBhZ2UgKiB0aGlzLnBhZ2UucGFnZVNpemUgKyAxLCB7IFwibW9uZXlcIjogdHJ1ZSB9KTtcbiAgICBkYXRhLnRvUm93SW5kZXhfcGFnZSA9IFUubnVtYmVyKHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ICsgcmFuZ2VDb3VudCArIHRoaXMucGFnZS5jdXJyZW50UGFnZSAqIHRoaXMucGFnZS5wYWdlU2l6ZSwgeyBcIm1vbmV5XCI6IHRydWUgfSk7XG4gICAgZGF0YS50b3RhbEVsZW1lbnRzID0gVS5udW1iZXIodGhpcy5wYWdlLnRvdGFsRWxlbWVudHMsIHsgXCJtb25leVwiOiB0cnVlIH0pO1xuXG4gICAgaWYgKGRhdGEudG9Sb3dJbmRleF9wYWdlID4gdGhpcy5wYWdlLnRvdGFsRWxlbWVudHMpIHtcbiAgICAgIGRhdGEudG9Sb3dJbmRleF9wYWdlID0gdGhpcy5wYWdlLnRvdGFsRWxlbWVudHM7XG4gICAgfVxuICB9XG5cbiAgdGhpcy4kW1wicGFnZVwiXVtcInN0YXR1c1wiXS5odG1sKG11c3RhY2hlLnJlbmRlcih0aGlzLl9fdG1wbC5wYWdlX3N0YXR1cy5jYWxsKHRoaXMpLCBkYXRhKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hdmlnYXRpb25VcGRhdGU6IG5hdmlnYXRpb25VcGRhdGUsXG4gIHN0YXR1c1VwZGF0ZTogc3RhdHVzVXBkYXRlXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJR3JpZC9BWDZVSUdyaWRfcGFnZS5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiaW1wb3J0IGpRdWVyeSBmcm9tIFwianFtaW5cIjtcbmltcG9ydCBVIGZyb20gXCIuLi9BWDZVdGlsXCI7XG5pbXBvcnQgVVRJTCBmcm9tIFwiLi9BWDZVSUdyaWRfdXRpbFwiO1xuaW1wb3J0IEJPRFkgZnJvbSBcIi4vQVg2VUlHcmlkX2JvZHlcIjtcbmltcG9ydCBEQVRBIGZyb20gXCIuL0FYNlVJR3JpZF9kYXRhXCI7XG5cbmNvbnN0IGNvbHVtblJlc2l6ZXJFdmVudCA9IHtcbiAgXCJvblwiOiBmdW5jdGlvbiAoX2NvbHVtblJlc2l6ZXIsIF9jb2xJbmRleCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgJGNvbHVtblJlc2l6ZXIgPSAkKF9jb2x1bW5SZXNpemVyKTtcbiAgICB2YXIgY29sdW1uUmVzaXplclBvc2l0aW9uTGVmdCA9ICRjb2x1bW5SZXNpemVyLm9mZnNldCgpLmxlZnQ7XG4gICAgdmFyIGdyaWRUYXJnZXRPZmZzZXRMZWZ0ID0gc2VsZi4kW1wiY29udGFpbmVyXCJdW1wicm9vdFwiXS5vZmZzZXQoKS5sZWZ0O1xuICAgIHNlbGYueHZhci5jb2x1bW5SZXNpemVySW5kZXggPSBfY29sSW5kZXg7XG4gICAgdmFyIHJlc2l6ZVJhbmdlID0ge1xuICAgICAgbWluOiAtc2VsZi5jb2xHcm91cFtfY29sSW5kZXhdLl93aWR0aCArIDIsXG4gICAgICBtYXg6IHNlbGYuJFtcImNvbnRhaW5lclwiXVtcInJvb3RcIl0ud2lkdGgoKSAtIHNlbGYuY29sR3JvdXBbX2NvbEluZGV4XS5fd2lkdGhcbiAgICB9O1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLm9uKFVUSUwuRU5NW1wibW91c2Vtb3ZlXCJdICsgXCIuYXg1Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBtb3VzZU9iaiA9IFVUSUwuZ2V0TW91c2VQb3NpdGlvbihlKTtcbiAgICAgIHNlbGYueHZhci5fX2RhID0gbW91c2VPYmouY2xpZW50WCAtIHNlbGYueHZhci5tb3VzZVBvc2l0aW9uLmNsaWVudFg7XG5cbiAgICAgIGlmIChyZXNpemVSYW5nZS5taW4gPiBzZWxmLnh2YXIuX19kYSkge1xuICAgICAgICBzZWxmLnh2YXIuX19kYSA9IHJlc2l6ZVJhbmdlLm1pbjtcbiAgICAgIH0gZWxzZSBpZiAocmVzaXplUmFuZ2UubWF4IDwgc2VsZi54dmFyLl9fZGEpIHtcbiAgICAgICAgc2VsZi54dmFyLl9fZGEgPSByZXNpemVSYW5nZS5tYXg7XG4gICAgICB9XG5cbiAgICAgIGlmICghc2VsZi54dmFyLmNvbHVtblJlc2l6ZXJMaXZlZCkge1xuICAgICAgICBzZWxmLiRbXCJyZXNpemVyXCJdW1wiaG9yaXpvbnRhbFwiXS5hZGRDbGFzcyhcImxpdmVcIik7XG4gICAgICB9XG4gICAgICBzZWxmLnh2YXIuY29sdW1uUmVzaXplckxpdmVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuJFtcInJlc2l6ZXJcIl1bXCJob3Jpem9udGFsXCJdLmNzcyh7XG4gICAgICAgIGxlZnQ6IGNvbHVtblJlc2l6ZXJQb3NpdGlvbkxlZnQgKyBzZWxmLnh2YXIuX19kYSAtIGdyaWRUYXJnZXRPZmZzZXRMZWZ0XG4gICAgICB9KTtcbiAgICB9KS5vbihVVElMLkVOTVtcIm1vdXNldXBcIl0gKyBcIi5heDVncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkLCBmdW5jdGlvbiAoZSkge1xuICAgICAgY29sdW1uUmVzaXplckV2ZW50Lm9mZi5jYWxsKHNlbGYpO1xuICAgICAgVS5zdG9wRXZlbnQoZSk7XG4gICAgfSkub24oXCJtb3VzZWxlYXZlLmF4NWdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBjb2x1bW5SZXNpemVyRXZlbnQub2ZmLmNhbGwoc2VsZik7XG4gICAgICBVLnN0b3BFdmVudChlKTtcbiAgICB9KTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hdHRyKCd1bnNlbGVjdGFibGUnLCAnb24nKS5jc3MoJ3VzZXItc2VsZWN0JywgJ25vbmUnKS5vbignc2VsZWN0c3RhcnQnLCBmYWxzZSk7XG4gIH0sXG4gIFwib2ZmXCI6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRbXCJyZXNpemVyXCJdW1wiaG9yaXpvbnRhbFwiXS5yZW1vdmVDbGFzcyhcImxpdmVcIik7XG4gICAgdGhpcy54dmFyLmNvbHVtblJlc2l6ZXJMaXZlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLnh2YXIuX19kYSA9PT0gXCJ1bmRlZmluZWRcIikge30gZWxzZSB7XG4gICAgICB0aGlzLnNldENvbHVtbldpZHRoKHRoaXMuY29sR3JvdXBbdGhpcy54dmFyLmNvbHVtblJlc2l6ZXJJbmRleF0uX3dpZHRoICsgdGhpcy54dmFyLl9fZGEsIHRoaXMueHZhci5jb2x1bW5SZXNpemVySW5kZXgpO1xuICAgIH1cblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5vZmYoVVRJTC5FTk1bXCJtb3VzZW1vdmVcIl0gKyBcIi5heDVncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vZmYoVVRJTC5FTk1bXCJtb3VzZXVwXCJdICsgXCIuYXg1Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCkub2ZmKFwibW91c2VsZWF2ZS5heDVncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkKTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5yZW1vdmVBdHRyKCd1bnNlbGVjdGFibGUnKS5jc3MoJ3VzZXItc2VsZWN0JywgJ2F1dG8nKS5vZmYoJ3NlbGVjdHN0YXJ0Jyk7XG4gIH1cbn07XG5cbmNvbnN0IGluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIO2XpOuNlCDstIjquLDtmZRcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy4kW1wiY29udGFpbmVyXCJdW1wiaGVhZGVyXCJdLm9uKFwiY2xpY2tcIiwgJ1tkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICBsZXQga2V5ID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLWtleVwiKSxcbiAgICAgICAgY29sSW5kZXggPSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1jb2x1bW4tY29saW5kZXhcIiksXG5cbiAgICAvL3Jvd0luZGV4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJvd2luZGV4XCIpLFxuICAgIGNvbCA9IHNlbGYuY29sR3JvdXBbY29sSW5kZXhdO1xuXG4gICAgaWYgKGtleSA9PT0gXCJfX2NoZWNrYm94X2hlYWRlcl9fXCIpIHtcbiAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLXNlbGVjdGVkXCIpO1xuICAgICAgc2VsZWN0ZWQgPSBVLmlzTm90aGluZyhzZWxlY3RlZCkgPyB0cnVlIDogc2VsZWN0ZWQgIT09IFwidHJ1ZVwiO1xuXG4gICAgICAkKHRoaXMpLmF0dHIoXCJkYXRhLWF4NmdyaWQtc2VsZWN0ZWRcIiwgc2VsZWN0ZWQpO1xuICAgICAgc2VsZi5zZWxlY3RBbGwoeyBzZWxlY3RlZDogc2VsZWN0ZWQgfSk7XG5cbiAgICAgIHNlbGVjdGVkID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGtleSAmJiBjb2wgJiYgY29sLnNvcnRhYmxlICE9PSBmYWxzZSAmJiAhY29sLnNvcnRGaXhlZCkge1xuICAgICAgICBpZiAoY29sLnNvcnRhYmxlID09PSB0cnVlIHx8IHNlbGYuY29uZmlnLnNvcnRhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgdG9nZ2xlU29ydC5jYWxsKHNlbGYsIGNvbC5rZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgQk9EWS5ibHVyLmNhbGwoc2VsZik7XG5cbiAgICBrZXkgPSBudWxsO1xuICAgIGNvbEluZGV4ID0gbnVsbDtcbiAgICBjb2wgPSBudWxsO1xuICB9KTtcbiAgdGhpcy4kW1wiY29udGFpbmVyXCJdW1wiaGVhZGVyXCJdLm9uKFwibW91c2Vkb3duXCIsICdbZGF0YS1heDZncmlkLWNvbHVtbi1yZXNpemVyXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgbGV0IGNvbEluZGV4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtY29sdW1uLXJlc2l6ZXJcIik7XG5cbiAgICBzZWxmLnh2YXIubW91c2VQb3NpdGlvbiA9IFVUSUwuZ2V0TW91c2VQb3NpdGlvbihlKTtcbiAgICBjb2x1bW5SZXNpemVyRXZlbnQub24uY2FsbChzZWxmLCB0aGlzLCBOdW1iZXIoY29sSW5kZXgpKTtcbiAgICBVLnN0b3BFdmVudChlKTtcblxuICAgIGNvbEluZGV4ID0gbnVsbDtcbiAgfSkub24oXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBVLnN0b3BFdmVudChlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIHJlc2V0RnJvemVuQ29sdW1uLmNhbGwodGhpcyk7XG59O1xuXG5jb25zdCByZXNldEZyb3plbkNvbHVtbiA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGNmZyA9IHRoaXMuY29uZmlnLFxuICAgICAgZGl2aWRlZEhlYWRlck9iaiA9IFVUSUwuZGl2aWRlVGFibGVCeUZyb3plbkNvbHVtbkluZGV4KHRoaXMuaGVhZGVyVGFibGUsIHRoaXMueHZhci5mcm96ZW5Db2x1bW5JbmRleCk7XG5cbiAgdGhpcy5hc2lkZUhlYWRlckRhdGEgPSBmdW5jdGlvbiAoZGF0YVRhYmxlKSB7XG4gICAgbGV0IGNvbEdyb3VwID0gW107XG4gICAgbGV0IGRhdGEgPSB7IHJvd3M6IFtdIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBkYXRhVGFibGUucm93cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGRhdGEucm93c1tpXSA9IHsgY29sczogW10gfTtcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGxldCBjb2wgPSB7XG4gICAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICByb3dzcGFuOiBkYXRhVGFibGUucm93cy5sZW5ndGgsXG4gICAgICAgICAgY29sSW5kZXg6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIF9jb2wgPSB7fTtcblxuICAgICAgICBpZiAoY2ZnLnNob3dMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgX2NvbCA9IGpRdWVyeS5leHRlbmQoe30sIGNvbCwge1xuICAgICAgICAgICAgd2lkdGg6IGNmZy5saW5lTnVtYmVyQ29sdW1uV2lkdGgsXG4gICAgICAgICAgICBfd2lkdGg6IGNmZy5saW5lTnVtYmVyQ29sdW1uV2lkdGgsXG4gICAgICAgICAgICBjb2x1bW5BdHRyOiBcImxpbmVOdW1iZXJcIixcbiAgICAgICAgICAgIGtleTogXCJfX2luZGV4X2hlYWRlcl9fXCIsIGxhYmVsOiBcIiZuYnNwO1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29sR3JvdXAucHVzaChfY29sKTtcbiAgICAgICAgICBkYXRhLnJvd3NbaV0uY29scy5wdXNoKF9jb2wpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZmcuc2hvd1Jvd1NlbGVjdG9yKSB7XG4gICAgICAgICAgX2NvbCA9IGpRdWVyeS5leHRlbmQoe30sIGNvbCwge1xuICAgICAgICAgICAgd2lkdGg6IGNmZy5yb3dTZWxlY3RvckNvbHVtbldpZHRoLFxuICAgICAgICAgICAgX3dpZHRoOiBjZmcucm93U2VsZWN0b3JDb2x1bW5XaWR0aCxcbiAgICAgICAgICAgIGNvbHVtbkF0dHI6IFwicm93U2VsZWN0b3JcIixcbiAgICAgICAgICAgIGtleTogXCJfX2NoZWNrYm94X2hlYWRlcl9fXCIsIGxhYmVsOiBcIlwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29sR3JvdXAucHVzaChfY29sKTtcbiAgICAgICAgICBkYXRhLnJvd3NbaV0uY29scy5wdXNoKF9jb2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29sID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFzaWRlQ29sR3JvdXAgPSBjb2xHcm91cDtcbiAgICByZXR1cm4gZGF0YTtcbiAgfS5jYWxsKHRoaXMsIHRoaXMuaGVhZGVyVGFibGUpO1xuXG4gIHRoaXMubGVmdEhlYWRlckRhdGEgPSBkaXZpZGVkSGVhZGVyT2JqLmxlZnREYXRhO1xuICB0aGlzLmhlYWRlckRhdGEgPSBkaXZpZGVkSGVhZGVyT2JqLnJpZ2h0RGF0YTtcbn07XG5cbmNvbnN0IGdldEZpZWxkVmFsdWUgPSBmdW5jdGlvbiAoX2NvbCkge1xuICByZXR1cm4gX2NvbC5rZXkgPT09IFwiX19jaGVja2JveF9oZWFkZXJfX1wiID8gYDxkaXYgY2xhc3M9XCJjaGVja0JveFwiIHN0eWxlPVwibWF4LWhlaWdodDogJHtfY29sLndpZHRoIC0gMTB9cHg7bWluLWhlaWdodDogJHtfY29sLndpZHRoIC0gMTB9cHg7XCI+PC9kaXY+YCA6IF9jb2wubGFiZWwgfHwgXCImbmJzcDtcIjtcbn07XG5cbmNvbnN0IHJlcGFpbnQgPSBmdW5jdGlvbiAoX3Jlc2V0KSB7XG4gIGxldCBjZmcgPSB0aGlzLmNvbmZpZyxcbiAgICAgIGNvbEdyb3VwID0gdGhpcy5jb2xHcm91cDtcblxuICBpZiAoX3Jlc2V0KSB7XG4gICAgcmVzZXRGcm96ZW5Db2x1bW4uY2FsbCh0aGlzKTtcbiAgICB0aGlzLnh2YXIucGFpbnRTdGFydFJvd0luZGV4ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMueHZhci52aXJ0dWFsUGFpbnRTdGFydFJvd0luZGV4ID0gdW5kZWZpbmVkOyAvLyDsiqTtgazroaQg7Y+s7KeA7IWYIOyggOyepeuzgOyImCDstIjquLDtmZRcbiAgfVxuICBsZXQgYXNpZGVIZWFkZXJEYXRhID0gdGhpcy5hc2lkZUhlYWRlckRhdGEsXG4gICAgICBsZWZ0SGVhZGVyRGF0YSA9IHRoaXMubGVmdEhlYWRlckRhdGEsXG4gICAgICBoZWFkZXJEYXRhID0gdGhpcy5oZWFkZXJEYXRhLFxuICAgICAgaGVhZGVyQWxpZ24gPSBjZmcuaGVhZGVyLmFsaWduO1xuXG4gIC8vIHRoaXMuYXNpZGVDb2xHcm91cCA6IGFzaWRlSGVhZGVyRGF0YeyXkOyEnCDsspjrpqwg7ZWoLlxuICB0aGlzLmxlZnRIZWFkZXJDb2xHcm91cCA9IGNvbEdyb3VwLnNsaWNlKDAsIHRoaXMuY29uZmlnLmZyb3plbkNvbHVtbkluZGV4KTtcbiAgdGhpcy5oZWFkZXJDb2xHcm91cCA9IGNvbEdyb3VwLnNsaWNlKHRoaXMuY29uZmlnLmZyb3plbkNvbHVtbkluZGV4KTtcblxuICB2YXIgcmVwYWludEhlYWRlciA9IGZ1bmN0aW9uIChfZWxUYXJnZXQsIF9jb2xHcm91cCwgX2JvZHlSb3cpIHtcbiAgICBsZXQgdGFibGVXaWR0aCA9IDAsXG4gICAgICAgIFNTID0gW107XG4gICAgU1MucHVzaCgnPHRhYmxlIGJvcmRlcj1cIjBcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIj4nKTtcbiAgICBTUy5wdXNoKCc8Y29sZ3JvdXA+Jyk7XG4gICAgZm9yICh2YXIgY2dpID0gMCwgY2dsID0gX2NvbEdyb3VwLmxlbmd0aDsgY2dpIDwgY2dsOyBjZ2krKykge1xuICAgICAgU1MucHVzaCgnPGNvbCBzdHlsZT1cIndpZHRoOicgKyBfY29sR3JvdXBbY2dpXS5fd2lkdGggKyAncHg7XCIgIC8+Jyk7XG4gICAgICB0YWJsZVdpZHRoICs9IF9jb2xHcm91cFtjZ2ldLl93aWR0aDtcbiAgICB9XG4gICAgU1MucHVzaCgnPGNvbCAgLz4nKTtcbiAgICBTUy5wdXNoKCc8L2NvbGdyb3VwPicpO1xuXG4gICAgZm9yICh2YXIgdHJpID0gMCwgdHJsID0gX2JvZHlSb3cucm93cy5sZW5ndGg7IHRyaSA8IHRybDsgdHJpKyspIHtcbiAgICAgIHZhciB0ckNTU19jbGFzcyA9IFwiXCI7XG4gICAgICBTUy5wdXNoKCc8dHIgY2xhc3M9XCInICsgdHJDU1NfY2xhc3MgKyAnXCI+Jyk7XG4gICAgICBmb3IgKHZhciBjaSA9IDAsIGNsID0gX2JvZHlSb3cucm93c1t0cmldLmNvbHMubGVuZ3RoOyBjaSA8IGNsOyBjaSsrKSB7XG4gICAgICAgIHZhciBjb2wgPSBfYm9keVJvdy5yb3dzW3RyaV0uY29sc1tjaV07XG4gICAgICAgIHZhciBjZWxsSGVpZ2h0ID0gY2ZnLmhlYWRlci5jb2x1bW5IZWlnaHQgKiBjb2wucm93c3BhbiAtIGNmZy5oZWFkZXIuY29sdW1uQm9yZGVyV2lkdGg7XG4gICAgICAgIHZhciBjb2xBbGlnbiA9IGhlYWRlckFsaWduIHx8IGNvbC5hbGlnbjtcbiAgICAgICAgU1MucHVzaCgnPHRkICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWF0dHI9XCInICsgKGNvbC5jb2x1bW5BdHRyIHx8IFwiZGVmYXVsdFwiKSArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1yb3c9XCInICsgdHJpICsgJ1wiICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbD1cIicgKyBjaSArICdcIiAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBjb2wua2V5ICE9PSBcInVuZGVmaW5lZFwiID8gJ2RhdGEtYXg2Z3JpZC1jb2x1bW4ta2V5PVwiJyArIGNvbC5rZXkgKyAnXCIgJyA6ICcnO1xuICAgICAgICB9KCksICdkYXRhLWF4NmdyaWQtY29sdW1uLWNvbGluZGV4PVwiJyArIGNvbC5jb2xJbmRleCArICdcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1yb3dpbmRleD1cIicgKyBjb2wucm93SW5kZXggKyAnXCIgJywgJ2NvbHNwYW49XCInICsgY29sLmNvbHNwYW4gKyAnXCIgJywgJ3Jvd3NwYW49XCInICsgY29sLnJvd3NwYW4gKyAnXCIgJywgJ2NsYXNzPVwiJyArIGZ1bmN0aW9uIChfY29sKSB7XG4gICAgICAgICAgdmFyIHRkQ1NTX2NsYXNzID0gXCJcIjtcbiAgICAgICAgICBpZiAoX2NvbC5oZWFkZXJTdHlsZUNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoVS5pc0Z1bmN0aW9uKF9jb2wuaGVhZGVyU3R5bGVDbGFzcykpIHtcbiAgICAgICAgICAgICAgdGRDU1NfY2xhc3MgKz0gX2NvbC5oZWFkZXJTdHlsZUNsYXNzLmNhbGwoe1xuICAgICAgICAgICAgICAgIGNvbHVtbjogX2NvbCxcbiAgICAgICAgICAgICAgICBrZXk6IF9jb2wua2V5XG4gICAgICAgICAgICAgIH0pICsgXCIgXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZENTU19jbGFzcyArPSBfY29sLmhlYWRlclN0eWxlQ2xhc3MgKyBcIiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNmZy5oZWFkZXIuY29sdW1uQm9yZGVyV2lkdGgpIHRkQ1NTX2NsYXNzICs9IFwiaGFzQm9yZGVyIFwiO1xuICAgICAgICAgIGlmIChjaSA9PSBjbCAtIDEpIHRkQ1NTX2NsYXNzICs9IFwiaXNMYXN0Q29sdW1uIFwiO1xuICAgICAgICAgIHJldHVybiB0ZENTU19jbGFzcztcbiAgICAgICAgfS5jYWxsKHRoaXMsIGNvbCkgKyAnXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2VsbEhlaWdodCArICdweDttaW4taGVpZ2h0OiAxcHg7XCI+Jyk7XG5cbiAgICAgICAgU1MucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBjZmcuaGVhZGVyLmNvbHVtbkhlaWdodCAtIGNmZy5oZWFkZXIuY29sdW1uUGFkZGluZyAqIDIgLSBjZmcuaGVhZGVyLmNvbHVtbkJvcmRlcldpZHRoO1xuICAgICAgICAgIHJldHVybiAnPHNwYW4gZGF0YS1heDZncmlkLWNlbGxIb2xkZXI9XCJcIiAnICsgKGNvbEFsaWduID8gJ2RhdGEtYXg2Z3JpZC10ZXh0LWFsaWduPVwiJyArIGNvbEFsaWduICsgJ1wiJyA6ICcnKSArICcgc3R5bGU9XCJoZWlnaHQ6ICcgKyAoY2ZnLmhlYWRlci5jb2x1bW5IZWlnaHQgLSBjZmcuaGVhZGVyLmNvbHVtbkJvcmRlcldpZHRoKSArICdweDtsaW5lLWhlaWdodDogJyArIGxpbmVIZWlnaHQgKyAncHg7XCI+JztcbiAgICAgICAgfSgpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIF9TUyA9IFwiXCI7XG5cbiAgICAgICAgICBpZiAoIVUuaXNOb3RoaW5nKGNvbC5rZXkpICYmICFVLmlzTm90aGluZyhjb2wuY29sSW5kZXgpICYmIChjZmcuc29ydGFibGUgPT09IHRydWUgfHwgY29sLnNvcnRhYmxlID09PSB0cnVlKSAmJiBjb2wuc29ydGFibGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfU1MgKz0gJzxzcGFuIGRhdGEtYXg2Z3JpZC1jb2x1bW4tc29ydD1cIicgKyBjb2wuY29sSW5kZXggKyAnXCIgZGF0YS1heDZncmlkLWNvbHVtbi1zb3J0LW9yZGVyPVwiJyArIChjb2xHcm91cFtjb2wuY29sSW5kZXhdLnNvcnQgfHwgXCJcIikgKyAnXCIgLz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX1NTO1xuICAgICAgICB9KCksIGdldEZpZWxkVmFsdWUuY2FsbCh0aGlzLCBjb2wpLCAnPC9zcGFuPicpO1xuXG4gICAgICAgIGlmICghVS5pc05vdGhpbmcoY29sLmNvbEluZGV4KSkge1xuICAgICAgICAgIGlmIChjZmcuZW5hYmxlRmlsdGVyKSB7XG4gICAgICAgICAgICBTUy5wdXNoKCc8c3BhbiBkYXRhLWF4NmdyaWQtY29sdW1uLWZpbHRlcj1cIicgKyBjb2wuY29sSW5kZXggKyAnXCIgZGF0YS1heDZncmlkLWNvbHVtbi1maWx0ZXItdmFsdWU9XCJcIiAgLz4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBTUy5wdXNoKCc8L3RkPicpO1xuICAgICAgfVxuICAgICAgU1MucHVzaCgnPHRkICcsICdkYXRhLWF4NmdyaWQtY29sdW1uLXJvdz1cIm51bGxcIiAnLCAnZGF0YS1heDZncmlkLWNvbHVtbi1jb2w9XCJudWxsXCIgJywgJ3N0eWxlPVwiaGVpZ2h0OiAnICsgY2ZnLmhlYWRlci5jb2x1bW5IZWlnaHQgKyAncHg7bWluLWhlaWdodDogMXB4O1wiICcsICc+PC90ZD4nKTtcbiAgICAgIFNTLnB1c2goJzwvdHI+Jyk7XG4gICAgfVxuICAgIFNTLnB1c2goJzwvdGFibGU+Jyk7XG4gICAgX2VsVGFyZ2V0Lmh0bWwoU1Muam9pbignJykpO1xuXG4gICAgLy8vIGFwcGVuZCBjb2x1bW4tcmVzaXplclxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcmVzaXplckhlaWdodCA9IGNmZy5oZWFkZXIuY29sdW1uSGVpZ2h0ICogX2JvZHlSb3cucm93cy5sZW5ndGggLSBjZmcuaGVhZGVyLmNvbHVtbkJvcmRlcldpZHRoLFxuICAgICAgICAgIHJlc2l6ZXJMZWZ0ID0gMCxcbiAgICAgICAgICBBUyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBjZ2kgPSAwLCBjZ2wgPSBfY29sR3JvdXAubGVuZ3RoOyBjZ2kgPCBjZ2w7IGNnaSsrKSB7XG4gICAgICAgIHZhciBjb2wgPSBfY29sR3JvdXBbY2dpXTtcbiAgICAgICAgaWYgKCFVLmlzTm90aGluZyhjb2wuY29sSW5kZXgpKSB7XG4gICAgICAgICAgLy9fY29sR3JvdXBbY2dpXS5fd2lkdGhcbiAgICAgICAgICByZXNpemVyTGVmdCArPSBjb2wuX3dpZHRoO1xuICAgICAgICAgIEFTLnB1c2goJzxkaXYgZGF0YS1heDZncmlkLWNvbHVtbi1yZXNpemVyPVwiJyArIGNvbC5jb2xJbmRleCArICdcIiBzdHlsZT1cImhlaWdodDonICsgcmVzaXplckhlaWdodCArICdweDtsZWZ0OiAnICsgKHJlc2l6ZXJMZWZ0IC0gNCkgKyAncHg7XCIgIC8+Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIF9lbFRhcmdldC5hcHBlbmQoQVMpO1xuICAgIH0pLmNhbGwodGhpcyk7XG5cbiAgICByZXR1cm4gdGFibGVXaWR0aDtcbiAgfTtcblxuICBpZiAoY2ZnLmFzaWRlUGFuZWxXaWR0aCA+IDApIHtcbiAgICByZXBhaW50SGVhZGVyLmNhbGwodGhpcywgdGhpcy4kLnBhbmVsW1wiYXNpZGUtaGVhZGVyXCJdLCB0aGlzLmFzaWRlQ29sR3JvdXAsIGFzaWRlSGVhZGVyRGF0YSk7XG4gIH1cbiAgaWYgKGNmZy5mcm96ZW5Db2x1bW5JbmRleCA+IDApIHtcbiAgICByZXBhaW50SGVhZGVyLmNhbGwodGhpcywgdGhpcy4kLnBhbmVsW1wibGVmdC1oZWFkZXJcIl0sIHRoaXMubGVmdEhlYWRlckNvbEdyb3VwLCBsZWZ0SGVhZGVyRGF0YSk7XG4gIH1cbiAgdGhpcy54dmFyLnNjcm9sbENvbnRlbnRXaWR0aCA9IHJlcGFpbnRIZWFkZXIuY2FsbCh0aGlzLCB0aGlzLiQucGFuZWxbXCJoZWFkZXItc2Nyb2xsXCJdLCB0aGlzLmhlYWRlckNvbEdyb3VwLCBoZWFkZXJEYXRhKTtcblxuICBpZiAoY2ZnLnJpZ2h0U3VtKSB7fVxufTtcblxuY29uc3Qgc2Nyb2xsVG8gPSBmdW5jdGlvbiAoY3NzKSB7XG4gIHRoaXMuJC5wYW5lbFtcImhlYWRlci1zY3JvbGxcIl0uY3NzKGNzcyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuY29uc3QgdG9nZ2xlU29ydCA9IGZ1bmN0aW9uIChfa2V5KSB7XG4gIGxldCBzb3J0T3JkZXIgPSBcIlwiLFxuICAgICAgc29ydEluZm8gPSB7fSxcbiAgICAgIHNlcSA9IDA7XG5cbiAgZm9yICh2YXIgayBpbiB0aGlzLnNvcnRJbmZvKSB7XG4gICAgaWYgKHRoaXMuc29ydEluZm9ba10uZml4ZWQpIHtcbiAgICAgIHNvcnRJbmZvW2tdID0gdGhpcy5zb3J0SW5mb1trXTtcbiAgICAgIHNlcSsrO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5jb2xHcm91cC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAodGhpcy5jb2xHcm91cFtpXS5rZXkgPT0gX2tleSkge1xuICAgICAgaWYgKHNvcnRPcmRlciA9PSBcIlwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb2xHcm91cFtpXS5zb3J0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgc29ydE9yZGVyID0gXCJkZXNjXCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb2xHcm91cFtpXS5zb3J0ID09PSBcImRlc2NcIikge1xuICAgICAgICAgIHNvcnRPcmRlciA9IFwiYXNjXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc29ydE9yZGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmNvbEdyb3VwW2ldLnNvcnQgPSBzb3J0T3JkZXI7XG4gICAgfSBlbHNlIGlmICghdGhpcy5jb25maWcubXVsdGlTb3J0KSB7XG4gICAgICB0aGlzLmNvbEdyb3VwW2ldLnNvcnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmNvbEdyb3VwW2ldLnNvcnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGlmICghc29ydEluZm9bdGhpcy5jb2xHcm91cFtpXS5rZXldKSB7XG4gICAgICAgIHNvcnRJbmZvW3RoaXMuY29sR3JvdXBbaV0ua2V5XSA9IHtcbiAgICAgICAgICBzZXE6IHNlcSsrLFxuICAgICAgICAgIG9yZGVyQnk6IHRoaXMuY29sR3JvdXBbaV0uc29ydFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuc2V0Q29sdW1uU29ydChzb3J0SW5mbyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuY29uc3QgYXBwbHlTb3J0U3RhdHVzID0gZnVuY3Rpb24gKF9zb3J0SW5mbykge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuY29sR3JvdXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yICh2YXIgX2tleSBpbiBfc29ydEluZm8pIHtcbiAgICAgIGlmICh0aGlzLmNvbEdyb3VwW2ldLmtleSA9PSBfa2V5KSB7XG4gICAgICAgIHRoaXMuY29sR3JvdXBbaV0uc29ydCA9IF9zb3J0SW5mb1tfa2V5XS5vcmRlckJ5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmNvbnN0IHNlbGVjdCA9IGZ1bmN0aW9uIChfb3B0aW9ucykge1xuICBEQVRBLnNlbGVjdC5jYWxsKHRoaXMsIGRpbmRleCwgX29wdGlvbnMgJiYgX29wdGlvbnMuc2VsZWN0ZWQpO1xuICBCT0RZLnVwZGF0ZVJvd1N0YXRlLmNhbGwodGhpcywgW1wic2VsZWN0ZWRcIl0sIGRpbmRleCk7XG59O1xuXG5jb25zdCBnZXRFeGNlbFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGNmZyA9IHRoaXMuY29uZmlnLFxuICAgICAgY29sR3JvdXAgPSB0aGlzLmNvbEdyb3VwLFxuICAgICAgaGVhZGVyRGF0YSA9IHRoaXMuaGVhZGVyVGFibGUsXG4gICAgICBnZXRIZWFkZXIgPSBmdW5jdGlvbiAoX2NvbEdyb3VwLCBfYm9keVJvdykge1xuICAgIHZhciBTUyA9IFtdO1xuICAgIC8vU1MucHVzaCgnPHRhYmxlIGJvcmRlcj1cIjFcIj4nKTtcbiAgICBmb3IgKHZhciB0cmkgPSAwLCB0cmwgPSBfYm9keVJvdy5yb3dzLmxlbmd0aDsgdHJpIDwgdHJsOyB0cmkrKykge1xuICAgICAgU1MucHVzaCgnPHRyPicpO1xuICAgICAgZm9yICh2YXIgY2kgPSAwLCBjbCA9IF9ib2R5Um93LnJvd3NbdHJpXS5jb2xzLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuICAgICAgICB2YXIgY29sID0gX2JvZHlSb3cucm93c1t0cmldLmNvbHNbY2ldO1xuICAgICAgICBTUy5wdXNoKCc8dGQgJywgJ2NvbHNwYW49XCInICsgY29sLmNvbHNwYW4gKyAnXCIgJywgJ3Jvd3NwYW49XCInICsgY29sLnJvd3NwYW4gKyAnXCIgJywgJz4nLCBnZXRGaWVsZFZhbHVlLmNhbGwodGhpcywgY29sKSwgJzwvdGQ+Jyk7XG4gICAgICB9XG4gICAgICBTUy5wdXNoKCc8L3RyPicpO1xuICAgIH1cbiAgICAvL1NTLnB1c2goJzwvdGFibGU+Jyk7XG5cbiAgICByZXR1cm4gU1Muam9pbignJyk7XG4gIH07XG5cbiAgcmV0dXJuIGdldEhlYWRlci5jYWxsKHRoaXMsIGNvbEdyb3VwLCBoZWFkZXJEYXRhKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogaW5pdCxcbiAgcmVwYWludDogcmVwYWludCxcbiAgc2Nyb2xsVG86IHNjcm9sbFRvLFxuICB0b2dnbGVTb3J0OiB0b2dnbGVTb3J0LFxuICBhcHBseVNvcnRTdGF0dXM6IGFwcGx5U29ydFN0YXR1cyxcbiAgZ2V0RXhjZWxTdHJpbmc6IGdldEV4Y2VsU3RyaW5nXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJR3JpZC9BWDZVSUdyaWRfaGVhZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vW3NlbGVjdG9yXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0bWVtb1tzZWxlY3Rvcl0gPSBmbi5jYWxsKHRoaXMsIHNlbGVjdG9yKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWVtb1tzZWxlY3Rvcl1cblx0fTtcbn0pKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KVxufSk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBqUXVlcnkgZnJvbSBcImpxbWluXCI7XG5pbXBvcnQgQVg2VUlDb3JlIGZyb20gXCIuL0FYNlVJQ29yZVwiO1xuaW1wb3J0IFUgZnJvbSBcIi4vQVg2VXRpbFwiO1xuaW1wb3J0IGluZm8gZnJvbSBcIi4vQVg2SW5mb1wiO1xuaW1wb3J0IEZPUk1BVFRFUiBmcm9tIFwiLi9BWDZVSUZvcm1hdHRlci9BWDZVSUZvcm1hdHRlcl9mb3JtYXR0ZXJcIjtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgaW1wb3J0ICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG5sZXQgZm9ybWF0dGVyID0ge307XG5cbmNvbnN0IHNldFNlbGVjdGlvblJhbmdlID0gZnVuY3Rpb24gKGlucHV0LCBwb3MpIHtcbiAgaWYgKHR5cGVvZiBwb3MgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHBvcyA9IGlucHV0LnZhbHVlLmxlbmd0aDtcbiAgfVxuICBpZiAoaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UpIHtcbiAgICBpbnB1dC5mb2N1cygpO1xuICAgIGlucHV0LnNldFNlbGVjdGlvblJhbmdlKHBvcywgcG9zKTtcbiAgfSBlbHNlIGlmIChpbnB1dC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICB2YXIgcmFuZ2UgPSBpbnB1dC5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBwb3MpO1xuICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgcG9zKTtcbiAgICByYW5nZS5zZWxlY3QoKTtcbiAgfSBlbHNlIGlmIChpbnB1dC5zZWxlY3Rpb25TdGFydCkge1xuICAgIGlucHV0LmZvY3VzKCk7XG4gICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBwb3M7XG4gICAgaW5wdXQuc2VsZWN0aW9uRW5kID0gcG9zO1xuICB9XG59O1xuY29uc3QgZm9ybWF0dGVyRXZlbnQgPSB7XG4gICdmb2N1cyc6IGZ1bmN0aW9uIChvcHRzLCBvcHRJZHgsIGUpIHtcbiAgICBpZiAoIW9wdHMuJGlucHV0LmRhdGEoXCJfX29yaWdpblZhbHVlX19cIikpIG9wdHMuJGlucHV0LmRhdGEoXCJfX29yaWdpblZhbHVlX19cIiwgb3B0cy4kaW5wdXQudmFsKCkpO1xuICB9LFxuICAvKiDtgqQg64uk7Jq0IOydtOuypO2KuOyXkOyEnCDsnoXroKXtlaAg7IiYIOyXhuuKlCDtgqQg7J6F66Cl7J2EIOuwqeyWtCAqL1xuICAna2V5ZG93bic6IGZ1bmN0aW9uIChvcHRzLCBvcHRJZHgsIGUpIHtcbiAgICBsZXQgaXNTdG9wID0gZmFsc2U7XG4gICAgaWYgKCFvcHRzLmVudGVyYWJsZUtleUNvZGVzKSB7fSBlbHNlIGlmIChlLndoaWNoICYmIG9wdHMuZW50ZXJhYmxlS2V5Q29kZXNbZS53aGljaF0pIHt9IGVsc2UgaWYgKCFlLm1ldGFLZXkgJiYgIWUuY3RybEtleSAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgLy9jb25zb2xlLmxvZyhlLndoaWNoLCBvcHRzLmVudGVyYWJsZUtleUNvZGVzKTtcbiAgICAgIGlzU3RvcCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChpc1N0b3ApIFUuc3RvcEV2ZW50KGUpO1xuICB9LFxuICAvKiDtgqQg7JeFIOydtOuypO2KuOyXkOyEnCDtjKjthLTsnYQg7KCB7JqpICovXG4gICdrZXl1cCc6IGZ1bmN0aW9uIChvcHRzLCBvcHRJZHgsIGUpIHtcbiAgICBsZXQgZWxlbSA9IG9wdHMuJGlucHV0LmdldCgwKSxcbiAgICAgICAgZWxlbUZvY3VzUG9zaXRpb24sXG4gICAgICAgIGJlZm9yZVZhbHVlLFxuICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICBzZWxlY3Rpb25MZW5ndGg7XG5cbiAgICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBlbGVtKSB7XG4gICAgICAvLyBTdGFuZGFyZC1jb21wbGlhbnQgYnJvd3NlcnNcbiAgICAgIGVsZW1Gb2N1c1Bvc2l0aW9uID0gZWxlbS5zZWxlY3Rpb25TdGFydDtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgICAgLy8gSUVcbiAgICAgIC8vZWxlbS5mb2N1cygpO1xuICAgICAgc2VsZWN0aW9uID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICBzZWxlY3Rpb25MZW5ndGggPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0Lmxlbmd0aDtcbiAgICAgIHNlbGVjdGlvbi5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1lbGVtLnZhbHVlLmxlbmd0aCk7XG4gICAgICBlbGVtRm9jdXNQb3NpdGlvbiA9IHNlbGVjdGlvbi50ZXh0Lmxlbmd0aCAtIHNlbGVjdGlvbkxlbmd0aDtcbiAgICB9XG5cbiAgICBiZWZvcmVWYWx1ZSA9IGVsZW0udmFsdWU7XG4gICAgaWYgKG9wdHMucGF0dGVybiBpbiB0aGlzLmN1c3RvbUZvcm1hdHRlcikge1xuICAgICAgbmV3VmFsdWUgPSB0aGlzLmN1c3RvbUZvcm1hdHRlcltvcHRzLnBhdHRlcm5dLmdldFBhdHRlcm5WYWx1ZS5jYWxsKHRoaXMsIG9wdHMsIG9wdElkeCwgZSwgZWxlbS52YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChvcHRzLnBhdHRlcm4gaW4gRk9STUFUVEVSKSB7XG4gICAgICBuZXdWYWx1ZSA9IEZPUk1BVFRFUltvcHRzLnBhdHRlcm5dLmdldFBhdHRlcm5WYWx1ZS5jYWxsKHRoaXMsIG9wdHMsIG9wdElkeCwgZSwgZWxlbS52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1ZhbHVlID0gYmVmb3JlVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKG5ld1ZhbHVlICE9IGJlZm9yZVZhbHVlKSB7XG4gICAgICBvcHRzLiRpbnB1dC52YWwobmV3VmFsdWUpLnRyaWdnZXIoXCJjaGFuZ2VcIik7XG4gICAgICBzZXRTZWxlY3Rpb25SYW5nZShlbGVtLCBlbGVtRm9jdXNQb3NpdGlvbiArIG5ld1ZhbHVlLmxlbmd0aCAtIGJlZm9yZVZhbHVlLmxlbmd0aCk7XG4gICAgfVxuICB9LFxuICAnYmx1cic6IGZ1bmN0aW9uIChvcHRzLCBvcHRJZHgsIGUsIF9mb3JjZSkge1xuICAgIGxldCBlbGVtID0gb3B0cy4kaW5wdXQuZ2V0KDApLFxuICAgICAgICBiZWZvcmVWYWx1ZSxcbiAgICAgICAgbmV3VmFsdWU7XG5cbiAgICBvcHRzLiRpbnB1dC5yZW1vdmVEYXRhKFwiX19vcmlnaW5WYWx1ZV9fXCIpO1xuXG4gICAgYmVmb3JlVmFsdWUgPSBlbGVtLnZhbHVlO1xuICAgIGlmIChvcHRzLnBhdHRlcm4gaW4gdGhpcy5jdXN0b21Gb3JtYXR0ZXIpIHtcbiAgICAgIG5ld1ZhbHVlID0gdGhpcy5jdXN0b21Gb3JtYXR0ZXJbb3B0cy5wYXR0ZXJuXS5nZXRQYXR0ZXJuVmFsdWUuY2FsbCh0aGlzLCBvcHRzLCBvcHRJZHgsIGUsIGVsZW0udmFsdWUsICdibHVyJyk7XG4gICAgfSBlbHNlIGlmIChvcHRzLnBhdHRlcm4gaW4gRk9STUFUVEVSKSB7XG4gICAgICBuZXdWYWx1ZSA9IEZPUk1BVFRFUltvcHRzLnBhdHRlcm5dLmdldFBhdHRlcm5WYWx1ZS5jYWxsKHRoaXMsIG9wdHMsIG9wdElkeCwgZSwgZWxlbS52YWx1ZSwgJ2JsdXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3VmFsdWUgPSBiZWZvcmVWYWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoX2ZvcmNlKSB7XG4gICAgICBvcHRzLiRpbnB1dC52YWwobmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobmV3VmFsdWUgIT0gYmVmb3JlVmFsdWUpIHtcbiAgICAgICAgb3B0cy4kaW5wdXQudmFsKG5ld1ZhbHVlKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmNvbnN0IGJpbmRGb3JtYXR0ZXJUYXJnZXQgPSBmdW5jdGlvbiAob3B0cywgb3B0SWR4KSB7XG4gIGlmICghb3B0cy5wYXR0ZXJuKSB7XG4gICAgaWYgKG9wdHMuJHRhcmdldC5nZXQoMCkudGFnTmFtZSA9PSBcIklOUFVUXCIpIHtcbiAgICAgIG9wdHMucGF0dGVybiA9IG9wdHMuJHRhcmdldC5hdHRyKCdkYXRhLWF4NmZvcm1hdHRlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLnBhdHRlcm4gPSBvcHRzLiR0YXJnZXQuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKS5hdHRyKCdkYXRhLWF4NmZvcm1hdHRlcicpO1xuICAgIH1cbiAgICBpZiAoIW9wdHMucGF0dGVybikge1xuICAgICAgY29uc29sZS5sb2coaW5mby5nZXRFcnJvcihcImF4NmZvcm1hdHRlclwiLCBcIjUwMVwiLCBcImJpbmRcIikpO1xuICAgICAgY29uc29sZS5sb2cob3B0cy50YXJnZXQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlID0gL1teXFwoXlxcKSldKy9naSxcbiAgICAgIG1hdGNoZWQgPSBvcHRzLnBhdHRlcm4ubWF0Y2gocmUpO1xuXG4gIG9wdHMucGF0dGVybiA9IG1hdGNoZWRbMF07XG4gIG9wdHMucGF0dGVybkFyZ3VtZW50ID0gbWF0Y2hlZFsxXSB8fCBcIlwiO1xuXG4gIC8vIO2VqOyImO2DgOyehVxuICBpZiAob3B0cy5wYXR0ZXJuIGluIHRoaXMuY3VzdG9tRm9ybWF0dGVyKSB7XG4gICAgb3B0cy5lbnRlcmFibGVLZXlDb2RlcyA9IHRoaXMuY3VzdG9tRm9ybWF0dGVyW29wdHMucGF0dGVybl0uZ2V0RW50ZXJhYmxlS2V5Q29kZXMuY2FsbCh0aGlzLCBvcHRzLCBvcHRJZHgpO1xuICB9IGVsc2UgaWYgKG9wdHMucGF0dGVybiBpbiBGT1JNQVRURVIpIHtcbiAgICBvcHRzLmVudGVyYWJsZUtleUNvZGVzID0gRk9STUFUVEVSW29wdHMucGF0dGVybl0uZ2V0RW50ZXJhYmxlS2V5Q29kZXMuY2FsbCh0aGlzLCBvcHRzLCBvcHRJZHgpO1xuICB9XG5cbiAgb3B0cy4kaW5wdXQub2ZmKCdmb2N1cy5heDZmb3JtYXR0ZXInKS5vbignZm9jdXMuYXg2Zm9ybWF0dGVyJywgZm9ybWF0dGVyRXZlbnQuZm9jdXMuYmluZCh0aGlzLCB0aGlzLnF1ZXVlW29wdElkeF0sIG9wdElkeCkpLm9mZigna2V5ZG93bi5heDZmb3JtYXR0ZXInKS5vbigna2V5ZG93bi5heDZmb3JtYXR0ZXInLCBmb3JtYXR0ZXJFdmVudC5rZXlkb3duLmJpbmQodGhpcywgdGhpcy5xdWV1ZVtvcHRJZHhdLCBvcHRJZHgpKS5vZmYoJ2tleXVwLmF4NmZvcm1hdHRlcicpLm9uKCdrZXl1cC5heDZmb3JtYXR0ZXInLCBmb3JtYXR0ZXJFdmVudC5rZXl1cC5iaW5kKHRoaXMsIHRoaXMucXVldWVbb3B0SWR4XSwgb3B0SWR4KSkub2ZmKCdibHVyLmF4NmZvcm1hdHRlcicpLm9uKCdibHVyLmF4NmZvcm1hdHRlcicsIGZvcm1hdHRlckV2ZW50LmJsdXIuYmluZCh0aGlzLCB0aGlzLnF1ZXVlW29wdElkeF0sIG9wdElkeCkpO1xuXG4gIGZvcm1hdHRlckV2ZW50LmJsdXIuY2FsbCh0aGlzLCB0aGlzLnF1ZXVlW29wdElkeF0sIG9wdElkeCk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuY29uc3QgdW5iaW5kRm9ybWF0dGVyVGFyZ2V0ID0gZnVuY3Rpb24gKG9wdHMsIG9wdElkeCkge1xuICBvcHRzLiRpbnB1dC5vZmYoJ2ZvY3VzLmF4NmZvcm1hdHRlcicpLm9mZigna2V5ZG93bi5heDZmb3JtYXR0ZXInKS5vZmYoJ2tleXVwLmF4NmZvcm1hdHRlcicpLm9mZignYmx1ci5heDZmb3JtYXR0ZXInKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5jb25zdCBnZXRRdWVJZHggPSBmdW5jdGlvbiAoYm91bmRJRCkge1xuICBpZiAoIVUuaXNTdHJpbmcoYm91bmRJRCkpIHtcbiAgICBib3VuZElEID0galF1ZXJ5KGJvdW5kSUQpLmRhdGEoXCJkYXRhLWZvcm1hdHRlclwiKTtcbiAgfVxuICAvKlxuICAgaWYgKCFVLmlzU3RyaW5nKGJvdW5kSUQpKSB7XG4gICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2Zm9ybWF0dGVyXCIsIFwiNDAyXCIsIFwiZ2V0UXVlSWR4XCIpKTtcbiAgIHJldHVybjtcbiAgIH1cbiAgICovXG4gIHJldHVybiBVLnNlYXJjaCh0aGlzLnF1ZXVlLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWQgPT0gYm91bmRJRDtcbiAgfSk7XG59O1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBwcml2YXRlICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBBWDZVSUZvcm1hdHRlciBleHRlbmRzIEFYNlVJQ29yZSB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5mb3JtYXR0ZXJdXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIHZhciBmb3JtYXR0ZXIgPSBuZXcgRm9ybWF0dGVyKCk7XG4gICAqXG4gICAqIC8vIEV4dGVuZCBmb3JtYXR0ZXJcbiAgICogdmFyIG15Rm9ybWF0dGVyID0gbmV3IEZvcm1hdHRlcih7XG4gICAgICogIGZvcm1hdHRlcjoge1xuICAgICAqICAgICAgXCJteXN0eWxlXCI6IHtcbiAgICAgKiAgICAgICAgICBnZXRFbnRlcmFibGVLZXlDb2RlczogZnVuY3Rpb24gKF9vcHRzKSB7XG4gICAgICogICAgICAgICAgICAgIHZhciBlbnRlcmFibGVLZXlDb2RlcyA9IHtcbiAgICAgKiAgICAgICAgICAgICAgICAgICcxODknOiAnLScgLy8gZXZlbnRLZXlDb2RlXG4gICAgICogICAgICAgICAgICAgIH07XG4gICAgICogICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZXh0ZW5kKGVudGVyYWJsZUtleUNvZGVzLCB7fSk7XG4gICAgICogICAgICAgICAgfVxuICAgICAqICAgICAgICAgIGdldFBhdHRlcm5WYWx1ZTogZnVuY3Rpb24gKF9vcHRzLCBvcHRJZHgsIGUsIHZhbCwgZVR5cGUpIHtcbiAgICAgKiAgICAgICAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgICAgKiAgICAgICAgICAgICAgdmFyIHJlZ0V4cFBhdHRlcm4gPSAvXihbMC05XXsyfSlcXC0/KFswLTldezJ9KT9cXC0/KFswLTldezJ9KT9cXC0/KFswLTldezJ9KT8vO1xuICAgICAqICAgICAgICAgICAgICByZXR1cm4gdmFsLnJlcGxhY2UocmVnRXhwUGF0dGVybiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgKiAgICAgICAgICAgICAgICAgIHZhciBudmFsID0gW2FyZ3VtZW50c1sxXV07XG4gICAgICogICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzWzJdKSBudmFsLnB1c2goYXJndW1lbnRzWzJdKTtcbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbM10pIG52YWwucHVzaChhcmd1bWVudHNbM10pO1xuICAgICAqICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1s0XSkgbnZhbC5wdXNoKGFyZ3VtZW50c1s0XSk7XG4gICAgICogICAgICAgICAgICAgICAgICByZXR1cm4gbnZhbC5qb2luKFwiLVwiKTtcbiAgICAgKiAgICAgICAgICAgICAgfSk7XG4gICAgICogICAgICAgICAgfVxuICAgICAqICAgICAgfVxuICAgICAqICB9XG4gICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0pTT059XG4gICAgICogQHBhcmFtIGNvbmZpZ1xuICAgICAqIEBwYXJhbSBbY29uZmlnLmFuaW1hdGVUaW1lPTI1MF1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGFuaW1hdGVUaW1lOiAyNTBcbiAgICB9O1xuICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgdGhpcy5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAvLyDrqaTrsoQg67OA7IiYIOy0iOq4sO2ZlFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMub3BlblRpbWVyID0gbnVsbDtcbiAgICB0aGlzLmNsb3NlVGltZXIgPSBudWxsO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKi9cbiAgaW5pdCgpIHtcblxuICAgIC8vIGluaXQg7Zi47LacIOyXrOu2gFxuICAgIHRoaXMuaW5pdE9uY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge0FYNlVJRm9ybWF0dGVyfVxuICAgKi9cbiAgaW5pdE9uY2UoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgICogQHBhcmFtIHtFbGVtZW50fSBvcHRzLnRhcmdldFxuICAgKiBAcmV0dXJuIHtBWDZVSUZvcm1hdHRlcn1cbiAgICovXG4gIGJpbmQob3B0cykge1xuICAgIGxldCBmb3JtYXR0ZXJDb25maWcgPSB7fSxcbiAgICAgICAgb3B0SWR4O1xuXG4gICAgLy8g7IKs7Jqp7J6QIO2PrOuplO2EsCDssrTtgaxcbiAgICB0aGlzLmN1c3RvbUZvcm1hdHRlciA9IEFYNlVJRm9ybWF0dGVyLmdldEZvcm1hdHRlcigpO1xuXG4gICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCBmb3JtYXR0ZXJDb25maWcsIHRoaXMuY29uZmlnKTtcbiAgICBpZiAob3B0cykgalF1ZXJ5LmV4dGVuZCh0cnVlLCBmb3JtYXR0ZXJDb25maWcsIG9wdHMpO1xuICAgIG9wdHMgPSBmb3JtYXR0ZXJDb25maWc7XG5cbiAgICBpZiAoIW9wdHMudGFyZ2V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2Zm9ybWF0dGVyXCIsIFwiNDAxXCIsIFwiYmluZFwiKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb3B0cy4kdGFyZ2V0ID0galF1ZXJ5KG9wdHMudGFyZ2V0KTtcbiAgICBpZiAoIW9wdHMuJHRhcmdldC5nZXQoMCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDZmb3JtYXR0ZXJcIiwgXCI0MDFcIiwgXCJjYW4ndCBmb3VuZCB0YXJnZXQgZWxlbWVudFwiKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAob3B0cy4kdGFyZ2V0LmdldCgwKS50YWdOYW1lID09IFwiSU5QVVRcIikge1xuICAgICAgb3B0cy4kaW5wdXQgPSBvcHRzLiR0YXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMuJGlucHV0ID0gb3B0cy4kdGFyZ2V0LmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJyk7XG4gICAgICBpZiAob3B0cy4kaW5wdXQubGVuZ3RoID4gMSkge1xuICAgICAgICBvcHRzLiRpbnB1dC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvcHRzLnRhcmdldCA9IHRoaXM7XG4gICAgICAgICAgc2VsZi5iaW5kKG9wdHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb3B0cy4kaW5wdXQgPSBvcHRzLiR0YXJnZXQuZ2V0KDApLnRhZ05hbWUgPT0gXCJJTlBVVFwiID8gb3B0cy4kdGFyZ2V0IDogb3B0cy4kdGFyZ2V0LmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJyk7XG5cbiAgICBpZiAoIW9wdHMuaWQpIG9wdHMuaWQgPSBvcHRzLiRpbnB1dC5kYXRhKFwiYXg2LWZvcm1hdHRlclwiKTtcblxuICAgIGlmICghb3B0cy5pZCkge1xuICAgICAgb3B0cy5pZCA9ICdheDYtZm9ybWF0dGVyLScgKyBBWDZVSUNvcmUuZ2V0SW5zdGFuY2VJZCgpO1xuICAgICAgb3B0cy4kaW5wdXQuZGF0YShcImF4Ni1mb3JtYXR0ZXJcIiwgb3B0cy5pZCk7XG4gICAgfVxuICAgIG9wdElkeCA9IFUuc2VhcmNoKHRoaXMucXVldWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkID09IG9wdHMuaWQ7XG4gICAgfSk7XG5cbiAgICBpZiAob3B0SWR4ID09PSAtMSkge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKG9wdHMpO1xuICAgICAgYmluZEZvcm1hdHRlclRhcmdldC5jYWxsKHRoaXMsIHRoaXMucXVldWVbdGhpcy5xdWV1ZS5sZW5ndGggLSAxXSwgdGhpcy5xdWV1ZS5sZW5ndGggLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5xdWV1ZVtvcHRJZHhdID0gb3B0cztcbiAgICAgIGJpbmRGb3JtYXR0ZXJUYXJnZXQuY2FsbCh0aGlzLCB0aGlzLnF1ZXVlW29wdElkeF0sIG9wdElkeCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJuIHtBWDZVSUZvcm1hdHRlcn1cbiAgICovXG4gIGZvcm1hdHRpbmcoKSB7XG4gICAgbGV0IHF1ZUlkeCA9IFUuaXNOdW1iZXIoYm91bmRJRCkgPyBib3VuZElEIDogZ2V0UXVlSWR4LmNhbGwodGhpcywgYm91bmRJRCk7XG4gICAgaWYgKHF1ZUlkeCA9PT0gLTEpIHtcbiAgICAgIGxldCBpID0gdGhpcy5xdWV1ZS5sZW5ndGg7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGZvcm1hdHRlckV2ZW50LmJsdXIuY2FsbCh0aGlzLCB0aGlzLnF1ZXVlW2ldLCBpLCBudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybWF0dGVyRXZlbnQuYmx1ci5jYWxsKHRoaXMsIHRoaXMucXVldWVbcXVlSWR4XSwgcXVlSWR4LCBudWxsLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gb3B0c1xuICAgKiBAcmV0dXJuIHtBWDZVSUZvcm1hdHRlcn1cbiAgICovXG4gIHVuYmluZChvcHRzKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBvcHRJZHg7XG5cbiAgICBpZiAoIW9wdHMudGFyZ2V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2Zm9ybWF0dGVyXCIsIFwiNDAxXCIsIFwidW5iaW5kXCIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBvcHRzLiR0YXJnZXQgPSBqUXVlcnkob3B0cy50YXJnZXQpO1xuXG4gICAgaWYgKG9wdHMuJHRhcmdldC5nZXQoMCkudGFnTmFtZSA9PSBcIklOUFVUXCIpIHtcbiAgICAgIG9wdHMuJGlucHV0ID0gb3B0cy4kdGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLiRpbnB1dCA9IG9wdHMuJHRhcmdldC5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpO1xuICAgICAgaWYgKG9wdHMuJGlucHV0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgb3B0cy4kaW5wdXQuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb3B0cy50YXJnZXQgPSB0aGlzO1xuICAgICAgICAgIHNlbGYudW5iaW5kKG9wdHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb3B0cy4kaW5wdXQgPSBvcHRzLiR0YXJnZXQuZ2V0KDApLnRhZ05hbWUgPT0gXCJJTlBVVFwiID8gb3B0cy4kdGFyZ2V0IDogb3B0cy4kdGFyZ2V0LmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJyk7XG4gICAgb3B0cy5pZCA9IG9wdHMuJGlucHV0LmRhdGEoXCJheDYtZm9ybWF0dGVyXCIpO1xuXG4gICAgaWYgKG9wdHMuaWQpIHtcbiAgICAgIG9wdElkeCA9IFUuc2VhcmNoKHRoaXMucXVldWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQgPT0gb3B0cy5pZDtcbiAgICAgIH0pO1xuXG4gICAgICB1bmJpbmRGb3JtYXR0ZXJUYXJnZXQuY2FsbCh0aGlzLCB0aGlzLnF1ZXVlW29wdElkeF0pO1xuICAgICAgdGhpcy5xdWV1ZS5zcGxpY2Uob3B0SWR4LCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSBfZm9ybWF0dGVyXG4gICAqL1xuICBzdGF0aWMgc2V0Rm9ybWF0dGVyKF9mb3JtYXR0ZXIpIHtcbiAgICByZXR1cm4gZm9ybWF0dGVyID0gT2JqZWN0LmFzc2lnbihmb3JtYXR0ZXIsIF9mb3JtYXR0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQHJldHVybiB7e319XG4gICAqL1xuICBzdGF0aWMgZ2V0Rm9ybWF0dGVyKCkge1xuICAgIHJldHVybiBmb3JtYXR0ZXIgfHwge307XG4gIH1cblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAcmV0dXJuIHt7fX1cbiAgICovXG4gIHN0YXRpYyBnZXRDdHJsS2V5cygpIHtcbiAgICByZXR1cm4gRk9STUFUVEVSLmN0cmxLZXlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQHJldHVybiB7e319XG4gICAqL1xuICBzdGF0aWMgZ2V0TnVtS2V5cygpIHtcbiAgICByZXR1cm4gRk9STUFUVEVSLm51bUtleXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVg2VUlGb3JtYXR0ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlGb3JtYXR0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgalF1ZXJ5IGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IEFYNlVJQ29yZSBmcm9tIFwiLi9BWDZVSUNvcmVcIjtcbmltcG9ydCBpbmZvIGZyb20gXCIuL0FYNkluZm9cIjtcbmltcG9ydCBVIGZyb20gXCIuL0FYNlV0aWxcIjtcbmltcG9ydCBtdXN0YWNoZSBmcm9tIFwiLi9BWDZNdXN0YWNoZVwiO1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBpbXBvcnQgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbmNvbnN0IGZyYW1lVG1wbCA9IGZ1bmN0aW9uIChjb2x1bW5LZXlzKSB7XG4gIHJldHVybiBgXG48ZGl2IGRhdGEtYXg2dWktcGFsZXR0ZT1cIlwiPlxuPGRpdiBkYXRhLWF4NnBhbGV0dGUtY29udGFpbmVyPVwicm9vdFwiPlxuICAgIDxkaXYgZGF0YS1heDZwYWxldHRlLWNvbnRhaW5lcj1cImNvbG9yc1wiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS1heDZwYWxldHRlLWNvbnRhaW5lcj1cImNvbnRyb2xzXCI+PC9kaXY+XG48L2Rpdj5cbjwvZGl2PlxuYDtcbn07XG5jb25zdCBjb2xvcnNUbXBsID0gZnVuY3Rpb24gKGNvbHVtbktleXMpIHtcbiAgcmV0dXJuIGBcbnt7I2NvbG9yc319XG57eyNsaXN0fX1cbjxkaXYgZGF0YS1heDZwYWxldHRlLWNvbG9yPVwie3tsYWJlbH19XCIgZGF0YS1heDZwYWxldHRlLWNvbG9yLWluZGV4PVwie3tAaX19XCI+XG4gICAgPGRpdiBkYXRhLXBhbmVsPVwiY29sb3ItcHJldmlld1wiIHN0eWxlPVwicGFkZGluZzp7e3ByZXZpZXcuY2VsbFBhZGRpbmd9fXB4O3dpZHRoOnt7cHJldmlldy5jZWxsV2lkdGh9fXB4O1wiPlxuICAgICAgICA8ZGl2IGRhdGEtcGFuZWw9XCJjb2xvci1ib3hcIiBzdHlsZT1cIndpZHRoOnt7cHJldmlldy53aWR0aH19cHg7aGVpZ2h0Ont7cHJldmlldy5oZWlnaHR9fXB4O1wiPjxkaXYgZGF0YS1wYW5lbD1cImNvbG9yXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOnt7dmFsdWV9fTtcIj48L2Rpdj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGRhdGEtcGFuZWw9XCJjb2xvci1sYWJlbFwiIHN0eWxlPVwid2lkdGg6e3tsYWJlbC53aWR0aH19cHg7XCI+e3tsYWJlbH19PC9kaXY+XG4gICAgPGRpdiBkYXRhLXBhbmVsPVwiY29sb3Itc2xpZGVyXCI+XG4gICAgICAgIDxkaXYgZGF0YS1wYW5lbD1cImNvbG9yLXRyYWNrXCIgc3R5bGU9XCJoZWlnaHQ6e3tzbGlkZXIudHJhY2tIZWlnaHR9fXB4O2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywge3tfY29sb3IwdmFsdWV9fSwge3tfY29sb3IxdmFsdWV9fSwge3tfY29sb3IydmFsdWV9fSk7IFwiPlxuICAgICAgICAgICAgPGRpdiBkYXRhLXBhbmVsPVwiY29sb3ItaGFuZGxlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLXBhbmVsPVwiY29sb3ItaGFuZGxlLWFmdGVyXCIgc3R5bGU9XCJ3aWR0aDp7e3NsaWRlci5oYW5kbGVXaWR0aH19cHg7aGVpZ2h0Ont7c2xpZGVyLmhhbmRsZVdpZHRofX1weDtsZWZ0Ont7c2xpZGVyLmhhbmRsZUxlZnR9fXB4O3RvcDp7e3NsaWRlci5oYW5kbGVMZWZ0fX1weDtcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2Plxue3svbGlzdH19XG57ey9jb2xvcnN9fVxuYDtcbn07XG5jb25zdCBFTk0gPSB7XG4gIFwibW91c2Vkb3duXCI6IGluZm8uc3VwcG9ydFRvdWNoID8gXCJ0b3VjaHN0YXJ0XCIgOiBcIm1vdXNlZG93blwiLFxuICBcIm1vdXNlbW92ZVwiOiBpbmZvLnN1cHBvcnRUb3VjaCA/IFwidG91Y2htb3ZlXCIgOiBcIm1vdXNlbW92ZVwiLFxuICBcIm1vdXNldXBcIjogaW5mby5zdXBwb3J0VG91Y2ggPyBcInRvdWNoZW5kXCIgOiBcIm1vdXNldXBcIlxufTtcbmNvbnN0IG9uU3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKG9wdHMsIHRoYXQpIHtcbiAgaWYgKG9wdHMgJiYgb3B0cy5vblN0YXRlQ2hhbmdlZCkge1xuICAgIG9wdHMub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfSBlbHNlIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9XG5cbiAgdGhhdCA9IG51bGw7XG59O1xuY29uc3QgZ2V0TW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gIGxldCBtb3VzZU9iaixcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQgPyBlLm9yaWdpbmFsRXZlbnQgOiBlO1xuICBtb3VzZU9iaiA9ICdjaGFuZ2VkVG91Y2hlcycgaW4gb3JpZ2luYWxFdmVudCAmJiBvcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzID8gb3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IG9yaWdpbmFsRXZlbnQ7XG4gIC8vIGNsaWVudFgsIFkg7JOw66m0IOyKpO2BrOuhpOyXkOyEnCDrrLjsoJwg67Cc7IOdXG4gIHJldHVybiB7XG4gICAgY2xpZW50WDogbW91c2VPYmoucGFnZVgsXG4gICAgY2xpZW50WTogbW91c2VPYmoucGFnZVlcbiAgfTtcbn07XG5jb25zdCBiaW5kSGFuZGxlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgaXRlbS5vcmlnaW5hbFRyYWNrV2lkdGggPSBpdGVtLiR0cmFjay53aWR0aCgpO1xuICBpdGVtLnRyYWNrV2lkdGggPSBpdGVtLm9yaWdpbmFsVHJhY2tXaWR0aCAtIHRoaXMuY29uZmlnLmNvbG9ycy5zbGlkZXIuaGFuZGxlV2lkdGggLyA1O1xuICBsZXQgaGFuZGxlTGVmdCA9IGFtb3VudFRvSGFuZGxlTGVmdC5jYWxsKHRoaXMsIGl0ZW0sIGl0ZW0uX2Ftb3VudCk7XG5cbiAgLy8gaGFuZGxlTGVmdCDqsIAg67KU7JyE66W8IOuyl+yWtOuCmOuptD9cbiAgaWYgKGhhbmRsZUxlZnQgPCAwIHx8IGhhbmRsZUxlZnQgPiBpdGVtLnRyYWNrV2lkdGgpIHtcbiAgICBsZXQgYW1vdW50O1xuICAgIGhhbmRsZUxlZnQgPSBoYW5kbGVMZWZ0IDwgMCA/IDAgOiBoYW5kbGVMZWZ0ID4gaXRlbS50cmFja1dpZHRoID8gaXRlbS50cmFja1dpZHRoIDogaGFuZGxlTGVmdDtcbiAgICBhbW91bnQgPSBoYW5kbGVMZWZ0VG9BbW91bnQuY2FsbCh0aGlzLCBpdGVtLCBoYW5kbGVMZWZ0KTtcbiAgICB1cGRhdGVQcmV2aWV3Q29sb3IuY2FsbCh0aGlzLCBpdGVtLCBhbW91bnRUb0NvbG9yLmNhbGwodGhpcywgaXRlbSwgYW1vdW50KSk7XG4gIH1cblxuICBpdGVtLiRoYW5kbGUuY3NzKHsgbGVmdDogaGFuZGxlTGVmdCB9KTtcbiAgaXRlbS4kaXRlbS5vZmYoRU5NW1wibW91c2Vkb3duXCJdKS5vbihFTk1bXCJtb3VzZWRvd25cIl0sICdbZGF0YS1wYW5lbD1cImNvbG9yLWhhbmRsZVwiXScsIGUgPT4ge1xuICAgIGxldCBtb3VzZU9iaiA9IGdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgaXRlbS5fb3JpZ2luYWxIYW5kbGVDbGllbnRYID0gbW91c2VPYmouY2xpZW50WDtcbiAgICBpdGVtLl9vcmlnaW5hbEhhbmRsZUxlZnQgPSBpdGVtLiRoYW5kbGUucG9zaXRpb24oKS5sZWZ0O1xuICAgIGhhbmRsZU1vdmVFdmVudC5vbi5jYWxsKHRoaXMsIGl0ZW0pO1xuICAgIFUuc3RvcEV2ZW50KGUub3JpZ2luYWxFdmVudCk7XG4gIH0pLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwgJ1tkYXRhLXBhbmVsPVwiY29sb3ItbGFiZWxcIl0sIFtkYXRhLXBhbmVsPVwiY29sb3ItcHJldmlld1wiXScsIGUgPT4ge1xuICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgIHRoaXMub25DbGljay5jYWxsKGl0ZW0sICcjJyArIGl0ZW0uX3NlbGVjdGVkQ29sb3IudG9VcHBlckNhc2UoKSwgZSk7XG4gICAgfVxuICB9KS5vbihcImNsaWNrXCIsICdbZGF0YS1wYW5lbD1cImNvbG9yLXRyYWNrXCJdJywgZSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcGFuZWxcIikgPT0gXCJjb2xvci10cmFja1wiKSB7XG4gICAgICBsZXQgbW91c2VPYmogPSBnZXRNb3VzZVBvc2l0aW9uKGUpLFxuICAgICAgICAgIG5ld0hhbmRsZUxlZnQgPSBtb3VzZU9iai5jbGllbnRYIC0gaXRlbS4kdHJhY2sub2Zmc2V0KCkubGVmdCxcbiAgICAgICAgICBhbW91bnQgPSBoYW5kbGVMZWZ0VG9BbW91bnQoaXRlbSwgbmV3SGFuZGxlTGVmdCk7XG5cbiAgICAgIGl0ZW0uJGhhbmRsZS5jc3MoeyBsZWZ0OiBuZXdIYW5kbGVMZWZ0IH0pO1xuICAgICAgdXBkYXRlUHJldmlld0NvbG9yLmNhbGwodGhpcywgaXRlbSwgYW1vdW50VG9Db2xvci5jYWxsKHRoaXMsIGl0ZW0sIGFtb3VudCksIGUpO1xuXG4gICAgICBtb3VzZU9iaiA9IG51bGw7XG4gICAgICBuZXdIYW5kbGVMZWZ0ID0gbnVsbDtcbiAgICAgIGFtb3VudCA9IG51bGw7XG4gICAgfVxuICB9KTtcbn07XG5jb25zdCB1cGRhdGVQcmV2aWV3Q29sb3IgPSBmdW5jdGlvbiAoaXRlbSwgY29sb3IsIGV2ZW50KSB7XG4gIGl0ZW0uJHByZXZpZXcuY3NzKHsgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6ICcjJyArIGNvbG9yIH0pO1xuICBpdGVtLiRsYWJlbC5odG1sKCcjJyArIGNvbG9yLnRvVXBwZXJDYXNlKCkpO1xuICBpdGVtLl9zZWxlY3RlZENvbG9yID0gY29sb3I7XG5cbiAgaWYgKGV2ZW50ICYmIHRoaXMub25VcGRhdGVDb2xvcikge1xuICAgIHRoaXMub25VcGRhdGVDb2xvci5jYWxsKGl0ZW0sICcjJyArIGl0ZW0uX3NlbGVjdGVkQ29sb3IudG9VcHBlckNhc2UoKSk7XG4gIH1cbn07XG5jb25zdCBhbW91bnRUb0NvbG9yID0gZnVuY3Rpb24gKGl0ZW0sIGFtb3VudCkge1xuICBjb25zdCBwcm9jZXNzb3IgPSB7XG4gICAgXCJibGFja1wiKF9jb2xvciwgX2Ftb3VudCkge1xuICAgICAgcmV0dXJuIF9jb2xvci5saWdodGVuKHRoaXMuY29uZmlnLmNvbG9ycy5zbGlkZXIuYW1vdW50IC8gMikuZGFya2VuKF9hbW91bnQpLmdldEhleFZhbHVlKCk7XG4gICAgfSxcbiAgICBcIndoaXRlXCIoX2NvbG9yLCBfYW1vdW50KSB7XG4gICAgICByZXR1cm4gX2NvbG9yLmRhcmtlbih0aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmFtb3VudCAvIDIpLmRhcmtlbihfYW1vdW50KS5nZXRIZXhWYWx1ZSgpO1xuICAgIH0sXG4gICAgXCJub3JtYWxcIihfY29sb3IsIF9hbW91bnQpIHtcbiAgICAgIHJldHVybiBfY29sb3IuZGFya2VuKF9hbW91bnQpLmdldEhleFZhbHVlKCk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpdGVtLl91bmlxQ29sb3IgaW4gcHJvY2Vzc29yKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NvcltpdGVtLl91bmlxQ29sb3JdLmNhbGwodGhpcywgaXRlbS5fY29sb3IsIGFtb3VudCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByb2Nlc3NvcltcIm5vcm1hbFwiXS5jYWxsKHRoaXMsIGl0ZW0uX2NvbG9yLCBhbW91bnQpO1xuICB9XG59O1xuY29uc3QgY29sb3JUb0Ftb3VudCA9IGZ1bmN0aW9uIChpdGVtLCBjb2xvcikge1xuICAvLy8gdG9kbyA6IOyDieyDgeyXkCDqsIDquYzsmrQg7IOJIO2RnO2YhC5cbiAgY29uc3QgcHJvY2Vzc29yID0ge1xuICAgIFwiYmxhY2tcIihfY29sb3IsIF9kaWZmQ29sb3IpIHtcbiAgICAgIGxldCBjb2xvcjEgPSBfY29sb3IubGlnaHRlbih0aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmFtb3VudCAvIDIpO1xuICAgICAgcmV0dXJuIChjb2xvcjEuZ2V0SHNsKCkubCAtIF9kaWZmQ29sb3IuZ2V0SHNsKCkubCkgKiAxMDA7XG4gICAgfSxcbiAgICBcIndoaXRlXCIoX2NvbG9yLCBfZGlmZkNvbG9yKSB7XG4gICAgICBsZXQgY29sb3IxID0gX2NvbG9yLmRhcmtlbih0aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmFtb3VudCAvIDIpO1xuICAgICAgcmV0dXJuIChjb2xvcjEuZ2V0SHNsKCkubCAtIF9kaWZmQ29sb3IuZ2V0SHNsKCkubCkgKiAxMDA7XG4gICAgfSxcbiAgICBcIm5vcm1hbFwiKF9jb2xvciwgX2RpZmZDb2xvcikge1xuICAgICAgcmV0dXJuIChfY29sb3IuZ2V0SHNsKCkubCAtIF9kaWZmQ29sb3IuZ2V0SHNsKCkubCkgKiAxMDA7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpdGVtLl91bmlxQ29sb3IgaW4gcHJvY2Vzc29yKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NvcltpdGVtLl91bmlxQ29sb3JdLmNhbGwodGhpcywgaXRlbS5fY29sb3IsIGNvbG9yKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcHJvY2Vzc29yW1wibm9ybWFsXCJdLmNhbGwodGhpcywgaXRlbS5fY29sb3IsIGNvbG9yKTtcbiAgfVxufTtcbmNvbnN0IGhhbmRsZUxlZnRUb0Ftb3VudCA9IGZ1bmN0aW9uIChpdGVtLCBoYW5kbGVMZWZ0KSB7XG4gIHJldHVybiB0aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmFtb3VudCAqIChoYW5kbGVMZWZ0IC0gaXRlbS50cmFja1dpZHRoIC8gMikgLyAoaXRlbS5vcmlnaW5hbFRyYWNrV2lkdGggLyAyKTtcbn07XG5jb25zdCBhbW91bnRUb0hhbmRsZUxlZnQgPSBmdW5jdGlvbiAoaXRlbSwgYW1vdW50KSB7XG4gIHJldHVybiBhbW91bnQgKiAoaXRlbS5vcmlnaW5hbFRyYWNrV2lkdGggLyAyKSAvIHRoaXMuY29uZmlnLmNvbG9ycy5zbGlkZXIuYW1vdW50ICsgaXRlbS50cmFja1dpZHRoIC8gMjtcbn07XG5jb25zdCBoYW5kbGVNb3ZlRXZlbnQgPSB7XG4gIFwib25cIihpdGVtKSB7XG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLm9uKEVOTVtcIm1vdXNlbW92ZVwiXSArIFwiLmF4NnBhbGV0dGUtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGUgPT4ge1xuICAgICAgbGV0IG1vdXNlT2JqID0gZ2V0TW91c2VQb3NpdGlvbihlKSxcbiAgICAgICAgICBkYSA9IG1vdXNlT2JqLmNsaWVudFggLSBpdGVtLl9vcmlnaW5hbEhhbmRsZUNsaWVudFgsXG4gICAgICAgICAgbmV3SGFuZGxlTGVmdCA9IGl0ZW0uX29yaWdpbmFsSGFuZGxlTGVmdCArIGRhLFxuICAgICAgICAgIGFtb3VudDtcblxuICAgICAgbmV3SGFuZGxlTGVmdCA9IG5ld0hhbmRsZUxlZnQgPCAwID8gMCA6IG5ld0hhbmRsZUxlZnQgPiBpdGVtLnRyYWNrV2lkdGggPyBpdGVtLnRyYWNrV2lkdGggOiBuZXdIYW5kbGVMZWZ0O1xuICAgICAgaXRlbS4kaGFuZGxlLmNzcyh7IGxlZnQ6IG5ld0hhbmRsZUxlZnQgfSk7XG4gICAgICBhbW91bnQgPSBoYW5kbGVMZWZ0VG9BbW91bnQuY2FsbCh0aGlzLCBpdGVtLCBuZXdIYW5kbGVMZWZ0KTtcblxuICAgICAgdXBkYXRlUHJldmlld0NvbG9yLmNhbGwodGhpcywgaXRlbSwgYW1vdW50VG9Db2xvci5jYWxsKHRoaXMsIGl0ZW0sIGFtb3VudCksIGUpO1xuXG4gICAgICBtb3VzZU9iaiA9IG51bGw7XG4gICAgICBkYSA9IG51bGw7XG4gICAgfSkub24oRU5NW1wibW91c2V1cFwiXSArIFwiLmF4NnBhbGV0dGUtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGUgPT4ge1xuICAgICAgaGFuZGxlTW92ZUV2ZW50Lm9mZi5jYWxsKHRoaXMpO1xuICAgICAgVS5zdG9wRXZlbnQoZSk7XG4gICAgfSkub24oXCJtb3VzZWxlYXZlLmF4NnBhbGV0dGUtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGUgPT4ge1xuICAgICAgaGFuZGxlTW92ZUV2ZW50Lm9mZi5jYWxsKHRoaXMpO1xuICAgICAgVS5zdG9wRXZlbnQoZSk7XG4gICAgfSk7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYXR0cigndW5zZWxlY3RhYmxlJywgJ29uJykuY3NzKCd1c2VyLXNlbGVjdCcsICdub25lJykub24oJ3NlbGVjdHN0YXJ0JywgZmFsc2UpO1xuICB9LFxuICBcIm9mZlwiKCkge1xuICAgIHRoaXMueHZhci5yZXNpemVyTGl2ZWQgPSBmYWxzZTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5vZmYoRU5NW1wibW91c2Vtb3ZlXCJdICsgXCIuYXg2cGFsZXR0ZS1cIiArIHRoaXMuaW5zdGFuY2VJZCkub2ZmKEVOTVtcIm1vdXNldXBcIl0gKyBcIi5heDZwYWxldHRlLVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vZmYoXCJtb3VzZWxlYXZlLmF4NnBhbGV0dGUtXCIgKyB0aGlzLmluc3RhbmNlSWQpO1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLnJlbW92ZUF0dHIoJ3Vuc2VsZWN0YWJsZScpLmNzcygndXNlci1zZWxlY3QnLCAnYXV0bycpLm9mZignc2VsZWN0c3RhcnQnKTtcbiAgfVxufTtcbmNvbnN0IHJlcGFpbnQgPSBmdW5jdGlvbiAoc2VsZWN0ZWRDb2xvcikge1xuICBsZXQgYm94ID0ge1xuICAgIHdpZHRoOiB0aGlzLiR0YXJnZXQuaW5uZXJXaWR0aCgpLFxuICAgIGhlaWdodDogdGhpcy4kdGFyZ2V0LmlubmVySGVpZ2h0KClcbiAgfTtcblxuICAvLyDtjKjrhJAg7ZSE66CI7J6EIOy0iOq4sO2ZlFxuICB0aGlzLiR0YXJnZXQuaHRtbChtdXN0YWNoZS5yZW5kZXIoZnJhbWVUbXBsLmNhbGwodGhpcyksIHt9LCB0aGlzLmNvbmZpZy5jb2x1bW5LZXlzKSk7XG5cbiAgLy8g6rCBIO2MqOuEkOuTpOydhCDsupDsi7F+XG4gIHRoaXMuJCA9IHtcbiAgICBcInJvb3RcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NnBhbGV0dGUtY29udGFpbmVyPVwicm9vdFwiXScpLFxuICAgIFwiY29sb3JzXCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZwYWxldHRlLWNvbnRhaW5lcj1cImNvbG9yc1wiXScpLFxuICAgIFwiY29udHJvbHNcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NnBhbGV0dGUtY29udGFpbmVyPVwiY29udHJvbHNcIl0nKVxuICB9O1xuXG4gIC8vIHRvZG8gOiBjb250cm9scyDrgpjspJHsl5Ag6rOg66+87ZWY7JesIOq1rO2YhFxuICAvLyB0aGlzLiRbXCJjb250cm9sc1wiXS5jc3Moe2hlaWdodDogdGhpcy5jb25maWcuY29udHJvbHMuaGVpZ2h0fSk7XG5cbiAgLy8vIGNvbG9ycy5saXN0IOyDieyDgSDrspTsnIQg6rKw7KCVIC8g7LSI6riw7ZmUXG4gIHRoaXMuY29uZmlnLmNvbG9ycy5saXN0LmZvckVhY2goYyA9PiB7XG4gICAgYy5fY29sb3IgPSBVLmNvbG9yKGMudmFsdWUpO1xuICAgIGMuX3NlbGVjdGVkQ29sb3IgPSBjLl9jb2xvci5nZXRIZXhWYWx1ZSgpO1xuICAgIGlmIChjLl9jb2xvci5yID09IDAgJiYgYy5fY29sb3IuZyA9PSAwICYmIGMuX2NvbG9yLmIgPT0gMCkge1xuICAgICAgYy5fYW1vdW50ID0gdGhpcy5jb25maWcuY29sb3JzLnNsaWRlci5hbW91bnQ7XG4gICAgICBjLl91bmlxQ29sb3IgPSBcImJsYWNrXCI7XG4gICAgICBjLl9jb2xvcjB2YWx1ZSA9IFwiI1wiICsgYy5fY29sb3IubGlnaHRlbih0aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmFtb3VudCkuZ2V0SGV4VmFsdWUoKTtcbiAgICAgIGMuX2NvbG9yMXZhbHVlID0gXCIjXCIgKyBjLl9jb2xvci5saWdodGVuKHRoaXMuY29uZmlnLmNvbG9ycy5zbGlkZXIuYW1vdW50IC8gMikuZ2V0SGV4VmFsdWUoKTtcbiAgICAgIGMuX2NvbG9yMnZhbHVlID0gXCIjXCIgKyBjLl9jb2xvci5nZXRIZXhWYWx1ZSgpO1xuICAgIH0gZWxzZSBpZiAoYy5fY29sb3IuciA9PSAyNTUgJiYgYy5fY29sb3IuZyA9PSAyNTUgJiYgYy5fY29sb3IuYiA9PSAyNTUpIHtcbiAgICAgIGMuX2Ftb3VudCA9IC10aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmFtb3VudDtcbiAgICAgIGMuX3VuaXFDb2xvciA9IFwid2hpdGVcIjtcbiAgICAgIGMuX2NvbG9yMHZhbHVlID0gXCIjXCIgKyBjLl9jb2xvci5nZXRIZXhWYWx1ZSgpO1xuICAgICAgYy5fY29sb3IxdmFsdWUgPSBcIiNcIiArIGMuX2NvbG9yLmRhcmtlbih0aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmFtb3VudCAvIDIpLmdldEhleFZhbHVlKCk7XG4gICAgICBjLl9jb2xvcjJ2YWx1ZSA9IFwiI1wiICsgYy5fY29sb3IuZGFya2VuKHRoaXMuY29uZmlnLmNvbG9ycy5zbGlkZXIuYW1vdW50KS5nZXRIZXhWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjLl9hbW91bnQgPSAwO1xuICAgICAgYy5fY29sb3IwdmFsdWUgPSBcIiNcIiArIGMuX2NvbG9yLmxpZ2h0ZW4odGhpcy5jb25maWcuY29sb3JzLnNsaWRlci5hbW91bnQpLmdldEhleFZhbHVlKCk7XG4gICAgICBjLl9jb2xvcjF2YWx1ZSA9IFwiI1wiICsgYy5fY29sb3IuZ2V0SGV4VmFsdWUoKTtcbiAgICAgIGMuX2NvbG9yMnZhbHVlID0gXCIjXCIgKyBjLl9jb2xvci5kYXJrZW4odGhpcy5jb25maWcuY29sb3JzLnNsaWRlci5hbW91bnQpLmdldEhleFZhbHVlKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyDsg4nsg53sobDsoIgg7ZW465Ok7J2YIOychOy5mCDsobDsoJV0aGlzLmNvbmZpZy5jb2xvcnMubGlzdFttaW5EaWZmQ29sb3JJbmRleF1cbiAgdGhpcy5jb25maWcuY29sb3JzLnNsaWRlci5oYW5kbGVMZWZ0ID0gLXRoaXMuY29uZmlnLmNvbG9ycy5zbGlkZXIuaGFuZGxlV2lkdGggLyAyO1xuICB0aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmhhbmRsZVRvcCA9IC10aGlzLmNvbmZpZy5jb2xvcnMuc2xpZGVyLmhhbmRsZUhlaWdodCAvIDI7XG5cbiAgLy8g7YyU66Cb7Yq4IOy7rOufrCDtjKjrhJAg7LSI6riw7ZmUXG4gIHRoaXMuJFtcImNvbG9yc1wiXS5odG1sKG11c3RhY2hlLnJlbmRlcihjb2xvcnNUbXBsLmNhbGwodGhpcyksIHRoaXMuY29uZmlnLCB0aGlzLmNvbmZpZy5jb2x1bW5LZXlzKSk7XG5cbiAgdGhpcy4kW1wiY29sb3JzXCJdLmZpbmQoJ1tkYXRhLWF4NnBhbGV0dGUtY29sb3ItaW5kZXhdJykuZWFjaCgoZWxJZHgsIGVsKSA9PiB7XG4gICAgbGV0IGlkeCA9IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtYXg2cGFsZXR0ZS1jb2xvci1pbmRleFwiKTtcbiAgICBsZXQgY29sb3IgPSB0aGlzLmNvbmZpZy5jb2xvcnMubGlzdFtpZHhdO1xuICAgIGxldCBpdGVtID0galF1ZXJ5LmV4dGVuZCh7fSwgY29sb3IpO1xuICAgIGl0ZW0uX2luZGV4ID0gaWR4O1xuICAgIGl0ZW0uJGl0ZW0gPSBqUXVlcnkoZWwpO1xuICAgIGl0ZW0uJHByZXZpZXcgPSBpdGVtLiRpdGVtLmZpbmQoJ1tkYXRhLXBhbmVsPVwiY29sb3JcIl0nKTtcbiAgICBpdGVtLiRsYWJlbCA9IGl0ZW0uJGl0ZW0uZmluZCgnW2RhdGEtcGFuZWw9XCJjb2xvci1sYWJlbFwiXScpO1xuICAgIGl0ZW0uJHRyYWNrID0gaXRlbS4kaXRlbS5maW5kKCdbZGF0YS1wYW5lbD1cImNvbG9yLXRyYWNrXCJdJyk7XG4gICAgaXRlbS4kaGFuZGxlID0gaXRlbS4kaXRlbS5maW5kKCdbZGF0YS1wYW5lbD1cImNvbG9yLWhhbmRsZVwiXScpO1xuICAgIGJpbmRIYW5kbGUuY2FsbCh0aGlzLCBpdGVtKTtcbiAgICAvLy8vL1xuICAgIHRoaXMuY29sb3JzLnB1c2goaXRlbSk7XG4gIH0pO1xuXG4gIGlmIChzZWxlY3RlZENvbG9yKSB7XG4gICAgdGhpcy5zZXRTZWxlY3RlZENvbG9yKHNlbGVjdGVkQ29sb3IpO1xuICB9XG59O1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBwcml2YXRlICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBBWDZVSVBhbGV0dGUgZXh0ZW5kcyBBWDZVSUNvcmUge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICogQHBhcmFtIFtjb25maWcudGhlbWVdXG4gICAqIEBwYXJhbSBjb25maWcudGFyZ2V0XG4gICAqIEBwYXJhbSBbY29uZmlnLmFuaW1hdGVUaW1lXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZWxlY3RlZENvbG9yXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jb2xvcnNdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNvbG9ycy5wcmV2aWV3XVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMucHJldmlldy53aWR0aD0yNF1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY29sb3JzLnByZXZpZXcuaGVpZ2h0PTI0XVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMucHJldmlldy5jZWxsV2lkdGg9MzBdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNvbG9ycy5sYWJlbF1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY29sb3JzLmxhYmVsLndpZHRoPTgwXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyLnRyYWNrSGVpZ2h0PThdXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNvbG9ycy5zbGlkZXIuYW1vdW50PTMyXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyLmhhbmRsZVdpZHRoPTE4XVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyLmhhbmRsZUhlaWdodD0xOF1cbiAgICogQHBhcmFtIHtPYmplY3RbXX0gW2NvbmZpZy5jb2xvcnMubGlzdD1bcmVkLG9yYW5nZSx5ZWxsb3csZ3JlZW4sYmx1ZSxwdXJwbGUsYmxhY2ssd2hpdGVdXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmNvbG9ycy5saXN0W10ubGFiZWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5jb2xvcnMubGlzdFtdLnZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNvbnRyb2xzXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb250cm9scy5oZWlnaHQ9MF1cbiAgICogQHBhcmFtIFtjb25maWcub25TdGF0ZUNoYW5nZWRdXG4gICAqIEBwYXJhbSBbY29uZmlnLm9uQ2xpY2tdXG4gICAqIEBwYXJhbSBbY29uZmlnLm9uVXBkYXRlQ29sb3JdXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIG15UGFsZXR0ZSA9IG5ldyBQYWxldHRlKHtcbiAgICAgKiAgdGFyZ2V0OiAkKCdbZGF0YS1heDVwYWxldHRlPVwiMDFcIl0nKSxcbiAgICAgKiAgb25DbGljazogZnVuY3Rpb24gKGhleENvbG9yKSB7XG4gICAgICogICAgICBhbGVydChoZXhDb2xvcik7XG4gICAgICogIH1cbiAgICAgKiB9KTtcbiAgICpcbiAgICogbXlQYWxldHRlID0gbmV3IFBhbGV0dGUoe1xuICAgICAqICB0YXJnZXQ6ICQoJ1tkYXRhLWF4NXBhbGV0dGU9XCIwMVwiXScpLFxuICAgICAqICBjb2xvcnM6IHtcbiAgICAgKiAgICAgIGxpc3Q6IFtcbiAgICAgKiAgICAgICAgICB7bGFiZWw6IFwicmVkXCIsIHZhbHVlOiBcIiNmZjAwMDBcIn0sXG4gICAgICogICAgICAgICAge2xhYmVsOiBcIm9yYW5nZVwiLCB2YWx1ZTogXCIjZmY5ODAyXCJ9LFxuICAgICAqICAgICAgICAgIHtsYWJlbDogXCJ5ZWxsb3dcIiwgdmFsdWU6IFwiI2ZmZmYwMFwifSxcbiAgICAgKiAgICAgICAgICB7bGFiZWw6IFwic2t5Ymx1ZVwiLCB2YWx1ZTogXCIjODRlNGZmXCJ9LFxuICAgICAqICAgICAgICAgIHtsYWJlbDogXCJ3aGl0ZVwiLCB2YWx1ZTogXCIjZmZmZmZmXCJ9XG4gICAgICogICAgICBdXG4gICAgICogIH1cbiAgICAgKiAgb25DbGljazogZnVuY3Rpb24gKGhleENvbG9yKSB7XG4gICAgICpcbiAgICAgKiAgfVxuICAgICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtKU09OfVxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKiBAcGFyYW0gY29uZmlnLnRhcmdldFxuICAgICAqIEBwYXJhbSBbY29uZmlnLnRoZW1lPWRlZmF1bHRdXG4gICAgICogQHBhcmFtIFtjb25maWcuY2xpY2tFdmVudE5hbWU9XCJjbGlja1wiXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmFuaW1hdGVUaW1lPTEwMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jb2xvcnNdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLnByZXZpZXddXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLnByZXZpZXcud2lkdGg9MjRdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLnByZXZpZXcsaGVpZ2h0PTI0XVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbG9ycy5wcmV2aWV3LmNlbGxXaWR0aD0zMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jb2xvcnMubGFiZWxdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLmxhYmVsLndpZHRoPTgwXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbG9ycy5zbGlkZXJdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLnNsaWRlci50cmFja0hlaWdodD04XVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbG9ycy5zbGlkZXIuYW1vdW50PTMyXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbG9ycy5zbGlkZXIuaGFuZGxlV2lkdGg9MThdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLnNsaWRlci5oYW5kbGVIZWlnaHQ9MThdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLmxpc3RdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sb3JzLmxpc3RbXS5sYWJlbF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jb2xvcnMubGlzdFtdLnZhbHVlXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbnRyb2xzXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbnRyb2xzLmhlaWdodD0wXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbHVtbktleXM9e31dXG4gICAgICogQHBhcmFtIFtjb25maWcub25TdGF0ZUNoYW5nZWRdXG4gICAgICogQHBhcmFtIFtjb25maWcub25DbGlja11cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGNsaWNrRXZlbnROYW1lOiBcImNsaWNrXCIsXG4gICAgICB0aGVtZTogJ2RlZmF1bHQnLFxuICAgICAgYW5pbWF0ZVRpbWU6IDEwMCxcbiAgICAgIGNvbG9yczoge1xuICAgICAgICBwcmV2aWV3OiB7XG4gICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgICAgY2VsbFdpZHRoOiAzMFxuICAgICAgICB9LFxuICAgICAgICBsYWJlbDoge1xuICAgICAgICAgIHdpZHRoOiA4MFxuICAgICAgICB9LFxuICAgICAgICBzbGlkZXI6IHtcbiAgICAgICAgICB0cmFja0hlaWdodDogOCxcbiAgICAgICAgICBhbW91bnQ6IDMyLFxuICAgICAgICAgIGhhbmRsZVdpZHRoOiAxOCxcbiAgICAgICAgICBoYW5kbGVIZWlnaHQ6IDE4XG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Q6IFt7IGxhYmVsOiBcInJlZFwiLCB2YWx1ZTogXCIjZmYwMDAwXCIgfSwgeyBsYWJlbDogXCJvcmFuZ2VcIiwgdmFsdWU6IFwiI2ZmOTgwMlwiIH0sIHsgbGFiZWw6IFwieWVsbG93XCIsIHZhbHVlOiBcIiNmZmZmMDBcIiB9LCB7IGxhYmVsOiBcImdyZWVuXCIsIHZhbHVlOiBcIiMwMGZmMzZcIiB9LCB7IGxhYmVsOiBcImJsdWVcIiwgdmFsdWU6IFwiIzAwMDBmZlwiIH0sIHsgbGFiZWw6IFwicHVycGxlXCIsIHZhbHVlOiBcIiNiYTAwZmZcIiB9LFxuICAgICAgICAvL3tsYWJlbDogXCJza3libHVlXCIsIHZhbHVlOiBcIiM4NGU0ZmZcIn0sXG4gICAgICAgIC8ve2xhYmVsOiBcInBpbmtcIiwgdmFsdWU6IFwiI2ZmNzdjNFwifSxcbiAgICAgICAgeyBsYWJlbDogXCJibGFja1wiLCB2YWx1ZTogXCIjMDAwMDAwXCIgfSwgeyBsYWJlbDogXCJ3aGl0ZVwiLCB2YWx1ZTogXCIjZmZmZmZmXCIgfV1cbiAgICAgIH0sXG4gICAgICBjb250cm9sczoge1xuICAgICAgICBoZWlnaHQ6IDBcbiAgICAgIH0sXG4gICAgICBjb2x1bW5LZXlzOiB7fVxuICAgIH07XG4gICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCB0aGlzLmNvbmZpZywgY29uZmlnKTtcblxuICAgIC8vIOuppOuyhCDrs4DsiJgg7LSI6riw7ZmUXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuJHRhcmdldCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMueHZhciA9IHt9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuY29sb3JzID0gW107XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICogQHBhcmFtIFtjb25maWcudGhlbWVdXG4gICAqIEBwYXJhbSBjb25maWcudGFyZ2V0XG4gICAqIEBwYXJhbSBbY29uZmlnLmFuaW1hdGVUaW1lXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZWxlY3RlZENvbG9yXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jb2xvcnNdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNvbG9ycy5wcmV2aWV3XVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMucHJldmlldy53aWR0aD0yNF1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY29sb3JzLnByZXZpZXcuaGVpZ2h0PTI0XVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMucHJldmlldy5jZWxsV2lkdGg9MzBdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNvbG9ycy5sYWJlbF1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY29sb3JzLmxhYmVsLndpZHRoPTgwXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyLnRyYWNrSGVpZ2h0PThdXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNvbG9ycy5zbGlkZXIuYW1vdW50PTMyXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyLmhhbmRsZVdpZHRoPTE4XVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb2xvcnMuc2xpZGVyLmhhbmRsZUhlaWdodD0xOF1cbiAgICogQHBhcmFtIHtPYmplY3RbXX0gW2NvbmZpZy5jb2xvcnMubGlzdD1bcmVkLG9yYW5nZSx5ZWxsb3csZ3JlZW4sYmx1ZSxwdXJwbGUsYmxhY2ssd2hpdGVdXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmNvbG9ycy5saXN0W10ubGFiZWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5jb2xvcnMubGlzdFtdLnZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNvbnRyb2xzXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb250cm9scy5oZWlnaHQ9MF1cbiAgICogQHBhcmFtIFtjb25maWcub25TdGF0ZUNoYW5nZWRdXG4gICAqIEBwYXJhbSBbY29uZmlnLm9uQ2xpY2tdXG4gICAqIEBwYXJhbSBbY29uZmlnLm9uVXBkYXRlQ29sb3JdXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQgPSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5jb25maWcub25DbGljaztcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25DbGljaztcbiAgICB0aGlzLm9uVXBkYXRlQ29sb3IgPSB0aGlzLmNvbmZpZy5vblVwZGF0ZUNvbG9yO1xuICAgIGRlbGV0ZSB0aGlzLmNvbmZpZy5vblVwZGF0ZUNvbG9yO1xuXG4gICAgaWYgKCF0aGlzLmNvbmZpZy50YXJnZXQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDZwYWxldHRlXCIsIFwiNDAxXCIsIFwic2V0Q29uZmlnXCIpKTtcbiAgICB9XG4gICAgdGhpcy4kdGFyZ2V0ID0galF1ZXJ5KHRoaXMuY29uZmlnLnRhcmdldCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlcGFpbnQuY2FsbCh0aGlzLCAodGhpcy5jb25maWcuc2VsZWN0ZWRDb2xvciB8fCBcIlwiKS50cmltKCkpOyAvLyDtjJTroJvtirgg6re466as6riwLlxuICAgIH0pO1xuXG4gICAgLy8gaW5pdCDtmLjstpwg7Jes67aAXG4gICAgdGhpcy5pbml0T25jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGluaXRPbmNlKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge0FYNlVJUGFsZXR0ZX1cbiAgICovXG4gIHJlcGFpbnQoKSB7XG4gICAgcmVwYWludC5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHNlbGVjdGVkQ29sb3JcbiAgICogQHJldHVybiB7QVg2VUlQYWxldHRlfVxuICAgKi9cbiAgc2V0U2VsZWN0ZWRDb2xvcihzZWxlY3RlZENvbG9yKSB7XG4gICAgbGV0IHNDb2xvciA9IFUuY29sb3Ioc2VsZWN0ZWRDb2xvci50cmltKCkpO1xuICAgIC8vIOyngOygleuQnCDsg4nsnbQg6rCA7J6lIOqwgOq5jOyatCDtjIzroJsg6rKA7IOJXG4gICAgbGV0IG1pbkRpZmZDb2xvciA9IDI1NSAqIDMsXG4gICAgICAgIG1pbkRpZmZDb2xvckluZGV4ID0gLTE7XG5cbiAgICB0aGlzLmNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLCBjaWR4KSB7XG4gICAgICBsZXQgYzFoc2wgPSBjLl9jb2xvci5nZXRIc2woKSxcbiAgICAgICAgICBjMmhzbCA9IHNDb2xvci5nZXRIc2woKTtcbiAgICAgIGxldCBkaWZmQ29sb3IgPSBNYXRoLmFicyhjMWhzbC5oIC0gYzJoc2wuaCkgKyBNYXRoLmFicyhjMWhzbC5zIC0gYzJoc2wucykgKyBNYXRoLmFicyhjMWhzbC5sIC0gYzJoc2wubCk7XG4gICAgICBpZiAoZGlmZkNvbG9yIDwgbWluRGlmZkNvbG9yKSB7XG4gICAgICAgIG1pbkRpZmZDb2xvciA9IGRpZmZDb2xvcjtcbiAgICAgICAgbWluRGlmZkNvbG9ySW5kZXggPSBjaWR4O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG1pbkRpZmZDb2xvckluZGV4ID4gLTEpIHtcbiAgICAgIGxldCBhbW91bnQsXG4gICAgICAgICAgaGFuZGxlTGVmdCxcbiAgICAgICAgICBpdGVtID0gdGhpcy5jb2xvcnNbbWluRGlmZkNvbG9ySW5kZXhdO1xuXG4gICAgICBpdGVtLl9hbW91bnQgPSBjb2xvclRvQW1vdW50LmNhbGwodGhpcywgaXRlbSwgc0NvbG9yKTtcbiAgICAgIGhhbmRsZUxlZnQgPSBhbW91bnRUb0hhbmRsZUxlZnQuY2FsbCh0aGlzLCBpdGVtLCBpdGVtLl9hbW91bnQpO1xuICAgICAgLy9oYW5kbGVMZWZ0ID0gaGFuZGxlTGVmdCA8IDAgPyAwIDogaGFuZGxlTGVmdCA+IGl0ZW0udHJhY2tXaWR0aCA/IGl0ZW0udHJhY2tXaWR0aCA6IGhhbmRsZUxlZnQ7XG4gICAgICBpdGVtLiRoYW5kbGUuY3NzKHsgbGVmdDogaGFuZGxlTGVmdCB9KTtcblxuICAgICAgYW1vdW50ID0gaGFuZGxlTGVmdFRvQW1vdW50LmNhbGwodGhpcywgaXRlbSwgaGFuZGxlTGVmdCk7XG4gICAgICB1cGRhdGVQcmV2aWV3Q29sb3IuY2FsbCh0aGlzLCBpdGVtLCBhbW91bnRUb0NvbG9yLmNhbGwodGhpcywgaXRlbSwgYW1vdW50KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVg2VUlQYWxldHRlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJUGFsZXR0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBqUXVlcnkgZnJvbSBcImpxbWluXCI7XG5pbXBvcnQgQVg2VUlDb3JlIGZyb20gXCIuL0FYNlVJQ29yZVwiO1xuaW1wb3J0IGluZm8gZnJvbSBcIi4vQVg2SW5mb1wiO1xuaW1wb3J0IFUgZnJvbSBcIi4vQVg2VXRpbFwiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCIuL0FYNk11c3RhY2hlXCI7XG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIGltcG9ydCAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxubGV0IHRtcGwgPSB7XG4gIGZyYW1lKGNvbHVtbktleXMpIHtcbiAgICByZXR1cm4gYFxuPGRpdiBkYXRhLWF4NnVpLWNhbGVuZGFyPVwiXCIgY2xhc3M9XCJheDYtdWktY2FsZW5kYXIge3t0aGVtZX19XCIgZGF0YS1jYWxlbmRhci1lbHM9XCJyb290XCIgb25zZWxlY3RzdGFydD1cInJldHVybiBmYWxzZTtcIj5cbiAgICB7eyNjb250cm9sfX1cbiAgICA8ZGl2IGNsYXNzPVwiY2FsZW5kYXItY29udHJvbFwiIGRhdGEtY2FsZW5kYXItZWxzPVwiY29udHJvbFwiIHN0eWxlPVwie3tjb250cm9sQ1NTfX1cIj5cbiAgICAgICAgPGEgY2xhc3M9XCJkYXRlLW1vdmUtbGVmdFwiIGRhdGEtY2FsZW5kYXItbW92ZT1cImxlZnRcIiBzdHlsZT1cInt7Y29udHJvbEJ1dHRvbkNTU319XCI+e3t7bGVmdH19fTwvYT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRhdGUtZGlzcGxheVwiIGRhdGEtY2FsZW5kYXItZWxzPVwiY29udHJvbC1kaXNwbGF5XCIgc3R5bGU9XCJ7e2NvbnRyb2xDU1N9fVwiPjwvZGl2PlxuICAgICAgICA8YSBjbGFzcz1cImRhdGUtbW92ZS1yaWdodFwiIGRhdGEtY2FsZW5kYXItbW92ZT1cInJpZ2h0XCIgc3R5bGU9XCJ7e2NvbnRyb2xCdXR0b25DU1N9fVwiPnt7e3JpZ2h0fX19PC9hPlxuICAgIDwvZGl2PlxuICAgIHt7L2NvbnRyb2x9fVxuICAgIDxkaXYgY2xhc3M9XCJjYWxlbmRhci1ib2R5XCIgZGF0YS1jYWxlbmRhci1lbHM9XCJib2R5XCI+PC9kaXY+XG48L2Rpdj5cbmA7XG4gIH0sXG4gIGRheShjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbjx0YWJsZSBkYXRhLWNhbGVuZGFyLXRhYmxlPVwiZGF5XCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPlxuICAgIDx0aGVhZD5cbiAgICAgICAgPHRyPlxuICAgICAgICB7eyN3ZWVrTmFtZXN9fVxuICAgICAgICAgICAgPHRkIGNsYXNzPVwiY2FsZW5kYXItY29sLXt7Y29sfX1cIiBzdHlsZT1cImhlaWdodDoge3tjb2xIZWFkSGVpZ2h0fX1cIj5cbiAgICAgICAgICAgIHt7bGFiZWx9fVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAge3svd2Vla05hbWVzfX1cbiAgICAgICAgPC90cj5cbiAgICA8L3RoZWFkPlxuICAgIDx0Ym9keT5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAge3sjbGlzdH19ICAgIFxuICAgICAgICAgICAge3sjaXNTdGFydE9mV2Vla319XG4gICAgICAgICAgICB7e15AZmlyc3R9fVxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICB7ey9AZmlyc3R9fVxuICAgICAgICAgICAge3svaXNTdGFydE9mV2Vla319XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJjYWxlbmRhci1jb2wte3tjb2x9fVwiIHN0eWxlPVwie3tpdGVtU3R5bGVzfX1cIj5cbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImNhbGVuZGFyLWl0ZW0tZGF5IHt7YWRkQ2xhc3N9fVwiIGRhdGEtY2FsZW5kYXItaXRlbS1kYXRlPVwie3t0aGlzRGF0ZX19XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWRkb24gYWRkb24taGVhZGVyXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7e3RoaXNEYXRhTGFiZWx9fVxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImFkZG9uIGFkZG9uLWZvb3RlclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAge3svbGlzdH19XG4gICAgICAgIDwvdHI+XG4gICAgPC90Ym9keT5cbjwvdGFibGU+XG5gO1xuICB9LFxuICBtb250aChjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbjx0YWJsZSBkYXRhLWNhbGVuZGFyLXRhYmxlPVwibW9udGhcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBzdHlsZT1cIndpZHRoOjEwMCU7XCI+XG4gICAgPHRoZWFkPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJjYWxlbmRhci1jb2wtMFwiIGNvbHNwYW49XCIzXCIgc3R5bGU9XCJoZWlnaHQ6IHt7Y29sSGVhZEhlaWdodH19XCI+XG4gICAgICAgICAgICB7e2NvbEhlYWRMYWJlbH19XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgIDwvdGhlYWQ+XG4gICAgPHRib2R5PlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICB7eyNsaXN0fX0gICAgXG4gICAgICAgICAgICB7eyNpc1N0YXJ0T2ZSb3d9fVxuICAgICAgICAgICAge3teQGZpcnN0fX1cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAge3svQGZpcnN0fX1cbiAgICAgICAgICAgIHt7L2lzU3RhcnRPZlJvd319XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJjYWxlbmRhci1jb2wte3tjb2x9fVwiIHN0eWxlPVwie3tpdGVtU3R5bGVzfX1cIj5cbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImNhbGVuZGFyLWl0ZW0tbW9udGgge3thZGRDbGFzc319XCIgZGF0YS1jYWxlbmRhci1pdGVtLW1vbnRoPVwie3t0aGlzTW9udGh9fVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImFkZG9uXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7e3RoaXNNb250aExhYmVsfX1cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsdW5hclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAge3svbGlzdH19XG4gICAgICAgIDwvdHI+XG4gICAgPC90Ym9keT5cbjwvdGFibGU+XG5gO1xuICB9LFxuICB5ZWFyKGNvbHVtbktleXMpIHtcbiAgICByZXR1cm4gYFxuPHRhYmxlIGRhdGEtY2FsZW5kYXItdGFibGU9XCJ5ZWFyXCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPlxuICAgIDx0aGVhZD5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkIGNsYXNzPVwiY2FsZW5kYXItY29sLTBcIiBjb2xzcGFuPVwiNFwiIHN0eWxlPVwiaGVpZ2h0OiB7e2NvbEhlYWRIZWlnaHR9fVwiPlxuICAgICAgICAgICAge3tjb2xIZWFkTGFiZWx9fVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RoZWFkPlxuICAgIDx0Ym9keT5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAge3sjbGlzdH19ICAgIFxuICAgICAgICAgICAge3sjaXNTdGFydE9mUm93fX1cbiAgICAgICAgICAgIHt7XkBmaXJzdH19XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIHt7L0BmaXJzdH19XG4gICAgICAgICAgICB7ey9pc1N0YXJ0T2ZSb3d9fVxuICAgICAgICAgICAgPHRkIGNsYXNzPVwiY2FsZW5kYXItY29sLXt7Y29sfX1cIiBzdHlsZT1cInt7aXRlbVN0eWxlc319XCI+XG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJjYWxlbmRhci1pdGVtLXllYXIge3thZGRDbGFzc319XCIgZGF0YS1jYWxlbmRhci1pdGVtLXllYXI9XCJ7e3RoaXNZZWFyfX1cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhZGRvblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAge3t0aGlzWWVhckxhYmVsfX1cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsdW5hclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAge3svbGlzdH19XG4gICAgICAgIDwvdHI+XG4gICAgPC90Ym9keT5cbjwvdGFibGU+XG5gO1xuICB9XG59O1xuXG5jb25zdCBvblN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uIChvcHRzLCB0aGF0KSB7XG4gIGlmIChvcHRzICYmIG9wdHMub25TdGF0ZUNoYW5nZWQpIHtcbiAgICBvcHRzLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gIH0gZWxzZSBpZiAodGhpcy5vblN0YXRlQ2hhbmdlZCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfVxuXG4gIHRoYXQgPSBudWxsO1xufTtcbmNvbnN0IGdldEZyYW1lID0gZnVuY3Rpb24gKCkge1xuICBsZXQgZGF0YSA9IGpRdWVyeS5leHRlbmQodHJ1ZSwge30sIHRoaXMuY29uZmlnLCB7XG4gICAgY29udHJvbENTUzoge30sXG4gICAgY29udHJvbEJ1dHRvbkNTUzoge31cbiAgfSk7XG5cbiAgZGF0YS5jb250cm9sQnV0dG9uQ1NTW1wiaGVpZ2h0XCJdID0gZGF0YS5jb250cm9sQ1NTW1wiaGVpZ2h0XCJdID0gVS5jc3NOdW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5jb250cm9sSGVpZ2h0KTtcbiAgZGF0YS5jb250cm9sQnV0dG9uQ1NTW1wibGluZS1oZWlnaHRcIl0gPSBkYXRhLmNvbnRyb2xDU1NbXCJsaW5lLWhlaWdodFwiXSA9IFUuY3NzTnVtYmVyKHRoaXMuY29uZmlnLmRpbWVuc2lvbnMuY29udHJvbEhlaWdodCk7XG4gIGRhdGEuY29udHJvbEJ1dHRvbkNTU1tcIndpZHRoXCJdID0gVS5jc3NOdW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5jb250cm9sSGVpZ2h0KTtcblxuICBkYXRhLmNvbnRyb2xDU1MgPSBVLmNzcyhkYXRhLmNvbnRyb2xDU1MpO1xuICBkYXRhLmNvbnRyb2xCdXR0b25DU1MgPSBVLmNzcyhkYXRhLmNvbnRyb2xCdXR0b25DU1MpO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG11c3RhY2hlLnJlbmRlcih0bXBsLmZyYW1lLmNhbGwodGhpcyksIGRhdGEpO1xuICB9IGZpbmFsbHkge1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG59O1xuY29uc3Qgc2V0RGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG15RGF0ZSA9IFUuZGF0ZSh0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSksXG4gICAgICB5eSA9IFwiXCIsXG4gICAgICBtbSA9IFwiXCIsXG4gICAgICB5eTEsXG4gICAgICB5eTI7XG5cbiAgaWYgKHRoaXMuY29uZmlnLmNvbnRyb2wpIHtcbiAgICBpZiAodGhpcy5jb25maWcubW9kZSA9PSBcImRheVwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT0gXCJkXCIpIHtcbiAgICAgIHl5ID0gdGhpcy5jb25maWcuY29udHJvbC55ZWFyVG1wbCA/IHRoaXMuY29uZmlnLmNvbnRyb2wueWVhclRtcGwucmVwbGFjZSgnJXMnLCBteURhdGUuZ2V0RnVsbFllYXIoKSkgOiBteURhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIG1tID0gdGhpcy5jb25maWcuY29udHJvbC5tb250aFRtcGwgPyB0aGlzLmNvbmZpZy5jb250cm9sLm1vbnRoVG1wbC5yZXBsYWNlKCclcycsIHRoaXMuY29uZmlnLmxhbmcubW9udGhzW215RGF0ZS5nZXRNb250aCgpXSkgOiB0aGlzLmNvbmZpZy5sYW5nLm1vbnRoc1tteURhdGUuZ2V0TW9udGgoKV07XG5cbiAgICAgIHRoaXMuJFtcImNvbnRyb2wtZGlzcGxheVwiXS5odG1sKCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jb250cm9sLnllYXJGaXJzdCkge1xuICAgICAgICAgIHJldHVybiAnPHNwYW4gZGF0YS1jYWxlbmRhci1kaXNwbGF5PVwieWVhclwiPicgKyB5eSArICc8L3NwYW4+JyArICc8c3BhbiBkYXRhLWNhbGVuZGFyLWRpc3BsYXk9XCJtb250aFwiPicgKyBtbSArICc8L3NwYW4+JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJzxzcGFuIGRhdGEtY2FsZW5kYXItZGlzcGxheT1cIm1vbnRoXCI+JyArIG1tICsgJzwvc3Bhbj4nICsgJzxzcGFuIGRhdGEtY2FsZW5kYXItZGlzcGxheT1cInllYXJcIj4nICsgeXkgKyAnPC9zcGFuPic7XG4gICAgICAgIH1cbiAgICAgIH0pKCkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubW9kZSA9PSBcIm1vbnRoXCIgfHwgdGhpcy5jb25maWcubW9kZSA9PSBcIm1cIikge1xuICAgICAgeXkgPSB0aGlzLmNvbmZpZy5jb250cm9sLnllYXJUbXBsID8gdGhpcy5jb25maWcuY29udHJvbC55ZWFyVG1wbC5yZXBsYWNlKCclcycsIG15RGF0ZS5nZXRGdWxsWWVhcigpKSA6IG15RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgdGhpcy4kW1wiY29udHJvbC1kaXNwbGF5XCJdLmh0bWwoJzxzcGFuIGRhdGEtY2FsZW5kYXItZGlzcGxheT1cInllYXJcIj4nICsgeXkgKyAnPC9zcGFuPicpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubW9kZSA9PSBcInllYXJcIiB8fCB0aGlzLmNvbmZpZy5tb2RlID09IFwieVwiKSB7XG4gICAgICB5eTEgPSB0aGlzLmNvbmZpZy5jb250cm9sLnllYXJUbXBsID8gdGhpcy5jb25maWcuY29udHJvbC55ZWFyVG1wbC5yZXBsYWNlKCclcycsIG15RGF0ZS5nZXRGdWxsWWVhcigpIC0gMTApIDogbXlEYXRlLmdldEZ1bGxZZWFyKCkgLSAxMDtcbiAgICAgIHl5MiA9IHRoaXMuY29uZmlnLmNvbnRyb2wueWVhclRtcGwgPyB0aGlzLmNvbmZpZy5jb250cm9sLnllYXJUbXBsLnJlcGxhY2UoJyVzJywgTnVtYmVyKG15RGF0ZS5nZXRGdWxsWWVhcigpKSArIDkpIDogTnVtYmVyKG15RGF0ZS5nZXRGdWxsWWVhcigpKSArIDk7XG4gICAgICB0aGlzLiRbXCJjb250cm9sLWRpc3BsYXlcIl0uaHRtbCh5eTEgKyAnIH4gJyArIHl5Mik7XG4gICAgfVxuXG4gICAgdGhpcy4kW1wiY29udHJvbC1kaXNwbGF5XCJdLm9mZih0aGlzLmNvbmZpZy5jbGlja0V2ZW50TmFtZSkub24odGhpcy5jb25maWcuY2xpY2tFdmVudE5hbWUsICdbZGF0YS1jYWxlbmRhci1kaXNwbGF5XScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsZXQgdGFyZ2V0ID0gVS5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtY2FsZW5kYXItZGlzcGxheVwiKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgICAgICBtb2RlO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBtb2RlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtY2FsZW5kYXItZGlzcGxheVwiKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb2RlKG1vZGUpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0ID0gbnVsbDtcbiAgICAgIG1vZGUgPSBudWxsO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICBteURhdGUgPSBudWxsO1xuICB5eSA9IG51bGw7XG4gIG1tID0gbnVsbDtcbiAgeXkxID0gbnVsbDtcbiAgeXkyID0gbnVsbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuY29uc3QgcHJpbnREYXkgPSBmdW5jdGlvbiAobm93RGF0ZSkge1xuICBsZXQgZG90RGF0ZSA9IFUuZGF0ZShub3dEYXRlKSxcbiAgICAgIG1vbnRoU3RyYXREYXRlID0gbmV3IERhdGUoZG90RGF0ZS5nZXRGdWxsWWVhcigpLCBkb3REYXRlLmdldE1vbnRoKCksIDEsIDEyKSxcbiAgICAgIF90b2RheSA9IHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlLFxuICAgICAgdGFibGVTdGFydERhdGUgPSAoKCkgPT4ge1xuICAgIGxldCBkYXkgPSBtb250aFN0cmF0RGF0ZS5nZXREYXkoKTtcbiAgICBpZiAoZGF5ID09IDApIGRheSA9IDc7XG4gICAgZGF5IC09IHRoaXMuY29uZmlnLnN0YXJ0T2ZXZWVrO1xuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBVLmRhdGUobW9udGhTdHJhdERhdGUsIHsgYWRkOiB7IGQ6IC1kYXkgfSB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZGF5ID0gbnVsbDtcbiAgICB9XG4gIH0pKCksXG4gICAgICBsb29wRGF0ZSxcbiAgICAgIHRoaXNNb250aCA9IGRvdERhdGUuZ2V0TW9udGgoKSxcbiAgICAgIGl0ZW1TdHlsZXMgPSB7fSxcbiAgICAgIGksXG4gICAgICBrLFxuICAgICAgX2ssXG4gICAgICBmcmFtZVdpZHRoID0gdGhpcy4kW1wiYm9keVwiXS53aWR0aCgpLFxuICAgICAgZnJhbWVIZWlnaHQgPSBNYXRoLmZsb29yKGZyYW1lV2lkdGggKiAoNiAvIDcpKSxcbiAgICAgIC8vIDF3ZWVrID0gN2RheXMsIDFtb250aCA9IDZ3ZWVrc1xuICBkYXRhO1xuXG4gIGlmICh0aGlzLmNvbmZpZy5kaW1lbnNpb25zLmhlaWdodCkge1xuICAgIGZyYW1lSGVpZ2h0ID0gVS5udW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5oZWlnaHQpIC0gVS5udW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5jb2xIZWFkSGVpZ2h0KTtcbiAgfVxuXG4gIGl0ZW1TdHlsZXNbJ2hlaWdodCddID0gTWF0aC5mbG9vcihmcmFtZUhlaWdodCAvIDYpIC0gVS5udW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5pdGVtUGFkZGluZykgKiAyICsgJ3B4JztcbiAgaXRlbVN0eWxlc1snbGluZS1oZWlnaHQnXSA9IGl0ZW1TdHlsZXNbJ2hlaWdodCddO1xuICBpdGVtU3R5bGVzWydwYWRkaW5nJ10gPSBVLmNzc051bWJlcih0aGlzLmNvbmZpZy5kaW1lbnNpb25zLml0ZW1QYWRkaW5nKTtcblxuICBkYXRhID0ge1xuICAgIHdlZWtOYW1lczogW10uY29uY2F0KGluZm8ud2Vla05hbWVzKSxcbiAgICBsaXN0OiBbXVxuICB9O1xuXG4gIGlmICh0aGlzLmNvbmZpZy5zdGFydE9mV2Vlaykge1xuICAgIGRhdGEud2Vla05hbWVzID0gZGF0YS53ZWVrTmFtZXMuY29uY2F0KGRhdGEud2Vla05hbWVzLnNsaWNlKDAsIHRoaXMuY29uZmlnLnN0YXJ0T2ZXZWVrKSkuc3BsaWNlKHRoaXMuY29uZmlnLnN0YXJ0T2ZXZWVrKTtcbiAgfVxuXG4gIGRhdGEud2Vla05hbWVzLmZvckVhY2gobiA9PiB7XG4gICAgbi5jb2xIZWFkSGVpZ2h0ID0gVS5jc3NOdW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5jb2xIZWFkSGVpZ2h0KTtcbiAgfSk7XG5cbiAgbG9vcERhdGUgPSB0YWJsZVN0YXJ0RGF0ZTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgNikge1xuICAgIGsgPSAwO1xuICAgIHdoaWxlIChrIDwgNykge1xuICAgICAgX2sgPSAoNyArIChrIC0gdGhpcy5jb25maWcuc3RhcnRPZldlZWspKSAlIDc7XG4gICAgICBsZXQgdGhpc0RhdGUgPSAnJyArIFUuZGF0ZShsb29wRGF0ZSwgeyBcInJldHVyblwiOiB0aGlzLmNvbmZpZy5kYXRlRm9ybWF0IH0pLFxuICAgICAgICAgIF9kYXRlID0ge1xuICAgICAgICAncm93JzogaSxcbiAgICAgICAgJ2NvbCc6IGssXG4gICAgICAgIGlzU3RhcnRPZldlZWs6IGsgPT0gMCxcbiAgICAgICAgdGhpc0RhdGU6ICcnICsgdGhpc0RhdGUsXG4gICAgICAgIHRoaXNEYXRhTGFiZWw6IHRoaXMuY29uZmlnLmxhbmcuZGF5VG1wbC5yZXBsYWNlKCclcycsIGxvb3BEYXRlLmdldERhdGUoKSksXG4gICAgICAgIGl0ZW1TdHlsZXM6IFUuY3NzKGl0ZW1TdHlsZXMpLFxuICAgICAgICBhZGRDbGFzczogKCgpID0+IHtcbiAgICAgICAgICBsZXQgY2xhc3NOYW1lcyA9IFwiXCI7XG5cbiAgICAgICAgICBpZiAodGhpcy5jb25maWcuc2VsZWN0YWJsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0YWJsZU1hcFt0aGlzRGF0ZV0pIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lcyArPSBsb29wRGF0ZS5nZXRNb250aCgpID09IHRoaXNNb250aCA/IFwiIGxpdmVcIiA6IFwiXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjbGFzc05hbWVzICs9IFwiIGRpc2FibGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxvb3BEYXRlLmdldE1vbnRoKCkgPT0gdGhpc01vbnRoKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzRGF0ZSA9PSBVLmRhdGUoX3RvZGF5LCB7IFwicmV0dXJuXCI6IFwieXl5eU1NZGRcIiB9KSkge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgKz0gXCIgZm9jdXNcIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWVzICs9IFwiIGxpdmVcIjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChsb29wRGF0ZS5nZXREYXkoKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lcyArPSBcIiBzdW5kYXlcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobG9vcERhdGUuZ2V0RGF5KCkgPT0gNikge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgKz0gXCIgc2F0dXJkYXlcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjbGFzc05hbWVzO1xuICAgICAgICB9KSgpICsgJyAnICsgKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXJrZXJNYXBbdGhpc0RhdGVdID8gdGhpcy5tYXJrZXJNYXBbdGhpc0RhdGVdLnRoZW1lIHx8IHRoaXMuY29uZmlnLmRlZmF1bHRNYXJrZXJUaGVtZSA6ICcnO1xuICAgICAgICB9KSgpICsgJyAnICsgKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25NYXBbdGhpc0RhdGVdID8gXCJzZWxlY3RlZC1kYXlcIiA6ICcnO1xuICAgICAgICB9KSgpXG4gICAgICB9O1xuICAgICAgZGF0YS5saXN0LnB1c2goX2RhdGUpO1xuXG4gICAgICBrKys7XG4gICAgICBsb29wRGF0ZSA9IFUuZGF0ZShsb29wRGF0ZSwgeyBhZGQ6IHsgZDogMSB9IH0pO1xuXG4gICAgICB0aGlzRGF0ZSA9IG51bGw7XG4gICAgICBfZGF0ZSA9IG51bGw7XG4gICAgfVxuICAgIGkrKztcbiAgfVxuXG4gIHRoaXMuJFtcImJvZHlcIl0uaHRtbChtdXN0YWNoZS5yZW5kZXIodG1wbC5kYXkuY2FsbCh0aGlzKSwgZGF0YSkpLm9mZih0aGlzLmNvbmZpZy5jbGlja0V2ZW50TmFtZSkub24odGhpcy5jb25maWcuY2xpY2tFdmVudE5hbWUsICdbZGF0YS1jYWxlbmRhci1pdGVtLWRhdGVdJywgZSA9PiB7XG4gICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgIG9uY2xpY2suY2FsbCh0aGlzLCBlLCAnZGF0ZScpO1xuICAgIFUuc3RvcEV2ZW50KGUpO1xuICB9KTtcblxuICB0aGlzLnByaW50ZWREYXkgPSB7XG4gICAgc3RhcnQ6IHRhYmxlU3RhcnREYXRlLCBlbmQ6IGxvb3BEYXRlXG4gIH07XG5cbiAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBudWxsLCB7XG4gICAgc2VsZjogdGhpcyxcbiAgICBhY3Rpb246IFwicHJpbnREYXlcIixcbiAgICBwcmludGVkRGF5OiB0aGlzLnByaW50ZWREYXlcbiAgfSk7XG4gIHNldERpc3BsYXkuY2FsbCh0aGlzKTtcblxuICBkb3REYXRlID0gbnVsbDtcbiAgbW9udGhTdHJhdERhdGUgPSBudWxsO1xuICBfdG9kYXkgPSBudWxsO1xuICB0YWJsZVN0YXJ0RGF0ZSA9IG51bGw7XG4gIGxvb3BEYXRlID0gbnVsbDtcbiAgdGhpc01vbnRoID0gbnVsbDtcbiAgaXRlbVN0eWxlcyA9IG51bGw7XG4gIGkgPSBudWxsO1xuICBrID0gbnVsbDtcbiAgZnJhbWVXaWR0aCA9IG51bGw7XG4gIGZyYW1lSGVpZ2h0ID0gbnVsbDtcbiAgZGF0YSA9IG51bGw7XG59O1xuY29uc3QgcHJpbnRNb250aCA9IGZ1bmN0aW9uIChub3dEYXRlKSB7XG4gIGxldCBkb3REYXRlID0gVS5kYXRlKG5vd0RhdGUpLFxuICAgICAgbk1vbnRoID0gZG90RGF0ZS5nZXRNb250aCgpLFxuICAgICAgaXRlbVN0eWxlcyA9IHt9LFxuICAgICAgaSxcbiAgICAgIGssXG4gICAgICBtLFxuICAgICAgdGFibGVTdGFydE1vbnRoLFxuICAgICAgZnJhbWVXaWR0aCA9IHRoaXMuJFtcImJvZHlcIl0ud2lkdGgoKSxcbiAgICAgIGZyYW1lSGVpZ2h0ID0gTWF0aC5mbG9vcihmcmFtZVdpZHRoICogKDYgLyA3KSksXG4gICAgICBkYXRhO1xuXG4gIGlmICh0aGlzLmNvbmZpZy5kaW1lbnNpb25zLmhlaWdodCkge1xuICAgIGZyYW1lSGVpZ2h0ID0gVS5udW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5oZWlnaHQpIC0gVS5udW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5jb2xIZWFkSGVpZ2h0KTtcbiAgfVxuXG4gIGl0ZW1TdHlsZXNbJ2hlaWdodCddID0gTWF0aC5mbG9vcihmcmFtZUhlaWdodCAvIDQpIC0gVS5udW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5pdGVtUGFkZGluZykgKiAyICsgJ3B4JztcbiAgaXRlbVN0eWxlc1snbGluZS1oZWlnaHQnXSA9IGl0ZW1TdHlsZXNbJ2hlaWdodCddO1xuICBpdGVtU3R5bGVzWydwYWRkaW5nJ10gPSBVLmNzc051bWJlcih0aGlzLmNvbmZpZy5kaW1lbnNpb25zLml0ZW1QYWRkaW5nKTtcblxuICBkYXRhID0ge1xuICAgIGNvbEhlYWRIZWlnaHQ6IFUuY3NzTnVtYmVyKHRoaXMuY29uZmlnLmRpbWVuc2lvbnMuY29sSGVhZEhlaWdodCksXG4gICAgY29sSGVhZExhYmVsOiB0aGlzLmNvbmZpZy5sYW5nLm1vbnRoSGVhZGluZyxcbiAgICBsaXN0OiBbXVxuICB9O1xuXG4gIHRhYmxlU3RhcnRNb250aCA9IDA7XG4gIG0gPSAwO1xuICBpID0gMDtcbiAgd2hpbGUgKGkgPCA0KSB7XG4gICAgayA9IDA7XG4gICAgd2hpbGUgKGsgPCAzKSB7XG4gICAgICBsZXQgX21vbnRoID0ge1xuICAgICAgICByb3c6IGksXG4gICAgICAgIGNvbDogayxcbiAgICAgICAgaXNTdGFydE9mUm93OiBrID09IDAsXG4gICAgICAgIHRoaXNNb250aDogZG90RGF0ZS5nZXRGdWxsWWVhcigpICsgJy0nICsgVS5zZXREaWdpdChtICsgMSwgMikgKyAnLScgKyBVLnNldERpZ2l0KGRvdERhdGUuZ2V0RGF0ZSgpLCAyKSxcbiAgICAgICAgdGhpc01vbnRoTGFiZWw6IHRoaXMuY29uZmlnLmxhbmcubW9udGhzW21dLFxuICAgICAgICBpdGVtU3R5bGVzOiBVLmNzcyhpdGVtU3R5bGVzKSxcbiAgICAgICAgYWRkQ2xhc3M6ICgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGFibGVNYXBbbV0gPyAnbGl2ZScgOiAnZGlzYWJsZSc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnbGl2ZSc7XG4gICAgICAgICAgfVxuICAgICAgICB9KSgpICsgJyAnICsgKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gbSA9PSBuTW9udGggPyBcImZvY3VzXCIgOiBcIlwiO1xuICAgICAgICB9KSgpICsgJyAnICsgKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXJrZXJNYXBbbV0gPyB0aGlzLm1hcmtlck1hcFttXS50aGVtZSB8fCB0aGlzLmNvbmZpZy5kZWZhdWx0TWFya2VyVGhlbWUgOiAnJztcbiAgICAgICAgfSkoKVxuICAgICAgfTtcbiAgICAgIGRhdGEubGlzdC5wdXNoKF9tb250aCk7XG4gICAgICBtKys7XG4gICAgICBrKys7XG4gICAgICBfbW9udGggPSBudWxsO1xuICAgIH1cbiAgICBpKys7XG4gIH1cblxuICB0aGlzLiRbXCJib2R5XCJdLmh0bWwobXVzdGFjaGUucmVuZGVyKHRtcGwubW9udGguY2FsbCh0aGlzKSwgZGF0YSkpLm9mZih0aGlzLmNvbmZpZy5jbGlja0V2ZW50TmFtZSkub24odGhpcy5jb25maWcuY2xpY2tFdmVudE5hbWUsICdbZGF0YS1jYWxlbmRhci1pdGVtLW1vbnRoXScsIGUgPT4ge1xuICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICBvbmNsaWNrLmNhbGwodGhpcywgZSwgJ21vbnRoJyk7XG4gICAgVS5zdG9wRXZlbnQoZSk7XG4gIH0pO1xuXG4gIHRoaXMucHJpbnRlZERheSA9IHtcbiAgICBzdGFydDogZG90RGF0ZS5nZXRGdWxsWWVhcigpICsgJy0nICsgVS5zZXREaWdpdCh0YWJsZVN0YXJ0TW9udGggKyAxLCAyKSxcbiAgICBlbmQ6IGRvdERhdGUuZ2V0RnVsbFllYXIoKSArICctJyArIFUuc2V0RGlnaXQobSwgMilcbiAgfTtcblxuICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIG51bGwsIHtcbiAgICBzZWxmOiB0aGlzLFxuICAgIGFjdGlvbjogXCJwcmludE1vbnRoXCIsXG4gICAgcHJpbnRlZERheTogdGhpcy5wcmludGVkRGF5XG4gIH0pO1xuICBzZXREaXNwbGF5LmNhbGwodGhpcyk7XG5cbiAgZG90RGF0ZSA9IG51bGw7XG4gIG5Nb250aCA9IG51bGw7XG4gIGl0ZW1TdHlsZXMgPSBudWxsO1xuICBpID0gbnVsbDtcbiAgayA9IG51bGw7XG4gIG0gPSBudWxsO1xuICB0YWJsZVN0YXJ0TW9udGggPSBudWxsO1xuICBmcmFtZVdpZHRoID0gbnVsbDtcbiAgZnJhbWVIZWlnaHQgPSBudWxsO1xuICBkYXRhID0gbnVsbDtcbn07XG5jb25zdCBwcmludFllYXIgPSBmdW5jdGlvbiAobm93RGF0ZSkge1xuICBsZXQgZG90RGF0ZSA9IFUuZGF0ZShub3dEYXRlKSxcbiAgICAgIG5ZZWFyID0gZG90RGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgaXRlbVN0eWxlcyA9IHt9LFxuICAgICAgaSxcbiAgICAgIGssXG4gICAgICB5LFxuICAgICAgdGFibGVTdGFydFllYXIsXG4gICAgICBmcmFtZVdpZHRoID0gdGhpcy4kW1wiYm9keVwiXS53aWR0aCgpLFxuICAgICAgZnJhbWVIZWlnaHQgPSBNYXRoLmZsb29yKGZyYW1lV2lkdGggKiAoNiAvIDcpKSxcbiAgICAgIGRhdGE7XG5cbiAgaWYgKHRoaXMuY29uZmlnLmRpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgZnJhbWVIZWlnaHQgPSBVLm51bWJlcih0aGlzLmNvbmZpZy5kaW1lbnNpb25zLmhlaWdodCkgLSBVLm51bWJlcih0aGlzLmNvbmZpZy5kaW1lbnNpb25zLmNvbEhlYWRIZWlnaHQpO1xuICB9XG5cbiAgaXRlbVN0eWxlc1snaGVpZ2h0J10gPSBNYXRoLmZsb29yKGZyYW1lSGVpZ2h0IC8gNSkgLSBVLm51bWJlcih0aGlzLmNvbmZpZy5kaW1lbnNpb25zLml0ZW1QYWRkaW5nKSAqIDIgKyAncHgnO1xuICBpdGVtU3R5bGVzWydsaW5lLWhlaWdodCddID0gaXRlbVN0eWxlc1snaGVpZ2h0J107XG4gIGl0ZW1TdHlsZXNbJ3BhZGRpbmcnXSA9IFUuY3NzTnVtYmVyKHRoaXMuY29uZmlnLmRpbWVuc2lvbnMuaXRlbVBhZGRpbmcpO1xuXG4gIGRhdGEgPSB7XG4gICAgY29sSGVhZEhlaWdodDogVS5jc3NOdW1iZXIodGhpcy5jb25maWcuZGltZW5zaW9ucy5jb2xIZWFkSGVpZ2h0KSxcbiAgICBjb2xIZWFkTGFiZWw6IHRoaXMuY29uZmlnLmxhbmcueWVhckhlYWRpbmcsXG4gICAgbGlzdDogW11cbiAgfTtcblxuICB0YWJsZVN0YXJ0WWVhciA9IG5ZZWFyIC0gMTA7XG4gIHkgPSBuWWVhciAtIDEwO1xuICBpID0gMDtcbiAgd2hpbGUgKGkgPCA1KSB7XG4gICAgayA9IDA7XG4gICAgd2hpbGUgKGsgPCA0KSB7XG4gICAgICBsZXQgX3llYXIgPSB7XG4gICAgICAgIHJvdzogaSxcbiAgICAgICAgY29sOiBrLFxuICAgICAgICBpc1N0YXJ0T2ZSb3c6IGsgPT0gMCxcbiAgICAgICAgdGhpc1llYXI6IHkgKyAnLScgKyBVLnNldERpZ2l0KGRvdERhdGUuZ2V0TW9udGgoKSArIDEsIDIpICsgJy0nICsgVS5zZXREaWdpdChkb3REYXRlLmdldERhdGUoKSwgMiksXG4gICAgICAgIHRoaXNZZWFyTGFiZWw6IHRoaXMuY29uZmlnLmxhbmcueWVhclRtcGwucmVwbGFjZSgnJXMnLCB5KSxcbiAgICAgICAgaXRlbVN0eWxlczogVS5jc3MoaXRlbVN0eWxlcyksXG4gICAgICAgIGFkZENsYXNzOiAoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RhYmxlTWFwW3ldID8gJ2xpdmUnIDogJ2Rpc2FibGUnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ2xpdmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkoKSArICcgJyArICgoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHkgPT0gblllYXIgPyBcImZvY3VzXCIgOiBcIlwiO1xuICAgICAgICB9KSgpICsgJyAnICsgKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RhYmxlTWFwW3ldID8gdGhpcy5zZWxlY3RhYmxlTWFwW3ldLnRoZW1lIHx8IHRoaXMuY29uZmlnLmRlZmF1bHRNYXJrZXJUaGVtZSA6ICcnO1xuICAgICAgICB9KSgpXG4gICAgICB9O1xuICAgICAgZGF0YS5saXN0LnB1c2goX3llYXIpO1xuICAgICAgeSsrO1xuICAgICAgaysrO1xuICAgICAgX3llYXIgPSBudWxsO1xuICAgIH1cbiAgICBpKys7XG4gIH1cblxuICB0aGlzLiRbXCJib2R5XCJdLmh0bWwobXVzdGFjaGUucmVuZGVyKHRtcGwueWVhci5jYWxsKHRoaXMpLCBkYXRhKSkub2ZmKHRoaXMuY29uZmlnLmNsaWNrRXZlbnROYW1lKS5vbih0aGlzLmNvbmZpZy5jbGlja0V2ZW50TmFtZSwgJ1tkYXRhLWNhbGVuZGFyLWl0ZW0teWVhcl0nLCBlID0+IHtcbiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgb25jbGljay5jYWxsKHRoaXMsIGUsICd5ZWFyJyk7XG4gICAgVS5zdG9wRXZlbnQoZSk7XG4gIH0pO1xuXG4gIHRoaXMucHJpbnRlZERheSA9IHtcbiAgICBzdGFydDogdGFibGVTdGFydFllYXIsIGVuZDogeSAtIDFcbiAgfTtcblxuICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIG51bGwsIHtcbiAgICBzZWxmOiB0aGlzLFxuICAgIGFjdGlvbjogXCJwcmludFllYXJcIixcbiAgICBwcmludGVkRGF5OiB0aGlzLnByaW50ZWREYXlcbiAgfSk7XG4gIHNldERpc3BsYXkuY2FsbCh0aGlzKTtcblxuICBkb3REYXRlID0gbnVsbDtcbiAgblllYXIgPSBudWxsO1xuICBpdGVtU3R5bGVzID0gbnVsbDtcbiAgaSA9IG51bGw7XG4gIGsgPSBudWxsO1xuICB5ID0gbnVsbDtcbiAgdGFibGVTdGFydFllYXIgPSBudWxsO1xuICBmcmFtZVdpZHRoID0gbnVsbDtcbiAgZnJhbWVIZWlnaHQgPSBudWxsO1xuICBkYXRhID0gbnVsbDtcbn07XG5jb25zdCBvbmNsaWNrID0gZnVuY3Rpb24gKGUsIG1vZGUsIHRhcmdldCwgdmFsdWUpIHtcbiAgbGV0IHJlbW92ZWQsIGR0LCBzZWxlY3RhYmxlO1xuXG4gIG1vZGUgPSBtb2RlIHx8IFwiZGF0ZVwiO1xuICB0YXJnZXQgPSBVLmZpbmRQYXJlbnROb2RlKGUudGFyZ2V0LCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNhbGVuZGFyLWl0ZW0tXCIgKyBtb2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbiAgaWYgKHRhcmdldCkge1xuICAgIHZhbHVlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtY2FsZW5kYXItaXRlbS1cIiArIG1vZGUpO1xuXG4gICAgZHQgPSBVLmRhdGUodmFsdWUsIHsgXCJyZXR1cm5cIjogdGhpcy5jb25maWcuZGF0ZUZvcm1hdCB9KTtcbiAgICBzZWxlY3RhYmxlID0gdHJ1ZTtcbiAgICB0aGlzLnNlbGVjdGFibGVDb3VudCA9IHRoaXMuY29uZmlnLm11bHRpcGxlU2VsZWN0ID8gVS5pc051bWJlcih0aGlzLmNvbmZpZy5tdWx0aXBsZVNlbGVjdCkgPyB0aGlzLmNvbmZpZy5tdWx0aXBsZVNlbGVjdCA6IDIgOiAxO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdGFibGUpIHtcbiAgICAgIGlmICghdGhpcy5zZWxlY3RhYmxlTWFwW2R0XSkgc2VsZWN0YWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChtb2RlID09IFwiZGF0ZVwiKSB7XG4gICAgICBpZiAoc2VsZWN0YWJsZSkge1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5sZW5ndGggPj0gdGhpcy5zZWxlY3RhYmxlQ291bnQpIHtcbiAgICAgICAgICByZW1vdmVkID0gdGhpcy5zZWxlY3Rpb24uc3BsaWNlKDAsIHRoaXMuc2VsZWN0aW9uLmxlbmd0aCAtICh0aGlzLnNlbGVjdGFibGVDb3VudCAtIDEpKTtcbiAgICAgICAgICByZW1vdmVkLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICB0aGlzLiRbXCJib2R5XCJdLmZpbmQoJ1tkYXRhLWNhbGVuZGFyLWl0ZW0tZGF0ZT1cIicgKyBVLmRhdGUoZCwgeyBcInJldHVyblwiOiB0aGlzLmNvbmZpZy5kYXRlRm9ybWF0IH0pICsgJ1wiXScpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWQtZGF5XCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgalF1ZXJ5KHRhcmdldCkuYWRkQ2xhc3MoXCJzZWxlY3RlZC1kYXlcIik7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2godmFsdWUpO1xuXG4gICAgICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgICAgICB0aGlzLm9uQ2xpY2suY2FsbCh7XG4gICAgICAgICAgICBzZWxmOiB0aGlzLCBkYXRlOiB2YWx1ZSwgdGFyZ2V0OiB0aGlzLnRhcmdldCwgZGF0ZUVsZW1lbnQ6IHRhcmdldFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtb2RlID09IFwibW9udGhcIikge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdE1vZGUgPT0gXCJtb250aFwiKSB7XG4gICAgICAgIGlmIChzZWxlY3RhYmxlKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmxlbmd0aCA+PSB0aGlzLnNlbGVjdGFibGVDb3VudCkge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IHRoaXMuc2VsZWN0aW9uLnNwbGljZSgwLCB0aGlzLnNlbGVjdGlvbi5sZW5ndGggLSAodGhpcy5zZWxlY3RhYmxlQ291bnQgLSAxKSk7XG4gICAgICAgICAgICByZW1vdmVkLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuJFtcImJvZHlcIl0uZmluZCgnW2RhdGEtY2FsZW5kYXItaXRlbS1tb250aD1cIicgKyBVLmRhdGUoZCwgeyBcInJldHVyblwiOiAneXl5eS1NTS1kZCcgfSkgKyAnXCJdJykucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZC1tb250aFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLmFkZENsYXNzKFwic2VsZWN0ZWQtbW9udGhcIik7XG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaCh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodGhpcy5vbkNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2suY2FsbCh7XG4gICAgICAgICAgICAgIHNlbGY6IHRoaXMsIGRhdGU6IHZhbHVlLCB0YXJnZXQ6IHRoaXMudGFyZ2V0LCBkYXRlRWxlbWVudDogdGFyZ2V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTW9kZShcImRheVwiLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtb2RlID09IFwieWVhclwiKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuc2VsZWN0TW9kZSA9PSBcInllYXJcIikge1xuICAgICAgICBpZiAoc2VsZWN0YWJsZSkge1xuICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5sZW5ndGggPj0gdGhpcy5zZWxlY3RhYmxlQ291bnQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLnNlbGVjdGlvbi5zcGxpY2UoMCwgdGhpcy5zZWxlY3Rpb24ubGVuZ3RoIC0gKHRoaXMuc2VsZWN0YWJsZUNvdW50IC0gMSkpO1xuICAgICAgICAgICAgcmVtb3ZlZC5mb3JFYWNoKGQgPT4ge1xuICAgICAgICAgICAgICB0aGlzLiRbXCJib2R5XCJdLmZpbmQoJ1tkYXRhLWNhbGVuZGFyLWl0ZW0teWVhcj1cIicgKyBVLmRhdGUoZCwgeyBcInJldHVyblwiOiAneXl5eS1NTS1kZCcgfSkgKyAnXCJdJykucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZC15ZWFyXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgalF1ZXJ5KHRhcmdldCkuYWRkQ2xhc3MoXCJzZWxlY3RlZC15ZWFyXCIpO1xuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2godmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHRoaXMub25DbGljaykge1xuICAgICAgICAgICAgdGhpcy5vbkNsaWNrLmNhbGwoe1xuICAgICAgICAgICAgICBzZWxmOiB0aGlzLCBkYXRlOiB2YWx1ZSwgdGFyZ2V0OiB0aGlzLnRhcmdldCwgZGF0ZUVsZW1lbnQ6IHRhcmdldFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNoYW5nZU1vZGUoXCJtb250aFwiLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbW9kZSA9IG51bGw7XG4gIHRhcmdldCA9IG51bGw7XG4gIHZhbHVlID0gbnVsbDtcbiAgcmVtb3ZlZCA9IG51bGw7XG4gIGR0ID0gbnVsbDtcbiAgc2VsZWN0YWJsZSA9IG51bGw7XG59O1xuY29uc3QgbW92ZSA9IGZ1bmN0aW9uIChlLCB0YXJnZXQsIHZhbHVlKSB7XG4gIHRhcmdldCA9IFUuZmluZFBhcmVudE5vZGUoZS50YXJnZXQsIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtY2FsZW5kYXItbW92ZVwiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbiAgaWYgKHRhcmdldCkge1xuICAgIHZhbHVlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtY2FsZW5kYXItbW92ZVwiKTtcbiAgICBpZiAodGhpcy5jb25maWcubW9kZSA9PSBcImRheVwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT0gXCJkXCIpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBcImxlZnRcIikge1xuICAgICAgICB0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSA9IFUuZGF0ZSh0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSwgeyBhZGQ6IHsgbTogLTEgfSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlID0gVS5kYXRlKHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlLCB7IGFkZDogeyBtOiAxIH0gfSk7XG4gICAgICB9XG4gICAgICBwcmludERheS5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29uZmlnLm1vZGUgPT0gXCJtb250aFwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT0gXCJtXCIpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBcImxlZnRcIikge1xuICAgICAgICB0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSA9IFUuZGF0ZSh0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSwgeyBhZGQ6IHsgeTogLTEgfSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlID0gVS5kYXRlKHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlLCB7IGFkZDogeyB5OiAxIH0gfSk7XG4gICAgICB9XG4gICAgICBwcmludE1vbnRoLmNhbGwodGhpcywgdGhpcy5jb25maWcuZGlzcGxheURhdGUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubW9kZSA9PSBcInllYXJcIiB8fCB0aGlzLmNvbmZpZy5tb2RlID09IFwieVwiKSB7XG4gICAgICBpZiAodmFsdWUgPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgdGhpcy5jb25maWcuZGlzcGxheURhdGUgPSBVLmRhdGUodGhpcy5jb25maWcuZGlzcGxheURhdGUsIHsgYWRkOiB7IHk6IC0xMCB9IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb25maWcuZGlzcGxheURhdGUgPSBVLmRhdGUodGhpcy5jb25maWcuZGlzcGxheURhdGUsIHsgYWRkOiB7IHk6IDEwIH0gfSk7XG4gICAgICB9XG4gICAgICBwcmludFllYXIuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgdGFyZ2V0ID0gbnVsbDtcbiAgdmFsdWUgPSBudWxsO1xufTtcbmNvbnN0IGFwcGx5TWFya2VyTWFwID0gZnVuY3Rpb24gKCkge1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5jb25maWcubW9kZSA9PT0gXCJkYXlcIiB8fCB0aGlzLmNvbmZpZy5tb2RlID09PSBcImRcIikge1xuICAgICAgZm9yIChsZXQgayBpbiB0aGlzLm1hcmtlck1hcCkge1xuICAgICAgICB0aGlzLiRbXCJib2R5XCJdLmZpbmQoJ1tkYXRhLWNhbGVuZGFyLWl0ZW0tZGF0ZT1cIicgKyBrICsgJ1wiXScpLmFkZENsYXNzKHRoaXMubWFya2VyTWFwW2tdLnRoZW1lIHx8IHRoaXMuY29uZmlnLmRlZmF1bHRNYXJrZXJUaGVtZSk7XG4gICAgICB9XG4gICAgfVxuICB9LmJpbmQodGhpcykpO1xufTtcbmNvbnN0IGFwcGx5U2VsZWN0aW9uTWFwID0gZnVuY3Rpb24gKCkge1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGxldCBrIGluIHRoaXMuc2VsZWN0aW9uTWFwKSB7XG4gICAgICB0aGlzLiRbXCJib2R5XCJdLmZpbmQoJ1tkYXRhLWNhbGVuZGFyLWl0ZW0tZGF0ZT1cIicgKyBrICsgJ1wiXScpLmFkZENsYXNzKFwic2VsZWN0ZWQtZGF5XCIpO1xuICAgIH1cbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5jb25zdCBhcHBseVBlcmlvZE1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLm1vZGUgPT09IFwiZGF5XCIgfHwgdGhpcy5jb25maWcubW9kZSA9PT0gXCJkXCIpIHtcbiAgICAgIGZvciAobGV0IGsgaW4gdGhpcy5wZXJpb2RNYXApIHtcbiAgICAgICAgaWYgKHRoaXMucGVyaW9kTWFwW2tdLmxhYmVsKSB7XG4gICAgICAgICAgdGhpcy4kW1wiYm9keVwiXS5maW5kKCdbZGF0YS1jYWxlbmRhci1pdGVtLWRhdGU9XCInICsgayArICdcIl0nKS5maW5kKFwiLmFkZG9uLWZvb3RlclwiKS5odG1sKHRoaXMucGVyaW9kTWFwW2tdLmxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRbXCJib2R5XCJdLmZpbmQoJ1tkYXRhLWNhbGVuZGFyLWl0ZW0tZGF0ZT1cIicgKyBrICsgJ1wiXScpLmFkZENsYXNzKHRoaXMucGVyaW9kTWFwW2tdLnRoZW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuY29uc3QgY2xlYXJQZXJpb2RNYXAgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNvbmZpZy5tb2RlID09PSBcImRheVwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT09IFwiZFwiKSB7XG4gICAgZm9yIChsZXQgayBpbiB0aGlzLnBlcmlvZE1hcCkge1xuICAgICAgdGhpcy4kW1wiYm9keVwiXS5maW5kKCdbZGF0YS1jYWxlbmRhci1pdGVtLWRhdGU9XCInICsgayArICdcIl0nKS5maW5kKFwiLmFkZG9uLWZvb3RlclwiKS5lbXB0eSgpO1xuICAgICAgdGhpcy4kW1wiYm9keVwiXS5maW5kKCdbZGF0YS1jYWxlbmRhci1pdGVtLWRhdGU9XCInICsgayArICdcIl0nKS5yZW1vdmVDbGFzcyh0aGlzLnBlcmlvZE1hcFtrXS50aGVtZSk7XG4gICAgfVxuICB9XG59O1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBwcml2YXRlICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBBWDZVSUNhbGVuZGFyIGV4dGVuZHMgQVg2VUlDb3JlIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbY29uZmlnLnRoZW1lID0gJ2RlZmF1bHQnXVxuICAgKiBAcGFyYW0geyEob2JqZWN0fHN0cmluZyl9IFtjb25maWcudGFyZ2V0XVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5hbmltYXRlVGltZSA9IDEwMF1cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NvbmZpZy5vblN0YXRlQ2hhbmdlZF1cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NvbmZpZy5vbkNsaWNrXVxuICAgKiBAcGFyYW0gW2NvbmZpZy5jb250ZW50XVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiB2YXIgbXlDYWxlbmRhciA9IG5ldyBBWDZVSUNhbGVuZGFyKCk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgY2xpY2tFdmVudE5hbWU6IFwiY2xpY2tcIixcbiAgICAgIHRoZW1lOiAnZGVmYXVsdCcsXG4gICAgICBzdGFydE9mV2VlazogMCxcbiAgICAgIG1vZGU6ICdkYXknLCAvLyBkYXl8bW9udGh8eWVhcixcbiAgICAgIGRhdGVGb3JtYXQ6ICd5eXl5LU1NLWRkJyxcbiAgICAgIGRpc3BsYXlEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgYW5pbWF0ZVRpbWU6IDEwMCxcbiAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgY29udHJvbEhlaWdodDogJzQwJyxcbiAgICAgICAgY29udHJvbEJ1dHRvbldpZHRoOiAnNDAnLFxuICAgICAgICBjb2xIZWFkSGVpZ2h0OiAnMzAnLFxuICAgICAgICBpdGVtUGFkZGluZzogMlxuICAgICAgfSxcbiAgICAgIGxhbmc6IHtcbiAgICAgICAgeWVhckhlYWRpbmc6IFwiQ2hvb3NlIHRoZSB5ZWFyXCIsXG4gICAgICAgIG1vbnRoSGVhZGluZzogXCJDaG9vc2UgdGhlIG1vbnRoXCIsXG4gICAgICAgIHllYXJUbXBsOiBcIiVzXCIsXG4gICAgICAgIG1vbnRoczogaW5mby5tb250aHMgfHwgWydKQU4nLCAnRkVCJywgJ01BUicsICdBUFInLCAnTUFZJywgJ0pVTicsICdKVUwnLCAnQVVHJywgJ1NFUCcsICdPQ1QnLCAnTk9WJywgJ0RFQyddLFxuICAgICAgICBkYXlUbXBsOiBcIiVzXCJcbiAgICAgIH0sXG4gICAgICBtdWx0aXBsZVNlbGVjdDogZmFsc2UsXG4gICAgICBzZWxlY3RNb2RlOiAnZGF5JyxcbiAgICAgIGRlZmF1bHRNYXJrZXJUaGVtZTogJ2hvbGlkYXknLFxuICAgICAgZGVmYXVsdFBlcmlvZFRoZW1lOiAncGVyaW9kJ1xuICAgIH07XG4gICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCB0aGlzLmNvbmZpZywgY29uZmlnKTtcblxuICAgIC8vIOuppOuyhCDrs4DsiJgg7LSI6riw7ZmUXG4gICAgdGhpcy4kdGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IFtdO1xuICAgIHRoaXMuc2VsZWN0aW9uTWFwID0ge307XG4gICAgdGhpcy5zZWxlY3RhYmxlTWFwID0ge307XG4gICAgdGhpcy5tYXJrZXJNYXAgPSB7fTtcbiAgICB0aGlzLnByaW50ZWREYXkgPSB7XG4gICAgICBzdGFydDogXCJcIiwgZW5kOiBcIlwiXG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdGFibGVDb3VudCA9IDE7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEFYNlVJQ2FsZW5kYXIuaW5pdFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBteUNhbGVuZGFyLmluaXQoKTtcbiAgICogYGBgXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQgPSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5jb25maWcub25DbGljaztcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25DbGljaztcblxuICAgIGlmICghdGhpcy5jb25maWcudGFyZ2V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2Y2FsZW5kYXJcIiwgXCI0MDFcIiwgXCJzZXRDb25maWdcIikpO1xuICAgIH1cbiAgICB0aGlzLiR0YXJnZXQgPSBqUXVlcnkodGhpcy5jb25maWcudGFyZ2V0KTtcbiAgICB0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSA9IFUuZGF0ZSh0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSk7XG5cbiAgICB0aGlzLiR0YXJnZXQuaHRtbChnZXRGcmFtZS5jYWxsKHRoaXMpKTtcblxuICAgIC8vIOu2gOyGjeyImOynkVxuICAgIHRoaXMuJCA9IHtcbiAgICAgIFwicm9vdFwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtY2FsZW5kYXItZWxzPVwicm9vdFwiXScpLFxuICAgICAgXCJjb250cm9sXCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1jYWxlbmRhci1lbHM9XCJjb250cm9sXCJdJyksXG4gICAgICBcImNvbnRyb2wtZGlzcGxheVwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtY2FsZW5kYXItZWxzPVwiY29udHJvbC1kaXNwbGF5XCJdJyksXG4gICAgICBcImJvZHlcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWNhbGVuZGFyLWVscz1cImJvZHlcIl0nKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jb25maWcuY29udHJvbCkge1xuICAgICAgdGhpcy4kW1wicm9vdFwiXS5vbih0aGlzLmNvbmZpZy5jbGlja0V2ZW50TmFtZSwgJ1tkYXRhLWNhbGVuZGFyLW1vdmVdJywgZSA9PiB7XG4gICAgICAgIG1vdmUuY2FsbCh0aGlzLCBlIHx8IHdpbmRvdy5ldmVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBjb2xsZWN0IHNlbGVjdGFibGVNYXBcbiAgICBpZiAodGhpcy5jb25maWcuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGlvbih0aGlzLmNvbmZpZy5zZWxlY3Rpb24sIGZhbHNlKTtcbiAgICB9XG4gICAgLy8gY29sbGVjdCBzZWxlY3RhYmxlTWFwXG4gICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdGFibGUpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0YWJsZSh0aGlzLmNvbmZpZy5zZWxlY3RhYmxlLCBmYWxzZSk7XG4gICAgfVxuICAgIC8vIGNvbGxlY3QgbWFya2VyTWFwXG4gICAgaWYgKHRoaXMuY29uZmlnLm1hcmtlcikge1xuICAgICAgdGhpcy5zZXRNYXJrZXIodGhpcy5jb25maWcubWFya2VyLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcubW9kZSA9PT0gXCJkYXlcIiB8fCB0aGlzLmNvbmZpZy5tb2RlID09PSBcImRcIikge1xuICAgICAgICBwcmludERheS5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubW9kZSA9PT0gXCJtb250aFwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT09IFwibVwiKSB7XG4gICAgICAgIHByaW50TW9udGguY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29uZmlnLm1vZGUgPT09IFwieWVhclwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT09IFwieVwiKSB7XG4gICAgICAgIHByaW50WWVhci5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlKTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgLy8gaW5pdCDtmLjstpwg7Jes67aAXG4gICAgdGhpcy5pbml0T25jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgQVg2VUlDYWxlbmRhci5pbml0T25jZVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBteUNhbGVuZGFyLmluaXRPbmNlKCk7XG4gICAqIGBgYFxuICAgKi9cbiAgaW5pdE9uY2UoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE91dHB1dHMgdG8gdGhlIHNjcmVlbiBpbiB0aGUgb3V0cHV0IG1vZGUgZGVmaW5lZCBpbiB0aGUgQ2FsZW5kYXIuIElmIHlvdSBwYXNzIGFuIGFyZ3VtZW50LCB5b3UgY2FuIGNoYW5nZSB0aGUgb3V0cHV0IG1vZGUgYW5kIG91dHB1dCByZWZlcmVuY2UgZGF0ZS5cbiAgICog7LqY66aw642U7J2YIOuqqOuTnOulvCDrs4Dqsr3tlanri4jri6QuXG4gICAqIEBtZXRob2QgQVg2VUlDYWxlbmRhci5jaGFuZ2VNb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gZGF5LCBkLCBtb250aCwgbSAsIHllYXIsIHlcbiAgICogQHBhcmFtIHsoRGF0ZXxzdHJpbmcpfSBbY2hhbmdlRGF0ZV1cbiAgICogQHJldHVybiB7QVg2VUlDYWxlbmRhcn1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogbXlDYWxlbmRhci5jaGFuZ2VNb2RlKFwieVwiKTtcbiAgICogbXlDYWxlbmRhci5jaGFuZ2VNb2RlKFwieWVhclwiKTtcbiAgICogbXlDYWxlbmRhci5jaGFuZ2VNb2RlKFwibW9udGhcIik7XG4gICAqIG15Q2FsZW5kYXIuY2hhbmdlTW9kZShcIm1cIik7XG4gICAqIG15Q2FsZW5kYXIuY2hhbmdlTW9kZShcImRheVwiKTtcbiAgICogbXlDYWxlbmRhci5jaGFuZ2VNb2RlKFwiZFwiKTtcbiAgICogYGBgXG4gICAqL1xuICBjaGFuZ2VNb2RlKG1vZGUsIGNoYW5nZURhdGUpIHtcbiAgICBpZiAodHlwZW9mIGNoYW5nZURhdGUgIT0gXCJ1bmRlZmluZWRcIikgdGhpcy5jb25maWcuZGlzcGxheURhdGUgPSBjaGFuZ2VEYXRlO1xuICAgIGlmIChtb2RlKSB0aGlzLmNvbmZpZy5tb2RlID0gbW9kZTtcblxuICAgIHRoaXMuJFtcImJvZHlcIl0ucmVtb3ZlQ2xhc3MoXCJmYWRlaW5cIikuYWRkQ2xhc3MoXCJmYWRlb3V0XCIpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5jb25maWcubW9kZSA9PSBcImRheVwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT0gXCJkXCIpIHtcbiAgICAgICAgcHJpbnREYXkuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5kaXNwbGF5RGF0ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29uZmlnLm1vZGUgPT0gXCJtb250aFwiIHx8IHRoaXMuY29uZmlnLm1vZGUgPT0gXCJtXCIpIHtcbiAgICAgICAgcHJpbnRNb250aC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubW9kZSA9PSBcInllYXJcIiB8fCB0aGlzLmNvbmZpZy5tb2RlID09IFwieVwiKSB7XG4gICAgICAgIHByaW50WWVhci5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmRpc3BsYXlEYXRlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJFtcImJvZHlcIl0ucmVtb3ZlQ2xhc3MoXCJmYWRlb3V0XCIpLmFkZENsYXNzKFwiZmFkZWluXCIpO1xuICAgIH0sIHRoaXMuY29uZmlnLmFuaW1hdGVUaW1lKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdG8gc3RhdGUgYSBkYXRlIGlzIHNlbGVjdGVkLCB3aGljaCBpcyBpbmNsdWRlZCBpbiB0aGUgc2VsZWN0aW9uLlxuICAgKiDsupjrprDrjZTsl5Ag7ZW064u57J287J6Q66W8IOyEoO2DneuQnCDsg4Htg5zroZwg7ISk7KCV7ZWp64uI64ukLlxuICAgKiBAbWV0aG9kIEFYNlVJQ2FsZW5kYXIuc2V0U2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1ByaW50XVxuICAgKiBAcmV0dXJuIHtBWDZVSUNhbGVuZGFyfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBteUNhbGVuZGFyLnNldFNlbGVjdGlvbihbbmV3IERhdGUoKV0pO1xuICAgKiBgYGBcbiAgICovXG4gIHNldFNlbGVjdGlvbihzZWxlY3Rpb24sIGlzUHJpbnQpIHtcbiAgICB0aGlzLnNlbGVjdGlvbk1hcCA9IHt9O1xuICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCBwcm9jZXNzb3IgPSB7XG4gICAgICAnYXJyJzogZnVuY3Rpb24gKHYsIG1hcCwgY291bnQpIHtcbiAgICAgICAgbWFwID0ge307XG4gICAgICAgIGlmICghVS5pc0FycmF5KHYpKSByZXR1cm4gbWFwO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHYgPSB2LnNwbGljZSgwLCBjb3VudCk7XG4gICAgICAgIHYuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICBpZiAoVS5pc0RhdGUobikpIG4gPSBVLmRhdGUobiwgeyAncmV0dXJuJzogdGhpcy5jb25maWcuZGF0ZUZvcm1hdCB9KTtcbiAgICAgICAgICBtYXBbbl0gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3RhYmxlQ291bnQgPSB0aGlzLmNvbmZpZy5tdWx0aXBsZVNlbGVjdCA/IFUuaXNOdW1iZXIodGhpcy5jb25maWcubXVsdGlwbGVTZWxlY3QpID8gdGhpcy5jb25maWcubXVsdGlwbGVTZWxlY3QgOiAyIDogMTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5zZWxlY3Rpb24gPSBzZWxlY3Rpb24pIHtcbiAgICAgIGlmIChVLmlzQXJyYXkoc2VsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBwcm9jZXNzb3IuYXJyLmNhbGwodGhpcywgc2VsZWN0aW9uLCB7fSwgdGhpcy5zZWxlY3RhYmxlQ291bnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY3Rpb25NYXAgPSBqUXVlcnkuZXh0ZW5kKHt9LCByZXN1bHQpO1xuICAgIC8vIOuzgOqyveuCtOyaqSDsoIHsmqntlZjsl6wg7Lac66ClXG5cbiAgICBpZiAoaXNQcmludCAhPT0gZmFsc2UpIGFwcGx5U2VsZWN0aW9uTWFwLmNhbGwodGhpcyk7XG5cbiAgICByZXN1bHQgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICog7LqY66aw642U7JeQ7IScIOyEoO2DneuQnCDsnbzsnpDrpbwg67CY7ZmY7ZWp64uI64ukLlxuICAgKiBAbWV0aG9kIEFYNlVJQ2FsZW5kYXIuZ2V0U2VsZWN0aW9uXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBteUNhbGVuZGFyLmdldFNlbGVjdGlvbigpO1xuICAgKiBgYGBcbiAgICovXG4gIGdldFNlbGVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBkYXRlIC8geWVhciAvIG1vbnRoIHRoYXQgY2FuIGJlIHNlbGVjdGVkIGZyb20gdGhlIENhbGVuZGFyLiBzZWxlY3RhYmxlIGlzLCBBcnJheSBhbmQgT2JqZWN0KHtmcm9tOiAnJywgdG86ICcnfSkgaXMgbWFkZSB1cCBvZi5cbiAgICog7LqY66aw642U7JeQIO2VtOuLueydvOyekOulvCDshKDtg53tlaAg7IiYIOyeiOuKlCDsg4Htg5zroZwg7ISk7KCV7ZWp64uI64ukLlxuICAgKiBAbWV0aG9kIEFYNlVJQ2FsZW5kYXIuc2V0U2VsZWN0YWJsZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzZWxlY3RhYmxlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzUHJpbnRdXG4gICAqIEByZXR1cm4ge0FYNlVJQ2FsZW5kYXJ9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIG15Q2FsZW5kYXIuc2V0U2VsZWN0YWJsZShbJzIwMTYtMDEtMDEnLCAuLi5dKTtcbiAgICogbXlDYWxlbmRhci5zZXRTZWxlY3RhYmxlKFtuZXcgRGF0ZSgpLCAuLi5dKTtcbiAgICogbXlDYWxlbmRhci5zZXRTZWxlY3RhYmxlKHsgcmFuZ2U6IFt7ZnJvbTogJzIwMTYtMDEtMDEnLCB0bzogJzIwMTYtMDEtMTAnfV0gfSk7XG4gICAqIG15Q2FsZW5kYXIuc2V0U2VsZWN0YWJsZSh7IHJhbmdlOiBbe2Zyb206IG5ldyBEYXRlKCksIHRvOiBuZXcgRGF0ZSgpfV0gfSk7XG4gICAqIG15Q2FsZW5kYXIuc2V0U2VsZWN0YWJsZSh7ICcyMDE2LTAxLTAxJzogdHJ1ZSwgJzIwMTYtMDEtMDInOiB0cnVlIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIHNldFNlbGVjdGFibGUoc2VsZWN0YWJsZSwgaXNQcmludCkge1xuICAgIHRoaXMuc2VsZWN0YWJsZU1hcCA9IHt9O1xuICAgIGxldCBrZXksXG4gICAgICAgIHJlc3VsdCA9IHt9O1xuICAgIGNvbnN0IHByb2Nlc3NvciA9IHtcbiAgICAgICdhcnInOiBmdW5jdGlvbiAodiwgbWFwKSB7XG4gICAgICAgIG1hcCA9IHt9O1xuICAgICAgICBpZiAoIVUuaXNBcnJheSh2KSkgcmV0dXJuIG1hcDtcbiAgICAgICAgdi5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgIGlmIChVLmlzRGF0ZShuKSkgbiA9IFUuZGF0ZShuLCB7ICdyZXR1cm4nOiB0aGlzLmNvbmZpZy5kYXRlRm9ybWF0IH0pO1xuICAgICAgICAgIG1hcFtuXSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfSxcbiAgICAgICdvYmonOiBmdW5jdGlvbiAodiwgbWFwKSB7XG4gICAgICAgIG1hcCA9IHt9O1xuICAgICAgICBpZiAoVS5pc0FycmF5KHYpKSByZXR1cm4gbWFwO1xuICAgICAgICBpZiAodi5yYW5nZSkgcmV0dXJuIG1hcDtcbiAgICAgICAgZm9yIChsZXQgayBpbiB2KSB7XG4gICAgICAgICAgbWFwW2tdID0gdltrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfSxcbiAgICAgICdyYW5nZSc6IGZ1bmN0aW9uICh2LCBtYXApIHtcbiAgICAgICAgbWFwID0ge307XG4gICAgICAgIGlmIChVLmlzQXJyYXkodikpIHJldHVybiBtYXA7XG4gICAgICAgIGlmICghdi5yYW5nZSkgcmV0dXJuIG1hcDtcblxuICAgICAgICB2LnJhbmdlLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgaWYgKFUuaXNEYXRlRm9ybWF0KG4uZnJvbSkgJiYgVS5pc0RhdGVGb3JtYXQobi50bykpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGQgPSBVLmRhdGUobi5mcm9tKTsgZCA8PSBVLmRhdGUobi50byk7IGQuc2V0RGF0ZShkLmdldERhdGUoKSArIDEpKSB7XG4gICAgICAgICAgICAgIG1hcFtVLmRhdGUoZCwgeyBcInJldHVyblwiOiB0aGlzLmNvbmZpZy5kYXRlRm9ybWF0IH0pXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBuLmZyb207IGkgPD0gbi50bzsgaSsrKSB7XG4gICAgICAgICAgICAgIG1hcFtpXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jb25maWcuc2VsZWN0YWJsZSA9IHNlbGVjdGFibGUpIHtcbiAgICAgIGlmIChVLmlzQXJyYXkoc2VsZWN0YWJsZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gcHJvY2Vzc29yLmFyci5jYWxsKHRoaXMsIHNlbGVjdGFibGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChrZXkgaW4gcHJvY2Vzc29yKSB7XG4gICAgICAgICAgaWYgKHNlbGVjdGFibGVba2V5XSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcHJvY2Vzc29yW2tleV0uY2FsbCh0aGlzLCBzZWxlY3RhYmxlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzdWx0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBwcm9jZXNzb3Iub2JqLmNhbGwodGhpcywgc2VsZWN0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjdGFibGVNYXAgPSByZXN1bHQ7XG4gICAgLy8g67OA6rK964K07JqpIOyggeyaqe2VmOyXrCDstpzroKVcbiAgICBpZiAoaXNQcmludCAhPT0gZmFsc2UpIHRoaXMuY2hhbmdlTW9kZSgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICog7LqY66aw642U7JeQIO2ctOydvOydhCDtkZzsi5ztlanri4jri6QuXG4gICAqIEBtZXRob2QgQVg2VUlDYWxlbmRhci5tYXJrZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0FwcGx5XVxuICAgKiBAcmV0dXJuIHtBWDZVSUNhbGVuZGFyfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBteUNhbGVuZGFyLnNldE1hcmtlcih7XG4gICAgICogJzIwMTYtMDItMDcnOiB7dGhlbWU6ICdob2xpZGF5JywgbGFiZWw6ICfshKTrgqAnfSxcbiAgICAgKiAnMjAxNi0wMi0wOCc6IHt0aGVtZTogJ2hvbGlkYXknLCBsYWJlbDogJ+yEpOuCoCd9LFxuICAgICAqICcyMDE2LTAyLTA5Jzoge3RoZW1lOiAnaG9saWRheScsIGxhYmVsOiAn7ISk64KgJ30sXG4gICAgICogJzIwMTYtMDItMTAnOiB7dGhlbWU6ICdob2xpZGF5JywgbGFiZWw6ICfrjIDssrTtnLTsnbwnfVxuICAgICAqICB9KTtcbiAgICogYGBgXG4gICAqL1xuICBzZXRNYXJrZXIobWFya2VyLCBpc0FwcGx5KSB7XG4gICAgdGhpcy5tYXJrZXJNYXAgPSB7fTtcbiAgICBsZXQga2V5LFxuICAgICAgICByZXN1bHQgPSB7fTtcbiAgICBjb25zdCBwcm9jZXNzb3IgPSB7XG4gICAgICAnb2JqJzogZnVuY3Rpb24gKHYsIG1hcCkge1xuICAgICAgICBtYXAgPSB7fTtcbiAgICAgICAgaWYgKFUuaXNBcnJheSh2KSkgcmV0dXJuIG1hcDtcbiAgICAgICAgaWYgKHYucmFuZ2UpIHJldHVybiBtYXA7XG4gICAgICAgIGZvciAobGV0IGsgaW4gdikge1xuICAgICAgICAgIG1hcFtrXSA9IHZba107XG4gICAgICAgIH1cblxuICAgICAgICB2ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH0sXG4gICAgICAncmFuZ2UnOiBmdW5jdGlvbiAodiwgbWFwKSB7XG4gICAgICAgIG1hcCA9IHt9O1xuICAgICAgICBpZiAoVS5pc0FycmF5KHYpKSByZXR1cm4gbWFwO1xuICAgICAgICBpZiAoIXYucmFuZ2UpIHJldHVybiBtYXA7XG5cbiAgICAgICAgdi5yYW5nZS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgIGlmIChVLmlzRGF0ZUZvcm1hdChuLmZyb20pICYmIFUuaXNEYXRlRm9ybWF0KG4udG8pKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkID0gVS5kYXRlKG4uZnJvbSk7IGQgPD0gVS5kYXRlKG4udG8pOyBkLnNldERhdGUoZC5nZXREYXRlKCkgKyAxKSkge1xuICAgICAgICAgICAgICBtYXBbVS5kYXRlKGQsIHsgXCJyZXR1cm5cIjogdGhpcy5jb25maWcuZGF0ZUZvcm1hdCB9KV0gPSB7IHRoZW1lOiBuLnRoZW1lLCBsYWJlbDogbi5sYWJlbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbi5mcm9tOyBpIDw9IG4udG87IGkrKykge1xuICAgICAgICAgICAgICBtYXBbaV0gPSB7IHRoZW1lOiBuLnRoZW1lLCBsYWJlbDogbi5sYWJlbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdiA9IG51bGw7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5tYXJrZXIgPSBtYXJrZXIpIHtcbiAgICAgIGZvciAoa2V5IGluIHByb2Nlc3Nvcikge1xuICAgICAgICBpZiAobWFya2VyW2tleV0pIHtcbiAgICAgICAgICByZXN1bHQgPSBwcm9jZXNzb3Jba2V5XS5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXN1bHQgPSBwcm9jZXNzb3Iub2JqLmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1hcmtlck1hcCA9IHJlc3VsdDtcbiAgICAvLyDrs4Dqsr3rgrTsmqkg7KCB7Jqp7ZWY7JesIOy2nOugpVxuICAgIGlmIChpc0FwcGx5ICE9PSBmYWxzZSkgYXBwbHlNYXJrZXJNYXAuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEFYNlVJQ2FsZW5kYXIuc2V0UGVyaW9kXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwZXJpb2RcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNBcHBseV1cbiAgICogQHJldHVybiB7QVg2VUlDYWxlbmRhcn1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogbXlDYWxlbmRhci5zZXRQZXJpb2Qoe1xuICAgICAqICByYW5nZTogW1xuICAgICAqICAgICAge2Zyb206ICcyMDE2LTA3LTA1JywgdG86ICcyMDE2LTA3LTA5JywgZnJvbUxhYmVsOiAn7Iuc7J6RJywgdG9MYWJlbDogJ+yiheujjCd9LFxuICAgICAqICAgICAge2Zyb206ICcyMDE2LTA3LTExJywgdG86ICcyMDE2LTA3LTE1JywgZnJvbUxhYmVsOiAn7Iuc7J6RJywgdG9MYWJlbDogJ+yiheujjCd9XG4gICAgICogIF1cbiAgICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBzZXRQZXJpb2QocGVyaW9kLCBpc0FwcGx5KSB7XG4gICAgbGV0IGtleSxcbiAgICAgICAgcmVzdWx0ID0ge307XG4gICAgY29uc3QgcHJvY2Vzc29yID0ge1xuICAgICAgJ3JhbmdlJzogZnVuY3Rpb24gKHYsIG1hcCkge1xuICAgICAgICBtYXAgPSB7fTtcbiAgICAgICAgaWYgKFUuaXNBcnJheSh2KSkgcmV0dXJuIG1hcDtcbiAgICAgICAgaWYgKCF2LnJhbmdlKSByZXR1cm4gbWFwO1xuXG4gICAgICAgIHYucmFuZ2UuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICBpZiAoVS5pc0RhdGVGb3JtYXQobi5mcm9tKSAmJiBVLmlzRGF0ZUZvcm1hdChuLnRvKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgZCA9IG5ldyBEYXRlKFUuZGF0ZShuLmZyb20pKTsgZCA8PSBVLmRhdGUobi50byk7IGQuc2V0RGF0ZShkLmdldERhdGUoKSArIDEpKSB7XG4gICAgICAgICAgICAgIGlmIChkLmdldFRpbWUoKSA9PSBVLmRhdGUobi5mcm9tKS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICBtYXBbVS5kYXRlKGQsIHsgXCJyZXR1cm5cIjogdGhpcy5jb25maWcuZGF0ZUZvcm1hdCB9KV0gPSB7XG4gICAgICAgICAgICAgICAgICB0aGVtZTogbi50aGVtZSB8fCB0aGlzLmNvbmZpZy5kZWZhdWx0UGVyaW9kVGhlbWUsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogbi5mcm9tTGFiZWxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGQuZ2V0VGltZSgpID09IFUuZGF0ZShuLnRvKS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICBtYXBbVS5kYXRlKGQsIHsgXCJyZXR1cm5cIjogdGhpcy5jb25maWcuZGF0ZUZvcm1hdCB9KV0gPSB7XG4gICAgICAgICAgICAgICAgICB0aGVtZTogbi50aGVtZSB8fCB0aGlzLmNvbmZpZy5kZWZhdWx0UGVyaW9kVGhlbWUsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogbi50b0xhYmVsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXBbVS5kYXRlKGQsIHsgXCJyZXR1cm5cIjogdGhpcy5jb25maWcuZGF0ZUZvcm1hdCB9KV0gPSB7IHRoZW1lOiBuLnRoZW1lIHx8IHRoaXMuY29uZmlnLmRlZmF1bHRQZXJpb2RUaGVtZSB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8g67OA6rK964K07JqpIOyggeyaqe2VmOyXrCDstpzroKVcbiAgICBpZiAoaXNBcHBseSAhPT0gZmFsc2UpIHtcbiAgICAgIGNsZWFyUGVyaW9kTWFwLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29uZmlnLnBlcmlvZCA9IHBlcmlvZCkge1xuICAgICAgcmVzdWx0ID0gcHJvY2Vzc29yLnJhbmdlLmNhbGwodGhpcywgcGVyaW9kKTtcbiAgICB9XG5cbiAgICB0aGlzLnBlcmlvZE1hcCA9IHJlc3VsdDtcblxuICAgIC8vIOuzgOqyveuCtOyaqSDsoIHsmqntlZjsl6wg7Lac66ClXG4gICAgaWYgKGlzQXBwbHkgIT09IGZhbHNlKSB7XG4gICAgICBhcHBseVBlcmlvZE1hcC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBWDZVSUNhbGVuZGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJQ2FsZW5kYXIuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgalF1ZXJ5IGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IFUgZnJvbSBcIi4uL0FYNlV0aWxcIjtcbmltcG9ydCBpbmZvIGZyb20gXCIuLi9BWDZJbmZvXCI7XG5pbXBvcnQgVVRJTCBmcm9tIFwiLi9BWDZVSUdyaWRfdXRpbFwiO1xuaW1wb3J0IEhFQURFUiBmcm9tIFwiLi9BWDZVSUdyaWRfaGVhZGVyXCI7XG5pbXBvcnQgQk9EWSBmcm9tIFwiLi9BWDZVSUdyaWRfYm9keVwiO1xuXG5sZXQgbW92ZW91dF90aW1lciA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG5jb25zdCBjb252ZXJ0U2Nyb2xsUG9zaXRpb24gPSB7XG4gIFwidmVydGljYWxcIjogZnVuY3Rpb24gKGNzcywgX3Zhcikge1xuICAgIGxldCBfY29udGVudF9oZWlnaHQgPSBfdmFyLl9jb250ZW50X2hlaWdodCAtIF92YXIuX3BhbmVsX2hlaWdodCxcbiAgICAgICAgX3Njcm9sbGVyX2hlaWdodCA9IF92YXIuX3ZlcnRpY2FsX3Njcm9sbGVyX2hlaWdodCAtIF92YXIudmVydGljYWxTY3JvbGxCYXJIZWlnaHQsXG4gICAgICAgIHRvcCA9IF9jb250ZW50X2hlaWdodCAqIGNzcy50b3AgLyBfc2Nyb2xsZXJfaGVpZ2h0O1xuXG4gICAgaWYgKHRvcCA8IDApIHRvcCA9IDA7ZWxzZSBpZiAoX2NvbnRlbnRfaGVpZ2h0IDwgdG9wKSB7XG4gICAgICB0b3AgPSBfY29udGVudF9oZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IC10b3BcbiAgICB9O1xuICB9LFxuICBcImhvcml6b250YWxcIjogZnVuY3Rpb24gKGNzcywgX3Zhcikge1xuICAgIGxldCBfY29udGVudF93aWR0aCA9IF92YXIuX2NvbnRlbnRfd2lkdGggLSBfdmFyLl9wYW5lbF93aWR0aCxcbiAgICAgICAgX3Njcm9sbGVyX3dpZHRoID0gX3Zhci5faG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aCAtIF92YXIuaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoLFxuICAgICAgICBsZWZ0ID0gX2NvbnRlbnRfd2lkdGggKiBjc3MubGVmdCAvIF9zY3JvbGxlcl93aWR0aDtcblxuICAgIGlmIChsZWZ0IDwgMCkgbGVmdCA9IDA7ZWxzZSBpZiAoX2NvbnRlbnRfd2lkdGggPCBsZWZ0KSB7XG4gICAgICBsZWZ0ID0gX2NvbnRlbnRfd2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiAtbGVmdFxuICAgIH07XG4gIH1cbn07XG5cbmNvbnN0IGNvbnZlcnRTY3JvbGxCYXJQb3NpdGlvbiA9IHtcbiAgXCJ2ZXJ0aWNhbFwiOiBmdW5jdGlvbiAoX3RvcCwgX3Zhcikge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgICB0eXBlID0gXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICBfY29udGVudF9oZWlnaHQgPSBfdmFyLl9jb250ZW50X2hlaWdodCAtIF92YXIuX3BhbmVsX2hlaWdodCxcbiAgICAgICAgX3Njcm9sbGVyX2hlaWdodCA9IF92YXIuX3ZlcnRpY2FsX3Njcm9sbGVyX2hlaWdodCAtIF92YXIudmVydGljYWxTY3JvbGxCYXJIZWlnaHQsXG4gICAgICAgIHRvcCA9IF9zY3JvbGxlcl9oZWlnaHQgKiBfdG9wIC8gX2NvbnRlbnRfaGVpZ2h0LFxuICAgICAgICBzY3JvbGxQb3NpdG9uO1xuXG4gICAgaWYgKC10b3AgPiBfc2Nyb2xsZXJfaGVpZ2h0KSB7XG4gICAgICB0b3AgPSAtX3Njcm9sbGVyX2hlaWdodDtcblxuICAgICAgc2Nyb2xsUG9zaXRvbiA9IGNvbnZlcnRTY3JvbGxQb3NpdGlvblt0eXBlXS5jYWxsKHRoaXMsIHsgdG9wOiAtdG9wIH0sIHtcbiAgICAgICAgX2NvbnRlbnRfd2lkdGg6IF92YXIuX2NvbnRlbnRfd2lkdGgsXG4gICAgICAgIF9jb250ZW50X2hlaWdodDogX3Zhci5fY29udGVudF9oZWlnaHQsXG4gICAgICAgIF9wYW5lbF93aWR0aDogX3Zhci5fcGFuZWxfd2lkdGgsXG4gICAgICAgIF9wYW5lbF9oZWlnaHQ6IF92YXIuX3BhbmVsX2hlaWdodCxcbiAgICAgICAgX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGg6IF92YXIuX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGgsXG4gICAgICAgIF92ZXJ0aWNhbF9zY3JvbGxlcl9oZWlnaHQ6IF92YXIuX3ZlcnRpY2FsX3Njcm9sbGVyX2hlaWdodCxcbiAgICAgICAgdmVydGljYWxTY3JvbGxCYXJIZWlnaHQ6IF92YXIudmVydGljYWxTY3JvbGxCYXJIZWlnaHQsXG4gICAgICAgIGhvcml6b250YWxTY3JvbGxCYXJXaWR0aDogX3Zhci5ob3Jpem9udGFsU2Nyb2xsQmFyV2lkdGhcbiAgICAgIH0pO1xuXG4gICAgICBCT0RZLnNjcm9sbFRvLmNhbGwoc2VsZiwgc2Nyb2xsUG9zaXRvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIC10b3A7XG4gIH0sXG4gIFwiaG9yaXpvbnRhbFwiOiBmdW5jdGlvbiAoX2xlZnQsIF92YXIpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXMsXG4gICAgICAgIHR5cGUgPSBcImhvcml6b250YWxcIixcbiAgICAgICAgX2NvbnRlbnRfd2lkdGggPSBfdmFyLl9jb250ZW50X3dpZHRoIC0gX3Zhci5fcGFuZWxfd2lkdGgsXG4gICAgICAgIF9zY3JvbGxlcl93aWR0aCA9IF92YXIuX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGggLSBfdmFyLmhvcml6b250YWxTY3JvbGxCYXJXaWR0aCxcbiAgICAgICAgbGVmdCA9IF9zY3JvbGxlcl93aWR0aCAqIF9sZWZ0IC8gX2NvbnRlbnRfd2lkdGgsXG4gICAgICAgIHNjcm9sbFBvc2l0b247XG5cbiAgICBpZiAoLWxlZnQgPiBfc2Nyb2xsZXJfd2lkdGgpIHtcbiAgICAgIGxlZnQgPSAtX3Njcm9sbGVyX3dpZHRoO1xuICAgICAgc2Nyb2xsUG9zaXRvbiA9IGNvbnZlcnRTY3JvbGxQb3NpdGlvblt0eXBlXS5jYWxsKHRoaXMsIHsgbGVmdDogLWxlZnQgfSwge1xuICAgICAgICBfY29udGVudF93aWR0aDogX3Zhci5fY29udGVudF93aWR0aCxcbiAgICAgICAgX2NvbnRlbnRfaGVpZ2h0OiBfdmFyLl9jb250ZW50X2hlaWdodCxcbiAgICAgICAgX3BhbmVsX3dpZHRoOiBfdmFyLl9wYW5lbF93aWR0aCxcbiAgICAgICAgX3BhbmVsX2hlaWdodDogX3Zhci5fcGFuZWxfaGVpZ2h0LFxuICAgICAgICBfaG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aDogX3Zhci5faG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aCxcbiAgICAgICAgX3ZlcnRpY2FsX3Njcm9sbGVyX2hlaWdodDogX3Zhci5fdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0LFxuICAgICAgICB2ZXJ0aWNhbFNjcm9sbEJhckhlaWdodDogX3Zhci52ZXJ0aWNhbFNjcm9sbEJhckhlaWdodCxcbiAgICAgICAgaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoOiBfdmFyLmhvcml6b250YWxTY3JvbGxCYXJXaWR0aFxuICAgICAgfSk7XG5cbiAgICAgIEhFQURFUi5zY3JvbGxUby5jYWxsKHNlbGYsIHNjcm9sbFBvc2l0b24pO1xuICAgICAgQk9EWS5zY3JvbGxUby5jYWxsKHNlbGYsIHNjcm9sbFBvc2l0b24pO1xuICAgIH1cblxuICAgIHJldHVybiAtbGVmdDtcbiAgfVxufTtcblxuY29uc3Qgc2Nyb2xsQmFyTW92ZXIgPSB7XG4gIFwiY2xpY2tcIjogZnVuY3Rpb24gKHRyYWNrLCBiYXIsIHR5cGUsIGUpIHtcblxuICAgIC8vIOuniOyasOyKpCDrrLTruIwg7JmE66OMIO2DgOyehOqzvCDtgbTrpq3tg4DsnoQg7LCo7J206rCAIDIwIOuztOuLpCDsnpHsnLzrqbQg7YG066at7J2067Kk7Yq4IOunieq4sC5cbiAgICBpZiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBtb3Zlb3V0X3RpbWVyIDwgMjApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgc2VsZiA9IHRoaXMsXG4gICAgICAgIHRyYWNrT2Zmc2V0ID0gdHJhY2sub2Zmc2V0KCksXG4gICAgICAgIGJhckJveCA9IHtcbiAgICAgIHdpZHRoOiBiYXIub3V0ZXJXaWR0aCgpLCBoZWlnaHQ6IGJhci5vdXRlckhlaWdodCgpXG4gICAgfSxcbiAgICAgICAgdHJhY2tCb3ggPSB7XG4gICAgICB3aWR0aDogdHJhY2suaW5uZXJXaWR0aCgpLCBoZWlnaHQ6IHRyYWNrLmlubmVySGVpZ2h0KClcbiAgICB9LFxuICAgICAgICBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0ID0gc2VsZi4kW1wic2Nyb2xsZXJcIl1bXCJ2ZXJ0aWNhbFwiXS5pbm5lckhlaWdodCgpLFxuICAgICAgICBfcGFuZWxfaGVpZ2h0ID0gc2VsZi4kW1wicGFuZWxcIl1bXCJib2R5XCJdLmhlaWdodCgpLFxuICAgICAgICBfaG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aCA9IHNlbGYuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbFwiXS5pbm5lcldpZHRoKCksXG4gICAgICAgIF9wYW5lbF93aWR0aCA9IHNlbGYuJFtcInBhbmVsXCJdW1wiYm9keVwiXS53aWR0aCgpLFxuICAgICAgICBfY29udGVudF9oZWlnaHQgPSBzZWxmLnh2YXIuc2Nyb2xsQ29udGVudEhlaWdodCxcbiAgICAgICAgX2NvbnRlbnRfd2lkdGggPSBzZWxmLnh2YXIuc2Nyb2xsQ29udGVudFdpZHRoLFxuICAgICAgICB2ZXJ0aWNhbFNjcm9sbEJhckhlaWdodCA9IHNlbGYuJFtcInNjcm9sbGVyXCJdW1widmVydGljYWwtYmFyXCJdLm91dGVySGVpZ2h0KCksXG4gICAgICAgIGhvcml6b250YWxTY3JvbGxCYXJXaWR0aCA9IHNlbGYuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbC1iYXJcIl0ub3V0ZXJXaWR0aCgpLFxuICAgICAgICBnZXRTY3JvbGxlclBvc2l0aW9uID0ge1xuICAgICAgXCJ2ZXJ0aWNhbFwiOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBsZXQgbW91c2VPYmogPSBVVElMLmdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgICAgIC8vIHRyYWNr7J2EIOuyl+yWtCDrgpjsp4Ag7JWI64+E66GdIOuylOychCDssrTtgaxcbiAgICAgICAgbGV0IG5ld1RvcCA9IG1vdXNlT2JqLmNsaWVudFkgLSB0cmFja09mZnNldC50b3A7XG4gICAgICAgIGlmIChuZXdUb3AgPCAwKSB7XG4gICAgICAgICAgbmV3VG9wID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdUb3AgKyBiYXJCb3guaGVpZ2h0ID4gdHJhY2tCb3guaGVpZ2h0KSB7XG4gICAgICAgICAgbmV3VG9wID0gdHJhY2tCb3guaGVpZ2h0IC0gYmFyQm94LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0b3A6IG5ld1RvcCB9O1xuICAgICAgfSxcbiAgICAgIFwiaG9yaXpvbnRhbFwiOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBsZXQgbW91c2VPYmogPSBVVElMLmdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgICAgIC8vIHRyYWNr7J2EIOuyl+yWtCDrgpjsp4Ag7JWI64+E66GdIOuylOychCDssrTtgaxcbiAgICAgICAgbGV0IG5ld0xlZnQgPSBtb3VzZU9iai5jbGllbnRYIC0gdHJhY2tPZmZzZXQubGVmdDtcbiAgICAgICAgaWYgKG5ld0xlZnQgPCAwKSB7XG4gICAgICAgICAgbmV3TGVmdCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3TGVmdCArIGJhckJveC53aWR0aCA+IHRyYWNrQm94LndpZHRoKSB7XG4gICAgICAgICAgbmV3TGVmdCA9IHRyYWNrQm94LndpZHRoIC0gYmFyQm94LndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGxlZnQ6IG5ld0xlZnQgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgICAgICBjc3MgPSBnZXRTY3JvbGxlclBvc2l0aW9uW3R5cGVdKGUpO1xuXG4gICAgYmFyLmNzcyhjc3MpO1xuXG4gICAgbGV0IHNjcm9sbFBvc2l0b24gPSBjb252ZXJ0U2Nyb2xsUG9zaXRpb25bdHlwZV0uY2FsbChzZWxmLCBjc3MsIHtcbiAgICAgIF9jb250ZW50X3dpZHRoOiBfY29udGVudF93aWR0aCxcbiAgICAgIF9jb250ZW50X2hlaWdodDogX2NvbnRlbnRfaGVpZ2h0LFxuICAgICAgX3BhbmVsX3dpZHRoOiBfcGFuZWxfd2lkdGgsXG4gICAgICBfcGFuZWxfaGVpZ2h0OiBfcGFuZWxfaGVpZ2h0LFxuICAgICAgX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGg6IF9ob3Jpem9udGFsX3Njcm9sbGVyX3dpZHRoLFxuICAgICAgX3ZlcnRpY2FsX3Njcm9sbGVyX2hlaWdodDogX3ZlcnRpY2FsX3Njcm9sbGVyX2hlaWdodCxcbiAgICAgIHZlcnRpY2FsU2Nyb2xsQmFySGVpZ2h0OiB2ZXJ0aWNhbFNjcm9sbEJhckhlaWdodCxcbiAgICAgIGhvcml6b250YWxTY3JvbGxCYXJXaWR0aDogaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoXG4gICAgfSk7XG4gICAgaWYgKHR5cGUgPT09IFwiaG9yaXpvbnRhbFwiKSBIRUFERVIuc2Nyb2xsVG8uY2FsbChzZWxmLCBzY3JvbGxQb3NpdG9uKTtcbiAgICBCT0RZLnNjcm9sbFRvLmNhbGwoc2VsZiwgc2Nyb2xsUG9zaXRvbik7XG5cbiAgICBzY3JvbGxQb3NpdG9uID0gbnVsbDtcbiAgfSxcbiAgXCJvblwiOiBmdW5jdGlvbiAodHJhY2ssIGJhciwgdHlwZSwgZSkge1xuICAgIGxldCBzZWxmID0gdGhpcyxcbiAgICAgICAgYmFyT2Zmc2V0ID0gYmFyLnBvc2l0aW9uKCksXG4gICAgICAgIGJhckJveCA9IHtcbiAgICAgIHdpZHRoOiBiYXIub3V0ZXJXaWR0aCgpLCBoZWlnaHQ6IGJhci5vdXRlckhlaWdodCgpXG4gICAgfSxcbiAgICAgICAgdHJhY2tCb3ggPSB7XG4gICAgICB3aWR0aDogdHJhY2suaW5uZXJXaWR0aCgpLCBoZWlnaHQ6IHRyYWNrLmlubmVySGVpZ2h0KClcbiAgICB9LFxuICAgICAgICBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0ID0gc2VsZi4kW1wic2Nyb2xsZXJcIl1bXCJ2ZXJ0aWNhbFwiXS5pbm5lckhlaWdodCgpLFxuICAgICAgICBfcGFuZWxfaGVpZ2h0ID0gc2VsZi4kW1wicGFuZWxcIl1bXCJib2R5XCJdLmhlaWdodCgpLFxuICAgICAgICBfaG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aCA9IHNlbGYuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbFwiXS5pbm5lcldpZHRoKCksXG4gICAgICAgIF9wYW5lbF93aWR0aCA9IHNlbGYuJFtcInBhbmVsXCJdW1wiYm9keVwiXS53aWR0aCgpLFxuICAgICAgICBfY29udGVudF9oZWlnaHQgPSBzZWxmLnh2YXIuc2Nyb2xsQ29udGVudEhlaWdodCxcbiAgICAgICAgX2NvbnRlbnRfd2lkdGggPSBzZWxmLnh2YXIuc2Nyb2xsQ29udGVudFdpZHRoLFxuICAgICAgICB2ZXJ0aWNhbFNjcm9sbEJhckhlaWdodCA9IHNlbGYuJFtcInNjcm9sbGVyXCJdW1widmVydGljYWwtYmFyXCJdLm91dGVySGVpZ2h0KCksXG4gICAgICAgIGhvcml6b250YWxTY3JvbGxCYXJXaWR0aCA9IHNlbGYuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbC1iYXJcIl0ub3V0ZXJXaWR0aCgpLFxuICAgICAgICBnZXRTY3JvbGxlclBvc2l0aW9uID0ge1xuICAgICAgXCJ2ZXJ0aWNhbFwiOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbW91c2VPYmogPSBVVElMLmdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgICAgIHNlbGYueHZhci5fX2RhID0gbW91c2VPYmouY2xpZW50WSAtIHNlbGYueHZhci5tb3VzZVBvc2l0aW9uLmNsaWVudFk7XG4gICAgICAgIC8vIHRyYWNr7J2EIOuyl+yWtCDrgpjsp4Ag7JWI64+E66GdIOuylOychCDssrTtgaxcbiAgICAgICAgdmFyIG5ld1RvcCA9IGJhck9mZnNldC50b3AgKyBzZWxmLnh2YXIuX19kYTtcbiAgICAgICAgaWYgKG5ld1RvcCA8IDApIHtcbiAgICAgICAgICBuZXdUb3AgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKG5ld1RvcCArIGJhckJveC5oZWlnaHQgPiB0cmFja0JveC5oZWlnaHQpIHtcbiAgICAgICAgICBuZXdUb3AgPSB0cmFja0JveC5oZWlnaHQgLSBiYXJCb3guaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRvcDogbmV3VG9wIH07XG4gICAgICB9LFxuICAgICAgXCJob3Jpem9udGFsXCI6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBtb3VzZU9iaiA9IFVUSUwuZ2V0TW91c2VQb3NpdGlvbihlKTtcbiAgICAgICAgc2VsZi54dmFyLl9fZGEgPSBtb3VzZU9iai5jbGllbnRYIC0gc2VsZi54dmFyLm1vdXNlUG9zaXRpb24uY2xpZW50WDtcbiAgICAgICAgLy8gdHJhY2vsnYQg67KX7Ja0IOuCmOyngCDslYjrj4TroZ0g67KU7JyEIOyytO2BrFxuICAgICAgICB2YXIgbmV3TGVmdCA9IGJhck9mZnNldC5sZWZ0ICsgc2VsZi54dmFyLl9fZGE7XG4gICAgICAgIGlmIChuZXdMZWZ0IDwgMCkge1xuICAgICAgICAgIG5ld0xlZnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKG5ld0xlZnQgKyBiYXJCb3gud2lkdGggPiB0cmFja0JveC53aWR0aCkge1xuICAgICAgICAgIG5ld0xlZnQgPSB0cmFja0JveC53aWR0aCAtIGJhckJveC53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBsZWZ0OiBuZXdMZWZ0IH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNlbGYueHZhci5fX2RhID0gMDsgLy8g7J2064+Z65+JIOuzgOyImCDstIjquLDtmZQgKOqzhOyCsOydtCDsnpjrqrsg65Cg6rmM67CUKVxuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLm9uKFVUSUwuRU5NW1wibW91c2Vtb3ZlXCJdICsgXCIuYXg2Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGxldCBjc3MgPSBnZXRTY3JvbGxlclBvc2l0aW9uW3R5cGVdKGUpO1xuICAgICAgYmFyLmNzcyhjc3MpO1xuXG4gICAgICBsZXQgc2Nyb2xsUG9zaXRvbiA9IGNvbnZlcnRTY3JvbGxQb3NpdGlvblt0eXBlXS5jYWxsKHNlbGYsIGNzcywge1xuICAgICAgICBfY29udGVudF93aWR0aDogX2NvbnRlbnRfd2lkdGgsXG4gICAgICAgIF9jb250ZW50X2hlaWdodDogX2NvbnRlbnRfaGVpZ2h0LFxuICAgICAgICBfcGFuZWxfd2lkdGg6IF9wYW5lbF93aWR0aCxcbiAgICAgICAgX3BhbmVsX2hlaWdodDogX3BhbmVsX2hlaWdodCxcbiAgICAgICAgX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGg6IF9ob3Jpem9udGFsX3Njcm9sbGVyX3dpZHRoLFxuICAgICAgICBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0OiBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0LFxuICAgICAgICB2ZXJ0aWNhbFNjcm9sbEJhckhlaWdodDogdmVydGljYWxTY3JvbGxCYXJIZWlnaHQsXG4gICAgICAgIGhvcml6b250YWxTY3JvbGxCYXJXaWR0aDogaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoXG4gICAgICB9KTtcblxuICAgICAgaWYgKHR5cGUgPT09IFwiaG9yaXpvbnRhbFwiKSBIRUFERVIuc2Nyb2xsVG8uY2FsbChzZWxmLCBzY3JvbGxQb3NpdG9uKTtcblxuICAgICAgQk9EWS5zY3JvbGxUby5jYWxsKHNlbGYsIHNjcm9sbFBvc2l0b24pO1xuICAgIH0pLm9uKFVUSUwuRU5NW1wibW91c2V1cFwiXSArIFwiLmF4NmdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzY3JvbGxCYXJNb3Zlci5vZmYuY2FsbChzZWxmKTtcbiAgICB9KS5vbihcIm1vdXNlbGVhdmUuYXg2Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHNjcm9sbEJhck1vdmVyLm9mZi5jYWxsKHNlbGYpO1xuICAgIH0pO1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLmF0dHIoJ3Vuc2VsZWN0YWJsZScsICdvbicpLmNzcygndXNlci1zZWxlY3QnLCAnbm9uZScpLm9uKCdzZWxlY3RzdGFydCcsIGZhbHNlKTtcbiAgfSxcbiAgXCJvZmZcIjogZnVuY3Rpb24gKCkge1xuICAgIG1vdmVvdXRfdGltZXIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5vZmYoVVRJTC5FTk1bXCJtb3VzZW1vdmVcIl0gKyBcIi5heDZncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vZmYoVVRJTC5FTk1bXCJtb3VzZXVwXCJdICsgXCIuYXg2Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCkub2ZmKFwibW91c2VsZWF2ZS5heDZncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkKTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5yZW1vdmVBdHRyKCd1bnNlbGVjdGFibGUnKS5jc3MoJ3VzZXItc2VsZWN0JywgJ2F1dG8nKS5vZmYoJ3NlbGVjdHN0YXJ0Jyk7XG4gIH1cbn07XG5cbmNvbnN0IHNjcm9sbENvbnRlbnRNb3ZlciA9IHtcbiAgXCJ3aGVlbFwiOiBmdW5jdGlvbiAoZGVsdGEpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXMsXG4gICAgICAgIF9ib2R5X3Njcm9sbF9wb3NpdGlvbiA9IHNlbGYuJFtcInBhbmVsXCJdW1wiYm9keS1zY3JvbGxcIl0ucG9zaXRpb24oKSxcbiAgICAgICAgX3BhbmVsX2hlaWdodCA9IHNlbGYueHZhci5ib2R5X3BhbmVsX2hlaWdodCxcbiAgICAgICAgX3BhbmVsX3dpZHRoID0gc2VsZi54dmFyLmJvZHlfcGFuZWxfd2lkdGgsXG4gICAgICAgIF9jb250ZW50X2hlaWdodCA9IHNlbGYueHZhci5zY3JvbGxDb250ZW50SGVpZ2h0LFxuICAgICAgICBfY29udGVudF93aWR0aCA9IHNlbGYueHZhci5zY3JvbGxDb250ZW50V2lkdGg7XG5cbiAgICBpZiAoaXNOYU4oX2NvbnRlbnRfaGVpZ2h0KSB8fCBpc05hTihfY29udGVudF93aWR0aCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgbmV3TGVmdCxcbiAgICAgICAgbmV3VG9wLFxuICAgICAgICBfdG9wX2lzX2VuZCA9IGZhbHNlLFxuICAgICAgICBfbGVmdF9pc19lbmQgPSBmYWxzZTtcblxuICAgIG5ld0xlZnQgPSBfYm9keV9zY3JvbGxfcG9zaXRpb24ubGVmdCAtIGRlbHRhLng7XG4gICAgbmV3VG9wID0gX2JvZHlfc2Nyb2xsX3Bvc2l0aW9uLnRvcCAtIGRlbHRhLnk7XG5cbiAgICAvLyBuZXdUb3DsnbQg67KU7JyE66W8IOuEmOyXiOuKlOyngCDssrTtgaxcbiAgICBpZiAobmV3VG9wID49IDApIHtcbiAgICAgIG5ld1RvcCA9IDA7XG4gICAgICBfdG9wX2lzX2VuZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChuZXdUb3AgPD0gX3BhbmVsX2hlaWdodCAtIF9jb250ZW50X2hlaWdodCkge1xuICAgICAgbmV3VG9wID0gX3BhbmVsX2hlaWdodCAtIF9jb250ZW50X2hlaWdodDtcbiAgICAgIGlmIChuZXdUb3AgPj0gMCkgbmV3VG9wID0gMDtcbiAgICAgIF90b3BfaXNfZW5kID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRlbHRhLnkgPT0gMCkgX3RvcF9pc19lbmQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIG5ld0xlZnTsnbQg67KU7JyE66W8IOuEmOyXiOuKlOyngCDssrTtgaxcbiAgICBpZiAobmV3TGVmdCA+PSAwKSB7XG4gICAgICBuZXdMZWZ0ID0gMDtcbiAgICAgIF9sZWZ0X2lzX2VuZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChuZXdMZWZ0IDw9IF9wYW5lbF93aWR0aCAtIF9jb250ZW50X3dpZHRoKSB7XG4gICAgICBuZXdMZWZ0ID0gX3BhbmVsX3dpZHRoIC0gX2NvbnRlbnRfd2lkdGg7XG4gICAgICBpZiAobmV3TGVmdCA+PSAwKSBuZXdMZWZ0ID0gMDtcbiAgICAgIF9sZWZ0X2lzX2VuZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkZWx0YS54ID09IDApIF9sZWZ0X2lzX2VuZCA9IHRydWU7XG4gICAgfVxuXG4gICAgSEVBREVSLnNjcm9sbFRvLmNhbGwoc2VsZiwgeyBsZWZ0OiBuZXdMZWZ0IH0pO1xuICAgIEJPRFkuc2Nyb2xsVG8uY2FsbChzZWxmLCB7IGxlZnQ6IG5ld0xlZnQsIHRvcDogbmV3VG9wIH0sIHtcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc2l6ZS5jYWxsKHNlbGYpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICFfdG9wX2lzX2VuZCB8fCAhX2xlZnRfaXNfZW5kO1xuICB9LFxuICBcIm9uXCI6IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXMsXG4gICAgICAgIF9ib2R5X3Njcm9sbF9wb3NpdGlvbiA9IHNlbGYuJFtcInBhbmVsXCJdW1wiYm9keS1zY3JvbGxcIl0ucG9zaXRpb24oKSxcbiAgICAgICAgX3BhbmVsX2hlaWdodCA9IHNlbGYueHZhci5ib2R5X3BhbmVsX2hlaWdodCxcbiAgICAgICAgX3BhbmVsX3dpZHRoID0gc2VsZi54dmFyLmJvZHlfcGFuZWxfd2lkdGgsXG4gICAgICAgIF9jb250ZW50X2hlaWdodCA9IHNlbGYueHZhci5zY3JvbGxDb250ZW50SGVpZ2h0LFxuICAgICAgICBfY29udGVudF93aWR0aCA9IHNlbGYueHZhci5zY3JvbGxDb250ZW50V2lkdGgsXG4gICAgICAgIGdldENvbnRlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBsZXQgbW91c2VPYmogPSBVVElMLmdldE1vdXNlUG9zaXRpb24oZSksXG4gICAgICAgICAgbmV3TGVmdCxcbiAgICAgICAgICBuZXdUb3A7XG5cbiAgICAgIHNlbGYueHZhci5fX3hfZGEgPSBtb3VzZU9iai5jbGllbnRYIC0gc2VsZi54dmFyLm1vdXNlUG9zaXRpb24uY2xpZW50WDtcbiAgICAgIHNlbGYueHZhci5fX3lfZGEgPSBtb3VzZU9iai5jbGllbnRZIC0gc2VsZi54dmFyLm1vdXNlUG9zaXRpb24uY2xpZW50WTtcblxuICAgICAgbmV3TGVmdCA9IF9ib2R5X3Njcm9sbF9wb3NpdGlvbi5sZWZ0ICsgc2VsZi54dmFyLl9feF9kYTtcbiAgICAgIG5ld1RvcCA9IF9ib2R5X3Njcm9sbF9wb3NpdGlvbi50b3AgKyBzZWxmLnh2YXIuX195X2RhO1xuXG4gICAgICAvLyBuZXdUb3DsnbQg67KU7JyE66W8IOuEmOyXiOuKlOyngCDssrTtgaxcbiAgICAgIGlmIChuZXdUb3AgPj0gMCkge1xuICAgICAgICBuZXdUb3AgPSAwO1xuICAgICAgfSBlbHNlIGlmIChuZXdUb3AgPD0gX3BhbmVsX2hlaWdodCAtIF9jb250ZW50X2hlaWdodCkge1xuICAgICAgICBuZXdUb3AgPSBfcGFuZWxfaGVpZ2h0IC0gX2NvbnRlbnRfaGVpZ2h0O1xuICAgICAgICBpZiAobmV3VG9wID49IDApIG5ld1RvcCA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIG5ld0xlZnTsnbQg67KU7JyE66W8IOuEmOyXiOuKlOyngCDssrTtgaxcbiAgICAgIGlmIChuZXdMZWZ0ID49IDApIHtcbiAgICAgICAgbmV3TGVmdCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKG5ld0xlZnQgPD0gX3BhbmVsX3dpZHRoIC0gX2NvbnRlbnRfd2lkdGgpIHtcbiAgICAgICAgbmV3TGVmdCA9IF9wYW5lbF93aWR0aCAtIF9jb250ZW50X3dpZHRoO1xuICAgICAgICBpZiAobmV3TGVmdCA+PSAwKSBuZXdMZWZ0ID0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbmV3TGVmdCwgdG9wOiBuZXdUb3BcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHRoaXMueHZhci5fX3hfZGEgPSAwOyAvLyDsnbTrj5nrn4kg67OA7IiYIOy0iOq4sO2ZlFxuICAgIHRoaXMueHZhci5fX3lfZGEgPSAwOyAvLyDqs4TsgrDsnbQg7J6Y66q7IOuQoOq5jOuwlFxuICAgIHRoaXMueHZhci50b3VjaG1vdmVkID0gZmFsc2U7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkub24oXCJ0b3VjaG1vdmVcIiArIFwiLmF4NmdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsZXQgY3NzID0gZ2V0Q29udGVudFBvc2l0aW9uKGUpO1xuXG4gICAgICByZXNpemUuY2FsbChzZWxmKTtcbiAgICAgIEhFQURFUi5zY3JvbGxUby5jYWxsKHNlbGYsIHsgbGVmdDogY3NzLmxlZnQgfSk7XG4gICAgICBCT0RZLnNjcm9sbFRvLmNhbGwoc2VsZiwgY3NzLCB7IG5vUmVwYWludDogXCJub1JlcGFpbnRcIiB9KTtcbiAgICAgIFUuc3RvcEV2ZW50KGUub3JpZ2luYWxFdmVudCk7XG4gICAgICBzZWxmLnh2YXIudG91Y2htb3ZlZCA9IHRydWU7XG4gICAgfSkub24oXCJ0b3VjaGVuZFwiICsgXCIuYXg2Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChzZWxmLnh2YXIudG91Y2htb3ZlZCkge1xuICAgICAgICBsZXQgY3NzID0gZ2V0Q29udGVudFBvc2l0aW9uKGUpO1xuXG4gICAgICAgIHJlc2l6ZS5jYWxsKHNlbGYpO1xuICAgICAgICBIRUFERVIuc2Nyb2xsVG8uY2FsbChzZWxmLCB7IGxlZnQ6IGNzcy5sZWZ0IH0pO1xuICAgICAgICBCT0RZLnNjcm9sbFRvLmNhbGwoc2VsZiwgY3NzKTtcbiAgICAgICAgVS5zdG9wRXZlbnQoZS5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgc2Nyb2xsQ29udGVudE1vdmVyLm9mZi5jYWxsKHNlbGYpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLmF0dHIoJ3Vuc2VsZWN0YWJsZScsICdvbicpLmNzcygndXNlci1zZWxlY3QnLCAnbm9uZScpLm9uKCdzZWxlY3RzdGFydCcsIGZhbHNlKTtcbiAgfSxcbiAgXCJvZmZcIjogZnVuY3Rpb24gKCkge1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLm9mZihcInRvdWNobW92ZVwiICsgXCIuYXg2Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCkub2ZmKFwidG91Y2hlbmRcIiArIFwiLmF4NmdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQpO1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLnJlbW92ZUF0dHIoJ3Vuc2VsZWN0YWJsZScpLmNzcygndXNlci1zZWxlY3QnLCAnYXV0bycpLm9mZignc2VsZWN0c3RhcnQnKTtcbiAgfVxufTtcblxuY29uc3QgaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgbWFyZ2luID0gdGhpcy5jb25maWcuc2Nyb2xsZXIudHJhY2tQYWRkaW5nO1xuXG4gIGlmIChtYXJnaW4gPT0gMCkge1xuICAgIHRoaXMuJFtcInNjcm9sbGVyXCJdW1widmVydGljYWwtYmFyXCJdLmNzcyh7IHdpZHRoOiB0aGlzLmNvbmZpZy5zY3JvbGxlci5zaXplLCBsZWZ0OiAtMSB9KTtcbiAgICB0aGlzLiRbXCJzY3JvbGxlclwiXVtcImhvcml6b250YWwtYmFyXCJdLmNzcyh7IGhlaWdodDogdGhpcy5jb25maWcuc2Nyb2xsZXIuc2l6ZSwgdG9wOiAtMSB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLiRbXCJzY3JvbGxlclwiXVtcInZlcnRpY2FsLWJhclwiXS5jc3MoeyB3aWR0aDogdGhpcy5jb25maWcuc2Nyb2xsZXIuc2l6ZSAtIChtYXJnaW4gKyAxKSwgbGVmdDogbWFyZ2luIC8gMiB9KTtcbiAgICB0aGlzLiRbXCJzY3JvbGxlclwiXVtcImhvcml6b250YWwtYmFyXCJdLmNzcyh7IGhlaWdodDogdGhpcy5jb25maWcuc2Nyb2xsZXIuc2l6ZSAtIChtYXJnaW4gKyAxKSwgdG9wOiBtYXJnaW4gLyAyIH0pO1xuICB9XG5cbiAgdGhpcy4kW1wic2Nyb2xsZXJcIl1bXCJ2ZXJ0aWNhbC1iYXJcIl0ub24oVVRJTC5FTk1bXCJtb3VzZWRvd25cIl0sIGZ1bmN0aW9uIChlKSB7XG4gICAgdGhpcy54dmFyLm1vdXNlUG9zaXRpb24gPSBVVElMLmdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgc2Nyb2xsQmFyTW92ZXIub24uY2FsbCh0aGlzLCB0aGlzLiRbXCJzY3JvbGxlclwiXVtcInZlcnRpY2FsXCJdLCB0aGlzLiRbXCJzY3JvbGxlclwiXVtcInZlcnRpY2FsLWJhclwiXSwgXCJ2ZXJ0aWNhbFwiLCBlKTtcbiAgfS5iaW5kKHRoaXMpKS5vbihcImRyYWdzdGFydFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgdGhpcy4kW1wic2Nyb2xsZXJcIl1bXCJ2ZXJ0aWNhbFwiXS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1zY3JvbGxlclwiKSA9PSBcInZlcnRpY2FsXCIpIHtcbiAgICAgIHNjcm9sbEJhck1vdmVyLmNsaWNrLmNhbGwodGhpcywgdGhpcy4kW1wic2Nyb2xsZXJcIl1bXCJ2ZXJ0aWNhbFwiXSwgdGhpcy4kW1wic2Nyb2xsZXJcIl1bXCJ2ZXJ0aWNhbC1iYXJcIl0sIFwidmVydGljYWxcIiwgZSk7XG4gICAgfVxuICB9LmJpbmQodGhpcykpO1xuXG4gIHRoaXMuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbC1iYXJcIl0ub24oVVRJTC5FTk1bXCJtb3VzZWRvd25cIl0sIGZ1bmN0aW9uIChlKSB7XG4gICAgdGhpcy54dmFyLm1vdXNlUG9zaXRpb24gPSBVVElMLmdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgc2Nyb2xsQmFyTW92ZXIub24uY2FsbCh0aGlzLCB0aGlzLiRbXCJzY3JvbGxlclwiXVtcImhvcml6b250YWxcIl0sIHRoaXMuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbC1iYXJcIl0sIFwiaG9yaXpvbnRhbFwiLCBlKTtcbiAgfS5iaW5kKHRoaXMpKS5vbihcImRyYWdzdGFydFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgdGhpcy4kW1wic2Nyb2xsZXJcIl1bXCJob3Jpem9udGFsXCJdLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLXNjcm9sbGVyXCIpID09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICBzY3JvbGxCYXJNb3Zlci5jbGljay5jYWxsKHRoaXMsIHRoaXMuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbFwiXSwgdGhpcy4kW1wic2Nyb2xsZXJcIl1bXCJob3Jpem9udGFsLWJhclwiXSwgXCJob3Jpem9udGFsXCIsIGUpO1xuICAgIH1cbiAgfS5iaW5kKHRoaXMpKTtcblxuICB0aGlzLiRbXCJjb250YWluZXJcIl1bXCJib2R5XCJdLm9uKCdtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsJywgZnVuY3Rpb24gKGUpIHtcbiAgICBsZXQgRSA9IGUub3JpZ2luYWxFdmVudCxcbiAgICAgICAgZGVsdGEgPSB7IHg6IDAsIHk6IDAgfTtcblxuICAgIGlmIChFLmRldGFpbCkge1xuICAgICAgZGVsdGEueSA9IEUuZGV0YWlsICogMTA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgRS5kZWx0YVkgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZGVsdGEueSA9IC1FLndoZWVsRGVsdGE7XG4gICAgICAgIGRlbHRhLnggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsdGEueSA9IEUuZGVsdGFZO1xuICAgICAgICBkZWx0YS54ID0gRS5kZWx0YVg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbENvbnRlbnRNb3Zlci53aGVlbC5jYWxsKHRoaXMsIGRlbHRhKSkge1xuICAgICAgVS5zdG9wRXZlbnQoZSk7XG4gICAgfVxuICB9LmJpbmQodGhpcykpO1xuXG4gIGlmIChpbmZvLnN1cHBvcnRUb3VjaCkge1xuICAgIHRoaXMuJFtcImNvbnRhaW5lclwiXVtcImJvZHlcIl0ub24oXCJ0b3VjaHN0YXJ0XCIsICdbZGF0YS1heDZncmlkLXBhbmVsXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzZWxmLnh2YXIubW91c2VQb3NpdGlvbiA9IFVUSUwuZ2V0TW91c2VQb3NpdGlvbihlKTtcbiAgICAgIHNjcm9sbENvbnRlbnRNb3Zlci5vbi5jYWxsKHNlbGYpO1xuICAgIH0pO1xuICB9XG5cbiAgdGhpcy54dmFyLmJvZHlfcGFuZWxfaGVpZ2h0ID0gdGhpcy4kW1wicGFuZWxcIl1bXCJib2R5XCJdLmhlaWdodCgpO1xuICB0aGlzLnh2YXIuYm9keV9wYW5lbF93aWR0aCA9IHRoaXMuJFtcInBhbmVsXCJdW1wiYm9keVwiXS53aWR0aCgpO1xufTtcblxuY29uc3QgcmVzaXplID0gZnVuY3Rpb24gKCkge1xuICBsZXQgX3ZlcnRpY2FsX3Njcm9sbGVyX2hlaWdodCA9IHRoaXMuJFtcInNjcm9sbGVyXCJdW1widmVydGljYWxcIl0uaGVpZ2h0KCksXG4gICAgICBfaG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aCA9IHRoaXMuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbFwiXS53aWR0aCgpLFxuICAgICAgX3BhbmVsX2hlaWdodCA9IHRoaXMuJFtcInBhbmVsXCJdW1wiYm9keVwiXS5oZWlnaHQoKSxcbiAgICAgIF9wYW5lbF93aWR0aCA9IHRoaXMuJFtcInBhbmVsXCJdW1wiYm9keVwiXS53aWR0aCgpLFxuICAgICAgX2NvbnRlbnRfaGVpZ2h0ID0gdGhpcy54dmFyLnNjcm9sbENvbnRlbnRIZWlnaHQsXG4gICAgICBfY29udGVudF93aWR0aCA9IHRoaXMueHZhci5zY3JvbGxDb250ZW50V2lkdGgsXG4gICAgICB2ZXJ0aWNhbFNjcm9sbEJhckhlaWdodCA9IF9wYW5lbF9oZWlnaHQgKiBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0IC8gX2NvbnRlbnRfaGVpZ2h0LFxuICAgICAgaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoID0gX3BhbmVsX3dpZHRoICogX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGggLyBfY29udGVudF93aWR0aDtcblxuICBpZiAodmVydGljYWxTY3JvbGxCYXJIZWlnaHQgPCB0aGlzLmNvbmZpZy5zY3JvbGxlci5iYXJNaW5TaXplKSB2ZXJ0aWNhbFNjcm9sbEJhckhlaWdodCA9IHRoaXMuY29uZmlnLnNjcm9sbGVyLmJhck1pblNpemU7XG4gIGlmIChob3Jpem9udGFsU2Nyb2xsQmFyV2lkdGggPCB0aGlzLmNvbmZpZy5zY3JvbGxlci5iYXJNaW5TaXplKSBob3Jpem9udGFsU2Nyb2xsQmFyV2lkdGggPSB0aGlzLmNvbmZpZy5zY3JvbGxlci5iYXJNaW5TaXplO1xuXG4gIHRoaXMuJFtcInNjcm9sbGVyXCJdW1widmVydGljYWwtYmFyXCJdLmNzcyh7XG4gICAgdG9wOiBjb252ZXJ0U2Nyb2xsQmFyUG9zaXRpb24udmVydGljYWwuY2FsbCh0aGlzLCB0aGlzLiQucGFuZWxbXCJib2R5LXNjcm9sbFwiXS5wb3NpdGlvbigpLnRvcCwge1xuICAgICAgX2NvbnRlbnRfd2lkdGg6IF9jb250ZW50X3dpZHRoLFxuICAgICAgX2NvbnRlbnRfaGVpZ2h0OiBfY29udGVudF9oZWlnaHQsXG4gICAgICBfcGFuZWxfd2lkdGg6IF9wYW5lbF93aWR0aCxcbiAgICAgIF9wYW5lbF9oZWlnaHQ6IF9wYW5lbF9oZWlnaHQsXG4gICAgICBfaG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aDogX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGgsXG4gICAgICBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0OiBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0LFxuICAgICAgdmVydGljYWxTY3JvbGxCYXJIZWlnaHQ6IHZlcnRpY2FsU2Nyb2xsQmFySGVpZ2h0LFxuICAgICAgaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoOiBob3Jpem9udGFsU2Nyb2xsQmFyV2lkdGhcbiAgICB9KSxcbiAgICBoZWlnaHQ6IHZlcnRpY2FsU2Nyb2xsQmFySGVpZ2h0XG4gIH0pO1xuXG4gIHRoaXMuJFtcInNjcm9sbGVyXCJdW1wiaG9yaXpvbnRhbC1iYXJcIl0uY3NzKHtcbiAgICBsZWZ0OiBjb252ZXJ0U2Nyb2xsQmFyUG9zaXRpb24uaG9yaXpvbnRhbC5jYWxsKHRoaXMsIHRoaXMuJC5wYW5lbFtcImJvZHktc2Nyb2xsXCJdLnBvc2l0aW9uKCkubGVmdCwge1xuICAgICAgX2NvbnRlbnRfd2lkdGg6IF9jb250ZW50X3dpZHRoLFxuICAgICAgX2NvbnRlbnRfaGVpZ2h0OiBfY29udGVudF9oZWlnaHQsXG4gICAgICBfcGFuZWxfd2lkdGg6IF9wYW5lbF93aWR0aCxcbiAgICAgIF9wYW5lbF9oZWlnaHQ6IF9wYW5lbF9oZWlnaHQsXG4gICAgICBfaG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aDogX2hvcml6b250YWxfc2Nyb2xsZXJfd2lkdGgsXG4gICAgICBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0OiBfdmVydGljYWxfc2Nyb2xsZXJfaGVpZ2h0LFxuICAgICAgdmVydGljYWxTY3JvbGxCYXJIZWlnaHQ6IHZlcnRpY2FsU2Nyb2xsQmFySGVpZ2h0LFxuICAgICAgaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoOiBob3Jpem9udGFsU2Nyb2xsQmFyV2lkdGhcbiAgICB9KSxcbiAgICB3aWR0aDogaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoXG4gIH0pO1xuXG4gIHRoaXMueHZhci5ib2R5X3BhbmVsX2hlaWdodCA9IF9wYW5lbF9oZWlnaHQ7XG4gIHRoaXMueHZhci5ib2R5X3BhbmVsX3dpZHRoID0gX3BhbmVsX3dpZHRoO1xuXG4gIF92ZXJ0aWNhbF9zY3JvbGxlcl9oZWlnaHQgPSBudWxsO1xuICBfaG9yaXpvbnRhbF9zY3JvbGxlcl93aWR0aCA9IG51bGw7XG4gIF9wYW5lbF9oZWlnaHQgPSBudWxsO1xuICBfcGFuZWxfd2lkdGggPSBudWxsO1xuICBfY29udGVudF9oZWlnaHQgPSBudWxsO1xuICBfY29udGVudF93aWR0aCA9IG51bGw7XG4gIHZlcnRpY2FsU2Nyb2xsQmFySGVpZ2h0ID0gbnVsbDtcbiAgaG9yaXpvbnRhbFNjcm9sbEJhcldpZHRoID0gbnVsbDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLy8g7YOA7J2066i4XG4gIG1vdmVvdXRfdGltZXI6IG1vdmVvdXRfdGltZXIsXG4gIGluaXQ6IGluaXQsXG4gIHJlc2l6ZTogcmVzaXplXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJR3JpZC9BWDZVSUdyaWRfc2Nyb2xsZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgQVg2SW5mbyBmcm9tIFwiLi9BWDZJbmZvXCI7XG5pbXBvcnQgQVg2VXRpbCBmcm9tIFwiLi9BWDZVdGlsXCI7XG5pbXBvcnQgQVg2TXVzdGFjaGUgZnJvbSBcIi4vQVg2TXVzdGFjaGVcIjtcbmltcG9ydCBBWDZVSUNvcmUgZnJvbSBcIi4vQVg2VUlDb3JlXCI7XG5pbXBvcnQgQVg2VUlGb3JtYXR0ZXIgZnJvbSBcIi4vQVg2VUlGb3JtYXR0ZXJcIjtcbmltcG9ydCBBWDZVSU1hc2sgZnJvbSBcIi4vQVg2VUlNYXNrXCI7XG5pbXBvcnQgQVg2VUlQYWxldHRlIGZyb20gXCIuL0FYNlVJUGFsZXR0ZVwiO1xuaW1wb3J0IEFYNlVJRGlhbG9nIGZyb20gXCIuL0FYNlVJRGlhbG9nXCI7XG5pbXBvcnQgQVg2VUlQaWNrZXIgZnJvbSBcIi4vQVg2VUlQaWNrZXJcIjtcbmltcG9ydCBBWDZVSUNhbGVuZGFyIGZyb20gXCIuL0FYNlVJQ2FsZW5kYXJcIjtcbmltcG9ydCBBWDZVSVNlbGVjdCBmcm9tIFwiLi9BWDZVSVNlbGVjdFwiO1xuaW1wb3J0IEFYNlVJR3JpZCBmcm9tIFwiLi9BWDZVSUdyaWRcIjtcbmltcG9ydCBBWDZVSU1lbnUgZnJvbSBcIi4vQVg2VUlNZW51XCI7XG5pbXBvcnQgQVg2VUlUb2FzdCBmcm9tIFwiLi9BWDZVSVRvYXN0XCI7XG5pbXBvcnQgQVg2VUlNb2RhbCBmcm9tIFwiLi9BWDZVSU1vZGFsXCI7XG5pbXBvcnQgQVg2VUlVcGxvYWRlciBmcm9tIFwiLi9BWDZVSVVwbG9hZGVyXCI7XG5pbXBvcnQgQVg2VUlBdXRvY29tcGxldGUgZnJvbSBcIi4vQVg2VUlBdXRvY29tcGxldGVcIjtcbmltcG9ydCBBWDZVSVNpZGVOYXYgZnJvbSBcIi4vQVg2VUlTaWRlTmF2XCI7XG5cbi8qKlxuICogQG1vZHVsZSBBWDZVSVxuICovXG5leHBvcnQge1xuLyoqXG4gKiBBWDZVSS5BWDZJbmZvXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCBBWDZJbmZvIGZyb20gXCJheDZ1aS9BWDZJbmZvXCI7XG4gKiAvLyBvclxuICogaW1wb3J0IHsgQVg2SW5mbyB9IGZyb20gXCJheDZ1aVwiO1xuICogYGBgXG4gKi9cbkFYNkluZm8sXG4vKipcbiAqIEFYNlVJLkFYNlV0aWxcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlV0aWwgZnJvbSBcImF4NnVpL0FYNlV0aWxcIjtcbiAqIC8vIG9yXG4gKiBpbXBvcnQgeyBBWDZVdGlsIH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VXRpbCxcbi8qKlxuICogQVg2VUkuQVg2VUlDb3JlXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCBBWDZVSUNvcmUgZnJvbSBcImF4NnVpL0FYNlVJQ29yZVwiO1xuICogLy8gb3JcbiAqIGltcG9ydCB7IEFYNlVJQ29yZSB9IGZyb20gXCJheDZ1aVwiO1xuICogYGBgXG4gKi9cbkFYNlVJQ29yZSxcbi8qKlxuICogQVg2VUkuQVg2TXVzdGFjaGVcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNk11c3RhY2hlIGZyb20gXCJheDZ1aS9BWDZNdXN0YWNoZVwiO1xuICogLy8gb3JcbiAqIGltcG9ydCB7IEFYNk11c3RhY2hlIH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2TXVzdGFjaGUsXG4vKipcbiAqIEFYNlVJLkFYNlVJRm9ybWF0dGVyXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCBBWDZVSUZvcm1hdHRlciBmcm9tIFwiYXg2dWkvQVg2VUlGb3JtYXR0ZXJcIjtcbiAqIC8vIG9yXG4gKiBpbXBvcnQgeyBBWDZVSUZvcm1hdHRlciB9IGZyb20gXCJheDZ1aVwiO1xuICogYGBgXG4gKi9cbkFYNlVJRm9ybWF0dGVyLFxuLyoqXG4gKiBBWDZVSS5BWDZVSU1hc2tcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlVJTWFzayBmcm9tIFwiYXg2dWkvQVg2VUlNYXNrXCI7XG4gKiAvLyBvclxuICogaW1wb3J0IHsgQVg2VUlNYXNrIH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VUlNYXNrLFxuLyoqXG4gKiBBWDZVSS5BWDZVSVBhbGV0dGVcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlVJUGFsZXR0ZSBmcm9tIFwiYXg2dWkvQVg2VUlQYWxldHRlXCI7XG4gKiAvLyBvclxuICogaW1wb3J0IHsgQVg2VUlQYWxldHRlIH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VUlQYWxldHRlLFxuLyoqXG4gKiBBWDZVSS5BWDZVSURpYWxvZ1xuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgQVg2VUlEaWFsb2cgZnJvbSBcImF4NnVpL0FYNlVJRGlhbG9nXCI7XG4gKiAvLyBvclxuICogaW1wb3J0IHsgQVg2VUlEaWFsb2cgfSBmcm9tIFwiYXg2dWlcIjtcbiAqIGBgYFxuICovXG5BWDZVSURpYWxvZyxcbi8qKlxuICogQVg2VUkuQVg2VUlQaWNrZXJcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlVJUGlja2VyIGZyb20gXCJheDZ1aS9BWDZVSVBpY2tlclwiO1xuICogLy8gb3JcbiAqIGltcG9ydCB7IEFYNlVJUGlja2VyIH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VUlQaWNrZXIsXG4vKipcbiAqIEFYNlVJLkFYNlVJQ2FsZW5kYXJcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlVJQ2FsZW5kYXIgZnJvbSBcImF4NnVpL0FYNlVJQ2FsZW5kYXJcIjtcbiAqIC8vIG9yXG4gKiBpbXBvcnQgeyBBWDZVSUNhbGVuZGFyIH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VUlDYWxlbmRhcixcbi8qKlxuICogQVg2VUkuQVg2VUlTZWxlY3RcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlVJU2VsZWN0IGZyb20gXCJheDZ1aS9BWDZVSVNlbGVjdFwiO1xuICogLy8gb3JcbiAqIGltcG9ydCB7IEFYNlVJU2VsZWN0IH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VUlTZWxlY3QsXG4vKipcbiAqIEFYNlVJLkFYNlVJR3JpZFxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgQVg2VUlHcmlkIGZyb20gXCJheDZ1aS9BWDZVSUdyaWRcIjtcbiAqIC8vIG9yXG4gKiBpbXBvcnQgeyBBWDZVSUdyaWQgfSBmcm9tIFwiYXg2dWlcIjtcbiAqIGBgYFxuICovXG5BWDZVSUdyaWQsXG4vKipcbiAqIEFYNlVJLkFYNlVJTWVudVxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgQVg2VUlNZW51IGZyb20gXCJheDZ1aS9BWDZVSU1lbnVcIjtcbiAqIC8vIG9yXG4gKiBpbXBvcnQgeyBBWDZVSU1lbnUgfSBmcm9tIFwiYXg2dWlcIjtcbiAqIGBgYFxuICovXG5BWDZVSU1lbnUsXG4vKipcbiAqIEFYNlVJLkFYNlVJVG9hc3RcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlVJVG9hc3QgZnJvbSBcImF4NnVpL0FYNlVJVG9hc3RcIjtcbiAqIC8vIG9yXG4gKiBpbXBvcnQgeyBBWDZVSVRvYXN0IH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VUlUb2FzdCxcbi8qKlxuICogQVg2VUkuQVg2VUlNb2RhbFxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgQVg2VUlNb2RhbCBmcm9tIFwiYXg2dWkvQVg2VUlNb2RhbFwiO1xuICogLy8gb3JcbiAqIGltcG9ydCB7IEFYNlVJTW9kYWwgfSBmcm9tIFwiYXg2dWlcIjtcbiAqIGBgYFxuICovXG5BWDZVSU1vZGFsLFxuLyoqXG4gKiBBWDZVSS5BWDZVSVVwbG9hZGVyXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCBBWDZVSVVwbG9hZGVyIGZyb20gXCJheDZ1aS9BWDZVSVVwbG9hZGVyXCI7XG4gKiAvLyBvclxuICogaW1wb3J0IHsgQVg2VUlVcGxvYWRlciB9IGZyb20gXCJheDZ1aVwiO1xuICogYGBgXG4gKi9cbkFYNlVJVXBsb2FkZXIsXG4vKipcbiAqIEFYNlVJLkFYNlVJQXV0b2NvbXBsZXRlXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCBBWDZVSUF1dG9jb21wbGV0ZSBmcm9tIFwiYXg2dWkvQVg2VUlBdXRvY29tcGxldGVcIjtcbiAqIC8vIG9yXG4gKiBpbXBvcnQgeyBBWDZVSUF1dG9jb21wbGV0ZSB9IGZyb20gXCJheDZ1aVwiO1xuICogYGBgXG4gKi9cbkFYNlVJQXV0b2NvbXBsZXRlLFxuLyoqXG4gKiBBWDZVSS5BWDZVSVNpZGVOYXZcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IEFYNlVJU2lkZU5hdiBmcm9tIFwiYXg2dWkvQVg2VUlTaWRlTmF2XCI7XG4gKiAvLyBvclxuICogaW1wb3J0IHsgQVg2VUlTaWRlTmF2IH0gZnJvbSBcImF4NnVpXCI7XG4gKiBgYGBcbiAqL1xuQVg2VUlTaWRlTmF2IH07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQVg2SW5mbyxcbiAgQVg2VXRpbCxcbiAgQVg2VUlDb3JlLFxuICBBWDZNdXN0YWNoZSxcbiAgQVg2VUlGb3JtYXR0ZXIsXG4gIEFYNlVJTWFzayxcbiAgQVg2VUlQYWxldHRlLFxuICBBWDZVSURpYWxvZyxcbiAgQVg2VUlQaWNrZXIsXG4gIEFYNlVJQ2FsZW5kYXIsXG4gIEFYNlVJU2VsZWN0LFxuICBBWDZVSUdyaWQsXG4gIEFYNlVJTWVudSxcbiAgQVg2VUlUb2FzdCxcbiAgQVg2VUlNb2RhbCxcbiAgQVg2VUlVcGxvYWRlcixcbiAgQVg2VUlBdXRvY29tcGxldGUsXG4gIEFYNlVJU2lkZU5hdlxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9heDZ1aS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCAkIGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IHsgQVg2VXRpbCBhcyBVLCBBWDZVSVNpZGVOYXYgYXMgU2lkZU5hdiB9IGZyb20gXCJheDZ1aVwiO1xuaW1wb3J0IFwiYXg2dWkvQVg2VUlTaWRlTmF2L3N0eWxlLnNjc3NcIjtcbmltcG9ydCBcIi4vc3JjL2Fzc2V0cy9zYW1wbGUuc2Nzc1wiO1xuXG5cbmxldCAkc2xpZGVfb3V0O1xubGV0ICRib2R5O1xubGV0IG1vZHVsZTtcbmxldCBjdXJyZW50TW9kdWxlID0gJyc7XG5sZXQgc2lkZU5hdjtcblxuZnVuY3Rpb24gbG9hZE1vZHVsZShtb2R1bGVOYW1lKSB7XG4gIGlmIChtb2R1bGUgJiYgbW9kdWxlLmZuKSBtb2R1bGUuZm4ubW9kdWxlRGVzdHJveSgkYm9keSk7XG4gIG1vZHVsZSA9IG51bGw7XG4gICRib2R5LmVtcHR5KCk7XG4gIGN1cnJlbnRNb2R1bGUgPSBtb2R1bGVOYW1lO1xuXG4gIHN3aXRjaCAobW9kdWxlTmFtZSkge1xuICAgIGNhc2UgXCJBWDZVdGlsXCI6XG4gICAgICByZXF1aXJlLmVuc3VyZShbXSwgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgbW9kdWxlID0gcmVxdWlyZShcIi4vc3JjL3V0aWxcIikuZGVmYXVsdDtcbiAgICAgICAgJGJvZHkuaHRtbChtb2R1bGUuaHRtbCk7XG4gICAgICAgIG1vZHVsZS5mbi5tb2R1bGVSdW4oJGJvZHkpO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJBWDZVSU1hc2tcIjpcbiAgICAgIHJlcXVpcmUuZW5zdXJlKFtdLCBmdW5jdGlvbiAobikge1xuICAgICAgICBtb2R1bGUgPSByZXF1aXJlKFwiLi9zcmMvbWFza1wiKS5kZWZhdWx0O1xuICAgICAgICAkYm9keS5odG1sKG1vZHVsZS5odG1sKTtcbiAgICAgICAgbW9kdWxlLmZuLm1vZHVsZVJ1bigkYm9keSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcIkFYNlVJRm9ybWF0dGVyXCI6XG4gICAgICByZXF1aXJlLmVuc3VyZShbXSwgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgbW9kdWxlID0gcmVxdWlyZShcIi4vc3JjL2Zvcm1hdHRlclwiKS5kZWZhdWx0O1xuICAgICAgICAkYm9keS5odG1sKG1vZHVsZS5odG1sKTtcbiAgICAgICAgbW9kdWxlLmZuLm1vZHVsZVJ1bigkYm9keSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnQVg2VUlDYWxlbmRhcic6XG4gICAgICByZXF1aXJlLmVuc3VyZShbXSwgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgbW9kdWxlID0gcmVxdWlyZShcIi4vc3JjL2NhbGVuZGFyXCIpLmRlZmF1bHQ7XG4gICAgICAgICRib2R5Lmh0bWwobW9kdWxlLmh0bWwpO1xuICAgICAgICBtb2R1bGUuZm4ubW9kdWxlUnVuKCRib2R5KTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdBWDZVSVBpY2tlcic6XG4gICAgICByZXF1aXJlLmVuc3VyZShbXSwgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgbW9kdWxlID0gcmVxdWlyZShcIi4vc3JjL3BpY2tlclwiKS5kZWZhdWx0O1xuICAgICAgICAkYm9keS5odG1sKG1vZHVsZS5odG1sKTtcbiAgICAgICAgbW9kdWxlLmZuLm1vZHVsZVJ1bigkYm9keSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnQVg2VUlQYWxldHRlJzpcbiAgICAgIHJlcXVpcmUuZW5zdXJlKFtdLCBmdW5jdGlvbiAobikge1xuICAgICAgICBtb2R1bGUgPSByZXF1aXJlKFwiLi9zcmMvcGFsZXR0ZVwiKS5kZWZhdWx0O1xuICAgICAgICAkYm9keS5odG1sKG1vZHVsZS5odG1sKTtcbiAgICAgICAgbW9kdWxlLmZuLm1vZHVsZVJ1bigkYm9keSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnQVg2VUlEaWFsb2cnOlxuICAgICAgcmVxdWlyZS5lbnN1cmUoW10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG1vZHVsZSA9IHJlcXVpcmUoXCIuL3NyYy9kaWFsb2dcIikuZGVmYXVsdDtcbiAgICAgICAgJGJvZHkuaHRtbChtb2R1bGUuaHRtbCk7XG4gICAgICAgIG1vZHVsZS5mbi5tb2R1bGVSdW4oJGJvZHkpO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ0FYNlVJVG9hc3QnOlxuICAgICAgcmVxdWlyZS5lbnN1cmUoW10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG1vZHVsZSA9IHJlcXVpcmUoXCIuL3NyYy90b2FzdFwiKS5kZWZhdWx0O1xuICAgICAgICAkYm9keS5odG1sKG1vZHVsZS5odG1sKTtcbiAgICAgICAgbW9kdWxlLmZuLm1vZHVsZVJ1bigkYm9keSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnQVg2VUlTZWxlY3QnOlxuICAgICAgcmVxdWlyZS5lbnN1cmUoW10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG1vZHVsZSA9IHJlcXVpcmUoXCIuL3NyYy9zZWxlY3RcIikuZGVmYXVsdDtcbiAgICAgICAgJGJvZHkuaHRtbChtb2R1bGUuaHRtbCk7XG4gICAgICAgIG1vZHVsZS5mbi5tb2R1bGVSdW4oJGJvZHkpO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ0FYNlVJQXV0b2NvbXBsZXRlJzpcbiAgICAgIHJlcXVpcmUuZW5zdXJlKFtdLCBmdW5jdGlvbiAobikge1xuICAgICAgICBtb2R1bGUgPSByZXF1aXJlKFwiLi9zcmMvYXV0b2NvbXBsZXRlXCIpLmRlZmF1bHQ7XG4gICAgICAgICRib2R5Lmh0bWwobW9kdWxlLmh0bWwpO1xuICAgICAgICBtb2R1bGUuZm4ubW9kdWxlUnVuKCRib2R5KTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdBWDZVSU1lbnUnOlxuICAgICAgcmVxdWlyZS5lbnN1cmUoW10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG1vZHVsZSA9IHJlcXVpcmUoXCIuL3NyYy9tZW51XCIpLmRlZmF1bHQ7XG4gICAgICAgICRib2R5Lmh0bWwobW9kdWxlLmh0bWwpO1xuICAgICAgICBtb2R1bGUuZm4ubW9kdWxlUnVuKCRib2R5KTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdBWDZVSUdyaWQnOlxuICAgICAgcmVxdWlyZS5lbnN1cmUoW10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG1vZHVsZSA9IHJlcXVpcmUoXCIuL3NyYy9ncmlkXCIpLmRlZmF1bHQ7XG4gICAgICAgICRib2R5Lmh0bWwobW9kdWxlLmh0bWwpO1xuICAgICAgICBtb2R1bGUuZm4ubW9kdWxlUnVuKCRib2R5KTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdBWDZVSU1vZGFsJzpcbiAgICAgIHJlcXVpcmUuZW5zdXJlKFtdLCBmdW5jdGlvbiAobikge1xuICAgICAgICBtb2R1bGUgPSByZXF1aXJlKFwiLi9zcmMvbW9kYWxcIikuZGVmYXVsdDtcbiAgICAgICAgJGJvZHkuaHRtbChtb2R1bGUuaHRtbCk7XG4gICAgICAgIG1vZHVsZS5mbi5tb2R1bGVSdW4oJGJvZHkpO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ0FYNlVJVXBsb2FkZXInOlxuICAgICAgcmVxdWlyZS5lbnN1cmUoW10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG1vZHVsZSA9IHJlcXVpcmUoXCIuL3NyYy91cGxvYWRlclwiKS5kZWZhdWx0O1xuICAgICAgICAkYm9keS5odG1sKG1vZHVsZS5odG1sKTtcbiAgICAgICAgbW9kdWxlLmZuLm1vZHVsZVJ1bigkYm9keSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnQVg2VUlUb29sdGlwJzpcbiAgICAgIHJlcXVpcmUuZW5zdXJlKFtdLCBmdW5jdGlvbiAobikge1xuICAgICAgICBtb2R1bGUgPSByZXF1aXJlKFwiLi9zcmMvdG9vbHRpcFwiKS5kZWZhdWx0O1xuICAgICAgICAkYm9keS5odG1sKG1vZHVsZS5odG1sKTtcbiAgICAgICAgbW9kdWxlLmZuLm1vZHVsZVJ1bigkYm9keSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnQVg2VUlEb2NrZXInOlxuICAgICAgcmVxdWlyZS5lbnN1cmUoW10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG1vZHVsZSA9IHJlcXVpcmUoXCIuL3NyYy9kb2NrZXJcIikuZGVmYXVsdDtcbiAgICAgICAgJGJvZHkuaHRtbChtb2R1bGUuaHRtbCk7XG4gICAgICAgIG1vZHVsZS5mbi5tb2R1bGVSdW4oJGJvZHkpO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG53aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uIChlKSB7XG4gIGxldCBwYXJhbSA9IFUucGFyYW0oZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoXCI/XCIsIFwiXCIpKTtcbiAgaWYgKHR5cGVvZiBwYXJhbS5tb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHBhcmFtLm1vZHVsZSAhPSBjdXJyZW50TW9kdWxlKSB7XG4gICAgbG9hZE1vZHVsZShwYXJhbS5tb2R1bGUpO1xuICB9XG59O1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoZSkge1xuICBzaWRlTmF2ID0gbmV3IFNpZGVOYXYoe1xuICAgIG1lbnU6IHtcbiAgICAgIHRhcmdldDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYXg2dWktc2lkZW5hdi1tZW51XScpXG4gICAgfSxcbiAgICBwYW5lbDoge1xuICAgICAgdGFyZ2V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1heDZ1aS1zaWRlbmF2LXBhbmVsXScpXG4gICAgfVxuICB9KTtcblxuICAkc2xpZGVfb3V0ID0gJCgnI3NsaWRlLW91dCcpO1xuICAkYm9keSA9ICQoXCIjc2FtcGxlLWJvZHlcIik7XG5cbiAgJCgnW2RhdGEtYWN0aXZhdGVzPVwic2xpZGUtb3V0XCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNpZGVOYXYub3BlbigpO1xuICB9KTtcblxuICAkKCdbZGF0YS1ocmVmXScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBzaWRlTmF2LmNsb3NlKCk7XG5cbiAgICBsZXQgbW9kdWxlTmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpO1xuICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIFwiP21vZHVsZT1cIiArIG1vZHVsZU5hbWUpO1xuICAgIGxvYWRNb2R1bGUobW9kdWxlTmFtZSk7XG4gIH0pO1xuXG4gIGxldCBwYXJhbSA9IFUucGFyYW0oZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoXCI/XCIsIFwiXCIpKTtcblxuICBpZih0eXBlb2YgcGFyYW0ubW9kdWxlID09ICd1bmRlZmluZWQnKXtcbiAgICBsb2FkTW9kdWxlKFwiQVg2VXRpbFwiKTtcbiAgfVxuICBlbHNlIGlmIChwYXJhbS5tb2R1bGUgIT0gY3VycmVudE1vZHVsZSkge1xuICAgIGxvYWRNb2R1bGUocGFyYW0ubW9kdWxlKTtcbiAgfVxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vaW5kZXguanMiLCJpbXBvcnQgVSBmcm9tIFwiLi4vQVg2VXRpbFwiO1xuXG5sZXQgVE9EQVkgPSBuZXcgRGF0ZSgpO1xuXG4vKipcbiAqIEBtb2R1bGUgQVg2VUlGb3JtYXR0ZXJfZm9ybWF0dGVyXG4gKi9cblxubGV0IGN0cmxLZXlzID0ge1xuICBcIjE4XCI6IFwiS0VZX0FMVFwiLFxuICBcIjhcIjogXCJLRVlfQkFDS1NQQUNFXCIsXG4gIFwiMTdcIjogXCJLRVlfQ09OVFJPTFwiLFxuICBcIjQ2XCI6IFwiS0VZX0RFTEVURVwiLFxuICBcIjQwXCI6IFwiS0VZX0RPV05cIixcbiAgXCIzNVwiOiBcIktFWV9FTkRcIixcbiAgXCIxODdcIjogXCJLRVlfRVFVQUxcIixcbiAgXCIyN1wiOiBcIktFWV9FU0NcIixcbiAgXCIzNlwiOiBcIktFWV9IT01FXCIsXG4gIFwiNDVcIjogXCJLRVlfSU5TRVJUXCIsXG4gIFwiMzdcIjogXCJLRVlfTEVGVFwiLFxuICBcIjE4OVwiOiBcIktFWV9NSU5VU1wiLFxuICBcIjM0XCI6IFwiS0VZX1BBR0VET1dOXCIsXG4gIFwiMzNcIjogXCJLRVlfUEFHRVVQXCIsXG4gIC8vIFwiMTkwXCI6IFwiS0VZX1BFUklPRFwiLFxuICBcIjEzXCI6IFwiS0VZX1JFVFVSTlwiLFxuICBcIjM5XCI6IFwiS0VZX1JJR0hUXCIsXG4gIFwiMTZcIjogXCJLRVlfU0hJRlRcIixcbiAgLy8gXCIzMlwiOiBcIktFWV9TUEFDRVwiLFxuICBcIjlcIjogXCJLRVlfVEFCXCIsXG4gIFwiMzhcIjogXCJLRVlfVVBcIixcbiAgXCI5MVwiOiBcIktFWV9XSU5ET1dcIlxuICAvL1wiMTA3XCIgOiBcIk5VTVBBRF9BRERcIixcbiAgLy9cIjE5NFwiIDogXCJOVU1QQURfQ09NTUFcIixcbiAgLy9cIjExMFwiIDogXCJOVU1QQURfREVDSU1BTFwiLFxuICAvL1wiMTExXCIgOiBcIk5VTVBBRF9ESVZJREVcIixcbiAgLy9cIjEyXCIgOiBcIk5VTVBBRF9FUVVBTFwiLFxuICAvL1wiMTA2XCIgOiBcIk5VTVBBRF9NVUxUSVBMWVwiLFxuICAvL1wiMTA5XCIgOiBcIk5VTVBBRF9TVUJUUkFDVFwiXG59O1xuXG5sZXQgbnVtS2V5cyA9IHtcbiAgJzQ4JzogMSwgJzQ5JzogMSwgJzUwJzogMSwgJzUxJzogMSwgJzUyJzogMSwgJzUzJzogMSwgJzU0JzogMSwgJzU1JzogMSwgJzU2JzogMSwgJzU3JzogMSxcbiAgJzk2JzogMSwgJzk3JzogMSwgJzk4JzogMSwgJzk5JzogMSwgJzEwMCc6IDEsICcxMDEnOiAxLCAnMTAyJzogMSwgJzEwMyc6IDEsICcxMDQnOiAxLCAnMTA1JzogMVxufTtcblxubGV0IHBhdHRlcm5fbW9uZXkgPSB7XG4gIGdldEVudGVyYWJsZUtleUNvZGVzOiBmdW5jdGlvbiAoX29wdHMpIHtcbiAgICBsZXQgZW50ZXJhYmxlS2V5Q29kZXMgPSB7XG4gICAgICAnMTg4JzogJywnXG4gICAgfTtcbiAgICBpZiAoX29wdHMucGF0dGVybkFyZ3VtZW50ID09IFwiaW50XCIpIHtcbiAgICAgIC8vIOyGjOyImOygkCDsnoXroKUg7JWI65CoXG4gICAgfSBlbHNlIHtcbiAgICAgIGVudGVyYWJsZUtleUNvZGVzWycxOTAnXSA9IFwiLlwiOyAvLyDshozsiJjsoJAg7J6F66ClIO2XiOyaqVxuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihlbnRlcmFibGVLZXlDb2RlcywgY3RybEtleXMsIG51bUtleXMpO1xuICB9LFxuICBnZXRQYXR0ZXJuVmFsdWU6IGZ1bmN0aW9uIChfb3B0cywgb3B0SWR4LCBlLCB2YWwsIGVUeXBlKSB7XG4gICAgdmFsID0gdmFsLnJlcGxhY2UoL1teMC05XlxcLl5cXC1dL2csIFwiXCIpO1xuICAgIGxldCByZWdFeHBQYXR0ZXJuID0gbmV3IFJlZ0V4cCgnKFswLTldKShbMC05XVswLTldWzAtOV1bLC5dKScpLFxuICAgICAgICBhcnJOdW1iZXIgPSB2YWwuc3BsaXQoJy4nKSxcbiAgICAgICAgcmV0dXJuVmFsdWU7XG5cbiAgICBhcnJOdW1iZXJbMF0gKz0gJy4nO1xuXG4gICAgZG8ge1xuICAgICAgYXJyTnVtYmVyWzBdID0gYXJyTnVtYmVyWzBdLnJlcGxhY2UocmVnRXhwUGF0dGVybiwgJyQxLCQyJyk7XG4gICAgfSB3aGlsZSAocmVnRXhwUGF0dGVybi50ZXN0KGFyck51bWJlclswXSkpO1xuXG4gICAgaWYgKGFyck51bWJlci5sZW5ndGggPiAxKSB7XG4gICAgICBpZiAoVS5pc051bWJlcihfb3B0cy5tYXhSb3VuZCkpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBhcnJOdW1iZXJbMF0gKyBVLmxlZnQoYXJyTnVtYmVyWzFdLCBfb3B0cy5tYXhSb3VuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IGFyck51bWJlci5qb2luKCcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuVmFsdWUgPSBhcnJOdW1iZXJbMF0uc3BsaXQoJy4nKVswXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cbn07XG5cbmxldCBwYXR0ZXJuX251bWJlciA9IHtcbiAgZ2V0RW50ZXJhYmxlS2V5Q29kZXM6IGZ1bmN0aW9uIGdldEVudGVyYWJsZUtleUNvZGVzKF9vcHRzKSB7XG4gICAgbGV0IGVudGVyYWJsZUtleUNvZGVzID0ge1xuICAgICAgJzE5MCc6ICcuJyxcbiAgICAgICcxMTAnOiAnLidcblxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZW50ZXJhYmxlS2V5Q29kZXMsIGN0cmxLZXlzLCBudW1LZXlzKTtcbiAgfSxcbiAgZ2V0UGF0dGVyblZhbHVlOiBmdW5jdGlvbiAoX29wdHMsIG9wdElkeCwgZSwgdmFsLCBlVHlwZSkge1xuICAgIHZhbCA9IHZhbC5yZXBsYWNlKC9bXjAtOV5cXC5eXFwtXS9nLCBcIlwiKTtcbiAgICBsZXQgYXJyTnVtYmVyID0gdmFsLnNwbGl0KCcuJyksXG4gICAgICAgIHJldHVyblZhbHVlO1xuXG4gICAgYXJyTnVtYmVyWzBdICs9IFwiLlwiO1xuXG4gICAgaWYgKGFyck51bWJlci5sZW5ndGggPiAxKSB7XG4gICAgICBpZiAoVS5pc051bWJlcihfb3B0cy5tYXhSb3VuZCkpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBhcnJOdW1iZXJbMF0gKyBVLmxlZnQoYXJyTnVtYmVyWzFdLCBfb3B0cy5tYXhSb3VuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IGFyck51bWJlci5qb2luKCcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuVmFsdWUgPSBhcnJOdW1iZXJbMF0uc3BsaXQoJy4nKVswXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cbn07XG5cbmxldCBwYXR0ZXJuX2RhdGUgPSB7XG4gIGdldEVudGVyYWJsZUtleUNvZGVzOiBmdW5jdGlvbiAoX29wdHMpIHtcbiAgICBsZXQgZW50ZXJhYmxlS2V5Q29kZXMgPSB7XG4gICAgICAnMTg5JzogJy0nLCAnMTkxJzogJy8nXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihlbnRlcmFibGVLZXlDb2RlcywgY3RybEtleXMsIG51bUtleXMpO1xuICB9LFxuICBnZXRQYXR0ZXJuVmFsdWU6IGZ1bmN0aW9uIChfb3B0cywgb3B0SWR4LCBlLCB2YWwsIGVUeXBlKSB7XG4gICAgdmFsID0gdmFsLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgICBpZiAodmFsID09IFwiXCIpIHJldHVybiB2YWw7XG4gICAgbGV0IHJlZ0V4cFBhdHRlcm4gPSAvXihbMC05XXs0fSlcXC0/KFswLTldezEsMn0pP1xcLT8oWzAtOV17MSwyfSk/LiokLztcblxuICAgIGlmIChfb3B0cy5wYXR0ZXJuQXJndW1lbnQgPT0gXCJ0aW1lXCIpIHtcbiAgICAgIHJlZ0V4cFBhdHRlcm4gPSAvXihbMC05XXs0fSlcXC0/KFswLTldezEsMn0pP1xcLT8oWzAtOV17MSwyfSk/ID8oWzAtOV17MSwyfSk/Oj8oWzAtOV17MSwyfSk/Oj8oWzAtOV17MSwyfSk/LiokLztcbiAgICB9IGVsc2UgaWYgKF9vcHRzLnBhdHRlcm5Bcmd1bWVudCA9PSBcInllYXJcIikge1xuICAgICAgcmVnRXhwUGF0dGVybiA9IC9eKFswLTldezAsNH0pPy4qJC87XG4gICAgfSBlbHNlIGlmIChfb3B0cy5wYXR0ZXJuQXJndW1lbnQgPT0gXCJtb250aFwiKSB7XG4gICAgICByZWdFeHBQYXR0ZXJuID0gL14oWzAtOV17NH0pXFwtPyhbMC05XXsxLDJ9KT8uKiQvO1xuICAgIH1cblxuICAgIGxldCBtYXRjaGVkUGF0dGVybiA9IHZhbC5tYXRjaChyZWdFeHBQYXR0ZXJuKSxcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBcIlwiLFxuICAgICAgICBpbnNwZWN0VmFsdWUgPSBmdW5jdGlvbiAodmFsLCBmb3JtYXQsIGluc3BlY3QsIGRhdGEpIHtcbiAgICAgIGxldCBfdmFsID0ge1xuICAgICAgICAnWSc6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2ID09IFwidW5kZWZpbmVkXCIpIHYgPSBUT0RBWS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgIGlmICh2ID09ICcnIHx8IHYgPT0gJzAwMDAnKSB2ID0gVE9EQVkuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICByZXR1cm4gdi5sZW5ndGggPCA0ID8gVS5zZXREaWdpdCh2LCA0KSA6IHY7XG4gICAgICAgIH0sXG4gICAgICAgICdNJzogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gXCJ1bmRlZmluZWRcIikgdiA9IFRPREFZLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgIHJldHVybiB2ID4gMTIgPyAxMiA6IHYgPT0gMCA/ICcwMScgOiBVLnNldERpZ2l0KHYsIDIpO1xuICAgICAgICB9LFxuICAgICAgICAnRCc6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2ID09IFwidW5kZWZpbmVkXCIpIHYgPSBUT0RBWS5nZXREYXRlKCkgKyAxO1xuICAgICAgICAgIGxldCBkTGVuID0gVS5kYXlzT2ZNb250aChkYXRhWzFdLCBkYXRhWzJdIC0gMSk7XG4gICAgICAgICAgcmV0dXJuIHYgPiBkTGVuID8gZExlbiA6IHYgPT0gMCA/ICcwMScgOiBVLnNldERpZ2l0KHYsIDIpO1xuICAgICAgICB9LFxuICAgICAgICAnaCc6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKCF2KSB2ID0gMDtcbiAgICAgICAgICByZXR1cm4gdiA+IDIzID8gMjMgOiBVLnNldERpZ2l0KHYsIDIpO1xuICAgICAgICB9LFxuICAgICAgICAnbSc6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKCF2KSB2ID0gMDtcbiAgICAgICAgICByZXR1cm4gdiA+IDU5ID8gNTkgOiBVLnNldERpZ2l0KHYsIDIpO1xuICAgICAgICB9LFxuICAgICAgICAncyc6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKCF2KSB2ID0gMDtcbiAgICAgICAgICByZXR1cm4gdiA+IDU5ID8gNTkgOiBVLnNldERpZ2l0KHYsIDIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGluc3BlY3QgPyBfdmFsW2Zvcm1hdF0odmFsKSA6IHZhbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuVmFsdWUgPSB2YWwucmVwbGFjZShyZWdFeHBQYXR0ZXJuLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgbGV0IG52YWwgPSBbXTtcblxuICAgICAgaWYgKF9vcHRzLnBhdHRlcm5Bcmd1bWVudCA9PSBcInllYXJcIikge1xuICAgICAgICBudmFsLnB1c2goaW5zcGVjdFZhbHVlKGFyZ3VtZW50c1sxXSwgXCJZXCIsIGVUeXBlKSk7XG4gICAgICB9IGVsc2UgaWYgKF9vcHRzLnBhdHRlcm5Bcmd1bWVudCA9PSBcIm1vbnRoXCIpIHtcbiAgICAgICAgbnZhbC5wdXNoKGluc3BlY3RWYWx1ZShhcmd1bWVudHNbMV0sIFwiWVwiLCBlVHlwZSkpO1xuICAgICAgICBpZiAoYXJndW1lbnRzWzJdIHx8IGVUeXBlKSBudmFsLnB1c2goJy0nICsgaW5zcGVjdFZhbHVlKGFyZ3VtZW50c1syXSwgXCJNXCIsIGVUeXBlKSk7XG4gICAgICB9IGVsc2UgaWYgKF9vcHRzLnBhdHRlcm5Bcmd1bWVudCA9PSBcInRpbWVcIikge1xuICAgICAgICBudmFsLnB1c2goaW5zcGVjdFZhbHVlKGFyZ3VtZW50c1sxXSwgXCJZXCIsIGVUeXBlKSk7XG4gICAgICAgIGlmIChhcmd1bWVudHNbMl0gfHwgZVR5cGUpIG52YWwucHVzaCgnLScgKyBpbnNwZWN0VmFsdWUoYXJndW1lbnRzWzJdLCBcIk1cIiwgZVR5cGUpKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1szXSB8fCBlVHlwZSkgbnZhbC5wdXNoKCctJyArIGluc3BlY3RWYWx1ZShhcmd1bWVudHNbM10sIFwiRFwiLCBlVHlwZSwgYXJndW1lbnRzKSk7XG4gICAgICAgIGlmIChhcmd1bWVudHNbNF0gfHwgZVR5cGUpIG52YWwucHVzaCgnICcgKyBpbnNwZWN0VmFsdWUoYXJndW1lbnRzWzRdLCBcImhcIiwgZVR5cGUpKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1s1XSB8fCBlVHlwZSkgbnZhbC5wdXNoKCc6JyArIGluc3BlY3RWYWx1ZShhcmd1bWVudHNbNV0sIFwibVwiLCBlVHlwZSkpO1xuICAgICAgICBpZiAoYXJndW1lbnRzWzZdIHx8IGVUeXBlKSBudmFsLnB1c2goJzonICsgaW5zcGVjdFZhbHVlKGFyZ3VtZW50c1s2XSwgXCJzXCIsIGVUeXBlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudmFsLnB1c2goaW5zcGVjdFZhbHVlKGFyZ3VtZW50c1sxXSwgXCJZXCIsIGVUeXBlKSk7XG4gICAgICAgIGlmIChhcmd1bWVudHNbMl0gfHwgZVR5cGUpIG52YWwucHVzaCgnLScgKyBpbnNwZWN0VmFsdWUoYXJndW1lbnRzWzJdLCBcIk1cIiwgZVR5cGUpKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1szXSB8fCBlVHlwZSkgbnZhbC5wdXNoKCctJyArIGluc3BlY3RWYWx1ZShhcmd1bWVudHNbM10sIFwiRFwiLCBlVHlwZSwgYXJndW1lbnRzKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnZhbC5qb2luKCcnKTtcbiAgICB9KTtcblxuICAgIGlmIChlVHlwZSA9PSAnYmx1cicgJiYgIW1hdGNoZWRQYXR0ZXJuKSB7XG4gICAgICByZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG52YWwgPSBbXTtcblxuICAgICAgICBpZiAoX29wdHMucGF0dGVybkFyZ3VtZW50ID09IFwieWVhclwiKSB7XG4gICAgICAgICAgbnZhbC5wdXNoKGluc3BlY3RWYWx1ZSgwLCBcIllcIiwgZVR5cGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfb3B0cy5wYXR0ZXJuQXJndW1lbnQgPT0gXCJtb250aFwiKSB7XG4gICAgICAgICAgbnZhbC5wdXNoKGluc3BlY3RWYWx1ZSgwLCBcIllcIiwgZVR5cGUpKTtcbiAgICAgICAgICBudmFsLnB1c2goJy0nICsgaW5zcGVjdFZhbHVlKDAsIFwiTVwiLCBlVHlwZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKF9vcHRzLnBhdHRlcm5Bcmd1bWVudCA9PSBcInRpbWVcIikge1xuICAgICAgICAgIG52YWwucHVzaChpbnNwZWN0VmFsdWUoMCwgXCJZXCIsIGVUeXBlKSk7XG4gICAgICAgICAgbnZhbC5wdXNoKCctJyArIGluc3BlY3RWYWx1ZSgwLCBcIk1cIiwgZVR5cGUpKTtcbiAgICAgICAgICBudmFsLnB1c2goJy0nICsgaW5zcGVjdFZhbHVlKDAsIFwiRFwiLCBlVHlwZSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgbnZhbC5wdXNoKCcgJyArIGluc3BlY3RWYWx1ZSgwLCBcImhcIiwgZVR5cGUpKTtcbiAgICAgICAgICBudmFsLnB1c2goJzonICsgaW5zcGVjdFZhbHVlKDAsIFwibVwiLCBlVHlwZSkpO1xuICAgICAgICAgIG52YWwucHVzaCgnOicgKyBpbnNwZWN0VmFsdWUoMCwgXCJzXCIsIGVUeXBlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnZhbC5wdXNoKGluc3BlY3RWYWx1ZSgwLCBcIllcIiwgZVR5cGUpKTtcbiAgICAgICAgICBudmFsLnB1c2goJy0nICsgaW5zcGVjdFZhbHVlKDAsIFwiTVwiLCBlVHlwZSkpO1xuICAgICAgICAgIG52YWwucHVzaCgnLScgKyBpbnNwZWN0VmFsdWUoMCwgXCJEXCIsIGVUeXBlLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnZhbC5qb2luKCcnKTtcbiAgICAgIH0oKTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaGVkUGF0dGVybikgcmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZS5sZW5ndGggPiA0ID8gVS5sZWZ0KHJldHVyblZhbHVlLCA0KSA6IHJldHVyblZhbHVlO1xuXG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG59O1xuXG5sZXQgcGF0dGVybl90aW1lID0ge1xuICBnZXRFbnRlcmFibGVLZXlDb2RlczogZnVuY3Rpb24gKF9vcHRzKSB7XG4gICAgbGV0IGVudGVyYWJsZUtleUNvZGVzID0ge1xuICAgICAgJzE4Nic6ICc6J1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZW50ZXJhYmxlS2V5Q29kZXMsIGN0cmxLZXlzLCBudW1LZXlzKTtcbiAgfSxcbiAgZ2V0UGF0dGVyblZhbHVlOiBmdW5jdGlvbiAoX29wdHMsIG9wdElkeCwgZSwgdmFsLCBlVHlwZSkge1xuICAgIHZhbCA9IHZhbC5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG4gICAgbGV0IHJlZ0V4cFBhdHRlcm4gPSAvXihbMC05XXsxLDJ9KT86PyhbMC05XXsxLDJ9KT86PyhbMC05XXsxLDJ9KT8uKiQvO1xuXG4gICAgbGV0IG1hdGNoZWRQYXR0ZXJuID0gdmFsLm1hdGNoKHJlZ0V4cFBhdHRlcm4pLFxuICAgICAgICByZXR1cm5WYWx1ZSA9IHZhbC5yZXBsYWNlKHJlZ0V4cFBhdHRlcm4sIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICBsZXQgbnZhbCA9IFthcmd1bWVudHNbMV1dO1xuICAgICAgaWYgKGFyZ3VtZW50c1syXSkgbnZhbC5wdXNoKCc6JyArIGFyZ3VtZW50c1syXSk7XG4gICAgICBpZiAoYXJndW1lbnRzWzNdKSBudmFsLnB1c2goJzonICsgYXJndW1lbnRzWzNdKTtcbiAgICAgIHJldHVybiBudmFsLmpvaW4oJycpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFtYXRjaGVkUGF0dGVybikgcmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZS5sZW5ndGggPiAyID8gVS5sZWZ0KHJldHVyblZhbHVlLCAyKSA6IHJldHVyblZhbHVlO1xuXG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG59O1xuXG5sZXQgcGF0dGVybl9iaXpubyA9IHtcbiAgZ2V0RW50ZXJhYmxlS2V5Q29kZXM6IGZ1bmN0aW9uIChfb3B0cykge1xuICAgIGxldCBlbnRlcmFibGVLZXlDb2RlcyA9IHtcbiAgICAgICcxODknOiAnLSdcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGVudGVyYWJsZUtleUNvZGVzLCBjdHJsS2V5cywgbnVtS2V5cyk7XG4gIH0sXG4gIGdldFBhdHRlcm5WYWx1ZTogZnVuY3Rpb24gKF9vcHRzLCBvcHRJZHgsIGUsIHZhbCwgZVR5cGUpIHtcbiAgICB2YWwgPSB2YWwucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgIGxldCByZWdFeHBQYXR0ZXJuID0gL14oWzAtOV17M30pXFwtPyhbMC05XXsxLDJ9KT9cXC0/KFswLTldezEsNX0pPy4qJC8sXG4gICAgICAgIHJldHVyblZhbHVlID0gdmFsLnJlcGxhY2UocmVnRXhwUGF0dGVybiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIGxldCBudmFsID0gW2FyZ3VtZW50c1sxXV07XG4gICAgICBpZiAoYXJndW1lbnRzWzJdKSBudmFsLnB1c2goYXJndW1lbnRzWzJdKTtcbiAgICAgIGlmIChhcmd1bWVudHNbM10pIG52YWwucHVzaChhcmd1bWVudHNbM10pO1xuICAgICAgcmV0dXJuIG52YWwuam9pbihcIi1cIik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cbn07XG5cbmxldCBwYXR0ZXJuX3Bob25lID0ge1xuICBnZXRFbnRlcmFibGVLZXlDb2RlczogZnVuY3Rpb24gKF9vcHRzKSB7XG4gICAgbGV0IGVudGVyYWJsZUtleUNvZGVzID0ge1xuICAgICAgJzE4OSc6ICctJywgJzE4OCc6ICcsJ1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZW50ZXJhYmxlS2V5Q29kZXMsIGN0cmxLZXlzLCBudW1LZXlzKTtcbiAgfSxcbiAgZ2V0UGF0dGVyblZhbHVlOiBmdW5jdGlvbiAoX29wdHMsIG9wdElkeCwgZSwgdmFsLCBlVHlwZSkge1xuICAgIHZhbCA9IHZhbC5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG4gICAgbGV0IHJlZ0V4cFBhdHRlcm4zID0gL14oWzAtOV17M30pXFwtPyhbMC05XXsxLDR9KT9cXC0/KFswLTldezEsNH0pP1xcLT8oWzAtOV17MSw0fSk/XFwtPyhbMC05XXsxLDR9KT8vO1xuICAgIGlmICh2YWwuc3Vic3RyKDAsIDIpID09IFwiMDJcIikge1xuICAgICAgcmVnRXhwUGF0dGVybjMgPSAvXihbMC05XXsyfSlcXC0/KFswLTldezEsNH0pP1xcLT8oWzAtOV17MSw0fSk/XFwtPyhbMC05XXsxLDR9KT9cXC0/KFswLTldezEsNH0pPy87XG4gICAgfVxuXG4gICAgbGV0IHJldHVyblZhbHVlID0gdmFsLnJlcGxhY2UocmVnRXhwUGF0dGVybjMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICBsZXQgbnZhbCA9IFthcmd1bWVudHNbMV1dO1xuICAgICAgaWYgKGFyZ3VtZW50c1syXSkgbnZhbC5wdXNoKGFyZ3VtZW50c1syXSk7XG4gICAgICBpZiAoYXJndW1lbnRzWzNdKSBudmFsLnB1c2goYXJndW1lbnRzWzNdKTtcbiAgICAgIGlmIChhcmd1bWVudHNbNF0pIG52YWwucHVzaChhcmd1bWVudHNbNF0pO1xuICAgICAgaWYgKGFyZ3VtZW50c1s1XSkgbnZhbC5wdXNoKGFyZ3VtZW50c1s1XSk7XG4gICAgICByZXR1cm4gbnZhbC5qb2luKFwiLVwiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cbn07XG5cbmxldCBwYXR0ZXJuX2NyZWRpdCA9IHtcbiAgZ2V0RW50ZXJhYmxlS2V5Q29kZXM6IGZ1bmN0aW9uIChfb3B0cykge1xuICAgIGxldCBlbnRlcmFibGVLZXlDb2RlcyA9IHtcbiAgICAgICcxODknOiAnLSdcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGVudGVyYWJsZUtleUNvZGVzLCBjdHJsS2V5cywgbnVtS2V5cyk7XG4gIH0sXG4gIGdldFBhdHRlcm5WYWx1ZTogZnVuY3Rpb24gKF9vcHRzLCBvcHRJZHgsIGUsIHZhbCwgZVR5cGUpIHtcbiAgICB2YWwgPSB2YWwucmVwbGFjZSgvXFxEL2csIFwiXCIpLnN1YnN0cmluZygwLCAxNik7XG5cbiAgICBsZXQgcmVnRXhwUGF0dGVybjMgPSAvXihbMC05XXs0fSlcXC0/KFswLTldezR9KT9cXC0/KFswLTldezR9KT9cXC0/KFswLTldezR9KT8vLFxuICAgICAgICByZXR1cm5WYWx1ZSA9IHZhbC5yZXBsYWNlKHJlZ0V4cFBhdHRlcm4zLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgbGV0IG52YWwgPSBbYXJndW1lbnRzWzFdXTtcbiAgICAgIGlmIChhcmd1bWVudHNbMl0pIG52YWwucHVzaChhcmd1bWVudHNbMl0pO1xuICAgICAgaWYgKGFyZ3VtZW50c1szXSkgbnZhbC5wdXNoKGFyZ3VtZW50c1szXSk7XG4gICAgICBpZiAoYXJndW1lbnRzWzRdKSBudmFsLnB1c2goYXJndW1lbnRzWzRdKTtcbiAgICAgIHJldHVybiBudmFsLmpvaW4oXCItXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfVxufTtcblxubGV0IHBhdHRlcm5fY3VzdG9tID0ge1xuICBnZXRFbnRlcmFibGVLZXlDb2RlczogZnVuY3Rpb24gKF9vcHRzKSB7XG4gICAgaWYgKF9vcHRzLmdldEVudGVyYWJsZUtleUNvZGVzKSB7XG4gICAgICByZXR1cm4gX29wdHMuZ2V0RW50ZXJhYmxlS2V5Q29kZXMuY2FsbChfb3B0cywgeyAkaW5wdXQ6IF9vcHRzLiRpbnB1dCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxuICBnZXRQYXR0ZXJuVmFsdWU6IGZ1bmN0aW9uIChfb3B0cywgb3B0SWR4LCBlLCB2YWwsIGVUeXBlKSB7XG4gICAgaWYgKF9vcHRzLmdldFBhdHRlcm5WYWx1ZSkge1xuICAgICAgcmV0dXJuIF9vcHRzLmdldFBhdHRlcm5WYWx1ZS5jYWxsKF9vcHRzLCB7IGV2ZW50OiBlLCAkaW5wdXQ6IF9vcHRzLiRpbnB1dCwgdmFsdWU6IHZhbCB9KTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIOy7qO2KuOuhpCBrZXljb2Rlc1xuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBsZXQgY3RybEtleXMgPSB7XG4gICAgXCIxOFwiOiBcIktFWV9BTFRcIixcbiAgICBcIjhcIjogXCJLRVlfQkFDS1NQQUNFXCIsXG4gICAgXCIxN1wiOiBcIktFWV9DT05UUk9MXCIsXG4gICAgXCI0NlwiOiBcIktFWV9ERUxFVEVcIixcbiAgICBcIjQwXCI6IFwiS0VZX0RPV05cIixcbiAgICBcIjM1XCI6IFwiS0VZX0VORFwiLFxuICAgIFwiMTg3XCI6IFwiS0VZX0VRVUFMXCIsXG4gICAgXCIyN1wiOiBcIktFWV9FU0NcIixcbiAgICBcIjM2XCI6IFwiS0VZX0hPTUVcIixcbiAgICBcIjQ1XCI6IFwiS0VZX0lOU0VSVFwiLFxuICAgIFwiMzdcIjogXCJLRVlfTEVGVFwiLFxuICAgIFwiMTg5XCI6IFwiS0VZX01JTlVTXCIsXG4gICAgXCIzNFwiOiBcIktFWV9QQUdFRE9XTlwiLFxuICAgIFwiMzNcIjogXCJLRVlfUEFHRVVQXCIsXG4gICAgXCIxM1wiOiBcIktFWV9SRVRVUk5cIixcbiAgICBcIjM5XCI6IFwiS0VZX1JJR0hUXCIsXG4gICAgXCIxNlwiOiBcIktFWV9TSElGVFwiLFxuICAgIC8vIFwiMzJcIjogXCJLRVlfU1BBQ0VcIixcbiAgICBcIjlcIjogXCJLRVlfVEFCXCIsXG4gICAgXCIzOFwiOiBcIktFWV9VUFwiLFxuICAgIFwiOTFcIjogXCJLRVlfV0lORE9XXCJcbiAgfTtcbiAgICogYGBgXG4gICAqL1xuICBjdHJsS2V5czogY3RybEtleXMsXG4gIC8qKlxuICAgKiDsiKvsnpDtgqTtjKjrk5wga2V5Y29kZXNcbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogbGV0IG51bUtleXMgPSB7XG4gICAgJzQ4JzogMSwgJzQ5JzogMSwgJzUwJzogMSwgJzUxJzogMSwgJzUyJzogMSwgJzUzJzogMSwgJzU0JzogMSwgJzU1JzogMSwgJzU2JzogMSwgJzU3JzogMSxcbiAgICAnOTYnOiAxLCAnOTcnOiAxLCAnOTgnOiAxLCAnOTknOiAxLCAnMTAwJzogMSwgJzEwMSc6IDEsICcxMDInOiAxLCAnMTAzJzogMSwgJzEwNCc6IDEsICcxMDUnOiAxXG4gIH07XG4gICAqIGBgYFxuICAgKi9cbiAgbnVtS2V5czogbnVtS2V5cyxcbiAgLyoqXG4gICAqIO2Gte2ZlO2MqO2EtFxuICAgKi9cbiAgbW9uZXk6IHBhdHRlcm5fbW9uZXksXG4gIC8qKlxuICAgKiDsiKvsnpDtjKjthLRcbiAgICovXG4gIG51bWJlcjogcGF0dGVybl9udW1iZXIsXG4gIC8qKlxuICAgKiDrgqDsp5ztjKjthLRcbiAgICovXG4gIGRhdGU6IHBhdHRlcm5fZGF0ZSxcbiAgLyoqXG4gICAqIOyLnOqwhO2MqO2EtFxuICAgKi9cbiAgdGltZTogcGF0dGVybl90aW1lLFxuICAvKipcbiAgICog7ZWc6rWtIOyCrOyXheyekCDrsojtmLgg7Yyo7YS0XG4gICAqL1xuICBiaXpubzogcGF0dGVybl9iaXpubyxcbiAgLyoqXG4gICAqIOyghO2ZlOuyiO2YuCDtjKjthLRcbiAgICovXG4gIHBob25lOiBwYXR0ZXJuX3Bob25lLFxuICBjcmVkaXQ6IHBhdHRlcm5fY3JlZGl0LFxuICAvKipcbiAgICog7IKs7Jqp7J6QIOygleydmCDtjKjthLQg7IKs7Jqp7IucXG4gICAqL1xuICBjdXN0b206IHBhdHRlcm5fY3VzdG9tXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJRm9ybWF0dGVyL0FYNlVJRm9ybWF0dGVyX2Zvcm1hdHRlci5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBqUXVlcnkgZnJvbSBcImpxbWluXCI7XG5pbXBvcnQgQVg2VUlDb3JlIGZyb20gXCIuL0FYNlVJQ29yZS5qc1wiO1xuaW1wb3J0IFUgZnJvbSBcIi4vQVg2VXRpbFwiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCIuL0FYNk11c3RhY2hlLmpzXCI7XG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIGltcG9ydCAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxuY29uc3QgZ2V0Qm9keVRtcGwgPSBmdW5jdGlvbiAoZGF0YSwgY29sdW1uS2V5cykge1xuICBjb25zdCBkZWZhdWx0TWFzayA9IGZ1bmN0aW9uIChjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxkaXYgZGF0YS1heDZ1aS1tYXNrPVwiXCIgY2xhc3M9XCJ7e3RoZW1lfX1cIiBpZD1cInt7bWFza0lkfX1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtbWFzay1iZ1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJheC1tYXNrLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1hc2stYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICB7e3tib2R5fX19XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gIH07XG4gIHJldHVybiBtdXN0YWNoZS5yZW5kZXIoZGVmYXVsdE1hc2suY2FsbCh0aGlzLCBjb2x1bW5LZXlzKSwgZGF0YSk7XG59O1xuY29uc3Qgb25TdGF0ZUNoYW5nZWQgPSBmdW5jdGlvbiAob3B0cywgdGhhdCkge1xuICBpZiAob3B0cyAmJiBvcHRzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgb3B0cy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9IGVsc2UgaWYgKHRoaXMub25TdGF0ZUNoYW5nZWQpIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gIH1cblxuICBvcHRzID0gbnVsbDtcbiAgdGhhdCA9IG51bGw7XG4gIHJldHVybiB0cnVlO1xufTtcbmNvbnN0IHNldEJvZHkgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICB0aGlzLm1hc2tDb250ZW50ID0gY29udGVudDtcbn07XG5cbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgcHJpdmF0ZSAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgQVg2VUlNYXNrIGV4dGVuZHMgQVg2VUlDb3JlIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SlNPTn1cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHBhcmFtIFtjb25maWcudGhlbWVdXG4gICAgICogQHBhcmFtIFtjb25maWcudGFyZ2V0PWRvY3VtZW50LmJvZHldXG4gICAgICogQHBhcmFtIFtjb25maWcuYW5pbWF0ZVRpbWU9MjUwXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm9uU3RhdGVDaGFuZ2VkXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm9uQ2xpY2tdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29udGVudF1cbiAgICAgKlxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgdGhlbWU6ICcnLFxuICAgICAgdGFyZ2V0OiBqUXVlcnkoZG9jdW1lbnQuYm9keSkuZ2V0KDApLFxuICAgICAgYW5pbWF0ZVRpbWU6IDI1MFxuICAgIH07XG4gICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCB0aGlzLmNvbmZpZywgY29uZmlnKTtcblxuICAgIC8vIOuppOuyhCDrs4DsiJgg7LSI6riw7ZmUXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMubWFza0NvbnRlbnQgPSAnJztcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5zdGF0dXMgPSBcIm9mZlwiO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0pTT059XG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVDb25maWcgPSB7fTtcblxuICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSBcInVuZGVmaW5lZFwiKSB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQgPSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5jb25maWcub25DbGljaztcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25DbGljaztcblxuICAgIHNldEJvZHkuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5jb250ZW50IHx8IFwiXCIpO1xuXG4gICAgLy8gaW5pdCDtmLjstpwg7Jes67aAXG4gICAgdGhpcy5pbml0T25jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGluaXRPbmNlKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy56SW5kZXhdIC0g66eI7Iqk7YGsIOyXmOumrOuovO2KuOydmCB6LWluZGV4IOqwkuydhCDsoJXtlanri4jri6RcbiAgICogQHJldHVybiB7QVg2VUlNYXNrfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBsZXQgbXlNYXNrID0gbmV3IE1hc2soKTtcbiAgICogbXlNYXNrLnNldENvbmZpZyh7XG4gICAgICogIHpJbmRleDogMTAwMFxuICAgICAqIH0pO1xuICAgKlxuICAgKiBteU1hc2sub3BlbigpO1xuICAgKiBgYGBcbiAgICovXG4gIG9wZW4ob3B0aW9ucykge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJvblwiKSB0aGlzLmNsb3NlKCk7XG4gICAgc2V0Qm9keS5jYWxsKHRoaXMsIG9wdGlvbnMgPyBvcHRpb25zLmNvbnRlbnQgfHwgXCJcIiA6IFwiXCIpO1xuXG4gICAgbGV0IF9jZmcgPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHRoaXMuY29uZmlnLCBvcHRpb25zKSxcbiAgICAgICAgdGFyZ2V0ID0gX2NmZy50YXJnZXQsXG4gICAgICAgICR0YXJnZXQgPSBqUXVlcnkodGFyZ2V0KSxcbiAgICAgICAgbWFza0lkID0gJ2F4LW1hc2stJyArIHRoaXMuaW5zdGFuY2VJZCxcbiAgICAgICAgJG1hc2ssXG4gICAgICAgIGNzcyA9IHt9LFxuICAgICAgICB0aGF0ID0ge30sXG4gICAgICAgIHRlbXBsYXRlTmFtZSA9IF9jZmcudGVtcGxhdGVOYW1lLFxuICAgICAgICBib2R5ID0gZ2V0Qm9keVRtcGwoe1xuICAgICAgdGhlbWU6IF9jZmcudGhlbWUsXG4gICAgICBtYXNrSWQ6IG1hc2tJZCxcbiAgICAgIGJvZHk6IHRoaXMubWFza0NvbnRlbnQsXG4gICAgICB0ZW1wbGF0ZU5hbWU6IHRlbXBsYXRlTmFtZVxuICAgIH0pLnRyaW0oKTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hcHBlbmQoYm9keSk7XG5cbiAgICAvLyDrp4jsiqTtgazsnZgg7YOA6rKf7J20IGh0bWwgYm9keSDqsIAg7JWE64uI652866m0XG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09IGpRdWVyeShkb2N1bWVudC5ib2R5KS5nZXQoMCkpIHtcbiAgICAgIGNzcyA9IHtcbiAgICAgICAgcG9zaXRpb246IF9jZmcucG9zaXRpb24gfHwgXCJhYnNvbHV0ZVwiLFxuICAgICAgICBsZWZ0OiAkdGFyZ2V0Lm9mZnNldCgpLmxlZnQsXG4gICAgICAgIHRvcDogJHRhcmdldC5vZmZzZXQoKS50b3AsXG4gICAgICAgIHdpZHRoOiAkdGFyZ2V0Lm91dGVyV2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiAkdGFyZ2V0Lm91dGVySGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgICR0YXJnZXQuYWRkQ2xhc3MoXCJheC1tYXNraW5nXCIpO1xuXG4gICAgICAvLyDrp4jsiqTtgazsnZgg7YOA6rKf7J20IGh0bWwgYm9keeqwgCDslYTri4zqsr3smrAgd2luZG93IHJlc2l6ZSDsnbTrsqTtirjrpbwg7LaU7KCB7ZWY7JesIOyXmOumrOuovO2KuCDrp4jsiqTtgazsnZggQ1NTIOyGjeyEsSDrs4Dqsr1cbiAgICAgIGpRdWVyeSh3aW5kb3cpLm9mZihcInJlc2l6ZS5heDZ1aS1tYXNrLVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vbihcInJlc2l6ZS5heDZ1aS1tYXNrLVwiICsgdGhpcy5pbnN0YW5jZUlkLCBVLnRocm90dGxlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuYWxpZ24oKTtcbiAgICAgIH0sIDEwMCkuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBfY2ZnLnpJbmRleCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY3NzW1wiei1pbmRleFwiXSA9IF9jZmcuekluZGV4O1xuICAgIH1cblxuICAgIHRoaXMuJG1hc2sgPSAkbWFzayA9IGpRdWVyeShcIiNcIiArIG1hc2tJZCk7XG4gICAgdGhpcy4kdGFyZ2V0ID0gJHRhcmdldDtcbiAgICB0aGlzLnN0YXR1cyA9IFwib25cIjtcbiAgICAkbWFzay5jc3MoY3NzKTtcblxuICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgICRtYXNrLm9uKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgICAgIHRoYXQgPSB7XG4gICAgICAgICAgc2VsZjogdGhpcyxcbiAgICAgICAgICBzdGF0ZTogXCJvcGVuXCIsXG4gICAgICAgICAgdHlwZTogXCJjbGlja1wiXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25DbGljay5jYWxsKHRoYXQsIHRoYXQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBudWxsLCB7XG4gICAgICBzZWxmOiB0aGlzLFxuICAgICAgc3RhdGU6IFwib3BlblwiXG4gICAgfSk7XG5cbiAgICAvLyDtmITsnqwg7Zmc7ISx7ZmU65CcIOyEpOyglSDquLDslrVcbiAgICB0aGlzLmFjdGl2ZUNvbmZpZyA9IF9jZmc7XG5cbiAgICBvcHRpb25zID0gbnVsbDtcbiAgICBfY2ZnID0gbnVsbDtcbiAgICB0YXJnZXQgPSBudWxsO1xuICAgICR0YXJnZXQgPSBudWxsO1xuICAgIG1hc2tJZCA9IG51bGw7XG4gICAgJG1hc2sgPSBudWxsO1xuICAgIGNzcyA9IG51bGw7XG4gICAgdGhhdCA9IG51bGw7XG4gICAgdGVtcGxhdGVOYW1lID0gbnVsbDtcbiAgICBib2R5ID0gbnVsbDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIGRlbGF5XG4gICAqIEByZXR1cm4ge0FYNlVJTWFza31cbiAgICovXG4gIGNsb3NlKGRlbGF5KSB7XG4gICAgaWYgKHRoaXMuJG1hc2spIHtcblxuICAgICAgbGV0IF9jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBcIm9mZlwiO1xuICAgICAgICB0aGlzLiRtYXNrLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLiR0YXJnZXQucmVtb3ZlQ2xhc3MoXCJheC1tYXNraW5nXCIpO1xuXG4gICAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgbnVsbCwge1xuICAgICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgICAgc3RhdGU6IFwiY2xvc2VcIlxuICAgICAgICB9KTtcblxuICAgICAgICBqUXVlcnkod2luZG93KS5vZmYoXCJyZXNpemUuYXg2dWktbWFzay1cIiArIHRoaXMuaW5zdGFuY2VJZCk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX2Nsb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgZGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2Nsb3NlLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7QVg2VUlNYXNrfVxuICAgKi9cbiAgZmFkZU91dCgpIHtcbiAgICBpZiAodGhpcy4kbWFzaykge1xuICAgICAgbGV0IF9jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBcIm9mZlwiO1xuICAgICAgICB0aGlzLiRtYXNrLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLiR0YXJnZXQucmVtb3ZlQ2xhc3MoXCJheC1tYXNraW5nXCIpO1xuXG4gICAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgbnVsbCwge1xuICAgICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgICAgc3RhdGU6IFwiY2xvc2VcIlxuICAgICAgICB9KTtcblxuICAgICAgICBqUXVlcnkod2luZG93KS5vZmYoXCJyZXNpemUuYXg2dWktbWFzay1cIiArIHRoaXMuaW5zdGFuY2VJZCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLiRtYXNrLmFkZENsYXNzKFwiZmFkZS1vdXRcIik7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2Nsb3NlLmNhbGwodGhpcyk7XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMuYWN0aXZlQ29uZmlnLmFuaW1hdGVUaW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJuIHtBWDZVSU1hc2t9XG4gICAqL1xuICBhbGlnbigpIHtcbiAgICBpZiAodGhpcy4kbWFzayAmJiB0aGlzLmFjdGl2ZUNvbmZpZyAmJiB0aGlzLmFjdGl2ZUNvbmZpZy50YXJnZXQgJiYgdGhpcy5hY3RpdmVDb25maWcudGFyZ2V0ICE9PSBqUXVlcnkoZG9jdW1lbnQuYm9keSkuZ2V0KDApKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgY3NzID0ge1xuICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmFjdGl2ZUNvbmZpZy5wb3NpdGlvbiB8fCBcImFic29sdXRlXCIsXG4gICAgICAgICAgbGVmdDogdGhpcy4kdGFyZ2V0Lm9mZnNldCgpLmxlZnQsXG4gICAgICAgICAgdG9wOiB0aGlzLiR0YXJnZXQub2Zmc2V0KCkudG9wLFxuICAgICAgICAgIHdpZHRoOiB0aGlzLiR0YXJnZXQub3V0ZXJXaWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogdGhpcy4kdGFyZ2V0Lm91dGVySGVpZ2h0KClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy4kbWFzay5jc3MoY3NzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZGVzdG9yeSgpIHtcbiAgICBpZiAodGhpcy4kbWFzaykgdGhpcy4kbWFzay5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy4kdGFyZ2V0KSB0aGlzLiR0YXJnZXQucmVtb3ZlQ2xhc3MoXCJheC1tYXNraW5nXCIpO1xuICAgIGpRdWVyeSh3aW5kb3cpLm9mZihcInJlc2l6ZS5heDZ1aS1tYXNrLVwiICsgdGhpcy5pbnN0YW5jZUlkKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBWDZVSU1hc2s7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlNYXNrLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiaW1wb3J0IGpRdWVyeSBmcm9tIFwianFtaW5cIjtcbmltcG9ydCBBWDZVSUNvcmUgZnJvbSBcIi4vQVg2VUlDb3JlLmpzXCI7XG5pbXBvcnQgVSBmcm9tIFwiLi9BWDZVdGlsLmpzXCI7XG5pbXBvcnQgaW5mbyBmcm9tIFwiLi9BWDZJbmZvLmpzXCI7XG5pbXBvcnQgbXVzdGFjaGUgZnJvbSBcIi4vQVg2TXVzdGFjaGUuanNcIjtcblxuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBpbXBvcnQgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbmNvbnN0IGRpYWxvZ1RtcGwgPSBmdW5jdGlvbiAoY29sdW1uS2V5cykge1xuICByZXR1cm4gYCBcbjxkaXYgaWQ9XCJ7e2RpYWxvZ0lkfX1cIiBkYXRhLWRpYWxvZy1lbHM9XCJyb290XCIgZGF0YS1heDZ1aS1kaWFsb2c9XCJcIiBjbGFzcz1cInt7dGhlbWV9fVwiPlxuICAgIDxkaXYgY2xhc3M9XCJheC1kaWFsb2ctaGVhZGVyXCIgZGF0YS1kaWFsb2ctZWxzPVwiaGVhZGVyXCI+XG4gICAgICAgIHt7e3RpdGxlfX19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImF4LWRpYWxvZy1ib2R5XCIgZGF0YS1kaWFsb2ctZWxzPVwiYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtZGlhbG9nLW1zZ1wiPnt7e21zZ319fTwvZGl2PlxuICAgICAgICBcbiAgICAgICAge3sjaW5wdXR9fVxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtZGlhbG9nLXByb21wdFwiPlxuICAgICAgICAgICAge3sjQGVhY2h9fVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIHt7I0B2YWx1ZS5sYWJlbH19XG4gICAgICAgICAgICA8bGFiZWw+e3sjX2NybGZ9fXt7ey59fX17ey9fY3JsZn19PC9sYWJlbD5cbiAgICAgICAgICAgIHt7L0B2YWx1ZS5sYWJlbH19XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInt7QHZhbHVlLnR5cGV9fVwiIHBsYWNlaG9sZGVyPVwie3tAdmFsdWUucGxhY2Vob2xkZXJ9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sIHt7QHZhbHVlLnRoZW1lfX1cIiBkYXRhLWRpYWxvZy1wcm9tcHQ9XCJ7e0BrZXl9fVwiIHN0eWxlPVwid2lkdGg6MTAwJTtcIiB2YWx1ZT1cInt7QHZhbHVlLnZhbHVlfX1cIiAvPlxuICAgICAgICAgICAge3sjQHZhbHVlLmhlbHB9fVxuICAgICAgICAgICAgPHAgY2xhc3M9XCJoZWxwLWJsb2NrXCI+e3sjX2NybGZ9fXt7Ln19e3svX2NybGZ9fTwvcD5cbiAgICAgICAgICAgIHt7L0B2YWx1ZS5oZWxwfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3svQGVhY2h9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3svaW5wdXR9fVxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImF4LWRpYWxvZy1idXR0b25zXCIgZGF0YS1kaWFsb2ctZWxzPVwiYnV0dG9uc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LWJ1dHRvbi13cmFwXCI+XG4gICAgICAgICAgICB7eyNidG5zfX1cbiAgICAgICAgICAgICAgICB7eyNAZWFjaH19XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1kaWFsb2ctYnRuPVwie3tAa2V5fX1cIiBjbGFzcz1cImJ0biBidG4te3tAdmFsdWUudGhlbWV9fVwiPnt7QHZhbHVlLmxhYmVsfX08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7ey9AZWFjaH19XG4gICAgICAgICAgICB7ey9idG5zfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHt7I2FkZGl0aW9uYWxDb250ZW50fX1cbiAgICAgICAgPGRpdiBkYXRhLWRpYWxvZy1lbHM9XCJhZGRpdGlvbmFsLWNvbnRlbnRcIj57e3sufX19PC9kaXY+XG4gICAgICAgIHt7L2FkZGl0aW9uYWxDb250ZW50fX1cbiAgICA8L2Rpdj5cbjwvZGl2PiAgXG5gO1xufTtcbmNvbnN0IG9uU3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKG9wdHMsIHRoYXQpIHtcbiAgaWYgKG9wdHMgJiYgb3B0cy5vblN0YXRlQ2hhbmdlZCkge1xuICAgIG9wdHMub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfSBlbHNlIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9XG5cbiAgb3B0cyA9IG51bGw7XG4gIHRoYXQgPSBudWxsO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBnZXRDb250ZW50ID0gZnVuY3Rpb24gKGRpYWxvZ0lkLCBvcHRzKSB7XG4gIGxldCBkYXRhID0ge1xuICAgIGRpYWxvZ0lkOiBkaWFsb2dJZCxcbiAgICB0aXRsZTogb3B0cy50aXRsZSB8fCB0aGlzLmNvbmZpZy50aXRsZSB8fCBcIlwiLFxuICAgIG1zZzogKG9wdHMubXNnIHx8IHRoaXMuY29uZmlnLm1zZyB8fCBcIlwiKS5yZXBsYWNlKC9cXG4vZywgXCI8YnIvPlwiKSxcbiAgICBpbnB1dDogb3B0cy5pbnB1dCxcbiAgICBidG5zOiBvcHRzLmJ0bnMsXG4gICAgJ19jcmxmJzogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXFxuL2csIFwiPGJyLz5cIik7XG4gICAgfSxcbiAgICBhZGRpdGlvbmFsQ29udGVudDogZnVuY3Rpb24gKGFkZGl0aW9uYWxDb250ZW50KSB7XG4gICAgICBpZiAoVS5pc0Z1bmN0aW9uKGFkZGl0aW9uYWxDb250ZW50KSkge1xuICAgICAgICByZXR1cm4gYWRkaXRpb25hbENvbnRlbnQuY2FsbChvcHRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhZGRpdGlvbmFsQ29udGVudDtcbiAgICAgIH1cbiAgICB9KG9wdHMuYWRkaXRpb25hbENvbnRlbnQpXG4gIH07XG5cbiAgcmV0dXJuIG11c3RhY2hlLnJlbmRlcihkaWFsb2dUbXBsLmNhbGwodGhpcyksIGRhdGEpO1xufTtcbmNvbnN0IG9wZW4gPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgbGV0IHBvcyA9IHt9LFxuICAgICAgYm94ID0ge1xuICAgIHdpZHRoOiBvcHRzLndpZHRoXG4gIH07XG5cbiAgdGhpcy5kaWFsb2dDb25maWcgPSBvcHRzO1xuICB0aGlzLiRhY3RpdmVEaWFsb2cgPSBqUXVlcnkoZ2V0Q29udGVudC5jYWxsKHRoaXMsIG9wdHMuaWQsIG9wdHMpKTtcbiAgdGhpcy4kYWN0aXZlRGlhbG9nLmNzcyh7IHdpZHRoOiBib3gud2lkdGggfSk7XG4gIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hcHBlbmQodGhpcy4kYWN0aXZlRGlhbG9nKTtcblxuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzLmNhbGxiYWNrO1xuICB9XG5cbiAgLy8gZGlhbG9nIOuGkuydtCDqtaztlZjquLAgLSDrhIjruYTqsIAg7KCV7ZW07KeA66m0IOuGkuydtOqwgCDrs4Dqsr0g65CgIOqygy5cbiAgb3B0cy5oZWlnaHQgPSBib3guaGVpZ2h0ID0gdGhpcy4kYWN0aXZlRGlhbG9nLmhlaWdodCgpO1xuXG4gIC8vLSBwb3NpdGlvbiDsoJXroKxcbiAgaWYgKHR5cGVvZiBvcHRzLnBvc2l0aW9uID09PSBcInVuZGVmaW5lZFwiIHx8IG9wdHMucG9zaXRpb24gPT09IFwiY2VudGVyXCIpIHtcbiAgICBwb3MudG9wID0galF1ZXJ5KHdpbmRvdykuaGVpZ2h0KCkgLyAyIC0gYm94LmhlaWdodCAvIDI7XG4gICAgcG9zLmxlZnQgPSBqUXVlcnkod2luZG93KS53aWR0aCgpIC8gMiAtIGJveC53aWR0aCAvIDI7XG4gIH0gZWxzZSB7XG4gICAgcG9zLmxlZnQgPSBvcHRzLnBvc2l0aW9uLmxlZnQgfHwgMDtcbiAgICBwb3MudG9wID0gb3B0cy5wb3NpdGlvbi50b3AgfHwgMDtcbiAgfVxuICBpZiAodGhpcy5jb25maWcuekluZGV4KSB7XG4gICAgcG9zW1wiei1pbmRleFwiXSA9IHRoaXMuY29uZmlnLnpJbmRleDtcbiAgfVxuXG4gIHRoaXMuJGFjdGl2ZURpYWxvZy5jc3MocG9zKS5vbihvcHRzLmNsaWNrRXZlbnROYW1lLCBcIltkYXRhLWRpYWxvZy1idG5dXCIsIGUgPT4ge1xuICAgIGJ0bk9uQ2xpY2suY2FsbCh0aGlzLCBlIHx8IHdpbmRvdy5ldmVudCwgb3B0cywgY2FsbGJhY2spO1xuICB9KS5maW5kKG9wdHMuZGlhbG9nVHlwZSA9PT0gXCJwcm9tcHRcIiA/IFwiW2RhdGEtZGlhbG9nLXByb21wdF1cIiA6IFwiW2RhdGEtZGlhbG9nLWJ0bl1cIikudHJpZ2dlcihcImZvY3VzXCIpO1xuXG4gIC8vIGJpbmQga2V5IGV2ZW50XG4gIGpRdWVyeSh3aW5kb3cpLm9uKFwia2V5ZG93bi5heDZkaWFsb2dcIiwgZSA9PiB7XG4gICAgb25LZXl1cC5jYWxsKHRoaXMsIGUgfHwgd2luZG93LmV2ZW50LCBvcHRzLCBjYWxsYmFjayk7XG4gIH0pLm9uKFwicmVzaXplLmF4NmRpYWxvZ1wiLCBVLnRocm90dGxlKGZ1bmN0aW9uIChlKSB7XG4gICAgYWxpZ24uY2FsbCh0aGlzLCBlIHx8IHdpbmRvdy5ldmVudCk7XG4gIH0sIDMwKS5iaW5kKHRoaXMpKTtcblxuICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIG9wdHMsIHtcbiAgICBzZWxmOiB0aGlzLFxuICAgIHN0YXRlOiBcIm9wZW5cIlxuICB9KTtcblxuICBpZiAob3B0cy5hdXRvQ2xvc2VUaW1lKSB7XG4gICAgdGhpcy5hdXRvQ2xvc2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0sIG9wdHMuYXV0b0Nsb3NlVGltZSk7XG4gIH1cblxuICBwb3MgPSBudWxsO1xuICBib3ggPSBudWxsO1xufTtcbmNvbnN0IGFsaWduID0gZnVuY3Rpb24gKGUpIHtcbiAgaWYgKCF0aGlzLiRhY3RpdmVEaWFsb2cpIHJldHVybiB0aGlzO1xuICBsZXQgb3B0cyA9IHRoaXMuZGlhbG9nQ29uZmlnLFxuICAgICAgYm94ID0ge1xuICAgIHdpZHRoOiBvcHRzLndpZHRoLFxuICAgIGhlaWdodDogb3B0cy5oZWlnaHRcbiAgfTtcblxuICAvLy0gcG9zaXRpb24g7KCV66CsXG4gIGlmICh0eXBlb2Ygb3B0cy5wb3NpdGlvbiA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvcHRzLnBvc2l0aW9uID09PSBcImNlbnRlclwiKSB7XG4gICAgYm94LnRvcCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDIgLSBib3guaGVpZ2h0IC8gMjtcbiAgICBib3gubGVmdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gMiAtIGJveC53aWR0aCAvIDI7XG4gIH0gZWxzZSB7XG4gICAgYm94LmxlZnQgPSBvcHRzLnBvc2l0aW9uLmxlZnQgfHwgMDtcbiAgICBib3gudG9wID0gb3B0cy5wb3NpdGlvbi50b3AgfHwgMDtcbiAgfVxuICBpZiAoYm94LmxlZnQgPCAwKSBib3gubGVmdCA9IDA7XG4gIGlmIChib3gudG9wIDwgMCkgYm94LnRvcCA9IDA7XG5cbiAgdGhpcy4kYWN0aXZlRGlhbG9nLmNzcyhib3gpO1xuXG4gIG9wdHMgPSBudWxsO1xuICBib3ggPSBudWxsO1xuXG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IGJ0bk9uQ2xpY2sgPSBmdW5jdGlvbiAoZSwgb3B0cywgY2FsbGJhY2ssIHRhcmdldCwgaykge1xuICBsZXQgdGhhdCxcbiAgICAgIGVtcHR5S2V5ID0gbnVsbDtcblxuICBpZiAoZS5zcmNFbGVtZW50KSBlLnRhcmdldCA9IGUuc3JjRWxlbWVudDtcblxuICB0YXJnZXQgPSBVLmZpbmRQYXJlbnROb2RlKGUudGFyZ2V0LCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRpYWxvZy1idG5cIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHRhcmdldCkge1xuICAgIGsgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kaWFsb2ctYnRuXCIpO1xuXG4gICAgdGhhdCA9IHtcbiAgICAgIHNlbGY6IHRoaXMsXG4gICAgICBrZXk6IGssIHZhbHVlOiBvcHRzLmJ0bnNba10sXG4gICAgICBkaWFsb2dJZDogb3B0cy5pZCxcbiAgICAgIGJ0blRhcmdldDogdGFyZ2V0XG4gICAgfTtcbiAgICBpZiAob3B0cy5kaWFsb2dUeXBlID09PSBcInByb21wdFwiKSB7XG4gICAgICB0aGF0LmlucHV0ID0ge307XG4gICAgICBmb3IgKGxldCBvaSBpbiBvcHRzLmlucHV0KSB7XG4gICAgICAgIHRoYXQuaW5wdXRbb2ldID0gdGhpcy4kYWN0aXZlRGlhbG9nLmZpbmQoJ1tkYXRhLWRpYWxvZy1wcm9tcHQ9JyArIG9pICsgJ10nKS52YWwoKTtcbiAgICAgICAgaWYgKG9wdHMuaW5wdXRbb2ldLnJlcXVpcmVkICYmICh0aGF0LmlucHV0W29pXSA9PSBcIlwiIHx8IHRoYXQuaW5wdXRbb2ldID09IG51bGwpKSB7XG4gICAgICAgICAgZW1wdHlLZXkgPSBvaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0cy5idG5zW2tdLm9uQ2xpY2spIHtcbiAgICAgIG9wdHMuYnRuc1trXS5vbkNsaWNrLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgfSBlbHNlIGlmIChvcHRzLmRpYWxvZ1R5cGUgPT09IFwiYWxlcnRcIikge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKHRoYXQsIHRoYXQpO1xuICAgICAgdGhpcy5jbG9zZSh7IGRvTm90Q2FsbGJhY2s6IHRydWUgfSk7XG4gICAgfSBlbHNlIGlmIChvcHRzLmRpYWxvZ1R5cGUgPT09IFwiY29uZmlybVwiKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgICB0aGlzLmNsb3NlKHsgZG9Ob3RDYWxsYmFjazogdHJ1ZSB9KTtcbiAgICB9IGVsc2UgaWYgKG9wdHMuZGlhbG9nVHlwZSA9PT0gXCJwcm9tcHRcIikge1xuICAgICAgaWYgKGsgPT09ICdvaycpIHtcbiAgICAgICAgaWYgKGVtcHR5S2V5KSB7XG4gICAgICAgICAgdGhpcy4kYWN0aXZlRGlhbG9nLmZpbmQoJ1tkYXRhLWRpYWxvZy1wcm9tcHQ9XCInICsgZW1wdHlLZXkgKyAnXCJdJykuZ2V0KDApLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgICB0aGlzLmNsb3NlKHsgZG9Ob3RDYWxsYmFjazogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICB0aGF0ID0gbnVsbDtcbiAgb3B0cyA9IG51bGw7XG4gIGNhbGxiYWNrID0gbnVsbDtcbiAgdGFyZ2V0ID0gbnVsbDtcbiAgayA9IG51bGw7XG59O1xuY29uc3Qgb25LZXl1cCA9IGZ1bmN0aW9uIChlLCBvcHRzLCBjYWxsYmFjaywgdGFyZ2V0LCBrKSB7XG4gIGxldCB0aGF0LFxuICAgICAgZW1wdHlLZXkgPSBudWxsO1xuXG4gIGlmIChlLmtleUNvZGUgPT0gaW5mby5ldmVudEtleXMuRVNDKSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG4gIGlmIChvcHRzLmRpYWxvZ1R5cGUgPT09IFwicHJvbXB0XCIpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09IGluZm8uZXZlbnRLZXlzLlJFVFVSTikge1xuICAgICAgdGhhdCA9IHtcbiAgICAgICAgc2VsZjogdGhpcyxcbiAgICAgICAga2V5OiBrLCB2YWx1ZTogb3B0cy5idG5zW2tdLFxuICAgICAgICBkaWFsb2dJZDogb3B0cy5pZCxcbiAgICAgICAgYnRuVGFyZ2V0OiB0YXJnZXRcbiAgICAgIH07XG4gICAgICB0aGF0LmlucHV0ID0ge307XG5cbiAgICAgIGZvciAobGV0IG9pIGluIG9wdHMuaW5wdXQpIHtcbiAgICAgICAgdGhhdC5pbnB1dFtvaV0gPSB0aGlzLiRhY3RpdmVEaWFsb2cuZmluZCgnW2RhdGEtZGlhbG9nLXByb21wdD0nICsgb2kgKyAnXScpLnZhbCgpO1xuICAgICAgICBpZiAob3B0cy5pbnB1dFtvaV0ucmVxdWlyZWQgJiYgKHRoYXQuaW5wdXRbb2ldID09IFwiXCIgfHwgdGhhdC5pbnB1dFtvaV0gPT0gbnVsbCkpIHtcbiAgICAgICAgICBlbXB0eUtleSA9IG9pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZW1wdHlLZXkpIHtcbiAgICAgICAgdGhhdCA9IG51bGw7XG4gICAgICAgIGVtcHR5S2V5ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKHRoYXQsIHRoYXQpO1xuICAgICAgdGhpcy5jbG9zZSh7IGRvTm90Q2FsbGJhY2s6IHRydWUgfSk7XG4gICAgfVxuICB9XG5cbiAgdGhhdCA9IG51bGw7XG4gIGVtcHR5S2V5ID0gbnVsbDtcbiAgb3B0cyA9IG51bGw7XG4gIGNhbGxiYWNrID0gbnVsbDtcbiAgdGFyZ2V0ID0gbnVsbDtcbiAgayA9IG51bGw7XG59O1xuXG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIHByaXZhdGUgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIEFYNlVJRGlhbG9nIGV4dGVuZHMgQVg2VUlDb3JlIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SlNPTn1cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHBhcmFtIFtjb25maWcudGhlbWU9J2RlZmF1bHQnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLndpZHRoPTMwMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy50aXRsZT0nJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5tc2c9JyddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5sYW5nLm9rPSdvayddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZy5jYW5jZWw9J2NhbmNlbCddXG4gICAgICogQHBhcmFtIFtjb25maWcuYW5pbWF0ZVRpbWU9MTUwXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmF1dG9DbG9zZVRpbWU9MF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5vblN0YXRlQ2hhbmdlZF1cbiAgICAgKlxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgaWQ6ICdheDYtZGlhbG9nLScgKyB0aGlzLmluc3RhbmNlSWQsXG4gICAgICBjbGlja0V2ZW50TmFtZTogXCJjbGlja1wiLFxuICAgICAgdGhlbWU6ICdkZWZhdWx0JyxcbiAgICAgIHdpZHRoOiAzMDAsXG4gICAgICB0aXRsZTogJ0FYNlVJRGlhbG9nJyxcbiAgICAgIG1zZzogJycsXG4gICAgICBsYW5nOiB7XG4gICAgICAgIFwib2tcIjogXCJva1wiLCBcImNhbmNlbFwiOiBcImNhbmNlbFwiXG4gICAgICB9LFxuICAgICAgYW5pbWF0ZVRpbWU6IDE1MCxcbiAgICAgIGF1dG9DbG9zZVRpbWU6IDBcbiAgICB9O1xuICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgdGhpcy5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAvLyDrqaTrsoQg67OA7IiYIOy0iOq4sO2ZlFxuICAgIC8qKlxuICAgICAqIGRpYWxvZ+qwgCDsl7TroKTsnojripQg7IOB7YOc7JeQ7IScIOuLpOyLnCBvcGVu7J20IOuQmOuptCBxdWV1ZeyXkCDrs7TqtIAg7ZWY7JiA64uk6rCAIGNsb3Nl7ZuEIG9wZW5cbiAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7alF1ZXJ5RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLiRhY3RpdmVEaWFsb2cgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmF1dG9DbG9zZVRpbWVyID0gbnVsbDtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKi9cbiAgaW5pdCgpIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkID0gdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG4gICAgZGVsZXRlIHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkO1xuXG4gICAgLy8gaW5pdCDtmLjstpwg7Jes67aAXG4gICAgdGhpcy5pbml0T25jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGluaXRPbmNlKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBvcHRzXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKiBAcGFyYW0gdHJ5Q291bnRcbiAgICogQHJldHVybiB7QVg2VUlEaWFsb2d9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCB7RGlhbG9nfSBmcm9tIFwiYXg2dWlcIlxuICAgKlxuICAgKiBjb25zdCBkaWFsb2cgPSBuZXcgRGlhbG9nKCk7XG4gICAqIGRpYWxvZy5hbGVydChcIkFsZXJ0IE1lc3NhZ2VcIik7XG4gICAqIGRpYWxvZy5hbGVydCh7XG4gICAgICogICAgIHRpdGxlOiBcIlRpdGxlXCIsXG4gICAgICogICAgIG1zZzogXCJBbGVydCBNZXNzYWdlXCJcbiAgICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBhbGVydChvcHRzLCBjYWxsYmFjaywgdHJ5Q291bnQpIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9wdHMgPSB7XG4gICAgICAgIHRpdGxlOiB0aGlzLmNvbmZpZy50aXRsZSxcbiAgICAgICAgbXNnOiBcIlwiXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoVS5pc1N0cmluZyhvcHRzKSkge1xuICAgICAgb3B0cyA9IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuY29uZmlnLnRpdGxlLFxuICAgICAgICBtc2c6IG9wdHNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3B0cyA9IGpRdWVyeS5leHRlbmQodHJ1ZSwge30sIHRoaXMuY29uZmlnLCBvcHRzLCB7XG4gICAgICBkaWFsb2dUeXBlOiBcImFsZXJ0XCIsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5idG5zID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBvcHRzLmJ0bnMgPSB7XG4gICAgICAgIG9rOiB7IGxhYmVsOiBvcHRzLmxhbmdbXCJva1wiXSwgdGhlbWU6IG9wdHMudGhlbWUgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kYWN0aXZlRGlhbG9nKSB7XG4gICAgICB0aGlzLnF1ZXVlLnB1c2gob3B0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW4uY2FsbCh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIG9wdHNcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqIEBwYXJhbSB0cnlDb3VudFxuICAgKiBAcmV0dXJuIHtBWDZVSURpYWxvZ31cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogaW1wb3J0IHtEaWFsb2d9IGZyb20gXCJheDZ1aVwiXG4gICAqXG4gICAqIGNvbnN0IGRpYWxvZyA9IG5ldyBEaWFsb2coKTtcbiAgICogZGlhbG9nLmNvbmZpcm0oe1xuICAgICAqICAgICB0aXRsZTogXCLtmZXsnbhcIixcbiAgICAgKiAgICAgbXNnOiBcIu2ZleyduCDrmJDripQg7Leo7IaM66W8IOuIhOultOyEuOyalFwiXG4gICAgICogfSwgZnVuY3Rpb24gKHJlcykge1xuICAgICAqICAgICAvL2NvbnNvbGUubG9nKHRoaXMsIGEsIGIpO1xuICAgICAqICAgICBpZihyZXMua2V5ID09IFwib2tcIil7XG4gICAgICogICAgICAgICBjb25zb2xlLmxvZyhcIk9LXCIpO1xuICAgICAqICAgICB9XG4gICAgICogICAgIGVsc2UgaWYocmVzLmtleSA9PSBcImNhbmNlbFwiKXtcbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKFwiQ0FOQ0VMXCIpO1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAqXG4gICAqIC8vIGJ0bnMgY3VzdG9tXG4gICAqIGRpYWxvZy5jb25maWcoe1xuICAgICAqICB0aXRsZTogXCLsmIgv7JWE64uI7JikXCIsXG4gICAgICogIG1zZzogXCLri7nsi6DsnYAg6rCc67Cc7J6QIOyeheuLiOq5jD9cIixcbiAgICAgKiAgYnRuczoge1xuICAgICAqICAgICAgWToge2xhYmVsOiBcIuyYiFwifSxcbiAgICAgKiAgICAgIE46IHtsYWJlbDogXCLslYTri4jsmKRcIn1cbiAgICAgKiAgfVxuICAgICAqIH0sIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgKiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29uZmlybShvcHRzLCBjYWxsYmFjaywgdHJ5Q291bnQpIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9wdHMgPSB7XG4gICAgICAgIHRpdGxlOiB0aGlzLmNvbmZpZy50aXRsZSxcbiAgICAgICAgbXNnOiBcIlwiXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoVS5pc1N0cmluZyhvcHRzKSkge1xuICAgICAgb3B0cyA9IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuY29uZmlnLnRpdGxlLFxuICAgICAgICBtc2c6IG9wdHNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3B0cyA9IGpRdWVyeS5leHRlbmQodHJ1ZSwge30sIHRoaXMuY29uZmlnLCBvcHRzLCB7XG4gICAgICBkaWFsb2dUeXBlOiBcImNvbmZpcm1cIixcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmJ0bnMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9wdHMuYnRucyA9IHtcbiAgICAgICAgb2s6IHsgbGFiZWw6IG9wdHMubGFuZ1tcIm9rXCJdLCB0aGVtZTogb3B0cy50aGVtZSB9LFxuICAgICAgICBjYW5jZWw6IHsgbGFiZWw6IG9wdHMubGFuZ1tcImNhbmNlbFwiXSB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLiRhY3RpdmVEaWFsb2cpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaChvcHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3Blbi5jYWxsKHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBvcHRzXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKiBAcGFyYW0gdHJ5Q291bnRcbiAgICogQHJldHVybiB7QVg2VUlEaWFsb2d9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCB7RGlhbG9nfSBmcm9tIFwiYXg2dWlcIlxuICAgKlxuICAgKiBjb25zdCBkaWFsb2cgPSBuZXcgRGlhbG9nKCk7XG4gICAqXG4gICAqIGRpYWxvZy5wcm9tcHQoe1xuICAgICAqICB0aXRsZTogXCJwcm9tcHRcIixcbiAgICAgKiAgbXNnOiAn64uk7J2M7J2YIOqwkuydhCDsnoXroKXtlZjshLjsmpQuJyxcbiAgICAgKiAgaW5wdXQ6IHtcbiAgICAgKiAgICAgIGRhdGExOiB7bGFiZWw6IFwiZGF0YTHsnZgg652867KoXCIsIHR5cGU6IFwicGFzc3dvcmRcIn0sXG4gICAgICogICAgICBkYXRhMjoge2xhYmVsOiBcImRhdGEy7J2YIOudvOuyqFwifVxuICAgICAqICB9XG4gICAgICogfSwgZnVuY3Rpb24ocmVzKXtcbiAgICAgKiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgcHJvbXB0KG9wdHMsIGNhbGxiYWNrLCB0cnlDb3VudCkge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgb3B0cyA9IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuY29uZmlnLnRpdGxlLFxuICAgICAgICBtc2c6IFwiXCJcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChVLmlzU3RyaW5nKG9wdHMpKSB7XG4gICAgICBvcHRzID0ge1xuICAgICAgICB0aXRsZTogdGhpcy5jb25maWcudGl0bGUsXG4gICAgICAgIG1zZzogb3B0c1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcHRzID0galF1ZXJ5LmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5jb25maWcsIG9wdHMsIHtcbiAgICAgIGRpYWxvZ1R5cGU6IFwicHJvbXB0XCIsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5pbnB1dCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgb3B0cy5pbnB1dCA9IHtcbiAgICAgICAgdmFsdWU6IHsgbGFiZWw6IFwiXCIgfVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmJ0bnMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9wdHMuYnRucyA9IHtcbiAgICAgICAgb2s6IHsgbGFiZWw6IG9wdHMubGFuZ1tcIm9rXCJdLCB0aGVtZTogb3B0cy50aGVtZSB9LFxuICAgICAgICBjYW5jZWw6IHsgbGFiZWw6IG9wdHMubGFuZ1tcImNhbmNlbFwiXSB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLiRhY3RpdmVEaWFsb2cpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaChvcHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3Blbi5jYWxsKHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBfb3B0aW9uXG4gICAqIEByZXR1cm4ge0FYNlVJRGlhbG9nfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBkaWFsb2cuY2xvc2UoKTtcbiAgICogZGlhbG9nLmNsb3NlKHtjYWxsYmFjazogZnVuY3Rpb24oKXtcbiAgICAgKlxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICBjbG9zZShfb3B0aW9uKSB7XG4gICAgbGV0IG9wdHMsIHRoYXQ7XG5cbiAgICBpZiAodGhpcy4kYWN0aXZlRGlhbG9nKSB7XG4gICAgICBpZiAodGhpcy5hdXRvQ2xvc2VUaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMuYXV0b0Nsb3NlVGltZXIpO1xuXG4gICAgICBvcHRzID0gdGhpcy5kaWFsb2dDb25maWc7XG5cbiAgICAgIHRoaXMuJGFjdGl2ZURpYWxvZy5hZGRDbGFzcyhcImRlc3Ryb3lcIik7XG4gICAgICBqUXVlcnkod2luZG93KS5vZmYoXCJrZXlkb3duLmF4NmRpYWxvZ1wiKS5vZmYoXCJyZXNpemUuYXg2ZGlhbG9nXCIpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuJGFjdGl2ZURpYWxvZykge1xuICAgICAgICAgIHRoaXMuJGFjdGl2ZURpYWxvZy5yZW1vdmUoKTtcbiAgICAgICAgICB0aGlzLiRhY3RpdmVEaWFsb2cgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdCA9IHtcbiAgICAgICAgICBzZWxmOiB0aGlzLFxuICAgICAgICAgIHN0YXRlOiBcImNsb3NlXCIsXG4gICAgICAgICAgZGlhbG9nSWQ6IG9wdHMuaWRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoX29wdGlvbiAmJiBVLmlzRnVuY3Rpb24oX29wdGlvbi5jYWxsYmFjaykpIHtcbiAgICAgICAgICBfb3B0aW9uLmNhbGxiYWNrLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0cy5jYWxsYmFjayAmJiAoIV9vcHRpb24gfHwgIV9vcHRpb24uZG9Ob3RDYWxsYmFjaykpIHtcbiAgICAgICAgICBvcHRzLmNhbGxiYWNrLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0cyAmJiBvcHRzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgb3B0cy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub25TdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDsl7TroKTslbwg7ZWgIO2BkOqwgCDrgqjslYQg7J6I64uk66m0IO2BkOyVhOydtO2FnOycvOuhnCDri6Tsi5wgb3BlblxuICAgICAgICBpZiAodGhpcy5xdWV1ZSAmJiB0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIG9wZW4uY2FsbCh0aGlzLCB0aGlzLnF1ZXVlLnNoaWZ0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0cyA9IG51bGw7XG4gICAgICAgIHRoYXQgPSBudWxsO1xuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLmNvbmZpZy5hbmltYXRlVGltZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFYNlVJRGlhbG9nO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJRGlhbG9nLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiaW1wb3J0IGpRdWVyeSBmcm9tIFwianFtaW5cIjtcbmltcG9ydCBBWDZVSUNvcmUgZnJvbSBcIi4vQVg2VUlDb3JlXCI7XG5pbXBvcnQgaW5mbyBmcm9tIFwiLi9BWDZJbmZvXCI7XG5pbXBvcnQgVSBmcm9tIFwiLi9BWDZVdGlsXCI7XG5pbXBvcnQgbXVzdGFjaGUgZnJvbSBcIi4vQVg2TXVzdGFjaGVcIjtcbmltcG9ydCBGb3JtYXR0ZXIgZnJvbSBcIi4vQVg2VUlGb3JtYXR0ZXJcIjtcbmltcG9ydCBDYWxlbmRhciBmcm9tIFwiLi9BWDZVSUNhbGVuZGFyXCI7XG5pbXBvcnQgUGFsZXR0ZSBmcm9tIFwiLi9BWDZVSVBhbGV0dGVcIjtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgaW1wb3J0ICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG5sZXQgdG1wbCA9IHtcbiAgcGlja2VyVG1wbChjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbjxkaXYgZGF0YS1heDZ1aS1waWNrZXI9XCJcIiBjbGFzcz1cInt7dGhlbWV9fVwiIGlkPVwie3tpZH19XCIgZGF0YS1waWNrZXItZWxzPVwicm9vdFwiIHt7I3pJbmRleH19c3R5bGU9XCJ6LWluZGV4Ont7ekluZGV4fX07XCJ7ey96SW5kZXh9fT5cbiAgICB7eyN0aXRsZX19XG4gICAgICAgIDxkaXYgY2xhc3M9XCJheC1waWNrZXItaGVhZGluZ1wiPnt7dGl0bGV9fTwvZGl2PlxuICAgIHt7L3RpdGxlfX1cbiAgICA8ZGl2IGNsYXNzPVwiYXgtcGlja2VyLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImF4LXBpY2tlci1jb250ZW50XCIgZGF0YS1waWNrZXItZWxzPVwiY29udGVudFwiIHN0eWxlPVwid2lkdGg6e3tjb250ZW50V2lkdGh9fXB4O1wiPjwvZGl2PlxuICAgICAgICB7eyNidG5zfX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJheC1waWNrZXItYnV0dG9uc1wiPlxuICAgICAgICAgICAge3sjYnRuc319XG4gICAgICAgICAgICAgICAge3sjQGVhY2h9fVxuICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1waWNrZXItYnRuPVwie3tAa2V5fX1cIiBjbGFzcz1cInt7QHZhbHVlLnRoZW1lfX1cIj57e0B2YWx1ZS5sYWJlbH19PC9idXR0b24+XG4gICAgICAgICAgICAgICAge3svQGVhY2h9fVxuICAgICAgICAgICAge3svYnRuc319XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAge3svYnRuc319XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImF4LXBpY2tlci1hcnJvd1wiPjwvZGl2PlxuPC9kaXY+XG5gO1xuICB9XG59O1xuXG5jb25zdCBvblN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uIChpdGVtLCB0aGF0KSB7XG4gIGlmIChpdGVtICYmIGl0ZW0ub25TdGF0ZUNoYW5nZWQpIHtcbiAgICBpdGVtLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gIH0gZWxzZSBpZiAodGhpcy5vblN0YXRlQ2hhbmdlZCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBiaW5kUGlja2VyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBwaWNrZXJFdmVudCA9IHtcbiAgICAnZm9jdXMnOiBmdW5jdGlvbiAocXVlSWR4LCBlKSB7XG4gICAgICB0aGlzLm9wZW4ocXVlSWR4KTtcbiAgICB9LFxuICAgICdjbGljayc6IGZ1bmN0aW9uIChxdWVJZHgsIGUpIHtcbiAgICAgIHRoaXMub3BlbihxdWVJZHgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGlja2VyVHlwZSA9IHtcbiAgICAnQGZuJzogZnVuY3Rpb24gKHF1ZUlkeCwgX2lucHV0KSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgICAgICBpbnB1dExlbmd0aCA9IF9pbnB1dC5sZW5ndGgsXG4gICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICBpbnB1dExlbmd0aDogaW5wdXRMZW5ndGggfHwgMVxuICAgICAgfTtcblxuICAgICAgaWYgKGlucHV0TGVuZ3RoID4gMSkge1xuICAgICAgICBjb25maWcuYnRucyA9IHtcbiAgICAgICAgICBvazogeyBsYWJlbDogdGhpcy5jb25maWcubGFuZ1tcIm9rXCJdLCB0aGVtZTogdGhpcy5jb25maWcudGhlbWUgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIGNvbmZpZywgaXRlbSk7XG5cbiAgICAgIGNvbmZpZyA9IG51bGw7XG4gICAgICBpbnB1dExlbmd0aCA9IG51bGw7XG4gICAgfSxcbiAgICAnZGF0ZSc6IGZ1bmN0aW9uIChxdWVJZHgsIF9pbnB1dCkge1xuICAgICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgICAgY29udGVudFdpZHRoID0gaXRlbS5jb250ZW50ID8gaXRlbS5jb250ZW50LndpZHRoIHx8IDI3MCA6IDI3MCxcbiAgICAgICAgICBjb250ZW50TWFyZ2luID0gaXRlbS5jb250ZW50ID8gaXRlbS5jb250ZW50Lm1hcmdpbiB8fCA1IDogNSxcbiAgICAgICAgICBpbnB1dExlbmd0aCA9IF9pbnB1dC5sZW5ndGgsXG4gICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICBjb250ZW50V2lkdGg6IGNvbnRlbnRXaWR0aCAqIGlucHV0TGVuZ3RoICsgKGlucHV0TGVuZ3RoIC0gMSkgKiBjb250ZW50TWFyZ2luLFxuICAgICAgICBjb250ZW50OiB7IHdpZHRoOiBjb250ZW50V2lkdGgsIG1hcmdpbjogY29udGVudE1hcmdpbiB9LFxuICAgICAgICBpbnB1dExlbmd0aDogaW5wdXRMZW5ndGggfHwgMVxuICAgICAgfTtcblxuICAgICAgaWYgKGlucHV0TGVuZ3RoID4gMSAmJiAhaXRlbS5idG5zKSB7XG4gICAgICAgIGNvbmZpZy5idG5zID0ge1xuICAgICAgICAgIG9rOiB7IGxhYmVsOiB0aGlzLmNvbmZpZy5sYW5nW1wib2tcIl0sIHRoZW1lOiB0aGlzLmNvbmZpZy50aGVtZSB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHRoaXMucXVldWVbcXVlSWR4XSA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgY29uZmlnLCBpdGVtKTtcblxuICAgICAgY29udGVudFdpZHRoID0gbnVsbDtcbiAgICAgIGNvbnRlbnRNYXJnaW4gPSBudWxsO1xuICAgICAgY29uZmlnID0gbnVsbDtcbiAgICAgIGlucHV0TGVuZ3RoID0gbnVsbDtcbiAgICB9LFxuICAgICdzZWN1cmUtbnVtJzogZnVuY3Rpb24gKHF1ZUlkeCwgX2lucHV0KSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgICAgICBpbnB1dExlbmd0aCA9IF9pbnB1dC5sZW5ndGgsXG4gICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICBpbnB1dExlbmd0aDogaW5wdXRMZW5ndGggfHwgMVxuICAgICAgfTtcblxuICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdID0galF1ZXJ5LmV4dGVuZCh0cnVlLCBjb25maWcsIGl0ZW0pO1xuXG4gICAgICBjb25maWcgPSBudWxsO1xuICAgICAgaW5wdXRMZW5ndGggPSBudWxsO1xuICAgIH0sXG4gICAgJ2tleWJvYXJkJzogZnVuY3Rpb24gKHF1ZUlkeCwgX2lucHV0KSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgICAgICBpbnB1dExlbmd0aCA9IF9pbnB1dC5sZW5ndGgsXG4gICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICBpbnB1dExlbmd0aDogaW5wdXRMZW5ndGggfHwgMVxuICAgICAgfTtcblxuICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdID0galF1ZXJ5LmV4dGVuZCh0cnVlLCBjb25maWcsIGl0ZW0pO1xuXG4gICAgICBjb25maWcgPSBudWxsO1xuICAgICAgaW5wdXRMZW5ndGggPSBudWxsO1xuICAgIH0sXG4gICAgJ251bXBhZCc6IGZ1bmN0aW9uIChxdWVJZHgsIF9pbnB1dCkge1xuICAgICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgICAgaW5wdXRMZW5ndGggPSBfaW5wdXQubGVuZ3RoLFxuICAgICAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgaW5wdXRMZW5ndGg6IGlucHV0TGVuZ3RoIHx8IDFcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucXVldWVbcXVlSWR4XSA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgY29uZmlnLCBpdGVtKTtcblxuICAgICAgY29uZmlnID0gbnVsbDtcbiAgICAgIGlucHV0TGVuZ3RoID0gbnVsbDtcbiAgICB9LFxuICAgICdjb2xvcic6IGZ1bmN0aW9uIChxdWVJZHgsIF9pbnB1dCkge1xuICAgICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgICAgY29udGVudFdpZHRoID0gaXRlbS5jb250ZW50ID8gaXRlbS5jb250ZW50LndpZHRoIHx8IDI3MCA6IDI3MCxcbiAgICAgICAgICBjb250ZW50TWFyZ2luID0gaXRlbS5jb250ZW50ID8gaXRlbS5jb250ZW50Lm1hcmdpbiB8fCA1IDogNSxcbiAgICAgICAgICBpbnB1dExlbmd0aCA9IF9pbnB1dC5sZW5ndGgsXG4gICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICBjb250ZW50V2lkdGg6IGNvbnRlbnRXaWR0aCAqIGlucHV0TGVuZ3RoICsgKGlucHV0TGVuZ3RoIC0gMSkgKiBjb250ZW50TWFyZ2luLFxuICAgICAgICBjb250ZW50OiB7IHdpZHRoOiBjb250ZW50V2lkdGgsIG1hcmdpbjogY29udGVudE1hcmdpbiB9LFxuICAgICAgICBpbnB1dExlbmd0aDogaW5wdXRMZW5ndGggfHwgMVxuICAgICAgfSxcbiAgICAgICAgICAkY29sb3JQcmV2aWV3ID0gaXRlbS4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NnBpY2tlci1jb2xvcj1cInByZXZpZXdcIl0nKTtcblxuICAgICAgaWYgKCRjb2xvclByZXZpZXcuZ2V0KDApKSB7XG4gICAgICAgICRjb2xvclByZXZpZXcuY3NzKHsgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwiI1wiICsgVS5jb2xvcihfaW5wdXQudmFsKCkgfHwgXCIjMDAwMDAwXCIpLmdldEhleFZhbHVlKCkgfSk7XG4gICAgICAgIC8vIOy7rOufrCDtlLzsu6Tsnbgg6rK97JqwIGlucHV07J2YIOqwkuydtCDrs4Dqsr3rkJjrqbQgcHJldmlld+ulvCDsiJjsoJVcbiAgICAgICAgX2lucHV0Lm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkY29sb3JQcmV2aWV3LmNzcyh7IFwiYmFja2dyb3VuZC1jb2xvclwiOiBcIiNcIiArIFUuY29sb3IodGhpcy52YWx1ZSB8fCBcIiMwMDAwMDBcIikuZ2V0SGV4VmFsdWUoKSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnB1dExlbmd0aCA+IDEgJiYgIWl0ZW0uYnRucykge1xuICAgICAgICBjb25maWcuYnRucyA9IHtcbiAgICAgICAgICBvazogeyBsYWJlbDogdGhpcy5jb25maWcubGFuZ1tcIm9rXCJdLCB0aGVtZTogdGhpcy5jb25maWcudGhlbWUgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIGNvbmZpZywgaXRlbSk7XG5cbiAgICAgIGNvbnRlbnRXaWR0aCA9IG51bGw7XG4gICAgICBjb250ZW50TWFyZ2luID0gbnVsbDtcbiAgICAgIGNvbmZpZyA9IG51bGw7XG4gICAgICBpbnB1dExlbmd0aCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAocXVlSWR4KSB7XG4gICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgIGlucHV0O1xuXG4gICAgaWYgKCFpdGVtLmNvbnRlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDZwaWNrZXJcIiwgXCI1MDFcIiwgXCJiaW5kXCIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlucHV0ID0gaXRlbS4kdGFyZ2V0LmdldCgwKS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gXCJJTlBVVFwiID8gaXRlbS4kdGFyZ2V0IDogaXRlbS4kdGFyZ2V0LmZpbmQoJ2lucHV0W3R5cGVdJyk7XG5cbiAgICAvLyDtlajsiJjtg4DsnoVcbiAgICBpZiAoVS5pc0Z1bmN0aW9uKGl0ZW0uY29udGVudCkpIHtcbiAgICAgIHBpY2tlclR5cGVbXCJAZm5cIl0uY2FsbCh0aGlzLCBxdWVJZHgsIGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIga2V5IGluIHBpY2tlclR5cGUpIHtcbiAgICAgICAgaWYgKGl0ZW0uY29udGVudC50eXBlID09IGtleSkge1xuICAgICAgICAgIHBpY2tlclR5cGVba2V5XS5jYWxsKHRoaXMsIHF1ZUlkeCwgaW5wdXQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5wdXQub2ZmKCdmb2N1cy5heDZwaWNrZXInKS5vZmYoJ2NsaWNrLmF4NnBpY2tlcicpLm9uKCdmb2N1cy5heDZwaWNrZXInLCBwaWNrZXJFdmVudC5mb2N1cy5iaW5kKHRoaXMsIHF1ZUlkeCkpLm9uKCdjbGljay5heDZwaWNrZXInLCBwaWNrZXJFdmVudC5jbGljay5iaW5kKHRoaXMsIHF1ZUlkeCkpO1xuXG4gICAgaXRlbS4kdGFyZ2V0LmZpbmQoJy5pbnB1dC1ncm91cC1hZGRvbicpLm9mZignY2xpY2suYXg2cGlja2VyJykub24oJ2NsaWNrLmF4NnBpY2tlcicsIHBpY2tlckV2ZW50LmNsaWNrLmJpbmQodGhpcywgcXVlSWR4KSk7XG5cbiAgICBpZiAoaXRlbS5jb250ZW50LmZvcm1hdHRlcikge1xuICAgICAgdGhpcy5mb3JtYXR0ZXIuYmluZChqUXVlcnkuZXh0ZW5kKHt9LCBpdGVtLmNvbnRlbnQuZm9ybWF0dGVyLCB7IHRhcmdldDogaW5wdXQgfSkpO1xuICAgIH1cblxuICAgIGlucHV0ID0gbnVsbDtcbiAgICBpdGVtID0gbnVsbDtcbiAgICBxdWVJZHggPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSgpO1xuY29uc3QgYWxpZ25QaWNrZXIgPSBmdW5jdGlvbiAoYXBwZW5kKSB7XG4gIGlmICghdGhpcy5hY3RpdmVQaWNrZXIpIHJldHVybiB0aGlzO1xuXG4gIGxldCBfYWxpZ25QaWNrZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCAkd2luZG93ID0galF1ZXJ5KHdpbmRvdyksXG4gICAgICAgICRib2R5ID0galF1ZXJ5KGRvY3VtZW50LmJvZHkpO1xuICAgIGxldCBwb3MgPSB7fSxcbiAgICAgICAgcG9zaXRpb25NYXJnaW4gPSAxMixcbiAgICAgICAgZGltID0ge30sXG4gICAgICAgIHBpY2tlckRpbSA9IHt9LFxuICAgICAgICBwaWNrZXJEaXJlY3Rpb247XG5cbiAgICBwb3MgPSBpdGVtLiR0YXJnZXQub2Zmc2V0KCk7XG4gICAgZGltID0ge1xuICAgICAgd2lkdGg6IGl0ZW0uJHRhcmdldC5vdXRlcldpZHRoKCksXG4gICAgICBoZWlnaHQ6IGl0ZW0uJHRhcmdldC5vdXRlckhlaWdodCgpXG4gICAgfTtcbiAgICBwaWNrZXJEaW0gPSB7XG4gICAgICB3aW5XaWR0aDogTWF0aC5tYXgoJHdpbmRvdy53aWR0aCgpLCAkYm9keS53aWR0aCgpKSxcbiAgICAgIHdpbkhlaWdodDogTWF0aC5tYXgoJHdpbmRvdy5oZWlnaHQoKSwgJGJvZHkuaGVpZ2h0KCkpLFxuICAgICAgd2lkdGg6IHRoaXMuYWN0aXZlUGlja2VyLm91dGVyV2lkdGgoKSxcbiAgICAgIGhlaWdodDogdGhpcy5hY3RpdmVQaWNrZXIub3V0ZXJIZWlnaHQoKVxuICAgIH07XG5cbiAgICAvLyBwaWNrZXIgY3NzKHdpZHRoLCBsZWZ0LCB0b3ApICYgZGlyZWN0aW9uIOqysOyglVxuXG4gICAgaWYgKCFpdGVtLmRpcmVjdGlvbiB8fCBpdGVtLmRpcmVjdGlvbiA9PT0gXCJcIiB8fCBpdGVtLmRpcmVjdGlvbiA9PT0gXCJhdXRvXCIpIHtcbiAgICAgIC8vIHNldCBkaXJlY3Rpb25cbiAgICAgIHBpY2tlckRpcmVjdGlvbiA9IFwidG9wXCI7XG4gICAgICBpZiAocG9zLnRvcCAtIHBpY2tlckRpbS5oZWlnaHQgLSBwb3NpdGlvbk1hcmdpbiA8IDApIHtcbiAgICAgICAgcGlja2VyRGlyZWN0aW9uID0gXCJ0b3BcIjtcbiAgICAgIH0gZWxzZSBpZiAocG9zLnRvcCArIGRpbS5oZWlnaHQgKyBwaWNrZXJEaW0uaGVpZ2h0ICsgcG9zaXRpb25NYXJnaW4gPiBwaWNrZXJEaW0ud2luSGVpZ2h0KSB7XG4gICAgICAgIHBpY2tlckRpcmVjdGlvbiA9IFwiYm90dG9tXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBpY2tlckRpcmVjdGlvbiA9IGl0ZW0uZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlmIChhcHBlbmQpIHtcbiAgICAgIHRoaXMuYWN0aXZlUGlja2VyLmFkZENsYXNzKFwiZGlyZWN0aW9uLVwiICsgcGlja2VyRGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICBsZXQgcG9zaXRpb25DU1MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgY3NzID0geyBsZWZ0OiAwLCB0b3A6IDAgfTtcbiAgICAgIHN3aXRjaCAocGlja2VyRGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICBjc3MubGVmdCA9IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBpY2tlckRpbS53aWR0aCAvIDI7XG4gICAgICAgICAgY3NzLnRvcCA9IHBvcy50b3AgKyBkaW0uaGVpZ2h0ICsgcG9zaXRpb25NYXJnaW47XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICBjc3MubGVmdCA9IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBpY2tlckRpbS53aWR0aCAvIDI7XG4gICAgICAgICAgY3NzLnRvcCA9IHBvcy50b3AgLSBwaWNrZXJEaW0uaGVpZ2h0IC0gcG9zaXRpb25NYXJnaW47XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCArIGRpbS53aWR0aCArIHBvc2l0aW9uTWFyZ2luO1xuICAgICAgICAgIGNzcy50b3AgPSBwb3MudG9wIC0gcGlja2VyRGltLmhlaWdodCAvIDIgKyBkaW0uaGVpZ2h0IC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCAtIHBpY2tlckRpbS53aWR0aCAtIHBvc2l0aW9uTWFyZ2luO1xuICAgICAgICAgIGNzcy50b3AgPSBwb3MudG9wIC0gcGlja2VyRGltLmhlaWdodCAvIDIgKyBkaW0uaGVpZ2h0IC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjc3M7XG4gICAgfSgpO1xuXG4gICAge1xuICAgICAgaWYgKHBpY2tlckRpcmVjdGlvbiA9PSBcInRvcFwiIHx8IHBpY2tlckRpcmVjdGlvbiA9PSBcImJvdHRvbVwiKSB7XG4gICAgICAgIGlmIChwb3NpdGlvbkNTUy5sZWZ0IDwgMCkge1xuICAgICAgICAgIHBvc2l0aW9uQ1NTLmxlZnQgPSBwb3NpdGlvbk1hcmdpbjtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVBpY2tlckFycm93LmNzcyh7IGxlZnQ6IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBvc2l0aW9uQ1NTLmxlZnQgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb25DU1MubGVmdCArIHBpY2tlckRpbS53aWR0aCA+IHBpY2tlckRpbS53aW5XaWR0aCkge1xuICAgICAgICAgIHBvc2l0aW9uQ1NTLmxlZnQgPSBwaWNrZXJEaW0ud2luV2lkdGggLSBwaWNrZXJEaW0ud2lkdGggLSBwb3NpdGlvbk1hcmdpbjtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVBpY2tlckFycm93LmNzcyh7IGxlZnQ6IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBvc2l0aW9uQ1NTLmxlZnQgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVBpY2tlci5jc3MocG9zaXRpb25DU1MpO1xuICB9O1xuICBsZXQgaXRlbSA9IHRoaXMucXVldWVbdGhpcy5hY3RpdmVQaWNrZXJRdWV1ZUluZGV4XTtcblxuICBpZiAoYXBwZW5kKSB7XG4gICAgdGhpcy5hY3RpdmVQaWNrZXIuY3NzKHsgdG9wOiAtOTk5IH0pO1xuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hcHBlbmQodGhpcy5hY3RpdmVQaWNrZXIpO1xuICB9XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgX2FsaWduUGlja2VyLmNhbGwodGhpcywgaXRlbSk7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuY29uc3Qgb25Cb2R5Q2xpY2sgPSBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gIGlmICghdGhpcy5hY3RpdmVQaWNrZXIpIHJldHVybiB0aGlzO1xuXG4gIGxldCBpdGVtID0gdGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZVBpY2tlclF1ZXVlSW5kZXhdO1xuXG4gIHRhcmdldCA9IFUuZmluZFBhcmVudE5vZGUoZS50YXJnZXQsIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcGlja2VyLWVsc1wiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChpdGVtLiR0YXJnZXQuZ2V0KDApID09IHRhcmdldCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLy9jb25zb2xlLmxvZyhcImknbSBwaWNrZXJcIik7XG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IG9uQnRuQ2xpY2sgPSBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gIC8vIGNvbnNvbGUubG9nKCdidG4gY2xpY2snKTtcbiAgaWYgKGUuc3JjRWxlbWVudCkgZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQ7XG5cbiAgdGFyZ2V0ID0gVS5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWNrZXItYnRuXCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICh0YXJnZXQpIHtcbiAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbdGhpcy5hY3RpdmVQaWNrZXJRdWV1ZUluZGV4XSxcbiAgICAgICAgayA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY2tlci1idG5cIik7XG5cbiAgICBpZiAoaXRlbS5idG5zICYmIGl0ZW0uYnRuc1trXS5vbkNsaWNrKSB7XG4gICAgICBsZXQgdGhhdCA9IHtcbiAgICAgICAga2V5OiBrLFxuICAgICAgICB2YWx1ZTogaXRlbS5idG5zW2tdLFxuICAgICAgICBzZWxmOiB0aGlzLFxuICAgICAgICBpdGVtOiBpdGVtXG4gICAgICB9O1xuICAgICAgaXRlbS5idG5zW2tdLm9uQ2xpY2suY2FsbCh0aGF0LCBrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG9uQm9keUtleXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgaWYgKGUua2V5Q29kZSA9PSBpbmZvLmV2ZW50S2V5cy5FU0MpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cbn07XG5jb25zdCBnZXRRdWVJZHggPSBmdW5jdGlvbiAoYm91bmRJRCkge1xuICBpZiAoIVUuaXNTdHJpbmcoYm91bmRJRCkpIHtcbiAgICBib3VuZElEID0galF1ZXJ5KGJvdW5kSUQpLmRhdGEoXCJkYXRhLWF4cGlja2VyLWlkXCIpO1xuICB9XG4gIGlmICghVS5pc1N0cmluZyhib3VuZElEKSkge1xuICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDZwaWNrZXJcIiwgXCI0MDJcIiwgXCJnZXRRdWVJZHhcIikpO1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gVS5zZWFyY2godGhpcy5xdWV1ZSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlkID09IGJvdW5kSUQ7XG4gIH0pO1xufTtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgcHJpdmF0ZSAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgQVg2VUlQaWNrZXIgZXh0ZW5kcyBBWDZVSUNvcmUge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICogQHBhcmFtIFtjb25maWcudGhlbWVdXG4gICAqIEBwYXJhbSBbY29uZmlnLnRhcmdldF1cbiAgICogQHBhcmFtIFtjb25maWcuYW5pbWF0ZVRpbWVdXG4gICAqIEBwYXJhbSBbY29uZmlnLm9uU3RhdGVDaGFuZ2VkXVxuICAgKiBAcGFyYW0gW2NvbmZpZy5vbkNsaWNrXVxuICAgKiBAcGFyYW0gW2NvbmZpZy5jb250ZW50XVxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0pTT059XG4gICAgICogQHBhcmFtIGNvbmZpZ1xuICAgICAqIEBwYXJhbSBbY29uZmlnLnRoZW1lPWRlZmF1bHRdXG4gICAgICogQHBhcmFtIGNvbmZpZy50YXJnZXRcbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5hbmltYXRlVGltZT0xMDBdXG4gICAgICogQHBhcmFtIFtjb25maWcuY2FsZW5kYXJdXG4gICAgICogQHBhcmFtIFtjb25maWcuY2FsZW5kYXIubXVsdGlwbGVTZWxlY3Q9ZmFsc2VdXG4gICAgICogQHBhcmFtIFtjb25maWcuY2FsZW5kYXIuY29udHJvbF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jYWxlbmRhci5jb250cm9sLmxlZnQ9JyYjeDAyMTkwJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jYWxlbmRhci5jb250cm9sLnllYXJUbXBsPSclcyddXG4gICAgICogQHBhcmFtIFtjb25maWcuY2FsZW5kYXIuY29udHJvbC5tb250aFRtcGw9JyVzJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jYWxlbmRhci5jb250cm9sLnJpZ2h0PScmI3gwMjE5MiddXG4gICAgICogQHBhcmFtIFtjb25maWcuY2FsZW5kYXIuY29udHJvbC55ZWFyRmlyc3Q9dHJ1ZV1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5wYWxldHRlPXt9XVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmZvcm1hdHRlcj17fV1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5vblN0YXRlQ2hhbmdlZF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5vbkNsaWNrXVxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgY2xpY2tFdmVudE5hbWU6IFwiY2xpY2tcIiwgLy8oKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgPyBcInRvdWNoZW5kXCIgOiBcImNsaWNrXCIpLFxuICAgICAgdGhlbWU6ICdkZWZhdWx0JyxcbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGxhbmc6IHtcbiAgICAgICAgXCJva1wiOiBcIm9rXCIsXG4gICAgICAgIFwiY2FuY2VsXCI6IFwiY2FuY2VsXCJcbiAgICAgIH0sXG4gICAgICBhbmltYXRlVGltZTogMTAwLFxuICAgICAgY2FsZW5kYXI6IHtcbiAgICAgICAgbXVsdGlwbGVTZWxlY3Q6IGZhbHNlLFxuICAgICAgICBjb250cm9sOiB7XG4gICAgICAgICAgbGVmdDogJyYjeDAyMTkwJyxcbiAgICAgICAgICB5ZWFyVG1wbDogJyVzJyxcbiAgICAgICAgICBtb250aFRtcGw6ICclcycsXG4gICAgICAgICAgcmlnaHQ6ICcmI3gwMjE5MicsXG4gICAgICAgICAgeWVhckZpcnN0OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYWxldHRlOiB7fSxcbiAgICAgIGZvcm1hdHRlcjoge31cbiAgICB9O1xuICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgdGhpcy5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAvLyDrqaTrsoQg67OA7IiYIOy0iOq4sO2ZlFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVQaWNrZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZVBpY2tlclF1ZXVlSW5kZXggPSAtMTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5vcGVuVGltZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmNsb3NlVGltZXIgPSBudWxsO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqIEBwYXJhbSBbY29uZmlnLnRoZW1lXVxuICAgKiBAcGFyYW0gW2NvbmZpZy50YXJnZXRdXG4gICAqIEBwYXJhbSBbY29uZmlnLmFuaW1hdGVUaW1lXVxuICAgKiBAcGFyYW0gW2NvbmZpZy5vblN0YXRlQ2hhbmdlZF1cbiAgICogQHBhcmFtIFtjb25maWcub25DbGlja11cbiAgICogQHBhcmFtIFtjb25maWcuY29udGVudF1cbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZCA9IHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkO1xuICAgIGRlbGV0ZSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcblxuICAgIC8vIGluaXQg7Zi47LacIOyXrOu2gFxuICAgIHRoaXMuaW5pdE9uY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpbml0T25jZSgpIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAvLyBmb3JtYXR0ZXIg7J247Iqk7YS07IqkXG4gICAgdGhpcy5mb3JtYXR0ZXIgPSBuZXcgRm9ybWF0dGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gaXRlbVxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGl0ZW0udGFyZ2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpdGVtLmRpcmVjdGlvbiAtIHRvcHxsZWZ0fHJpZ2h0fGJvdHRvbXxhdXRvXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpdGVtLmNvbnRlbnRXaWR0aFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGl0ZW0uZGlzYWJsZUNoYW5nZVRyaWdnZXJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlbS5vblN0YXRlQ2hhbmdlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbS5idG5zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtLmNvbnRlbnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGl0ZW0uY29udGVudC53aWR0aFxuICAgKiBAcGFyYW0ge051bWJlcn0gaXRlbS5jb250ZW50Lm1hcmdpblxuICAgKiBAcGFyYW0ge1N0cmluZ30gaXRlbS5jb250ZW50LnR5cGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW0uY29udGVudC5jb25maWcgLSBiaW5kZWQgVUkgY29uZmlnXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtLmNvbnRlbnQuZm9ybWF0dGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpdGVtLmNvbnRlbnQuZm9ybWF0dGVyLnBhdHRlcm5cbiAgICogQHJldHVybiB7QVg2VUlQaWNrZXJ9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCAkIGZyb20gXCJqcW1pblwiO1xuICAgKiBpbXBvcnQgUGlja2VyIGZyb20gXCIuLi8uLi9zcmMvQVg2VUlQaWNrZXJcIjtcbiAgICpcbiAgICogbGV0IHBpY2tlciA9IG5ldyBQaWNrZXIoKTtcbiAgICogcGlja2VyLmJpbmQoe1xuICAgICAqICAgICB0YXJnZXQ6ICQoXCIjY29sb3ItMFwiKSxcbiAgICAgKiAgICAgZGlyZWN0aW9uOiBcImF1dG9cIixcbiAgICAgKiAgICAgY29udGVudDoge1xuICAgICAqICAgICAgICAgd2lkdGg6IDI1MCxcbiAgICAgKiAgICAgICAgIG1hcmdpbjogMTAsXG4gICAgICogICAgICAgICB0eXBlOiAnY29sb3InLFxuICAgICAqICAgICAgICAgY29uZmlnOiB7XG4gICAgICpcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAgb25TdGF0ZUNoYW5nZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgKlxuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYmluZChpdGVtKSB7XG4gICAgbGV0IHBpY2tlckNvbmZpZyA9IHt9LFxuICAgICAgICBxdWVJZHg7XG4gICAgaXRlbSA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgcGlja2VyQ29uZmlnLCB0aGlzLmNvbmZpZywgaXRlbSk7XG5cbiAgICBpZiAoIWl0ZW0udGFyZ2V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2cGlja2VyXCIsIFwiNDAxXCIsIFwiYmluZFwiKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaXRlbS4kdGFyZ2V0ID0galF1ZXJ5KGl0ZW0udGFyZ2V0KTtcblxuICAgIGlmICghaXRlbS4kdGFyZ2V0LmdldCgwKSkge1xuICAgICAgY29uc29sZS5sb2coaW5mby5nZXRFcnJvcihcImF4NnBpY2tlclwiLCBcIjQwMVwiLCBcImJpbmRcIikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKCFpdGVtLmlkKSBpdGVtLmlkID0gaXRlbS4kdGFyZ2V0LmRhdGEoXCJkYXRhLWF4cGlja2VyLWlkXCIpO1xuICAgIGlmICghaXRlbS5pZCkge1xuICAgICAgaXRlbS5pZCA9ICdheDYtcGlja2VyLScgKyBBWDZVSUNvcmUuZ2V0SW5zdGFuY2VJZCgpO1xuICAgICAgaXRlbS4kdGFyZ2V0LmRhdGEoXCJkYXRhLWF4cGlja2VyLWlkXCIsIGl0ZW0uaWQpO1xuICAgIH1cbiAgICBxdWVJZHggPSBVLnNlYXJjaCh0aGlzLnF1ZXVlLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZCA9PSBpdGVtLmlkO1xuICAgIH0pO1xuXG4gICAgaWYgKHF1ZUlkeCA9PT0gLTEpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaChpdGVtKTtcbiAgICAgIGJpbmRQaWNrZXJUYXJnZXQuY2FsbCh0aGlzLCB0aGlzLnF1ZXVlLmxlbmd0aCAtIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLnF1ZXVlW3F1ZUlkeF0sIGl0ZW0pO1xuICAgICAgYmluZFBpY2tlclRhcmdldC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgfVxuXG4gICAgcGlja2VyQ29uZmlnID0gbnVsbDtcbiAgICBxdWVJZHggPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIGJvdW5kSURcbiAgICogQHBhcmFtIGlucHV0SW5kZXhcbiAgICogQHBhcmFtIHZhbFxuICAgKiBAcGFyYW0gX29wdGlvblxuICAgKiBAcmV0dXJuIHtBWDZVSVBpY2tlcn1cbiAgICovXG4gIHNldENvbnRlbnRWYWx1ZShib3VuZElELCBpbnB1dEluZGV4LCB2YWwsIF9vcHRpb24pIHtcbiAgICBjb25zdCBtdWx0aXBsZUlucHV0UHJvY2Vzc29yID0ge1xuICAgICAgXCJkYXRlXCI6IGZ1bmN0aW9uIChfaXRlbSwgX2lucHV0SW5kZXgsIF92YWwpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdLFxuICAgICAgICAgICAgZGlmZkRheSxcbiAgICAgICAgICAgIHByZXZJbnB1dFZhbHVlLFxuICAgICAgICAgICAgbmV4dElucHV0VmFsdWU7XG5cbiAgICAgICAgaWYgKF9pdGVtLiR0YXJnZXQuZ2V0KDApLnRhZ05hbWUudG9VcHBlckNhc2UoKSAhPT0gXCJJTlBVVFwiKSB7XG4gICAgICAgICAgX2l0ZW0uJHRhcmdldC5maW5kKCdpbnB1dFt0eXBlXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2godGhpcy52YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2lucHV0SW5kZXggPT0gMCkge1xuICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSAmJiB2YWx1ZXNbMV0gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIC8vIOqwkiDqsoDspp1cbiAgICAgICAgICAgIGRpZmZEYXkgPSBVLmRkYXkodmFsdWVzWzFdLCB7IHRvZGF5OiB2YWx1ZXNbMF0gfSk7XG4gICAgICAgICAgICBpZiAoZGlmZkRheSA8IDApIHtcbiAgICAgICAgICAgICAgLy8g64uk7J2M64Kg7KecIOuLrOugpeydhCDrs4Dqsr3tlanri4jri6QuXG4gICAgICAgICAgICAgIG5leHRJbnB1dFZhbHVlID0gX3ZhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7fVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0SW5wdXRWYWx1ZSA9IF92YWw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5leHRJbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICBfaXRlbS5waWNrZXJDYWxlbmRhclsxXS5jYWxlbmRhci5zZXRTZWxlY3Rpb24oW25leHRJbnB1dFZhbHVlXSwgZmFsc2UpLmNoYW5nZU1vZGUoXCJkXCIsIG5leHRJbnB1dFZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudFZhbHVlKF9pdGVtLmlkLCAxLCBuZXh0SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF92YWw7XG4gICAgICAgIH0gZWxzZSBpZiAoX2lucHV0SW5kZXggPT0gMSkge1xuXG4gICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyDqsJIg6rKA7KadXG4gICAgICAgICAgICBkaWZmRGF5ID0gVS5kZGF5KHZhbHVlc1sxXSwgeyB0b2RheTogdmFsdWVzWzBdIH0pO1xuICAgICAgICAgICAgaWYgKGRpZmZEYXkgPCAwKSB7XG4gICAgICAgICAgICAgIC8vIOuLpOydjOuCoOynnCDri6zroKXsnYQg67OA6rK97ZWp64uI64ukLlxuICAgICAgICAgICAgICBwcmV2SW5wdXRWYWx1ZSA9IHZhbHVlc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJldklucHV0VmFsdWUpIHtcbiAgICAgICAgICAgIF9pdGVtLnBpY2tlckNhbGVuZGFyWzBdLmNhbGVuZGFyLnNldFNlbGVjdGlvbihbcHJldklucHV0VmFsdWVdLCBmYWxzZSkuY2hhbmdlTW9kZShcImRcIiwgcHJldklucHV0VmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50VmFsdWUoX2l0ZW0uaWQsIDAsIHByZXZJbnB1dFZhbHVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3ZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgcXVlSWR4ID0gVS5pc051bWJlcihib3VuZElEKSA/IGJvdW5kSUQgOiBnZXRRdWVJZHguY2FsbCh0aGlzLCBib3VuZElEKSxcbiAgICAgICAgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgICAgX2lucHV0O1xuXG4gICAgaWYgKCFfb3B0aW9uKSBfb3B0aW9uID0ge307XG4gICAgaWYgKGl0ZW0pIHtcblxuICAgICAgX2lucHV0ID0gaXRlbS4kdGFyZ2V0LmdldCgwKS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gXCJJTlBVVFwiID8gaXRlbS4kdGFyZ2V0IDogalF1ZXJ5KGl0ZW0uJHRhcmdldC5maW5kKCdpbnB1dFt0eXBlXScpLmdldChpbnB1dEluZGV4KSk7XG4gICAgICBfaW5wdXQudmFsKHZhbCk7XG5cbiAgICAgIGlmICghaXRlbS5kaXNhYmxlQ2hhbmdlVHJpZ2dlcikge1xuICAgICAgICBfaW5wdXQudHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCAkY29sb3JQcmV2aWV3ID0gaXRlbS4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NnBpY2tlci1jb2xvcj1cInByZXZpZXdcIl0nKTtcbiAgICAgICAgaWYgKCRjb2xvclByZXZpZXcuZ2V0KDApKSB7XG4gICAgICAgICAgJGNvbG9yUHJldmlldy5jc3MoeyBcImJhY2tncm91bmQtY29sb3JcIjogdmFsIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHBpY2tlcuydmCDsnoXroKXsnbQgMuqwnOydtOyDgeyduCDqsr3smrBcbiAgICAgIC8vY29uc29sZS5sb2coaXRlbS5pbnB1dExlbmd0aCk7XG4gICAgICBpZiAoaXRlbS5pbnB1dExlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8g6rK97Jqw7JeQIOuUsOudvCDssqvrsogg7ISg7YOd7JeQIOuUsOudvCDtlbTslbztlaAg7J2865OkIOyymOumrFxuICAgICAgICBpZiAobXVsdGlwbGVJbnB1dFByb2Nlc3NvcltpdGVtLmNvbnRlbnQudHlwZV0pIHtcbiAgICAgICAgICB2YWwgPSBtdWx0aXBsZUlucHV0UHJvY2Vzc29yW2l0ZW0uY29udGVudC50eXBlXS5jYWxsKHRoaXMsIGl0ZW0sIGlucHV0SW5kZXgsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IHRoYXQgPSB7XG4gICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgIHN0YXRlOiBcImNoYW5nZVZhbHVlXCIsXG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGlucHV0SW5kZXg6IGlucHV0SW5kZXgsXG4gICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgIHZhbHVlczogW3ZhbF1cbiAgICAgIH07XG4gICAgICBpZiAoaXRlbS4kdGFyZ2V0LmdldCgwKS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT09IFwiSU5QVVRcIikge1xuICAgICAgICB0aGF0LnZhbHVlcyA9IFtdO1xuICAgICAgICBpdGVtLiR0YXJnZXQuZmluZCgnaW5wdXRbdHlwZV0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGF0LnZhbHVlcy5wdXNoKHRoaXMudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBpdGVtLCB0aGF0KTtcblxuICAgICAgaWYgKGl0ZW0uaW5wdXRMZW5ndGggPT0gMSAmJiAhX29wdGlvbi5kb05vdENsb3NlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpdGVtID0gbnVsbDtcbiAgICBib3VuZElEID0gbnVsbDtcbiAgICBpbnB1dEluZGV4ID0gbnVsbDtcbiAgICB2YWwgPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIGJvdW5kSURcbiAgICogQHBhcmFtIGlucHV0SW5kZXhcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGdldENvbnRlbnRWYWx1ZShib3VuZElELCBpbnB1dEluZGV4KSB7XG4gICAgbGV0IHF1ZUlkeCA9IFUuaXNOdW1iZXIoYm91bmRJRCkgPyBib3VuZElEIDogZ2V0UXVlSWR4LmNhbGwodGhpcywgYm91bmRJRCksXG4gICAgICAgIGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgIF9pbnB1dDtcblxuICAgIGlmIChpdGVtKSB7XG4gICAgICBfaW5wdXQgPSBpdGVtLiR0YXJnZXQuZ2V0KDApLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSBcIklOUFVUXCIgPyBpdGVtLiR0YXJnZXQgOiBqUXVlcnkoaXRlbS4kdGFyZ2V0LmZpbmQoJ2lucHV0W3R5cGVdJykuZ2V0KGlucHV0SW5kZXgpKTtcbiAgICAgIHJldHVybiBfaW5wdXQudmFsKCk7XG4gICAgfVxuXG4gICAgaXRlbSA9IG51bGw7XG4gICAgYm91bmRJRCA9IG51bGw7XG4gICAgaW5wdXRJbmRleCA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gYm91bmRJRFxuICAgKiBAcGFyYW0gdHJ5Q291bnRcbiAgICogQHJldHVybiB7QVg2VUlQaWNrZXJ9XG4gICAqL1xuICBvcGVuKGJvdW5kSUQsIHRyeUNvdW50KSB7XG4gICAgY29uc3QgcGlja2VyQ29udGVudCA9IHtcbiAgICAgICdAZm4nOiBmdW5jdGlvbiAocXVlSWR4LCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XTtcbiAgICAgICAgaXRlbS5jb250ZW50LmNhbGwoaXRlbSwgZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICBjYWxsYmFjayhodG1sKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgICdkYXRlJzogZnVuY3Rpb24gKHF1ZUlkeCkge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgICAgICAgIGh0bWwgPSBbXSxcbiAgICAgICAgICAgIGNhbGVuZGFyQ29uZmlnID0galF1ZXJ5LmV4dGVuZCh7fSwgdGhpcy5jb25maWcuY2FsZW5kYXIsIHsgZGlzcGxheURhdGU6IG5ldyBEYXRlKCkgfSksXG4gICAgICAgICAgICBpbnB1dCA9IGl0ZW0uJHRhcmdldC5nZXQoMCkudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09IFwiSU5QVVRcIiA/IGl0ZW0uJHRhcmdldCA6IGl0ZW0uJHRhcmdldC5maW5kKCdpbnB1dFt0eXBlXScpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5pbnB1dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaHRtbC5wdXNoKCc8ZGl2ICcgKyAnc3R5bGU9XCJ3aWR0aDonICsgVS5jc3NOdW1iZXIoaXRlbS5jb250ZW50LndpZHRoKSArICc7ZmxvYXQ6bGVmdDtcIiAnICsgJ2NsYXNzPVwiYXgtcGlja2VyLWNvbnRlbnQtYm94XCIgJyArICdkYXRhLWNhbGVuZGFyLXRhcmdldD1cIicgKyBpICsgJ1wiPjwvZGl2PicpO1xuICAgICAgICAgIGlmIChpIDwgaXRlbS5pbnB1dExlbmd0aCAtIDEpIGh0bWwucHVzaCgnPGRpdiBzdHlsZT1cIndpZHRoOicgKyBpdGVtLmNvbnRlbnQubWFyZ2luICsgJ3B4O2Zsb2F0OmxlZnQ7aGVpZ2h0OiA1cHg7XCI+PC9kaXY+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbC5wdXNoKCc8ZGl2IHN0eWxlPVwiY2xlYXI6Ym90aDtcIj48L2Rpdj4nKTtcbiAgICAgICAgaXRlbS5waWNrZXJDb250ZW50Lmh0bWwoaHRtbC5qb2luKCcnKSk7XG5cbiAgICAgICAgLy8gY2FsZW5kYXIgYmluZFxuICAgICAgICBpdGVtLnBpY2tlckNhbGVuZGFyID0gW107XG4gICAgICAgIGl0ZW0ucGlja2VyQ29udGVudC5maW5kKCdbZGF0YS1jYWxlbmRhci10YXJnZXRdJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAvLyBjYWxlbmRhckNvbmZpZyBleHRlbmQgflxuICAgICAgICAgIGxldCBpZHggPSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtY2FsZW5kYXItdGFyZ2V0XCIpLFxuICAgICAgICAgICAgICBkVmFsdWUgPSBpbnB1dC5nZXQoaWR4KS52YWx1ZSxcbiAgICAgICAgICAgICAgZCA9IFUuZGF0ZShkVmFsdWUpLFxuICAgICAgICAgICAgICBkYXRlQ29udmVydCA9IHtcbiAgICAgICAgICAgIFwieWVhclwiKF9kKSB7XG4gICAgICAgICAgICAgIHJldHVybiBVLmRhdGUoX2QsIHsgXCJyZXR1cm5cIjogXCJ5eXl5XCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJtb250aFwiKF9kKSB7XG4gICAgICAgICAgICAgIHJldHVybiBVLmRhdGUoX2QsIHsgXCJyZXR1cm5cIjogXCJ5eXl5LU1NXCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJkYXlcIihfZCkge1xuICAgICAgICAgICAgICByZXR1cm4gX2Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNhbGVuZGFyQ29uZmlnLmRpc3BsYXlEYXRlID0gZDtcblxuICAgICAgICAgIGlmIChkVmFsdWUpIGNhbGVuZGFyQ29uZmlnLnNlbGVjdGlvbiA9IFtkXTtcblxuICAgICAgICAgIGNhbGVuZGFyQ29uZmlnID0galF1ZXJ5LmV4dGVuZCh0cnVlLCBjYWxlbmRhckNvbmZpZywgaXRlbS5jb250ZW50LmNvbmZpZyB8fCB7fSk7XG4gICAgICAgICAgY2FsZW5kYXJDb25maWcudGFyZ2V0ID0gdGhpcztcbiAgICAgICAgICBjYWxlbmRhckNvbmZpZy5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5zZXRDb250ZW50VmFsdWUoaXRlbS5pZCwgaWR4LCBkYXRlQ29udmVydFtjYWxlbmRhckNvbmZpZy5zZWxlY3RNb2RlIHx8IFwiZGF5XCJdKHRoaXMuZGF0ZSkpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpdGVtLnBpY2tlckNhbGVuZGFyLnB1c2goe1xuICAgICAgICAgICAgaXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgaW5wdXRJbmRleDogaWR4LFxuICAgICAgICAgICAgY2FsZW5kYXI6IG5ldyBDYWxlbmRhcihjYWxlbmRhckNvbmZpZylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgJ3NlY3VyZS1udW0nOiBmdW5jdGlvbiAocXVlSWR4KSB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5xdWV1ZVtxdWVJZHhdLFxuICAgICAgICAgICAgaHRtbCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0uaW5wdXRMZW5ndGg7IGkrKykge1xuICAgICAgICAgIGh0bWwucHVzaCgnPGRpdiAnICsgJ3N0eWxlPVwid2lkdGg6JyArIFUuY3NzTnVtYmVyKGl0ZW0uY29udGVudC53aWR0aCkgKyAnO2Zsb2F0OmxlZnQ7XCIgJyArICdjbGFzcz1cImF4LXBpY2tlci1jb250ZW50LWJveFwiICcgKyAnZGF0YS1zZWN1cmUtbnVtLXRhcmdldD1cIicgKyBpICsgJ1wiPjwvZGl2PicpO1xuICAgICAgICAgIGlmIChpIDwgaXRlbS5pbnB1dExlbmd0aCAtIDEpIGh0bWwucHVzaCgnPGRpdiBzdHlsZT1cIndpZHRoOicgKyBpdGVtLmNvbnRlbnQubWFyZ2luICsgJ3B4O2Zsb2F0OmxlZnQ7aGVpZ2h0OiA1cHg7XCI+PC9kaXY+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbC5wdXNoKCc8ZGl2IHN0eWxlPVwiY2xlYXI6Ym90aDtcIj48L2Rpdj4nKTtcbiAgICAgICAgaXRlbS5waWNrZXJDb250ZW50Lmh0bWwoaHRtbC5qb2luKCcnKSk7XG5cbiAgICAgICAgLy8gc2VjdXJlLW51bSBiaW5kXG4gICAgICAgIGl0ZW0ucGlja2VyQ29udGVudC5maW5kKCdbZGF0YS1zZWN1cmUtbnVtLXRhcmdldF0nKS5lYWNoKChlbElkeCwgZWwpID0+IHtcbiAgICAgICAgICBsZXQgaWR4ID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1zZWN1cmUtbnVtLXRhcmdldFwiKSxcbiAgICAgICAgICAgICAgcG8gPSBbXTtcblxuICAgICAgICAgIGxldCBudW1BcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICBsZXQgaiwgeCwgaTtcbiAgICAgICAgICAgIGZvciAoaSA9IGEubGVuZ3RoOyBpOyBpIC09IDEpIHtcbiAgICAgICAgICAgICAgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGkpO1xuICAgICAgICAgICAgICB4ID0gYVtpIC0gMV07XG4gICAgICAgICAgICAgIGFbaSAtIDFdID0gYVtqXTtcbiAgICAgICAgICAgICAgYVtqXSA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICB9KFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5XSk7XG5cbiAgICAgICAgICBsZXQgc3BlY2lhbEFycmF5ID0gW3sgbGFiZWw6IFwiJiN4MDIxOTBcIiwgZm46IFwiYmFja1wiIH0sIHsgbGFiZWw6IFwiQ1wiLCBmbjogXCJjbGVhclwiIH1dO1xuXG4gICAgICAgICAgbnVtQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcG8ucHVzaCgnPGRpdiBzdHlsZT1cImZsb2F0OmxlZnQ7JyArIGl0ZW0uY29udGVudC5jb25maWcuYnRuV3JhcFN0eWxlICsgJ1wiPicpO1xuICAgICAgICAgICAgcG8ucHVzaCgnPGJ1dHRvbiBjbGFzcz1cIicgKyBpdGVtLmNvbnRlbnQuY29uZmlnLmJ0blRoZW1lICsgJ1wiICcgKyAnc3R5bGU9XCInICsgaXRlbS5jb250ZW50LmNvbmZpZy5idG5TdHlsZSArICdcIiBkYXRhLXNlY3VyZS1udW0tdmFsdWU9XCInICsgbiArICdcIj4nICsgbiArICc8L2J1dHRvbj4nKTtcbiAgICAgICAgICAgIHBvLnB1c2goJzwvZGl2PicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNwZWNpYWxBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICBwby5wdXNoKCc8ZGl2IHN0eWxlPVwiZmxvYXQ6bGVmdDsnICsgaXRlbS5jb250ZW50LmNvbmZpZy5idG5XcmFwU3R5bGUgKyAnXCI+Jyk7XG4gICAgICAgICAgICBwby5wdXNoKCc8YnV0dG9uIGNsYXNzPVwiJyArIGl0ZW0uY29udGVudC5jb25maWcuc3BlY2lhbEJ0blRoZW1lICsgJ1wiICcgKyAnc3R5bGU9XCInICsgaXRlbS5jb250ZW50LmNvbmZpZy5idG5TdHlsZSArICdcIiBkYXRhLXNlY3VyZS1udW0tdmFsdWU9XCInICsgbi5mbiArICdcIj4nICsgbi5sYWJlbCArICc8L2J1dHRvbj4nKTtcbiAgICAgICAgICAgIHBvLnB1c2goJzwvZGl2PicpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcG8ucHVzaCgnPGRpdiBzdHlsZT1cImNsZWFyOmJvdGg7XCI+PC9kaXY+Jyk7XG5cbiAgICAgICAgICAkKGVsKS5odG1sKHBvLmpvaW4oJycpKS5vbihcImNsaWNrXCIsICdbZGF0YS1zZWN1cmUtbnVtLXZhbHVlXScsIGUgPT4ge1xuICAgICAgICAgICAgbGV0IGFjdCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNlY3VyZS1udW0tdmFsdWVcIik7XG4gICAgICAgICAgICBsZXQgX2lucHV0ID0gaXRlbS4kdGFyZ2V0LmdldCgwKS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gXCJJTlBVVFwiID8gaXRlbS4kdGFyZ2V0IDogalF1ZXJ5KGl0ZW0uJHRhcmdldC5maW5kKCdpbnB1dFt0eXBlXScpLmdldChpZHgpKTtcbiAgICAgICAgICAgIGxldCB2YWwgPSBfaW5wdXQudmFsKCk7XG5cbiAgICAgICAgICAgIGlmIChhY3QgPT0gXCJiYWNrXCIpIHtcbiAgICAgICAgICAgICAgX2lucHV0LnZhbCh2YWwuc3Vic3RyaW5nKDAsIHZhbC5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdCA9PSBcImNsZWFyXCIpIHtcbiAgICAgICAgICAgICAgX2lucHV0LnZhbCgnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfaW5wdXQudmFsKHZhbCArIGFjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgaXRlbSwge1xuICAgICAgICAgICAgICBzZWxmOiB0aGlzLFxuICAgICAgICAgICAgICBzdGF0ZTogXCJjaGFuZ2VWYWx1ZVwiLFxuICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICB2YWx1ZTogX2lucHV0LnZhbCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgJ2tleWJvYXJkJzogZnVuY3Rpb24gKHF1ZUlkeCkge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XTtcbiAgICAgICAgbGV0IGh0bWwgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtLmlucHV0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBodG1sLnB1c2goJzxkaXYgJyArICdzdHlsZT1cIndpZHRoOicgKyBVLmNzc051bWJlcihpdGVtLmNvbnRlbnQud2lkdGgpICsgJztmbG9hdDpsZWZ0O1wiICcgKyAnY2xhc3M9XCJheC1waWNrZXItY29udGVudC1ib3hcIiAnICsgJ2RhdGEta2V5Ym9hcmQtdGFyZ2V0PVwiJyArIGkgKyAnXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgaWYgKGkgPCBpdGVtLmlucHV0TGVuZ3RoIC0gMSkgaHRtbC5wdXNoKCc8ZGl2IHN0eWxlPVwid2lkdGg6JyArIGl0ZW0uY29udGVudC5tYXJnaW4gKyAncHg7ZmxvYXQ6bGVmdDtoZWlnaHQ6IDVweDtcIj48L2Rpdj4nKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sLnB1c2goJzxkaXYgc3R5bGU9XCJjbGVhcjpib3RoO1wiPjwvZGl2PicpO1xuICAgICAgICBpdGVtLnBpY2tlckNvbnRlbnQuaHRtbChodG1sLmpvaW4oJycpKTtcblxuICAgICAgICBsZXQga2V5QXJyYXkgPSBbW3sgdmFsdWU6IFwiYFwiLCBzaGlmdFZhbHVlOiBcIn5cIiB9LCB7IHZhbHVlOiBcIjFcIiwgc2hpZnRWYWx1ZTogXCIhXCIgfSwgeyB2YWx1ZTogXCIyXCIsIHNoaWZ0VmFsdWU6IFwiQFwiIH0sIHsgdmFsdWU6IFwiM1wiLCBzaGlmdFZhbHVlOiBcIiNcIiB9LCB7IHZhbHVlOiBcIjRcIiwgc2hpZnRWYWx1ZTogXCIkXCIgfSwgeyB2YWx1ZTogXCI1XCIsIHNoaWZ0VmFsdWU6IFwiJVwiIH0sIHsgdmFsdWU6IFwiNlwiLCBzaGlmdFZhbHVlOiBcIl5cIiB9LCB7IHZhbHVlOiBcIjdcIiwgc2hpZnRWYWx1ZTogXCImXCIgfSwgeyB2YWx1ZTogXCI4XCIsIHNoaWZ0VmFsdWU6IFwiKlwiIH0sIHsgdmFsdWU6IFwiOVwiLCBzaGlmdFZhbHVlOiBcIihcIiB9LCB7IHZhbHVlOiBcIjBcIiwgc2hpZnRWYWx1ZTogXCIpXCIgfSwgeyB2YWx1ZTogXCItXCIsIHNoaWZ0VmFsdWU6IFwiX1wiIH0sIHsgdmFsdWU6IFwiPVwiLCBzaGlmdFZhbHVlOiBcIitcIiB9LCB7IGxhYmVsOiBcIiYjeDAyMTkwXCIsIGZuOiBcImJhY2tcIiB9XSwgW3sgdmFsdWU6IFwicVwiLCBzaGlmdFZhbHVlOiBcIlFcIiB9LCB7IHZhbHVlOiBcIndcIiwgc2hpZnRWYWx1ZTogXCJXXCIgfSwgeyB2YWx1ZTogXCJlXCIsIHNoaWZ0VmFsdWU6IFwiRVwiIH0sIHsgdmFsdWU6IFwiclwiLCBzaGlmdFZhbHVlOiBcIlJcIiB9LCB7IHZhbHVlOiBcInRcIiwgc2hpZnRWYWx1ZTogXCJUXCIgfSwgeyB2YWx1ZTogXCJ5XCIsIHNoaWZ0VmFsdWU6IFwiWVwiIH0sIHsgdmFsdWU6IFwidVwiLCBzaGlmdFZhbHVlOiBcIlVcIiB9LCB7IHZhbHVlOiBcImlcIiwgc2hpZnRWYWx1ZTogXCJJXCIgfSwgeyB2YWx1ZTogXCJvXCIsIHNoaWZ0VmFsdWU6IFwiT1wiIH0sIHsgdmFsdWU6IFwicFwiLCBzaGlmdFZhbHVlOiBcIlBcIiB9LCB7IHZhbHVlOiBcIltcIiwgc2hpZnRWYWx1ZTogXCJ7XCIgfSwgeyB2YWx1ZTogXCJdXCIsIHNoaWZ0VmFsdWU6IFwifVwiIH0sIHsgdmFsdWU6IFwiXFxcXFwiLCBzaGlmdFZhbHVlOiBcInxcIiB9XSwgW3sgbGFiZWw6IFwiQ2xlYXJcIiwgZm46IFwiY2xlYXJcIiB9LCB7IHZhbHVlOiBcImFcIiwgc2hpZnRWYWx1ZTogXCJBXCIgfSwgeyB2YWx1ZTogXCJzXCIsIHNoaWZ0VmFsdWU6IFwiU1wiIH0sIHsgdmFsdWU6IFwiZFwiLCBzaGlmdFZhbHVlOiBcIkRcIiB9LCB7IHZhbHVlOiBcImZcIiwgc2hpZnRWYWx1ZTogXCJGXCIgfSwgeyB2YWx1ZTogXCJnXCIsIHNoaWZ0VmFsdWU6IFwiR1wiIH0sIHsgdmFsdWU6IFwiaFwiLCBzaGlmdFZhbHVlOiBcIkhcIiB9LCB7IHZhbHVlOiBcImpcIiwgc2hpZnRWYWx1ZTogXCJKXCIgfSwgeyB2YWx1ZTogXCJrXCIsIHNoaWZ0VmFsdWU6IFwiS1wiIH0sIHsgdmFsdWU6IFwibFwiLCBzaGlmdFZhbHVlOiBcIkxcIiB9LCB7IHZhbHVlOiBcIjtcIiwgc2hpZnRWYWx1ZTogXCI6XCIgfSwgeyB2YWx1ZTogXCInXCIsIHNoaWZ0VmFsdWU6IFwiXFxcIlwiIH1dLCBbeyBsYWJlbDogXCJTaGlmdFwiLCBmbjogXCJzaGlmdFwiIH0sIHsgdmFsdWU6IFwielwiLCBzaGlmdFZhbHVlOiBcIlpcIiB9LCB7IHZhbHVlOiBcInhcIiwgc2hpZnRWYWx1ZTogXCJYXCIgfSwgeyB2YWx1ZTogXCJjXCIsIHNoaWZ0VmFsdWU6IFwiQ1wiIH0sIHsgdmFsdWU6IFwidlwiLCBzaGlmdFZhbHVlOiBcIlZcIiB9LCB7IHZhbHVlOiBcImJcIiwgc2hpZnRWYWx1ZTogXCJCXCIgfSwgeyB2YWx1ZTogXCJuXCIsIHNoaWZ0VmFsdWU6IFwiTlwiIH0sIHsgdmFsdWU6IFwibVwiLCBzaGlmdFZhbHVlOiBcIk1cIiB9LCB7IHZhbHVlOiBcIixcIiwgc2hpZnRWYWx1ZTogXCI8XCIgfSwgeyB2YWx1ZTogXCIuXCIsIHNoaWZ0VmFsdWU6IFwiPlwiIH0sIHsgdmFsdWU6IFwiL1wiLCBzaGlmdFZhbHVlOiBcIj9cIiB9LCB7IGxhYmVsOiBcIkNsb3NlXCIsIGZuOiBcImNsb3NlXCIgfV1dO1xuICAgICAgICBsZXQgc3BlY2lhbEFycmF5ID0gW3sgbGFiZWw6IFwiJiN4MDIxOTBcIiwgZm46IFwiYmFja1wiIH0sIHsgbGFiZWw6IFwiQ1wiLCBmbjogXCJjbGVhclwiIH1dO1xuICAgICAgICBjb25zdCBnZXRLZXlCb2FyZCA9IGZ1bmN0aW9uIChpc1NoaWZ0S2V5KSB7XG4gICAgICAgICAgbGV0IHBvID0gW107XG4gICAgICAgICAga2V5QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICBwby5wdXNoKCc8ZGl2IHN0eWxlPVwiZGlzcGxheTogdGFibGU7bWFyZ2luOjAgYXV0bztcIj4nKTtcbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG5cbiAgICAgICAgICAgICAgbGV0IGtleVZhbHVlLCBrZXlMYWJlbCwgYnRuV3JhcFN0eWxlLCBidG5UaGVtZSwgYnRuU3R5bGU7XG4gICAgICAgICAgICAgIGlmIChuLmZuKSB7XG4gICAgICAgICAgICAgICAga2V5VmFsdWUgPSBuLmZuO1xuICAgICAgICAgICAgICAgIGtleUxhYmVsID0gbi5sYWJlbDtcbiAgICAgICAgICAgICAgICBidG5XcmFwU3R5bGUgPSBpdGVtLmNvbnRlbnQuY29uZmlnLnNwZWNpYWxCdG5XcmFwU3R5bGU7XG4gICAgICAgICAgICAgICAgYnRuVGhlbWUgPSBpdGVtLmNvbnRlbnQuY29uZmlnLnNwZWNpYWxCdG5UaGVtZTtcbiAgICAgICAgICAgICAgICBidG5TdHlsZSA9IGl0ZW0uY29udGVudC5jb25maWcuc3BlY2lhbEJ0blN0eWxlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGtleUxhYmVsID0ga2V5VmFsdWUgPSBpc1NoaWZ0S2V5ID8gbi5zaGlmdFZhbHVlIDogbi52YWx1ZTtcbiAgICAgICAgICAgICAgICBidG5XcmFwU3R5bGUgPSBpdGVtLmNvbnRlbnQuY29uZmlnLmJ0bldyYXBTdHlsZTtcbiAgICAgICAgICAgICAgICBidG5UaGVtZSA9IGl0ZW0uY29udGVudC5jb25maWcuYnRuVGhlbWU7XG4gICAgICAgICAgICAgICAgYnRuU3R5bGUgPSBpdGVtLmNvbnRlbnQuY29uZmlnLmJ0blN0eWxlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcG8ucHVzaCgnPGRpdiBzdHlsZT1cImRpc3BsYXk6IHRhYmxlLWNlbGw7JyArIGJ0bldyYXBTdHlsZSArICdcIj4nKTtcbiAgICAgICAgICAgICAgcG8ucHVzaCgnPGJ1dHRvbiBjbGFzcz1cIicgKyBidG5UaGVtZSArICdcIiAnICsgJ3N0eWxlPVwiJyArIGJ0blN0eWxlICsgJ1wiIGRhdGEta2V5Ym9hcmQtdmFsdWU9XCInICsga2V5VmFsdWUgKyAnXCI+JyArIGtleUxhYmVsICsgJzwvYnV0dG9uPicpO1xuICAgICAgICAgICAgICBwby5wdXNoKCc8L2Rpdj4nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG8ucHVzaCgnPC9kaXY+Jyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBvLmpvaW4oJycpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNlY3VyZS1udW0gYmluZFxuICAgICAgICBpdGVtLnBpY2tlckNvbnRlbnQuZmluZCgnW2RhdGEta2V5Ym9hcmQtdGFyZ2V0XScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGxldCBpZHggPSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEta2V5Ym9hcmQtdGFyZ2V0XCIpLFxuICAgICAgICAgICAgICAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgIGlzU2hpZnRLZXkgPSBmYWxzZSxcbiAgICAgICAgICAgICAgdG9nZ2xlU2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc1NoaWZ0S2V5ID0gIWlzU2hpZnRLZXk7XG4gICAgICAgICAgICAkdGhpcy5odG1sKGdldEtleUJvYXJkKGlzU2hpZnRLZXkpKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHRoaXMuaHRtbChnZXRLZXlCb2FyZChpc1NoaWZ0S2V5KSkub24oXCJtb3VzZWRvd25cIiwgJ1tkYXRhLWtleWJvYXJkLXZhbHVlXScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBhY3QgPSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEta2V5Ym9hcmQtdmFsdWVcIiksXG4gICAgICAgICAgICAgICAgX2lucHV0ID0gaXRlbS4kdGFyZ2V0LmdldCgwKS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gXCJJTlBVVFwiID8gaXRlbS4kdGFyZ2V0IDogalF1ZXJ5KGl0ZW0uJHRhcmdldC5maW5kKCdpbnB1dFt0eXBlXScpLmdldChpZHgpKSxcbiAgICAgICAgICAgICAgICB2YWwgPSBfaW5wdXQudmFsKCk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoYWN0KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJiYWNrXCI6XG4gICAgICAgICAgICAgICAgX2lucHV0LnZhbCh2YWwuc3Vic3RyaW5nKDAsIHZhbC5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJjbGVhclwiOlxuICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoJycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwic2hpZnRcIjpcbiAgICAgICAgICAgICAgICB0b2dnbGVTaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImNsb3NlXCI6XG4gICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfaW5wdXQudmFsKHZhbCArIGFjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgaXRlbSwge1xuICAgICAgICAgICAgICBzZWxmOiBzZWxmLFxuICAgICAgICAgICAgICBzdGF0ZTogXCJjaGFuZ2VWYWx1ZVwiLFxuICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICB2YWx1ZTogX2lucHV0LnZhbCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgJ251bXBhZCc6IGZ1bmN0aW9uIChxdWVJZHgpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgICAgICBodG1sID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5pbnB1dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaHRtbC5wdXNoKCc8ZGl2ICcgKyAnc3R5bGU9XCJ3aWR0aDonICsgVS5jc3NOdW1iZXIoaXRlbS5jb250ZW50LndpZHRoKSArICc7ZmxvYXQ6bGVmdDtcIiAnICsgJ2NsYXNzPVwiYXgtcGlja2VyLWNvbnRlbnQtYm94XCIgJyArICdkYXRhLW51bXBhZC10YXJnZXQ9XCInICsgaSArICdcIj48L2Rpdj4nKTtcbiAgICAgICAgICBpZiAoaSA8IGl0ZW0uaW5wdXRMZW5ndGggLSAxKSBodG1sLnB1c2goJzxkaXYgc3R5bGU9XCJ3aWR0aDonICsgaXRlbS5jb250ZW50Lm1hcmdpbiArICdweDtmbG9hdDpsZWZ0O2hlaWdodDogNXB4O1wiPjwvZGl2PicpO1xuICAgICAgICB9XG4gICAgICAgIGh0bWwucHVzaCgnPGRpdiBzdHlsZT1cImNsZWFyOmJvdGg7XCI+PC9kaXY+Jyk7XG4gICAgICAgIGl0ZW0ucGlja2VyQ29udGVudC5odG1sKGh0bWwuam9pbignJykpO1xuXG4gICAgICAgIC8vIHNlY3VyZS1udW0gYmluZFxuICAgICAgICBpdGVtLnBpY2tlckNvbnRlbnQuZmluZCgnW2RhdGEtbnVtcGFkLXRhcmdldF0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBsZXQgaWR4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW51bXBhZC10YXJnZXRcIiksXG4gICAgICAgICAgICAgIHBvID0gW10sXG4gICAgICAgICAgICAgIGtleUFycmF5ID0gaXRlbS5jb250ZW50LmNvbmZpZy5rZXlBcnJheSB8fCBbeyB2YWx1ZTogXCI3XCIgfSwgeyB2YWx1ZTogXCI4XCIgfSwgeyB2YWx1ZTogXCI5XCIgfSwgeyBsYWJlbDogXCJCU1wiLCBmbjogXCJiYWNrXCIgfSwgeyB2YWx1ZTogXCI0XCIgfSwgeyB2YWx1ZTogXCI1XCIgfSwgeyB2YWx1ZTogXCI2XCIgfSwgeyBsYWJlbDogXCJDTFNcIiwgZm46IFwiY2xlYXJcIiB9LCB7IHZhbHVlOiBcIjFcIiB9LCB7IHZhbHVlOiBcIjJcIiB9LCB7IHZhbHVlOiBcIjNcIiB9LCB7IHZhbHVlOiBcIlwiIH0sIHsgdmFsdWU6IFwiLlwiIH0sIHsgdmFsdWU6IFwiMFwiIH0sIHsgdmFsdWU6IFwiXCIgfSwgeyBsYWJlbDogXCJPS1wiLCBmbjogXCJlbnRlclwiIH1dO1xuXG4gICAgICAgICAga2V5QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgbGV0IGtleVZhbHVlLCBrZXlMYWJlbCwgYnRuV3JhcFN0eWxlLCBidG5UaGVtZSwgYnRuU3R5bGU7XG5cbiAgICAgICAgICAgIGlmIChuLmZuKSB7XG4gICAgICAgICAgICAgIGtleVZhbHVlID0gbi5mbjtcbiAgICAgICAgICAgICAga2V5TGFiZWwgPSBuLmxhYmVsO1xuICAgICAgICAgICAgICBidG5UaGVtZSA9IGl0ZW0uY29udGVudC5jb25maWcuc3BlY2lhbEJ0blRoZW1lO1xuICAgICAgICAgICAgICBidG5XcmFwU3R5bGUgPSBpdGVtLmNvbnRlbnQuY29uZmlnLnNwZWNpYWxCdG5XcmFwU3R5bGU7XG4gICAgICAgICAgICAgIGJ0blN0eWxlID0gaXRlbS5jb250ZW50LmNvbmZpZy5zcGVjaWFsQnRuU3R5bGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBrZXlMYWJlbCA9IGtleVZhbHVlID0gbi52YWx1ZTtcbiAgICAgICAgICAgICAgYnRuVGhlbWUgPSBrZXlWYWx1ZSA/IGl0ZW0uY29udGVudC5jb25maWcuYnRuVGhlbWUgOiBcIlwiO1xuICAgICAgICAgICAgICBidG5XcmFwU3R5bGUgPSBpdGVtLmNvbnRlbnQuY29uZmlnLmJ0bldyYXBTdHlsZTtcbiAgICAgICAgICAgICAgYnRuU3R5bGUgPSBpdGVtLmNvbnRlbnQuY29uZmlnLmJ0blN0eWxlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwby5wdXNoKCc8ZGl2IHN0eWxlPVwiZmxvYXQ6bGVmdDsnICsgYnRuV3JhcFN0eWxlICsgJ1wiPicpO1xuICAgICAgICAgICAgcG8ucHVzaCgnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tJyArIGJ0blRoZW1lICsgJ1wiICcgKyAnc3R5bGU9XCInICsgYnRuU3R5bGUgKyAnXCIgZGF0YS1udW1wYWQtdmFsdWU9XCInICsga2V5VmFsdWUgKyAnXCI+JyArIChrZXlMYWJlbCB8fCBcIiZuYnNwO1wiKSArICc8L2J1dHRvbj4nKTtcbiAgICAgICAgICAgIHBvLnB1c2goJzwvZGl2PicpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcG8ucHVzaCgnPGRpdiBzdHlsZT1cImNsZWFyOmJvdGg7XCI+PC9kaXY+Jyk7XG5cbiAgICAgICAgICAkKHRoaXMpLmh0bWwocG8uam9pbignJykpLm9uKFwibW91c2Vkb3duXCIsICdbZGF0YS1udW1wYWQtdmFsdWVdJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGV0IGFjdCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1udW1wYWQtdmFsdWVcIiksXG4gICAgICAgICAgICAgICAgX2lucHV0ID0gaXRlbS4kdGFyZ2V0LmdldCgwKS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gXCJJTlBVVFwiID8gaXRlbS4kdGFyZ2V0IDogalF1ZXJ5KGl0ZW0uJHRhcmdldC5maW5kKCdpbnB1dFt0eXBlXScpLmdldChpZHgpKSxcbiAgICAgICAgICAgICAgICB2YWwgPSBfaW5wdXQudmFsKCksXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBcIlwiO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdCkge1xuICAgICAgICAgICAgICBjYXNlIFwiYmFja1wiOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gXCJjaGFuZ2VWYWx1ZVwiO1xuICAgICAgICAgICAgICAgIF9pbnB1dC52YWwodmFsLnN1YnN0cmluZygwLCB2YWwubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiY2xlYXJcIjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFwiY2hhbmdlVmFsdWVcIjtcbiAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImVudGVyXCI6XG4gICAgICAgICAgICAgICAgc2VsZi5jbG9zZShpdGVtLCBcImVudGVyXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImNsb3NlXCI6XG4gICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFwiY2hhbmdlVmFsdWVcIjtcbiAgICAgICAgICAgICAgICBfaW5wdXQudmFsKHZhbCArIGFjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgaXRlbSwge1xuICAgICAgICAgICAgICBzZWxmOiBzZWxmLFxuICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgIHZhbHVlOiBfaW5wdXQudmFsKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAnY29sb3InOiBmdW5jdGlvbiAocXVlSWR4KSB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5xdWV1ZVtxdWVJZHhdLFxuICAgICAgICAgICAgaHRtbCA9IFtdLFxuICAgICAgICAgICAgcGFsZXR0ZUNvbmZpZyA9IGpRdWVyeS5leHRlbmQoe30sIHRoaXMuY29uZmlnLnBhbGV0dGUpLFxuICAgICAgICAgICAgaW5wdXQgPSBpdGVtLiR0YXJnZXQuZ2V0KDApLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSBcIklOUFVUXCIgPyBpdGVtLiR0YXJnZXQgOiBpdGVtLiR0YXJnZXQuZmluZCgnaW5wdXRbdHlwZV0nKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0uaW5wdXRMZW5ndGg7IGkrKykge1xuICAgICAgICAgIGh0bWwucHVzaCgnPGRpdiAnICsgJ3N0eWxlPVwicGFkZGluZzogNXB4O3dpZHRoOicgKyBVLmNzc051bWJlcihpdGVtLmNvbnRlbnQud2lkdGgpICsgJztmbG9hdDpsZWZ0O1wiICcgKyAnY2xhc3M9XCJheC1waWNrZXItY29udGVudC1ib3hcIiAnICsgJ2RhdGEtcGFsZXR0ZS10YXJnZXQ9XCInICsgaSArICdcIiBkYXRhLWF4NXBhbGV0dGU9XCJheDZwaWNrZXItJyArIGl0ZW0uaWQgKyAnXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgaWYgKGkgPCBpdGVtLmlucHV0TGVuZ3RoIC0gMSkgaHRtbC5wdXNoKCc8ZGl2IHN0eWxlPVwid2lkdGg6JyArIGl0ZW0uY29udGVudC5tYXJnaW4gKyAncHg7ZmxvYXQ6bGVmdDtoZWlnaHQ6IDVweDtcIj48L2Rpdj4nKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sLnB1c2goJzxkaXYgc3R5bGU9XCJjbGVhcjpib3RoO1wiPjwvZGl2PicpO1xuICAgICAgICBpdGVtLnBpY2tlckNvbnRlbnQuaHRtbChodG1sLmpvaW4oJycpKTtcblxuICAgICAgICAvLyBjYWxlbmRhciBiaW5kXG4gICAgICAgIGl0ZW0ucGlja2VyUGFsZXR0ZSA9IFtdO1xuICAgICAgICBpdGVtLnBpY2tlckNvbnRlbnQuZmluZCgnW2RhdGEtcGFsZXR0ZS10YXJnZXRdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gY2FsZW5kYXJDb25maWcgZXh0ZW5kIH5cbiAgICAgICAgICBsZXQgaWR4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhbGV0dGUtdGFyZ2V0XCIpLFxuICAgICAgICAgICAgICBkQ29sb3IgPSBpbnB1dC5nZXQoaWR4KS52YWx1ZTtcblxuICAgICAgICAgIHBhbGV0dGVDb25maWcuc2VsZWN0ZWRDb2xvciA9IGRDb2xvcjtcbiAgICAgICAgICBwYWxldHRlQ29uZmlnID0galF1ZXJ5LmV4dGVuZCh0cnVlLCBwYWxldHRlQ29uZmlnLCBpdGVtLmNvbnRlbnQuY29uZmlnIHx8IHt9KTtcbiAgICAgICAgICBwYWxldHRlQ29uZmlnLnRhcmdldCA9IHRoaXM7XG4gICAgICAgICAgcGFsZXR0ZUNvbmZpZy5vbkNsaWNrID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgICAgICBzZWxmLnNldENvbnRlbnRWYWx1ZShpdGVtLmlkLCBpZHgsIGNvbG9yKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBhbGV0dGVDb25maWcub25VcGRhdGVDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgc2VsZi5zZXRDb250ZW50VmFsdWUoaXRlbS5pZCwgaWR4LCBjb2xvciwgeyBkb05vdENsb3NlOiB0cnVlIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpdGVtLnBpY2tlclBhbGV0dGUucHVzaCh7XG4gICAgICAgICAgICBpdGVtSWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICBpbnB1dEluZGV4OiBpZHgsXG4gICAgICAgICAgICBwYWxldHRlOiBuZXcgUGFsZXR0ZShwYWxldHRlQ29uZmlnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBxdWVJZHggPSBVLmlzTnVtYmVyKGJvdW5kSUQpID8gYm91bmRJRCA6IGdldFF1ZUlkeC5jYWxsKHRoaXMsIGJvdW5kSUQpLFxuICAgICAgICBpdGVtID0gdGhpcy5xdWV1ZVtxdWVJZHhdO1xuXG4gICAgLyoqXG4gICAgIOuLpOuluCDtlLzsu6TqsIAg7J6I64qUIOqyveyasOyZgCDri6Trpbgg7ZS87Luk66W8IOuLq+qzoCDri6Tsi5wg7Jik7ZSIIOuqheugueydtCDrgrTroKTsp4Qg6rK97Jqw7JeQIOuMgO2VnCDsmIjsmbgg7LKY66asIOq1rOusuFxuICAgICAqL1xuICAgIGlmICh0aGlzLm9wZW5UaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMub3BlblRpbWVyKTtcbiAgICBpZiAodGhpcy5hY3RpdmVQaWNrZXIpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVBpY2tlclF1ZXVlSW5kZXggPT0gcXVlSWR4KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJ5Q291bnQgPiAyKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMub3BlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub3BlbihxdWVJZHgsICh0cnlDb3VudCB8fCAwKSArIDEpO1xuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLmNvbmZpZy5hbmltYXRlVGltZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVBpY2tlciA9IGpRdWVyeShtdXN0YWNoZS5yZW5kZXIodG1wbC5waWNrZXJUbXBsLmNhbGwodGhpcyksIGl0ZW0pKTtcbiAgICB0aGlzLmFjdGl2ZVBpY2tlckFycm93ID0gdGhpcy5hY3RpdmVQaWNrZXIuZmluZChcIi5heC1waWNrZXItYXJyb3dcIik7XG4gICAgdGhpcy5hY3RpdmVQaWNrZXJRdWV1ZUluZGV4ID0gcXVlSWR4O1xuICAgIGl0ZW0ucGlja2VyQ29udGVudCA9IHRoaXMuYWN0aXZlUGlja2VyLmZpbmQoJ1tkYXRhLXBpY2tlci1lbHM9XCJjb250ZW50XCJdJyk7XG5cbiAgICBpZiAoVS5pc0Z1bmN0aW9uKGl0ZW0uY29udGVudCkpIHtcbiAgICAgIC8vIO2VqOyImO2DgOyehVxuICAgICAgaXRlbS5waWNrZXJDb250ZW50Lmh0bWwoXCJMb2FkaW5nLi5cIik7XG4gICAgICBwaWNrZXJDb250ZW50W1wiQGZuXCJdLmNhbGwodGhpcywgcXVlSWR4LCBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICBpdGVtLnBpY2tlckNvbnRlbnQuaHRtbChodG1sKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXRlbS5jb250ZW50LnR5cGUgaW4gcGlja2VyQ29udGVudCkge1xuICAgICAgICBwaWNrZXJDb250ZW50W2l0ZW0uY29udGVudC50eXBlXS5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYmluZCBldmVudCBwaWNrZXIgYnRuc1xuICAgIHRoaXMuYWN0aXZlUGlja2VyLmZpbmQoXCJbZGF0YS1waWNrZXItYnRuXVwiKS5vbih0aGlzLmNvbmZpZy5jbGlja0V2ZW50TmFtZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIG9uQnRuQ2xpY2suY2FsbCh0aGlzLCBlIHx8IHdpbmRvdy5ldmVudCwgcXVlSWR4KTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgYWxpZ25QaWNrZXIuY2FsbCh0aGlzLCBcImFwcGVuZFwiKTtcblxuICAgIGpRdWVyeSh3aW5kb3cpLm9uKFwicmVzaXplLmF4NnBpY2tlclwiLCBVLnRocm90dGxlKGZ1bmN0aW9uIChlKSB7XG4gICAgICBhbGlnblBpY2tlci5jYWxsKHRoaXMsIGUgfHwgd2luZG93LmV2ZW50KTtcbiAgICB9LCAxMDApLmJpbmQodGhpcykpLm9uKFwia2V5dXAuYXg2cGlja2VyXCIsIGUgPT4ge1xuICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgb25Cb2R5S2V5dXAuY2FsbCh0aGlzLCBlKTtcbiAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgIH0pLm9uKFwiY2xpY2suYXg2cGlja2VyXCIsIGUgPT4ge1xuICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgb25Cb2R5Q2xpY2suY2FsbCh0aGlzLCBlKTtcbiAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgIH0pO1xuXG4gICAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBpdGVtLCB7XG4gICAgICBzZWxmOiB0aGlzLFxuICAgICAgc3RhdGU6IFwib3BlblwiLFxuICAgICAgaXRlbTogaXRlbVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gaXRlbVxuICAgKiBAcGFyYW0gc3RhdGVcbiAgICogQHJldHVybiB7QVg2VUlQaWNrZXJ9XG4gICAqL1xuICBjbG9zZShpdGVtLCBzdGF0ZSkge1xuICAgIGlmICh0aGlzLmNsb3NlVGltZXIpIGNsZWFyVGltZW91dCh0aGlzLmNsb3NlVGltZXIpO1xuICAgIGlmICghdGhpcy5hY3RpdmVQaWNrZXIpIHJldHVybiB0aGlzO1xuXG4gICAgaXRlbSA9IHRoaXMucXVldWVbdGhpcy5hY3RpdmVQaWNrZXJRdWV1ZUluZGV4XTtcblxuICAgIHRoaXMuYWN0aXZlUGlja2VyLmFkZENsYXNzKFwiZGVzdHJveVwiKTtcbiAgICBqUXVlcnkod2luZG93KS5vZmYoXCJyZXNpemUuYXg2cGlja2VyXCIpO1xuICAgIGpRdWVyeSh3aW5kb3cpLm9mZihcImNsaWNrLmF4NnBpY2tlclwiKTtcbiAgICBqUXVlcnkod2luZG93KS5vZmYoXCJrZXl1cC5heDZwaWNrZXJcIik7XG5cbiAgICB0aGlzLmNsb3NlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVBpY2tlcikgdGhpcy5hY3RpdmVQaWNrZXIucmVtb3ZlKCk7XG4gICAgICB0aGlzLmFjdGl2ZVBpY2tlciA9IG51bGw7XG4gICAgICB0aGlzLmFjdGl2ZVBpY2tlclF1ZXVlSW5kZXggPSAtMTtcblxuICAgICAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBpdGVtLCB7XG4gICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgIHN0YXRlOiBzdGF0ZSB8fCBcImNsb3NlXCJcbiAgICAgIH0pO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5jb25maWcuYW5pbWF0ZVRpbWUpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVg2VUlQaWNrZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlQaWNrZXIuanNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgalF1ZXJ5IGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IEFYNlVJQ29yZSBmcm9tIFwiLi9BWDZVSUNvcmUuanNcIjtcbmltcG9ydCBpbmZvIGZyb20gXCIuL0FYNkluZm9cIjtcbmltcG9ydCBVIGZyb20gXCIuL0FYNlV0aWxcIjtcbmltcG9ydCBtdXN0YWNoZSBmcm9tIFwiLi9BWDZNdXN0YWNoZVwiO1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBpbXBvcnQgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbmxldCBjdHJsS2V5cyA9IHtcbiAgXCIxOFwiOiBcIktFWV9BTFRcIixcbiAgXCI4XCI6IFwiS0VZX0JBQ0tTUEFDRVwiLFxuICBcIjE3XCI6IFwiS0VZX0NPTlRST0xcIixcbiAgXCI0NlwiOiBcIktFWV9ERUxFVEVcIixcbiAgXCI0MFwiOiBcIktFWV9ET1dOXCIsXG4gIFwiMzVcIjogXCJLRVlfRU5EXCIsXG4gIFwiMTg3XCI6IFwiS0VZX0VRVUFMXCIsXG4gIFwiMjdcIjogXCJLRVlfRVNDXCIsXG4gIFwiMzZcIjogXCJLRVlfSE9NRVwiLFxuICBcIjQ1XCI6IFwiS0VZX0lOU0VSVFwiLFxuICBcIjM3XCI6IFwiS0VZX0xFRlRcIixcbiAgXCIxODlcIjogXCJLRVlfTUlOVVNcIixcbiAgXCIzNFwiOiBcIktFWV9QQUdFRE9XTlwiLFxuICBcIjMzXCI6IFwiS0VZX1BBR0VVUFwiLFxuICAvLyBcIjE5MFwiOiBcIktFWV9QRVJJT0RcIixcbiAgXCIxM1wiOiBcIktFWV9SRVRVUk5cIixcbiAgXCIzOVwiOiBcIktFWV9SSUdIVFwiLFxuICBcIjE2XCI6IFwiS0VZX1NISUZUXCIsXG4gIC8vIFwiMzJcIjogXCJLRVlfU1BBQ0VcIixcbiAgXCI5XCI6IFwiS0VZX1RBQlwiLFxuICBcIjM4XCI6IFwiS0VZX1VQXCIsXG4gIFwiOTFcIjogXCJLRVlfV0lORE9XXCJcbiAgLy9cIjEwN1wiIDogXCJOVU1QQURfQUREXCIsXG4gIC8vXCIxOTRcIiA6IFwiTlVNUEFEX0NPTU1BXCIsXG4gIC8vXCIxMTBcIiA6IFwiTlVNUEFEX0RFQ0lNQUxcIixcbiAgLy9cIjExMVwiIDogXCJOVU1QQURfRElWSURFXCIsXG4gIC8vXCIxMlwiIDogXCJOVU1QQURfRVFVQUxcIixcbiAgLy9cIjEwNlwiIDogXCJOVU1QQURfTVVMVElQTFlcIixcbiAgLy9cIjEwOVwiIDogXCJOVU1QQURfU1VCVFJBQ1RcIlxufTtcbmxldCB0bXBsID0ge1xuICBcImRpc3BsYXlcIihjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbjxhIHt7XnRhYkluZGV4fX1ocmVmPVwiI2F4NnVpLXNlbGVjdC17e2lkfX1cIiB7ey90YWJJbmRleH19e3sjdGFiSW5kZXh9fXRhYmluZGV4PVwie3t0YWJJbmRleH19XCIge3svdGFiSW5kZXh9fWNsYXNzPVwiYXg2dWktc2VsZWN0LWRpc3BsYXkge3t0aGVtZX19XCIgXG5kYXRhLWF4NnVpLXNlbGVjdC1kaXNwbGF5PVwie3tpZH19XCIgZGF0YS1heDZ1aS1zZWxlY3QtaW5zdGFuY2U9XCJ7e2luc3RhbmNlSWR9fVwiIHN0eWxlPVwiaGVpZ2h0OiB7e2hlaWdodH19cHg7XCI+XG4gICAgPGRpdiBjbGFzcz1cImF4NnVpLXNlbGVjdC1kaXNwbGF5LXRhYmxlXCIgZGF0YS1lbHM9XCJkaXNwbGF5LXRhYmxlXCI+XG4gICAgICAgIDxkaXYgZGF0YS1heDZ1aS1zZWxlY3QtZGlzcGxheT1cImxhYmVsXCI+e3tsYWJlbH19PC9kaXY+XG4gICAgICAgIDxkaXYgZGF0YS1heDZ1aS1zZWxlY3QtZGlzcGxheT1cImFkZG9uXCI+IFxuICAgICAgICAgICAge3sjbXVsdGlwbGV9fXt7I3Jlc2V0fX1cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWRkb24taWNvbi1yZXNldFwiIGRhdGEtc2VsZWN0ZWQtY2xlYXI9XCJ0cnVlXCI+e3t7Ln19fTwvc3Bhbj5cbiAgICAgICAgICAgIHt7L3Jlc2V0fX17ey9tdWx0aXBsZX19XG4gICAgICAgICAgICB7eyNpY29uc319XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImFkZG9uLWljb24tY2xvc2VkXCI+e3tjbGVzZWR9fTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWRkb24taWNvbi1vcGVuZWRcIj57e29wZW5lZH19PC9zcGFuPlxuICAgICAgICAgICAge3svaWNvbnN9fVxuICAgICAgICAgICAge3teaWNvbnN9fVxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhZGRvbi1pY29uLWNsb3NlZFwiPjxzcGFuIGNsYXNzPVwiYWRkb24taWNvbi1hcnJvd1wiPjwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImFkZG9uLWljb24tb3BlbmVkXCI+PHNwYW4gY2xhc3M9XCJhZGRvbi1pY29uLWFycm93XCI+PC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgIHt7L2ljb25zfX1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGFiaW5kZXg9XCItMVwiIGRhdGEtYXg2dWktc2VsZWN0LWRpc3BsYXk9XCJpbnB1dFwiIFxuICAgIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDowO2xlZnQ6MHB4O3RvcDowcHg7Zm9udC1zaXplOjFweDtvcGFjaXR5OiAwO3dpZHRoOjFweDtoZWlnaHQ6MXB4O2JvcmRlcjogMCBub25lO2NvbG9yIDogdHJhbnNwYXJlbnQ7dGV4dC1pbmRlbnQ6IC05OTk5ZW07XCIgLz5cbjwvYT5cbmA7XG4gIH0sXG4gIFwic2VsZWN0XCIoY29sdW1uS2V5cykge1xuICAgIHJldHVybiBgXG48c2VsZWN0IHRhYmluZGV4PVwiLTFcIiBjbGFzcz1cIlwiIG5hbWU9XCJ7e25hbWV9fVwiIHt7I211bHRpcGxlfX1tdWx0aXBsZT1cIm11bHRpcGxlXCJ7ey9tdWx0aXBsZX19IHN0eWxlPVwiaGVpZ2h0OiB7e2hlaWdodH19cHg7XCI+PC9zZWxlY3Q+XG5gO1xuICB9LFxuICBcIm9wdGlvbkdyb3VwXCIoY29sdW1uS2V5cykge1xuICAgIHJldHVybiBgXG48ZGl2IGNsYXNzPVwiYXg2dWktc2VsZWN0LW9wdGlvbi1ncm91cCB7e3RoZW1lfX1cIiBkYXRhLWF4NnVpLXNlbGVjdC1vcHRpb24tZ3JvdXA9XCJ7e2lkfX1cIj5cbiAgICA8ZGl2IGNsYXNzPVwiYXgtc2VsZWN0LWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImF4LXNlbGVjdC1vcHRpb24tZ3JvdXAtY29udGVudFwiIGRhdGEtZWxzPVwiY29udGVudFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJheC1zZWxlY3QtYXJyb3dcIj48L2Rpdj4gXG48L2Rpdj5cbmA7XG4gIH0sXG4gIFwib3B0aW9uc1wiKGNvbHVtbktleXMpIHtcbiAgICByZXR1cm4gYFxue3sjd2FpdE9wdGlvbnN9fVxuICAgIDxkaXYgY2xhc3M9XCJheC1zZWxlY3Qtb3B0aW9uLWl0ZW1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJheC1zZWxlY3Qtb3B0aW9uLWl0ZW0taG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tY2VsbCBheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAge3t7bGFuZy5sb2FkaW5nfX19XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2Plxue3svd2FpdE9wdGlvbnN9fVxue3ted2FpdE9wdGlvbnN9fVxuICAgIHt7I29wdGlvbnN9fVxuICAgICAgICB7eyNvcHRncm91cH19XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtc2VsZWN0LW9wdGlvbi1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJheC1zZWxlY3Qtb3B0aW9uLWl0ZW0taG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXgtc2VsZWN0LW9wdGlvbi1ncm91cC1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3t7Ln19fVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3sjb3B0aW9uc319XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LXNlbGVjdC1vcHRpb24taXRlbVwiIGRhdGEtb3B0aW9uLWZvY3VzLWluZGV4PVwie3tAZmluZGV4fX1cIiBkYXRhLW9wdGlvbi1ncm91cC1pbmRleD1cInt7QGdpbmRleH19XCIgZGF0YS1vcHRpb24taW5kZXg9XCJ7e0BpbmRleH19XCIgXG4gICAgICAgICAgICAgICAgZGF0YS1vcHRpb24tdmFsdWU9XCJ7eyR7Y29sdW1uS2V5cy5vcHRpb25WYWx1ZX19fVwiIFxuICAgICAgICAgICAgICAgIHt7IyR7Y29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZH19fWRhdGEtb3B0aW9uLXNlbGVjdGVkPVwidHJ1ZVwie3svJHtjb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkfX19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtc2VsZWN0LW9wdGlvbi1pdGVtLWhvbGRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3sjbXVsdGlwbGV9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tY2VsbCBheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIml0ZW0tY2hlY2tib3gtd3JhcCB1c2VDaGVja0JveFwiIGRhdGEtb3B0aW9uLWNoZWNrYm94LWluZGV4PVwie3tAaX19XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge3svbXVsdGlwbGV9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tY2VsbCBheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tbGFiZWxcIj57e3ske2NvbHVtbktleXMub3B0aW9uVGV4dH19fX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHt7L29wdGlvbnN9fVxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB7ey9vcHRncm91cH19XG4gICAgICAgIHt7Xm9wdGdyb3VwfX1cbiAgICAgICAgPGRpdiBjbGFzcz1cImF4LXNlbGVjdC1vcHRpb24taXRlbVwiIGRhdGEtb3B0aW9uLWZvY3VzLWluZGV4PVwie3tAZmluZGV4fX1cIiBkYXRhLW9wdGlvbi1pbmRleD1cInt7QGluZGV4fX1cIiBkYXRhLW9wdGlvbi12YWx1ZT1cInt7JHtjb2x1bW5LZXlzLm9wdGlvblZhbHVlfX19XCIge3sjJHtjb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkfX19ZGF0YS1vcHRpb24tc2VsZWN0ZWQ9XCJ0cnVlXCJ7ey8ke2NvbHVtbktleXMub3B0aW9uU2VsZWN0ZWR9fX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtc2VsZWN0LW9wdGlvbi1pdGVtLWhvbGRlclwiPlxuICAgICAgICAgICAgICAgIHt7I211bHRpcGxlfX1cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF4LXNlbGVjdC1vcHRpb24taXRlbS1jZWxsIGF4LXNlbGVjdC1vcHRpb24taXRlbS1jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIml0ZW0tY2hlY2tib3gtd3JhcCB1c2VDaGVja0JveFwiIGRhdGEtb3B0aW9uLWNoZWNrYm94LWluZGV4PVwie3tAaX19XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7ey9tdWx0aXBsZX19XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tY2VsbCBheC1zZWxlY3Qtb3B0aW9uLWl0ZW0tbGFiZWxcIj57e3ske2NvbHVtbktleXMub3B0aW9uVGV4dH19fX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt7L29wdGdyb3VwfX1cbiAgICB7ey9vcHRpb25zfX1cbiAgICB7e15vcHRpb25zfX1cbiAgICAgICAgPGRpdiBjbGFzcz1cImF4LXNlbGVjdC1vcHRpb24taXRlbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LXNlbGVjdC1vcHRpb24taXRlbS1ob2xkZXJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF4LXNlbGVjdC1vcHRpb24taXRlbS1jZWxsIGF4LXNlbGVjdC1vcHRpb24taXRlbS1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICB7e3tsYW5nLm5vT3B0aW9uc319fVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICB7ey9vcHRpb25zfX1cbnt7L3dhaXRPcHRpb25zfX1cbmA7XG4gIH1cbn07XG5cbmNvbnN0ICR3aW5kb3cgPSBqUXVlcnkod2luZG93KTtcbmNvbnN0IG9uU3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKGl0ZW0sIHRoYXQpIHtcbiAgaWYgKGl0ZW0gJiYgaXRlbS5vblN0YXRlQ2hhbmdlZCkge1xuICAgIGl0ZW0ub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfSBlbHNlIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9XG5cbiAgaWYgKHRoYXQuc3RhdGUgPT0gXCJjaGFuZ2VWYWx1ZVwiKSB7XG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5vbkNoYW5nZSkge1xuICAgICAgaXRlbS5vbkNoYW5nZS5jYWxsKHRoYXQsIHRoYXQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZS5jYWxsKHRoYXQsIHRoYXQpO1xuICAgIH1cbiAgfVxuXG4gIGl0ZW0gPSBudWxsO1xuICB0aGF0ID0gbnVsbDtcbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgYWxpZ25TZWxlY3REaXNwbGF5ID0gZnVuY3Rpb24gKCkge1xuICBsZXQgaSA9IHRoaXMucXVldWUubGVuZ3RoLFxuICAgICAgdztcbiAgd2hpbGUgKGktLSkge1xuICAgIGlmICh0aGlzLnF1ZXVlW2ldLiRkaXNwbGF5KSB7XG4gICAgICB3ID0gTWF0aC5tYXgodGhpcy5xdWV1ZVtpXS4kc2VsZWN0Lm91dGVyV2lkdGgoKSwgVS5udW1iZXIodGhpcy5xdWV1ZVtpXS5taW5XaWR0aCkpO1xuICAgICAgdGhpcy5xdWV1ZVtpXS4kZGlzcGxheS5jc3Moe1xuICAgICAgICBcIm1pbi13aWR0aFwiOiB3XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLnF1ZXVlW2ldLnJlc2V0KSB7XG4gICAgICAgIHRoaXMucXVldWVbaV0uJGRpc3BsYXkuZmluZChcIi5hZGRvbi1pY29uLXJlc2V0XCIpLmNzcyh7XG4gICAgICAgICAgXCJsaW5lLWhlaWdodFwiOiB0aGlzLnF1ZXVlW2ldLiRkaXNwbGF5LmhlaWdodCgpICsgXCJweFwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGkgPSBudWxsO1xuICB3ID0gbnVsbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuY29uc3QgYWxpZ25TZWxlY3RPcHRpb25Hcm91cCA9IGZ1bmN0aW9uIChhcHBlbmQpIHtcbiAgaWYgKCF0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwKSByZXR1cm4gdGhpcztcblxuICBsZXQgaXRlbSA9IHRoaXMucXVldWVbdGhpcy5hY3RpdmVTZWxlY3RRdWV1ZUluZGV4XSxcbiAgICAgIHBvcyA9IHt9LFxuICAgICAgcG9zaXRpb25NYXJnaW4gPSAwLFxuICAgICAgZGltID0ge30sXG4gICAgICBwaWNrZXJEaW0gPSB7fSxcbiAgICAgIHBpY2tlckRpcmVjdGlvbjtcblxuICBpZiAoYXBwZW5kKSBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYXBwZW5kKHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXApO1xuXG4gIHBvcyA9IGl0ZW0uJHRhcmdldC5vZmZzZXQoKTtcbiAgZGltID0ge1xuICAgIHdpZHRoOiBpdGVtLiR0YXJnZXQub3V0ZXJXaWR0aCgpLFxuICAgIGhlaWdodDogaXRlbS4kdGFyZ2V0Lm91dGVySGVpZ2h0KClcbiAgfTtcbiAgcGlja2VyRGltID0ge1xuICAgIHdpbldpZHRoOiBNYXRoLm1heCgkd2luZG93LndpZHRoKCksIGpRdWVyeShkb2N1bWVudC5ib2R5KS53aWR0aCgpKSxcbiAgICB3aW5IZWlnaHQ6IE1hdGgubWF4KCR3aW5kb3cuaGVpZ2h0KCksIGpRdWVyeShkb2N1bWVudC5ib2R5KS5oZWlnaHQoKSksXG4gICAgd2lkdGg6IHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAub3V0ZXJXaWR0aCgpLFxuICAgIGhlaWdodDogdGhpcy5hY3RpdmVTZWxlY3RPcHRpb25Hcm91cC5vdXRlckhlaWdodCgpXG4gIH07XG5cbiAgLy8gcGlja2VyIGNzcyh3aWR0aCwgbGVmdCwgdG9wKSAmIGRpcmVjdGlvbiDqsrDsoJVcbiAgaWYgKCFpdGVtLmRpcmVjdGlvbiB8fCBpdGVtLmRpcmVjdGlvbiA9PT0gXCJcIiB8fCBpdGVtLmRpcmVjdGlvbiA9PT0gXCJhdXRvXCIpIHtcbiAgICAvLyBzZXQgZGlyZWN0aW9uXG4gICAgcGlja2VyRGlyZWN0aW9uID0gXCJ0b3BcIjtcblxuICAgIGlmIChwb3MudG9wIC0gcGlja2VyRGltLmhlaWdodCAtIHBvc2l0aW9uTWFyZ2luIDwgMCkge1xuICAgICAgcGlja2VyRGlyZWN0aW9uID0gXCJ0b3BcIjtcbiAgICB9IGVsc2UgaWYgKHBvcy50b3AgKyBkaW0uaGVpZ2h0ICsgcGlja2VyRGltLmhlaWdodCArIHBvc2l0aW9uTWFyZ2luID4gcGlja2VyRGltLndpbkhlaWdodCkge1xuICAgICAgcGlja2VyRGlyZWN0aW9uID0gXCJib3R0b21cIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGlja2VyRGlyZWN0aW9uID0gaXRlbS5kaXJlY3Rpb247XG4gIH1cbiAgLy8gdG9kbyA6IO2RnO2YhO2VoCDqs7XqsITsnbQg7JeG64uk66m0Li5cbiAgaWYgKGFwcGVuZCkge1xuICAgIHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuYWRkQ2xhc3MoXCJkaXJlY3Rpb24tXCIgKyBwaWNrZXJEaXJlY3Rpb24pO1xuICB9XG4gIHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuY3NzKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocGlja2VyRGlyZWN0aW9uID09IFwidG9wXCIpIHtcbiAgICAgIGlmIChwb3MudG9wICsgZGltLmhlaWdodCArIHBpY2tlckRpbS5oZWlnaHQgKyBwb3NpdGlvbk1hcmdpbiA+IHBpY2tlckRpbS53aW5IZWlnaHQpIHtcblxuICAgICAgICB2YXIgbmV3VG9wID0gcG9zLnRvcCArIGRpbS5oZWlnaHQgLyAyIC0gcGlja2VyRGltLmhlaWdodCAvIDI7XG4gICAgICAgIGlmIChuZXdUb3AgKyBwaWNrZXJEaW0uaGVpZ2h0ICsgcG9zaXRpb25NYXJnaW4gPiBwaWNrZXJEaW0ud2luSGVpZ2h0KSB7XG4gICAgICAgICAgbmV3VG9wID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3VG9wIDwgMCkge1xuICAgICAgICAgIG5ld1RvcCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6IHBvcy5sZWZ0LFxuICAgICAgICAgIHRvcDogbmV3VG9wLFxuICAgICAgICAgIHdpZHRoOiBkaW0ud2lkdGhcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IHBvcy5sZWZ0LFxuICAgICAgICB0b3A6IHBvcy50b3AgKyBkaW0uaGVpZ2h0ICsgMSxcbiAgICAgICAgd2lkdGg6IGRpbS53aWR0aFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHBpY2tlckRpcmVjdGlvbiA9PSBcImJvdHRvbVwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBwb3MubGVmdCxcbiAgICAgICAgdG9wOiBwb3MudG9wIC0gcGlja2VyRGltLmhlaWdodCAtIDEsXG4gICAgICAgIHdpZHRoOiBkaW0ud2lkdGhcbiAgICAgIH07XG4gICAgfVxuICB9LmNhbGwodGhpcykpO1xufTtcbmNvbnN0IG9uQm9keUNsaWNrID0gZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICBpZiAoIXRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXApIHJldHVybiB0aGlzO1xuXG4gIGxldCBpdGVtID0gdGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZVNlbGVjdFF1ZXVlSW5kZXhdLFxuICAgICAgY2xpY2tFbCA9IFwiZGlzcGxheVwiO1xuXG4gIHRhcmdldCA9IFUuZmluZFBhcmVudE5vZGUoZS50YXJnZXQsIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtb3B0aW9uLXZhbHVlXCIpIHx8IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9wdGlvbi12YWx1ZVwiKSA9PSBcIlwiKSB7XG4gICAgICBjbGlja0VsID0gXCJvcHRpb25JdGVtXCI7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uJHRhcmdldC5nZXQoMCkgPT0gdGFyZ2V0KSB7XG4gICAgICBjbGlja0VsID0gXCJkaXNwbGF5XCI7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9IGVsc2UgaWYgKGNsaWNrRWwgPT09IFwib3B0aW9uSXRlbVwiKSB7XG4gICAgdGhpcy52YWwoaXRlbS5pZCwge1xuICAgICAgaW5kZXg6IHtcbiAgICAgICAgZ2luZGV4OiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24tZ3JvdXAtaW5kZXhcIiksXG4gICAgICAgIGluZGV4OiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24taW5kZXhcIilcbiAgICAgIH1cbiAgICB9LCB1bmRlZmluZWQsIFwiaW50ZXJuYWxcIik7XG4gICAgaXRlbS4kc2VsZWN0LnRyaWdnZXIoXCJjaGFuZ2VcIik7XG4gICAgaXRlbS4kZGlzcGxheS5mb2N1cygpO1xuICAgIGlmICghaXRlbS5tdWx0aXBsZSkgdGhpcy5jbG9zZSgpO1xuICB9IGVsc2Uge1xuICAgIC8vb3BlbiBhbmQgZGlzcGxheSBjbGlja1xuICAgIC8vY29uc29sZS5sb2codGhpcy5pbnN0YW5jZUlkKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IG9uQm9keUtleXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgaWYgKGUua2V5Q29kZSA9PSBpbmZvLmV2ZW50S2V5cy5FU0MpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH0gZWxzZSBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5SRVRVUk4pIHtcbiAgICBpZiAodGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZVNlbGVjdFF1ZXVlSW5kZXhdLm9wdGlvbkZvY3VzSW5kZXggPiAtMSkge1xuICAgICAgLy8g7JWE7J207YWc7JeQIO2PrOy7pOyKpOqwgCDtmZzshLHtmZQg65CcIO2bhCwg66eI7Jqw7IqkIOydtOuypO2KuCDsnbTrqbQg66y07IucXG4gICAgICBsZXQgJG9wdGlvbiA9IHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtb3B0aW9uLWZvY3VzLWluZGV4PVwiJyArIHRoaXMucXVldWVbdGhpcy5hY3RpdmVTZWxlY3RRdWV1ZUluZGV4XS5vcHRpb25Gb2N1c0luZGV4ICsgJ1wiXScpO1xuICAgICAgdGhpcy52YWwodGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZVNlbGVjdFF1ZXVlSW5kZXhdLmlkLCB7XG4gICAgICAgIGluZGV4OiB7XG4gICAgICAgICAgZ2luZGV4OiAkb3B0aW9uLmF0dHIoXCJkYXRhLW9wdGlvbi1ncm91cC1pbmRleFwiKSxcbiAgICAgICAgICBpbmRleDogJG9wdGlvbi5hdHRyKFwiZGF0YS1vcHRpb24taW5kZXhcIilcbiAgICAgICAgfVxuICAgICAgfSwgdW5kZWZpbmVkLCBcImludGVybmFsXCIpO1xuICAgICAgdGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZVNlbGVjdFF1ZXVlSW5kZXhdLiRzZWxlY3QudHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgIGlmICghdGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZVNlbGVjdFF1ZXVlSW5kZXhdLm11bHRpcGxlKSB0aGlzLmNsb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBnZXRMYWJlbCA9IGZ1bmN0aW9uIChxdWVJZHgpIHtcbiAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICBsYWJlbHMgPSBbXTtcblxuICBpZiAoVS5pc0FycmF5KGl0ZW0uc2VsZWN0ZWQpICYmIGl0ZW0uc2VsZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgIGl0ZW0uc2VsZWN0ZWQuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgaWYgKG4uc2VsZWN0ZWQpIGxhYmVscy5wdXNoKG5baXRlbS5jb2x1bW5LZXlzLm9wdGlvblRleHRdKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWl0ZW0ubXVsdGlwbGUgJiYgaXRlbS5vcHRpb25zICYmIGl0ZW0ub3B0aW9uc1swXSkge1xuICAgICAgaWYgKGl0ZW0ub3B0aW9uc1swXS5vcHRncm91cCkge1xuICAgICAgICBsYWJlbHNbMF0gPSBpdGVtLm9wdGlvbnNbMF0ub3B0aW9uc1swXVtpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYWJlbHNbMF0gPSBpdGVtLm9wdGlvbnNbMF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblRleHRdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsYWJlbHNbMF0gPSBpdGVtLmxhbmcubm9TZWxlY3RlZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChpdGVtLm11bHRpcGxlICYmIGxhYmVscy5sZW5ndGggPiAxKSB7XG4gICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgbGFiZWw6IGxhYmVsc1swXSxcbiAgICAgICAgbGVuZ3RoOiBsYWJlbHMubGVuZ3RoIC0gMVxuICAgICAgfTtcbiAgICAgIHJldHVybiBtdXN0YWNoZS5yZW5kZXIoaXRlbS5sYW5nLm11bHRpcGxlTGFiZWwsIGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbGFiZWxzWzBdO1xuICAgIH1cbiAgfSgpO1xufTtcbmNvbnN0IHN5bmNMYWJlbCA9IGZ1bmN0aW9uIChxdWVJZHgpIHtcbiAgdGhpcy5xdWV1ZVtxdWVJZHhdLiRkaXNwbGF5TGFiZWwuaHRtbChnZXRMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCkpO1xufTtcbmNvbnN0IGZvY3VzV29yZCA9IGZ1bmN0aW9uIChxdWVJZHgsIHNlYXJjaFdvcmQpIHtcbiAgbGV0IG9wdGlvbnMgPSBbXSxcbiAgICAgIGkgPSAtMSxcbiAgICAgIGwgPSB0aGlzLnF1ZXVlW3F1ZUlkeF0uaW5kZXhlZE9wdGlvbnMubGVuZ3RoIC0gMSxcbiAgICAgIG47XG4gIGlmIChzZWFyY2hXb3JkKSB7XG4gICAgd2hpbGUgKGwgLSBpKyspIHtcbiAgICAgIG4gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0uaW5kZXhlZE9wdGlvbnNbaV07XG4gICAgICBpZiAoKCcnICsgbi52YWx1ZSkudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hXb3JkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IFt7ICdAZmluZGV4JzogblsnQGZpbmRleCddLCBvcHRpb25zU29ydDogMCB9XTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc29ydCA9ICgnJyArIG4udmFsdWUpLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHNlYXJjaFdvcmQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChzb3J0ID4gLTEpIHtcbiAgICAgICAgICBvcHRpb25zLnB1c2goeyAnQGZpbmRleCc6IG5bJ0BmaW5kZXgnXSwgb3B0aW9uc1NvcnQ6IHNvcnQgfSk7XG4gICAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoID4gMikgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc29ydCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG9wdGlvbnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEub3B0aW9uc1NvcnQgLSBiLm9wdGlvbnNTb3J0O1xuICAgIH0pO1xuICB9XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGZvY3VzTW92ZS5jYWxsKHRoaXMsIHF1ZUlkeCwgdW5kZWZpbmVkLCBvcHRpb25zWzBdWydAZmluZGV4J10pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfSBmaW5hbGx5IHtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgICBpID0gbnVsbDtcbiAgICBsID0gbnVsbDtcbiAgICBuID0gbnVsbDtcbiAgfVxufTtcbmNvbnN0IGZvY3VzTW92ZSA9IGZ1bmN0aW9uIChxdWVJZHgsIGRpcmVjdGlvbiwgZmluZGV4KSB7XG4gIGxldCBfZm9jdXNJbmRleCwgX3ByZXZGb2N1c0luZGV4LCBmb2N1c09wdGlvbkVsLCBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lcjtcblxuICBpZiAodGhpcy5hY3RpdmVTZWxlY3RPcHRpb25Hcm91cCAmJiB0aGlzLnF1ZXVlW3F1ZUlkeF0ub3B0aW9ucyAmJiB0aGlzLnF1ZXVlW3F1ZUlkeF0ub3B0aW9ucy5sZW5ndGggPiAwKSB7XG5cbiAgICBpZiAodHlwZW9mIGZpbmRleCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgX2ZvY3VzSW5kZXggPSBmaW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9wcmV2Rm9jdXNJbmRleCA9IHRoaXMucXVldWVbcXVlSWR4XS5vcHRpb25Gb2N1c0luZGV4ID09IC0xID8gdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvblNlbGVjdGVkSW5kZXggfHwgLTEgOiB0aGlzLnF1ZXVlW3F1ZUlkeF0ub3B0aW9uRm9jdXNJbmRleDtcbiAgICAgIGlmIChfcHJldkZvY3VzSW5kZXggPT0gLTEpIHtcbiAgICAgICAgX2ZvY3VzSW5kZXggPSBkaXJlY3Rpb24gPiAwID8gMCA6IHRoaXMucXVldWVbcXVlSWR4XS5vcHRpb25JdGVtTGVuZ3RoIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9mb2N1c0luZGV4ID0gX3ByZXZGb2N1c0luZGV4ICsgZGlyZWN0aW9uO1xuICAgICAgICBpZiAoX2ZvY3VzSW5kZXggPCAwKSBfZm9jdXNJbmRleCA9IDA7ZWxzZSBpZiAoX2ZvY3VzSW5kZXggPiB0aGlzLnF1ZXVlW3F1ZUlkeF0ub3B0aW9uSXRlbUxlbmd0aCAtIDEpIF9mb2N1c0luZGV4ID0gdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbkl0ZW1MZW5ndGggLSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucXVldWVbcXVlSWR4XS5vcHRpb25Gb2N1c0luZGV4ID0gX2ZvY3VzSW5kZXg7XG5cbiAgICB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLW9wdGlvbi1mb2N1cy1pbmRleF0nKS5yZW1vdmVDbGFzcyhcImhvdmVyXCIpO1xuXG4gICAgZm9jdXNPcHRpb25FbCA9IHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtb3B0aW9uLWZvY3VzLWluZGV4PVwiJyArIF9mb2N1c0luZGV4ICsgJ1wiXScpLmFkZENsYXNzKFwiaG92ZXJcIik7XG5cbiAgICBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lciA9IHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtZWxzPVwiY29udGVudFwiXScpO1xuXG4gICAgbGV0IGZvY3VzT3B0aW9uRWxIZWlnaHQgPSBmb2N1c09wdGlvbkVsLm91dGVySGVpZ2h0KCksXG4gICAgICAgIG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVySGVpZ2h0ID0gb3B0aW9uR3JvdXBTY3JvbGxDb250YWluZXIuaW5uZXJIZWlnaHQoKSxcbiAgICAgICAgb3B0aW9uR3JvdXBTY3JvbGxDb250YWluZXJTY3JvbGxUb3AgPSBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AoKSxcbiAgICAgICAgZm9jdXNPcHRpb25FbFRvcCA9IGZvY3VzT3B0aW9uRWwucG9zaXRpb24oKS50b3AgKyBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AoKTtcblxuICAgIGlmIChvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lckhlaWdodCArIG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVyU2Nyb2xsVG9wIDwgZm9jdXNPcHRpb25FbFRvcCArIGZvY3VzT3B0aW9uRWxIZWlnaHQpIHtcbiAgICAgIG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcChmb2N1c09wdGlvbkVsVG9wICsgZm9jdXNPcHRpb25FbEhlaWdodCAtIG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVySGVpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVyU2Nyb2xsVG9wID4gZm9jdXNPcHRpb25FbFRvcCkge1xuICAgICAgb3B0aW9uR3JvdXBTY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wKGZvY3VzT3B0aW9uRWxUb3ApO1xuICAgIH1cbiAgICAvLyBvcHRpb25Hcm91cCBzY3JvbGwgY2hlY2tcbiAgfVxufTtcbmNvbnN0IGJpbmRTZWxlY3RUYXJnZXQgPSBmdW5jdGlvbiAocXVlSWR4KSB7XG4gIGNvbnN0IHNlbGVjdEV2ZW50ID0ge1xuICAgICdjbGljayc6IGZ1bmN0aW9uIChxdWVJZHgsIGUpIHtcbiAgICAgIGxldCB0YXJnZXQgPSBVLmZpbmRQYXJlbnROb2RlKGUudGFyZ2V0LCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zZWxlY3RlZC1jbGVhclwiKSkge1xuICAgICAgICAgIC8vY2xpY2tFbCA9IFwiY2xlYXJcIjtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy52YWwocXVlSWR4LCB7IGNsZWFyOiB0cnVlIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU2VsZWN0UXVldWVJbmRleCA9PSBxdWVJZHgpIHtcbiAgICAgICAgICBpZiAodGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbkZvY3VzSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIOyVhOydtO2FnOyXkCDtj6zsu6TsiqTqsIAg7Zmc7ISx7ZmUIOuQnCDtm4QsIOuniOyasOyKpCDsnbTrsqTtirgg7J2066m0IOustOyLnFxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9wZW4ocXVlSWR4KTtcbiAgICAgICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ2tleVVwJzogZnVuY3Rpb24gKHF1ZUlkeCwgZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT0gaW5mby5ldmVudEtleXMuU1BBQ0UpIHtcbiAgICAgICAgc2VsZWN0RXZlbnQuY2xpY2suY2FsbCh0aGlzLCBxdWVJZHgsIGUpO1xuICAgICAgfSBlbHNlIGlmICghY3RybEtleXNbZS53aGljaF0pIHtcbiAgICAgICAgLy8g7IKs7Jqp7J6QIOyeheugpeydtCDrnLjtlbTsp4DrqbQg7LC+6rOgIOqygOyDiSDqsJIg7KCc6rGwLi4uXG4gICAgICAgIFUuZGVib3VuY2UoZnVuY3Rpb24gKHNlYXJjaFdvcmQsIHF1ZUlkeCkge1xuICAgICAgICAgIGZvY3VzV29yZC5jYWxsKHRoaXMsIHF1ZUlkeCwgc2VhcmNoV29yZCk7XG4gICAgICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdLiRkaXNwbGF5SW5wdXQudmFsKCcnKTtcbiAgICAgICAgfSwgMzAwKS5jYWxsKHRoaXMsIHRoaXMucXVldWVbcXVlSWR4XS4kZGlzcGxheUlucHV0LnZhbCgpLCBxdWVJZHgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ2tleURvd24nOiBmdW5jdGlvbiAocXVlSWR4LCBlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5ET1dOKSB7XG4gICAgICAgIGZvY3VzTW92ZS5jYWxsKHRoaXMsIHF1ZUlkeCwgMSk7XG4gICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLlVQKSB7XG4gICAgICAgIGZvY3VzTW92ZS5jYWxsKHRoaXMsIHF1ZUlkeCwgLTEpO1xuICAgICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdibHVyJzogZnVuY3Rpb24gKHF1ZUlkeCwgZSkge30sXG4gICAgJ3NlbGVjdENoYW5nZSc6IGZ1bmN0aW9uIChxdWVJZHgsIGUpIHtcbiAgICAgIHRoaXMudmFsKHF1ZUlkeCwgdGhpcy5xdWV1ZVtxdWVJZHhdLiRzZWxlY3QudmFsKCksIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgIGRhdGEgPSB7fTtcblxuICAvLyBmaW5kIHNlbGVjdGVkXG4gIGl0ZW0uc2VsZWN0ZWQgPSBbXTtcbiAgaWYgKCFpdGVtLm9wdGlvbnMpIGl0ZW0ub3B0aW9ucyA9IFtdO1xuICBpdGVtLm9wdGlvbnMuZm9yRWFjaChuID0+IHtcbiAgICBpZiAoblt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSkgaXRlbS5zZWxlY3RlZC5wdXNoKGpRdWVyeS5leHRlbmQoe30sIG4pKTtcbiAgfSk7XG5cbiAgaWYgKCFpdGVtLiRkaXNwbGF5KSB7XG4gICAgLy8vIO2FnO2UjOumv+yXkCDsoITri6ztlaAg7Jik67iM7KCd7Yq4IOyEoOyWuFxuICAgIGRhdGEuaW5zdGFuY2VJZCA9IHRoaXMuaW5zdGFuY2VJZDtcbiAgICBkYXRhLmlkID0gaXRlbS5pZDtcbiAgICBkYXRhLm5hbWUgPSBpdGVtLm5hbWU7XG4gICAgZGF0YS50aGVtZSA9IGl0ZW0udGhlbWU7XG4gICAgZGF0YS50YWJJbmRleCA9IGl0ZW0udGFiSW5kZXg7XG4gICAgZGF0YS5tdWx0aXBsZSA9IGl0ZW0ubXVsdGlwbGU7XG4gICAgZGF0YS5yZXNldCA9IGl0ZW0ucmVzZXQ7XG4gICAgZGF0YS5oZWlnaHQgPSBpdGVtLmhlaWdodDtcbiAgICBkYXRhLmxhYmVsID0gZ2V0TGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuXG4gICAgaXRlbS4kZGlzcGxheSA9IGpRdWVyeShtdXN0YWNoZS5yZW5kZXIodG1wbC5kaXNwbGF5LmNhbGwodGhpcyksIGRhdGEpKTtcbiAgICAvL2l0ZW0uJGRpc3BsYXkuY3NzKHtoZWlnaHQ6IGl0ZW0uaGVpZ2h0fSk7XG4gICAgaXRlbS4kZGlzcGxheUxhYmVsID0gaXRlbS4kZGlzcGxheS5maW5kKCdbZGF0YS1heDZ1aS1zZWxlY3QtZGlzcGxheT1cImxhYmVsXCJdJyk7XG5cbiAgICBpZiAoaXRlbS4kdGFyZ2V0LmZpbmQoXCJzZWxlY3RcIikuZ2V0KDApKSB7XG4gICAgICBpdGVtLiRzZWxlY3QgPSBpdGVtLiR0YXJnZXQuZmluZChcInNlbGVjdFwiKTtcbiAgICAgIC8vIHNlbGVjdCDsho3shLHrp4wg67OA6rK9XG4gICAgICBpdGVtLiRzZWxlY3QuYXR0cihcInRhYmluZGV4XCIsIFwiLTFcIikuY3NzKHsgaGVpZ2h0OiBkYXRhLmhlaWdodCB9KTtcblxuICAgICAgaWYgKGRhdGEubmFtZSkge1xuICAgICAgICBpdGVtLiRzZWxlY3QuYXR0cihcIm5hbWVcIiwgXCJuYW1lXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEubXVsdGlwbGUpIHtcbiAgICAgICAgaXRlbS4kc2VsZWN0LmF0dHIoXCJtdWx0aXBsZVwiLCBcIm11bHRpcGxlXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtLiRzZWxlY3QgPSBqUXVlcnkobXVzdGFjaGUucmVuZGVyKHRtcGwuc2VsZWN0LmNhbGwodGhpcyksIGRhdGEpKTtcbiAgICAgIGl0ZW0uJHRhcmdldC5hcHBlbmQoaXRlbS4kc2VsZWN0KTtcbiAgICAgIC8vIHNlbGVjdCBhcHBlbmRcbiAgICB9XG5cbiAgICBpdGVtLiR0YXJnZXQuYXBwZW5kKGl0ZW0uJGRpc3BsYXkpO1xuICAgIGl0ZW0uJGRpc3BsYXlJbnB1dCA9IGl0ZW0uJGRpc3BsYXkuZmluZCgnW2RhdGEtYXg2dWktc2VsZWN0LWRpc3BsYXk9XCJpbnB1dFwiXScpOyAvLyDsgqzsmqnsnpAg7J6F66Cl6rCS7J2EIOuwm+q4sOychO2VnCDsiKjsnYwg7J6F66Cl7ZWE65OcXG4gICAgaXRlbS5vcHRpb25zID0gc3luY1NlbGVjdE9wdGlvbnMuY2FsbCh0aGlzLCBxdWVJZHgsIGl0ZW0ub3B0aW9ucyk7XG5cbiAgICBhbGlnblNlbGVjdERpc3BsYXkuY2FsbCh0aGlzKTtcblxuICAgIGl0ZW0uJGRpc3BsYXlJbnB1dC5vZmYoXCJibHVyLmF4NnVpLXNlbGVjdFwiKS5vbihcImJsdXIuYXg2dWktc2VsZWN0XCIsIHNlbGVjdEV2ZW50LmJsdXIuYmluZCh0aGlzLCBxdWVJZHgpKS5vZmYoJ2tleXVwLmF4NnVpLXNlbGVjdCcpLm9uKCdrZXl1cC5heDZ1aS1zZWxlY3QnLCBzZWxlY3RFdmVudC5rZXlVcC5iaW5kKHRoaXMsIHF1ZUlkeCkpLm9mZihcImtleWRvd24uYXg2dWktc2VsZWN0XCIpLm9uKFwia2V5ZG93bi5heDZ1aS1zZWxlY3RcIiwgc2VsZWN0RXZlbnQua2V5RG93bi5iaW5kKHRoaXMsIHF1ZUlkeCkpO1xuICB9IGVsc2Uge1xuICAgIGl0ZW0uJGRpc3BsYXlMYWJlbC5odG1sKGdldExhYmVsLmNhbGwodGhpcywgcXVlSWR4KSk7XG4gICAgaXRlbS5vcHRpb25zID0gc3luY1NlbGVjdE9wdGlvbnMuY2FsbCh0aGlzLCBxdWVJZHgsIGl0ZW0ub3B0aW9ucyk7XG5cbiAgICBhbGlnblNlbGVjdERpc3BsYXkuY2FsbCh0aGlzKTtcbiAgfVxuXG4gIGl0ZW0uJGRpc3BsYXkub2ZmKCdjbGljay5heDZ1aS1zZWxlY3QnKS5vbignY2xpY2suYXg2dWktc2VsZWN0Jywgc2VsZWN0RXZlbnQuY2xpY2suYmluZCh0aGlzLCBxdWVJZHgpKS5vZmYoJ2tleXVwLmF4NnVpLXNlbGVjdCcpLm9uKCdrZXl1cC5heDZ1aS1zZWxlY3QnLCBzZWxlY3RFdmVudC5rZXlVcC5iaW5kKHRoaXMsIHF1ZUlkeCkpO1xuXG4gIC8vIHNlbGVjdCDtg5zqt7jsl5Ag64yA7ZWcIGNoYW5nZSDsnbTrsqTtirgg6rCQ7IucXG4gIGl0ZW0uJHNlbGVjdC5vZmYoJ2NoYW5nZS5heDZ1aS1zZWxlY3QnKS5vbignY2hhbmdlLmF4NnVpLXNlbGVjdCcsIHNlbGVjdEV2ZW50LnNlbGVjdENoYW5nZS5iaW5kKHRoaXMsIHF1ZUlkeCkpO1xuXG4gIGRhdGEgPSBudWxsO1xuICBpdGVtID0gbnVsbDtcbiAgcXVlSWR4ID0gbnVsbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuY29uc3Qgc3luY1NlbGVjdE9wdGlvbnMgPSBmdW5jdGlvbiAocXVlSWR4LCBvcHRpb25zKSB7XG4gIGNvbnN0IHNldFNlbGVjdGVkID0gZnVuY3Rpb24gKHF1ZUlkeCwgTykge1xuICAgIGlmICghTykge1xuICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdLnNlbGVjdGVkID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnF1ZXVlW3F1ZUlkeF0ubXVsdGlwbGUpIHRoaXMucXVldWVbcXVlSWR4XS5zZWxlY3RlZC5wdXNoKGpRdWVyeS5leHRlbmQoe30sIE8pKTtlbHNlIHRoaXMucXVldWVbcXVlSWR4XS5zZWxlY3RlZFswXSA9IGpRdWVyeS5leHRlbmQoe30sIE8pO1xuICAgIH1cbiAgfTtcblxuICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgIHBvLFxuICAgICAgZWxlbWVudE9wdGlvbnMsXG4gICAgICBuZXdPcHRpb25zLFxuICAgICAgZm9jdXNJbmRleCA9IDA7XG5cbiAgc2V0U2VsZWN0ZWQuY2FsbCh0aGlzLCBxdWVJZHgsIGZhbHNlKTsgLy8gaXRlbS5zZWxlY3RlZCDstIjquLDtmZRcblxuICBpZiAob3B0aW9ucykge1xuICAgIGl0ZW0ub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaXRlbS5pbmRleGVkT3B0aW9ucyA9IFtdO1xuXG4gICAgLy8gc2VsZWN0IG9wdGlvbnMg7YOc6re4IOyDneyEsVxuICAgIHBvID0gW107XG4gICAgaXRlbS5vcHRpb25zLmZvckVhY2goKE8sIE9JbmRleCkgPT4ge1xuICAgICAgaWYgKE8ub3B0Z3JvdXApIHtcblxuICAgICAgICBPWydAZ2luZGV4J10gPSBPSW5kZXg7XG4gICAgICAgIE8ub3B0aW9ucy5mb3JFYWNoKChPTywgT09JbmRleCkgPT4ge1xuICAgICAgICAgIE9PWydAaW5kZXgnXSA9IE9PSW5kZXg7XG4gICAgICAgICAgT09bJ0BmaW5kZXgnXSA9IGZvY3VzSW5kZXg7XG4gICAgICAgICAgcG8ucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBPT1tpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdICsgJ1wiICcgKyAoT09baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA/ICcgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnKSArICc+JyArIE9PW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgICBpZiAoT09baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSkge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWQuY2FsbCh0aGlzLCBxdWVJZHgsIE9PKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpdGVtLmluZGV4ZWRPcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgJ0BmaW5kZXgnOiBmb2N1c0luZGV4LCB2YWx1ZTogT09baXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXSwgdGV4dDogT09baXRlbS5jb2x1bW5LZXlzLm9wdGlvblRleHRdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9jdXNJbmRleCsrO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9bJ0BpbmRleCddID0gT0luZGV4O1xuICAgICAgICBPWydAZmluZGV4J10gPSBmb2N1c0luZGV4O1xuICAgICAgICBwby5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArIE9baXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXSArICdcIiAnICsgKE9baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA/ICcgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnKSArICc+JyArIE9baXRlbS5jb2x1bW5LZXlzLm9wdGlvblRleHRdICsgJzwvb3B0aW9uPicpO1xuICAgICAgICBpZiAoT1tpdGVtLmNvbHVtbktleXMub3B0aW9uU2VsZWN0ZWRdKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWQuY2FsbCh0aGlzLCBxdWVJZHgsIE8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaXRlbS5pbmRleGVkT3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAnQGZpbmRleCc6IGZvY3VzSW5kZXgsIHZhbHVlOiBPW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0sIHRleHQ6IE9baXRlbS5jb2x1bW5LZXlzLm9wdGlvblRleHRdXG4gICAgICAgIH0pO1xuICAgICAgICBmb2N1c0luZGV4Kys7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaXRlbS5vcHRpb25JdGVtTGVuZ3RoID0gZm9jdXNJbmRleDtcbiAgICBpdGVtLiRzZWxlY3QuaHRtbChwby5qb2luKCcnKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8vIHNlbGVjdCA+IG9wdGlvbnMg7YOc6re466GcIOyKpO2BrOumve2KuCBvcHRpb25z66W8IOunjOuTpOyWtOyjvOuKlCDsl63tlaBcbiAgICBlbGVtZW50T3B0aW9ucyA9IFUudG9BcnJheShpdGVtLiRzZWxlY3QuZ2V0KDApLm9wdGlvbnMpO1xuICAgIC8vIHNlbGVjdCBvcHRpb24g7Iqk7YGs66a97Yq4IOyDneyEsVxuICAgIG5ld09wdGlvbnMgPSBbXTtcbiAgICBlbGVtZW50T3B0aW9ucy5mb3JFYWNoKChPLCBPSW5kZXgpID0+IHtcbiAgICAgIGxldCBvcHRpb24gPSB7fTtcblxuICAgICAgb3B0aW9uW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPSBPLnZhbHVlO1xuICAgICAgb3B0aW9uW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XSA9IE8udGV4dDtcbiAgICAgIG9wdGlvbltpdGVtLmNvbHVtbktleXMub3B0aW9uU2VsZWN0ZWRdID0gTy5zZWxlY3RlZDtcbiAgICAgIG9wdGlvblsnQGluZGV4J10gPSBPSW5kZXg7XG4gICAgICBvcHRpb25bJ0BmaW5kZXgnXSA9IE9JbmRleDtcbiAgICAgIGlmIChPLnNlbGVjdGVkKSBzZXRTZWxlY3RlZC5jYWxsKHRoaXMsIHF1ZUlkeCwgb3B0aW9uKTtcbiAgICAgIG5ld09wdGlvbnMucHVzaChvcHRpb24pO1xuXG4gICAgICBvcHRpb24gPSBudWxsO1xuICAgIH0pO1xuICAgIGl0ZW0ub3B0aW9ucyA9IG5ld09wdGlvbnM7XG4gICAgaXRlbS5pbmRleGVkT3B0aW9ucyA9IG5ld09wdGlvbnM7XG4gIH1cblxuICBpZiAoIWl0ZW0ubXVsdGlwbGUgJiYgaXRlbS5zZWxlY3RlZC5sZW5ndGggPT0gMCAmJiBpdGVtLm9wdGlvbnMgJiYgaXRlbS5vcHRpb25zWzBdKSB7XG4gICAgaWYgKGl0ZW0ub3B0aW9uc1swXS5vcHRncm91cCkge1xuICAgICAgaXRlbS5vcHRpb25zWzBdLm9wdGlvbnNbMF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA9IHRydWU7XG4gICAgICBpdGVtLnNlbGVjdGVkLnB1c2goalF1ZXJ5LmV4dGVuZCh7fSwgaXRlbS5vcHRpb25zWzBdLm9wdGlvbnNbMF0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbS5vcHRpb25zWzBdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZF0gPSB0cnVlO1xuICAgICAgaXRlbS5zZWxlY3RlZC5wdXNoKGpRdWVyeS5leHRlbmQoe30sIGl0ZW0ub3B0aW9uc1swXSkpO1xuICAgIH1cbiAgfVxuXG4gIHBvID0gbnVsbDtcbiAgZWxlbWVudE9wdGlvbnMgPSBudWxsO1xuICBuZXdPcHRpb25zID0gbnVsbDtcbiAgcmV0dXJuIGl0ZW0ub3B0aW9ucztcbn07XG5jb25zdCBnZXRRdWVJZHggPSBmdW5jdGlvbiAoYm91bmRJRCkge1xuICBpZiAoIVUuaXNTdHJpbmcoYm91bmRJRCkpIHtcbiAgICBib3VuZElEID0galF1ZXJ5KGJvdW5kSUQpLmRhdGEoXCJkYXRhLWF4NnVpLXNlbGVjdC1pZFwiKTtcbiAgfVxuICBpZiAoIVUuaXNTdHJpbmcoYm91bmRJRCkpIHtcbiAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2dWktc2VsZWN0XCIsIFwiNDAyXCIsIFwiZ2V0UXVlSWR4XCIpKTtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIFUuc2VhcmNoKHRoaXMucXVldWUsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pZCA9PSBib3VuZElEO1xuICB9KTtcbn07XG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIHByaXZhdGUgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIEFYNlVJU2VsZWN0IGV4dGVuZHMgQVg2VUlDb3JlIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SlNPTn1cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHBhcmFtIFtjb25maWcudGhlbWU9J2RlZmF1bHQnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmFuaW1hdGVUaW1lPTEwMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5oZWlnaHQ9MzRdXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZ10gLSDrqZTshLjsp4Drk6RcbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5sYW5nLm5vU2VsZWN0ZWQ9JyddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZy5ub09wdGlvbnM9J25vIG9wdGlvbnMnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmxhbmcubG9hZGluZz0nbm93IGxvYWRpbmcuLiddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZy5tdWx0aXBsZUxhYmVsPSdcInt7bGFiZWx9fVwi7Jm4IHt7bGVuZ3RofX3qsbQnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbHVtbktleXNdIC0g64K067aA7JeQ7IScIOyCrOyaqSBKU09OIGtleSDsoJXsnZhcbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jb2x1bW5LZXlzLm9wdGlvblZhbHVlPSd2YWx1ZSddXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sdW1uS2V5cy5vcHRpb25UZXh0PSd0ZXh0J11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkPSdzZWxlY3RlZCddXG4gICAgICovXG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICB0aGVtZTogJ2RlZmF1bHQnLFxuICAgICAgYW5pbWF0ZVRpbWU6IDEwMCxcbiAgICAgIGhlaWdodDogMzQsXG4gICAgICBsYW5nOiB7XG4gICAgICAgIG5vU2VsZWN0ZWQ6ICcnLFxuICAgICAgICBub09wdGlvbnM6ICdubyBvcHRpb25zJyxcbiAgICAgICAgbG9hZGluZzogJ25vdyBsb2FkaW5nLi4nLFxuICAgICAgICBtdWx0aXBsZUxhYmVsOiAnXCJ7e2xhYmVsfX1cIuyZuCB7e2xlbmd0aH196rG0J1xuICAgICAgfSxcbiAgICAgIGNvbHVtbktleXM6IHtcbiAgICAgICAgb3B0aW9uVmFsdWU6ICd2YWx1ZScsXG4gICAgICAgIG9wdGlvblRleHQ6ICd0ZXh0JyxcbiAgICAgICAgb3B0aW9uU2VsZWN0ZWQ6ICdzZWxlY3RlZCdcbiAgICAgIH1cbiAgICB9O1xuICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgdGhpcy5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAvLyDrqaTrsoQg67OA7IiYIOy0iOq4sO2ZlFxuICAgIC8qKlxuICAgICAqIGJpbmTrpbwg7Ya17ZW0IOyXsOqysOuQnCBzZWxlY3TqsIAg7KCA7J6l65CY64qUIOuzgOyImFxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVTZWxlY3RPcHRpb25Hcm91cCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlU2VsZWN0UXVldWVJbmRleCA9IC0xO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLm9wZW5UaW1lciA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY2xvc2VUaW1lciA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy53YWl0T3B0aW9uc0NhbGxiYWNrID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5rZXlVcFRpbWVyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy54dmFyID0ge307XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZCA9IHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkO1xuICAgIGRlbGV0ZSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5jb25maWcub25DaGFuZ2U7XG4gICAgZGVsZXRlIHRoaXMuY29uZmlnLm9uQ2hhbmdlO1xuXG4gICAgLy8gaW5pdCDtmLjstpwg7Jes67aAXG4gICAgdGhpcy5pbml0T25jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGluaXRPbmNlKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgIC8vIHRocm90dGxlZFJlc2l6ZVxuICAgICR3aW5kb3cub24oXCJyZXNpemUuYXg2dWktc2VsZWN0LWRpc3BsYXktXCIgKyB0aGlzLmluc3RhbmNlSWQsIFUudGhyb3R0bGUoZnVuY3Rpb24gKGUpIHtcbiAgICAgIGFsaWduU2VsZWN0RGlzcGxheS5jYWxsKHRoaXMsIGUgfHwgd2luZG93LmV2ZW50KTtcbiAgICAgIGFsaWduU2VsZWN0T3B0aW9uR3JvdXAuY2FsbCh0aGlzKTtcbiAgICB9LCAxMDApLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIGl0ZW1cbiAgICogQHJldHVybiB7QVg2VUlTZWxlY3R9XG4gICAqL1xuICBiaW5kKGl0ZW0pIHtcbiAgICBsZXQgcXVlSWR4O1xuICAgIGl0ZW0gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLmNvbmZpZywgaXRlbSk7XG5cbiAgICBpZiAoIWl0ZW0udGFyZ2V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2dWktc2VsZWN0XCIsIFwiNDAxXCIsIFwiYmluZFwiKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaXRlbS4kdGFyZ2V0ID0galF1ZXJ5KGl0ZW0udGFyZ2V0KTtcblxuICAgIGlmICghaXRlbS5pZCkgaXRlbS5pZCA9IGl0ZW0uJHRhcmdldC5kYXRhKFwiZGF0YS1heDZ1aS1zZWxlY3QtaWRcIik7XG4gICAgaWYgKCFpdGVtLmlkKSB7XG4gICAgICBpdGVtLmlkID0gJ2F4NnVpLXNlbGVjdC0nICsgQVg2VUlDb3JlLmdldEluc3RhbmNlSWQoKTtcbiAgICAgIGl0ZW0uJHRhcmdldC5kYXRhKFwiZGF0YS1heDZ1aS1zZWxlY3QtaWRcIiwgaXRlbS5pZCk7XG4gICAgfVxuICAgIGl0ZW0ubmFtZSA9IGl0ZW0uJHRhcmdldC5hdHRyKFwiZGF0YS1heDZ1aS1zZWxlY3RcIik7XG5cbiAgICBpZiAoaXRlbS5vcHRpb25zKSB7XG4gICAgICBpdGVtLm9wdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0ub3B0aW9ucykpO1xuICAgIH1cblxuICAgIC8vIHRhcmdldCBhdHRyaWJ1dGUgZGF0YVxuICAgIChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYgKFUuaXNPYmplY3QoZGF0YSkgJiYgIWRhdGEuZXJyb3IpIHtcbiAgICAgICAgaXRlbSA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgaXRlbSwgZGF0YSk7XG4gICAgICB9XG4gICAgfSkoVS5wYXJzZUpzb24oaXRlbS4kdGFyZ2V0LmF0dHIoXCJkYXRhLWF4NnVpLXNlbGVjdC1jb25maWdcIiksIHRydWUpKTtcblxuICAgIHF1ZUlkeCA9IFUuc2VhcmNoKHRoaXMucXVldWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkID09IGl0ZW0uaWQ7XG4gICAgfSk7XG5cbiAgICBpZiAocXVlSWR4ID09PSAtMSkge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgYmluZFNlbGVjdFRhcmdldC5jYWxsKHRoaXMsIHRoaXMucXVldWUubGVuZ3RoIC0gMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucXVldWVbcXVlSWR4XS5zZWxlY3RlZCA9IFtdO1xuICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbnMgPSBpdGVtLm9wdGlvbnM7XG4gICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLnF1ZXVlW3F1ZUlkeF0sIGl0ZW0pO1xuICAgICAgYmluZFNlbGVjdFRhcmdldC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgfVxuXG4gICAgcXVlSWR4ID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBib3VuZElEXG4gICAqIEBwYXJhbSB0cnlDb3VudFxuICAgKiBAcmV0dXJuIHtBWDZVSVNlbGVjdH1cbiAgICovXG4gIG9wZW4oYm91bmRJRCwgdHJ5Q291bnQpIHtcbiAgICBjb25zdCBvbkV4cGFuZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpdGVtLm9uRXhwYW5kLmNhbGwoe1xuICAgICAgICBzZWxmOiB0aGlzLFxuICAgICAgICBpdGVtOiBpdGVtXG4gICAgICB9LCBPID0+IHtcbiAgICAgICAgaWYgKHRoaXMud2FpdE9wdGlvbnNDYWxsYmFjaykge1xuICAgICAgICAgIGxldCBkYXRhID0ge307XG4gICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3RoaXMuYWN0aXZlU2VsZWN0UXVldWVJbmRleF07XG5cbiAgICAgICAgICAvLy8g7ZiE7J6sIHNlbGVjdGVkIOqygOymne2bhCDsspjrpqxcbiAgICAgICAgICAoZnVuY3Rpb24gKGl0ZW0sIE8pIHtcbiAgICAgICAgICAgIGxldCBvcHRpb25zTWFwID0ge307XG4gICAgICAgICAgICBPLm9wdGlvbnMuZm9yRWFjaCgoX08sIF9PSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgX09bXCJAaW5kZXhcIl0gPSBfT0luZGV4O1xuICAgICAgICAgICAgICBvcHRpb25zTWFwW19PW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV1dID0gX087XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChVLmlzQXJyYXkoaXRlbS5zZWxlY3RlZCkpIHtcbiAgICAgICAgICAgICAgaXRlbS5zZWxlY3RlZC5mb3JFYWNoKF9PID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcFtfT1tpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdXSkge1xuICAgICAgICAgICAgICAgICAgTy5vcHRpb25zW29wdGlvbnNNYXBbX09baXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXV1bXCJAaW5kZXhcIl1dW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkoaXRlbSwgTyk7XG5cbiAgICAgICAgICBpdGVtLiRkaXNwbGF5TGFiZWwuaHRtbChnZXRMYWJlbC5jYWxsKHRoaXMsIHRoaXMuYWN0aXZlU2VsZWN0UXVldWVJbmRleCkpO1xuICAgICAgICAgIGl0ZW0ub3B0aW9ucyA9IHN5bmNTZWxlY3RPcHRpb25zLmNhbGwodGhpcywgdGhpcy5hY3RpdmVTZWxlY3RRdWV1ZUluZGV4LCBPLm9wdGlvbnMpO1xuXG4gICAgICAgICAgYWxpZ25TZWxlY3REaXNwbGF5LmNhbGwodGhpcyk7XG5cbiAgICAgICAgICAvLy8g7YWc7ZSM66a/7JeQIOyghOuLrO2VoCDsmKTruIzsoJ3tirgg7ISg7Ja4XG4gICAgICAgICAgZGF0YS5pZCA9IGl0ZW0uaWQ7XG4gICAgICAgICAgZGF0YS50aGVtZSA9IGl0ZW0udGhlbWU7XG4gICAgICAgICAgZGF0YS5tdWx0aXBsZSA9IGl0ZW0ubXVsdGlwbGU7XG4gICAgICAgICAgZGF0YS5sYW5nID0gaXRlbS5sYW5nO1xuICAgICAgICAgIGRhdGEub3B0aW9ucyA9IGl0ZW0ub3B0aW9ucztcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLWVscz1cImNvbnRlbnRcIl0nKS5odG1sKG11c3RhY2hlLnJlbmRlcih0bXBsLm9wdGlvbnMuY2FsbCh0aGlzLCBpdGVtLmNvbHVtbktleXMpLCBkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy53YWl0T3B0aW9uc0NhbGxiYWNrID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIG9wZW4gc2VsZWN0IGZyb20gdGhlIG91dHNpZGVcbiAgICAgKi9cbiAgICBsZXQgcXVlSWR4ID0gVS5pc051bWJlcihib3VuZElEKSA/IGJvdW5kSUQgOiBnZXRRdWVJZHguY2FsbCh0aGlzLCBib3VuZElEKSxcbiAgICAgICAgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgICAgZGF0YSA9IHt9LFxuICAgICAgICBmb2N1c1RvcCxcbiAgICAgICAgc2VsZWN0ZWRPcHRpb25FbDtcblxuICAgIGlmIChpdGVtLiRkaXNwbGF5LmF0dHIoXCJkaXNhYmxlZFwiKSkgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAodGhpcy5vcGVuVGltZXIpIGNsZWFyVGltZW91dCh0aGlzLm9wZW5UaW1lcik7XG4gICAgaWYgKHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXApIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVNlbGVjdFF1ZXVlSW5kZXggPT0gcXVlSWR4KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJ5Q291bnQgPiAyKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMub3BlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub3BlbihxdWVJZHgsICh0cnlDb3VudCB8fCAwKSArIDEpO1xuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLmNvbmZpZy5hbmltYXRlVGltZSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGl0ZW0ub3B0aW9uRm9jdXNJbmRleCA9IC0xOyAvLyBvcHRpb25Hcm91cOydtCDsl7TrpqzrqbQg7Y+s7Luk7IqkIOyduOuNseyKpCDstIjquLDtmZQgLTHroZxcbiAgICBpZiAoaXRlbS5zZWxlY3RlZCAmJiBpdGVtLnNlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGl0ZW0ub3B0aW9uU2VsZWN0ZWRJbmRleCA9IGl0ZW0uc2VsZWN0ZWRbMF1bXCJAZmluZGV4XCJdO1xuICAgIH1cblxuICAgIC8vLyDthZztlIzrpr/sl5Ag7KCE64us7ZWgIOyYpOu4jOygne2KuCDshKDslrhcbiAgICBkYXRhLmlkID0gaXRlbS5pZDtcbiAgICBkYXRhLnRoZW1lID0gaXRlbS50aGVtZTtcbiAgICBkYXRhLm11bHRpcGxlID0gaXRlbS5tdWx0aXBsZTtcblxuICAgIGRhdGEubGFuZyA9IGl0ZW0ubGFuZztcbiAgICBpdGVtLiRkaXNwbGF5LmF0dHIoXCJkYXRhLXNlbGVjdC1vcHRpb24tZ3JvdXAtb3BlbmVkXCIsIFwidHJ1ZVwiKTtcblxuICAgIGlmIChpdGVtLm9uRXhwYW5kKSB7XG4gICAgICAvLyBvbkV4cGFuZCDsnbgg6rK97JqwIFVJIOuMgOq4sOuqqOuTnCDstpTqsIBcbiAgICAgIGRhdGEud2FpdE9wdGlvbnMgPSB0cnVlO1xuICAgIH1cblxuICAgIGRhdGEub3B0aW9ucyA9IGl0ZW0ub3B0aW9ucztcbiAgICB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwID0galF1ZXJ5KG11c3RhY2hlLnJlbmRlcih0bXBsLm9wdGlvbkdyb3VwLmNhbGwodGhpcyksIGRhdGEpKTtcbiAgICB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLWVscz1cImNvbnRlbnRcIl0nKS5odG1sKG11c3RhY2hlLnJlbmRlcih0bXBsLm9wdGlvbnMuY2FsbCh0aGlzLCBpdGVtLmNvbHVtbktleXMpLCBkYXRhKSk7XG4gICAgdGhpcy5hY3RpdmVTZWxlY3RRdWV1ZUluZGV4ID0gcXVlSWR4O1xuXG4gICAgYWxpZ25TZWxlY3RPcHRpb25Hcm91cC5jYWxsKHRoaXMsIFwiYXBwZW5kXCIpOyAvLyBhbGlnblNlbGVjdE9wdGlvbkdyb3VwIOyXkOyEnCBib2R5IGFwcGVuZFxuXG4gICAgLy8vIOyCrOyaqeyekCDsnoXroKXsnLzroZwg7Ji17IWY7J2EIOqygOyDie2VmOq4sCDsnITtlZwg7Iuc64KY66as7JikXG4gICAgLy8g7Ji17IWY6re466O57J20IO2ZnOyEse2ZlCDrkJjrqbQg7IKs7Jqp7J6QIOyeheugpeydhCDrsJvquLDsnITtlZwgaW5wdXQg6rCSIOy0iOq4sO2ZlCDrsI8g7Y+s7Luk7IqkIOuLpOuluCBzZWxlY3TqsIAg64ur7Z6I66m07IScIGRpc3BsYXkgZm9jdXMg7J2067Kk7Yq47JmAIOy2qeuPjO2VmOuKlCDrrLjsoJzqsIAg7J6I7Jy866+A66GcXG4gICAgLy8gMeuwgOumrOyEuOy7qCDsp4Dsl7Dtm4Qg7Y+s7Luk7IqkIOyymOumrC4gaW5wdXTsl5Ag7Y+s7Luk7Iqk6rCAIOuQmOuvgOuhnCBpbnB1dCB2YWx1ZeuhnCBvcHRpb25z66W8IOqygOyDiSDtlaAg7IiYIOyeiOqyjCDrkKnri4jri6QuXG4gICAgaXRlbS4kZGlzcGxheUlucHV0LnZhbCgnJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQgJiYgaXRlbS5zZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNlbGVjdGVkT3B0aW9uRWwgPSB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLW9wdGlvbi1pbmRleD1cIicgKyBpdGVtLnNlbGVjdGVkWzBdW1wiQGluZGV4XCJdICsgJ1wiXScpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb25FbC5nZXQoMCkpIHtcbiAgICAgICAgICBmb2N1c1RvcCA9IHNlbGVjdGVkT3B0aW9uRWwucG9zaXRpb24oKS50b3AgLSB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmhlaWdodCgpIC8gMztcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLWVscz1cImNvbnRlbnRcIl0nKS5zY3JvbGxUb3AoZm9jdXNUb3ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uJGRpc3BsYXlJbnB1dC50cmlnZ2VyKFwiZm9jdXNcIik7XG5cbiAgICAgIGpRdWVyeSh3aW5kb3cpLm9uKFwia2V5dXAuYXg2dWktc2VsZWN0LVwiICsgdGhpcy5pbnN0YW5jZUlkLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIG9uQm9keUtleXVwLmNhbGwodGhpcywgZSk7XG4gICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgalF1ZXJ5KHdpbmRvdykub24oXCJjbGljay5heDZ1aS1zZWxlY3QtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgb25Cb2R5Q2xpY2suY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgVS5zdG9wRXZlbnQoZSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sIHRoaXMuY29uZmlnLmFuaW1hdGVUaW1lKTtcblxuICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgaXRlbSwge1xuICAgICAgc2VsZjogdGhpcyxcbiAgICAgIHN0YXRlOiBcIm9wZW5cIixcbiAgICAgIGl0ZW06IGl0ZW1cbiAgICB9KTtcblxuICAgIC8vIHdhaXRPcHRpb24gdGltZXJcbiAgICBpZiAoaXRlbS5vbkV4cGFuZCkge1xuICAgICAgdGhpcy53YWl0T3B0aW9uc0NhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIG9uRXhwYW5kLmNhbGwodGhpcywgaXRlbSk7XG4gICAgfVxuXG4gICAgZGF0YSA9IG51bGw7XG4gICAgZm9jdXNUb3AgPSBudWxsO1xuICAgIHNlbGVjdGVkT3B0aW9uRWwgPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIF9pdGVtXG4gICAqIEByZXR1cm4ge0FYNlVJU2VsZWN0fVxuICAgKi9cbiAgdXBkYXRlKF9pdGVtKSB7XG4gICAgdGhpcy5iaW5kKF9pdGVtKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBib3VuZElEXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEByZXR1cm4ge0FYNlVJU2VsZWN0fVxuICAgKi9cbiAgc2V0T3B0aW9ucyhib3VuZElELCBvcHRpb25zKSB7XG4gICAgbGV0IHF1ZUlkeCA9IGdldFF1ZUlkeC5jYWxsKHRoaXMsIGJvdW5kSUQpO1xuICAgIHRoaXMucXVldWVbcXVlSWR4XS5zZWxlY3RlZCA9IFtdO1xuICAgIHRoaXMucXVldWVbcXVlSWR4XS5vcHRpb25zID0gb3B0aW9ucztcbiAgICBiaW5kU2VsZWN0VGFyZ2V0LmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBib3VuZElEXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcGFyYW0gc2VsZWN0ZWRcbiAgICogQHBhcmFtIGludGVybmFsXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICB2YWwoYm91bmRJRCwgdmFsdWUsIHNlbGVjdGVkLCBpbnRlcm5hbCkge1xuICAgIGNvbnN0IGdldFNlbGVjdGVkID0gZnVuY3Rpb24gKF9pdGVtLCBvLCBzZWxlY3RlZCkge1xuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RlZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gX2l0ZW0ubXVsdGlwbGUgPyAhbyA6IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICAgICAgICBjbGVhclNlbGVjdGVkID0gZnVuY3Rpb24gKHF1ZUlkeCkge1xuICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbnMuZm9yRWFjaChuID0+IHtcbiAgICAgICAgaWYgKG4ub3B0Z3JvdXApIHtcbiAgICAgICAgICBuLm9wdGlvbnMuZm9yRWFjaChubiA9PiB7XG4gICAgICAgICAgICBubi5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG4uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAgICAgICBwcm9jZXNzb3IgPSB7XG4gICAgICAnaW5kZXgnOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZSwgc2VsZWN0ZWQpIHtcbiAgICAgICAgLy8g7YG0656Y7IqkIOuCtOu2gOyXkOyEnCDtmLjstpzrkJwg7ZiV7YOcLCDqt7jrn7Ag7J207Jyg66GcIOyYteyFmOq3uOujueyXkCDrjIDtlZwg7IOB7YOc66W8IOuzgOqyvSDtlZjqs6Ag7J6I64ukLlxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XTtcblxuICAgICAgICBpZiAoVS5pc1N0cmluZyh2YWx1ZS5pbmRleC5naW5kZXgpKSB7XG4gICAgICAgICAgaXRlbS5vcHRpb25zW3ZhbHVlLmluZGV4LmdpbmRleF0ub3B0aW9uc1t2YWx1ZS5pbmRleC5pbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA9IGdldFNlbGVjdGVkKGl0ZW0sIGl0ZW0ub3B0aW9uc1t2YWx1ZS5pbmRleC5naW5kZXhdLm9wdGlvbnNbdmFsdWUuaW5kZXguaW5kZXhdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZF0sIHNlbGVjdGVkKTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLW9wdGlvbi1ncm91cC1pbmRleD1cIicgKyB2YWx1ZS5pbmRleC5naW5kZXggKyAnXCJdW2RhdGEtb3B0aW9uLWluZGV4PVwiJyArIHZhbHVlLmluZGV4LmluZGV4ICsgJ1wiXScpLmF0dHIoXCJkYXRhLW9wdGlvbi1zZWxlY3RlZFwiLCBpdGVtLm9wdGlvbnNbdmFsdWUuaW5kZXguZ2luZGV4XS5vcHRpb25zW3ZhbHVlLmluZGV4LmluZGV4XVtpdGVtLmNvbHVtbktleXMub3B0aW9uU2VsZWN0ZWRdLnRvU3RyaW5nKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0ub3B0aW9uc1t2YWx1ZS5pbmRleC5pbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA9IGdldFNlbGVjdGVkKGl0ZW0sIGl0ZW0ub3B0aW9uc1t2YWx1ZS5pbmRleC5pbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSwgc2VsZWN0ZWQpO1xuICAgICAgICAgIHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtb3B0aW9uLWluZGV4PVwiJyArIHZhbHVlLmluZGV4LmluZGV4ICsgJ1wiXScpLmF0dHIoXCJkYXRhLW9wdGlvbi1zZWxlY3RlZFwiLCBpdGVtLm9wdGlvbnNbdmFsdWUuaW5kZXguaW5kZXhdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZF0udG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzeW5jU2VsZWN0T3B0aW9ucy5jYWxsKHRoaXMsIHF1ZUlkeCwgaXRlbS5vcHRpb25zKTtcbiAgICAgICAgc3luY0xhYmVsLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICAgICAgYWxpZ25TZWxlY3RPcHRpb25Hcm91cC5jYWxsKHRoaXMpO1xuICAgICAgfSxcbiAgICAgICdhcnInOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZXMsIHNlbGVjdGVkKSB7XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICBpZiAoVS5pc1N0cmluZyh2YWx1ZSkgfHwgVS5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHByb2Nlc3Nvci52YWx1ZS5jYWxsKHRoaXMsIHF1ZUlkeCwgdmFsdWUsIHNlbGVjdGVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHByb2Nlc3Nvcikge1xuICAgICAgICAgICAgICBpZiAodmFsdWVba2V5XSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NvcltrZXldLmNhbGwodGhpcywgcXVlSWR4LCB2YWx1ZSwgc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAndmFsdWUnOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZSwgc2VsZWN0ZWQpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgICAgICBvcHRpb25JbmRleCA9IFUuc2VhcmNoKGl0ZW0ub3B0aW9ucywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPT0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3B0aW9uSW5kZXggPiAtMSkge1xuICAgICAgICAgIGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA9IGdldFNlbGVjdGVkKGl0ZW0sIGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSwgc2VsZWN0ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDZ1aS1zZWxlY3RcIiwgXCI1MDFcIiwgXCJ2YWxcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN5bmNTZWxlY3RPcHRpb25zLmNhbGwodGhpcywgcXVlSWR4LCBpdGVtLm9wdGlvbnMpO1xuICAgICAgICBzeW5jTGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgICAgfSxcbiAgICAgICd0ZXh0JzogZnVuY3Rpb24gKHF1ZUlkeCwgdmFsdWUsIHNlbGVjdGVkKSB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5xdWV1ZVtxdWVJZHhdLFxuICAgICAgICAgICAgb3B0aW9uSW5kZXggPSBVLnNlYXJjaChpdGVtLm9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPT0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3B0aW9uSW5kZXggPiAtMSkge1xuICAgICAgICAgIGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA9IGdldFNlbGVjdGVkKGl0ZW0sIGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSwgc2VsZWN0ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDZ1aS1zZWxlY3RcIiwgXCI1MDFcIiwgXCJ2YWxcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN5bmNTZWxlY3RPcHRpb25zLmNhbGwodGhpcywgcXVlSWR4LCBpdGVtLm9wdGlvbnMpO1xuICAgICAgICBzeW5jTGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgICAgfSxcbiAgICAgICdjbGVhcic6IGZ1bmN0aW9uIChxdWVJZHgpIHtcbiAgICAgICAgY2xlYXJTZWxlY3RlZC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgICAgIHN5bmNTZWxlY3RPcHRpb25zLmNhbGwodGhpcywgcXVlSWR4LCB0aGlzLnF1ZXVlW3F1ZUlkeF0ub3B0aW9ucyk7XG4gICAgICAgIHN5bmNMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXApIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLW9wdGlvbi1pbmRleF0nKS5hdHRyKFwiZGF0YS1vcHRpb24tc2VsZWN0ZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgcXVlSWR4ID0gVS5pc051bWJlcihib3VuZElEKSA/IGJvdW5kSUQgOiBnZXRRdWVJZHguY2FsbCh0aGlzLCBib3VuZElEKTtcbiAgICBpZiAoIXRoaXMucXVldWVbcXVlSWR4XSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgIXRoaXMucXVldWVbcXVlSWR4XS5tdWx0aXBsZSkge1xuICAgICAgY2xlYXJTZWxlY3RlZC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWV1ZVtxdWVJZHhdLnNlbGVjdGVkO1xuICAgIH0gZWxzZSBpZiAoVS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgcHJvY2Vzc29yLmFyci5jYWxsKHRoaXMsIHF1ZUlkeCwgdmFsdWUsIHNlbGVjdGVkKTtcbiAgICB9IGVsc2UgaWYgKFUuaXNTdHJpbmcodmFsdWUpIHx8IFUuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICBwcm9jZXNzb3IudmFsdWUuY2FsbCh0aGlzLCBxdWVJZHgsIHZhbHVlLCBzZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICBwcm9jZXNzb3IuY2xlYXIuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHByb2Nlc3Nvcikge1xuICAgICAgICAgIGlmICh2YWx1ZVtrZXldKSB7XG4gICAgICAgICAgICBwcm9jZXNzb3Jba2V5XS5jYWxsKHRoaXMsIHF1ZUlkeCwgdmFsdWUsIHNlbGVjdGVkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgdGhpcy5xdWV1ZVtxdWVJZHhdLCB7XG4gICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgIGl0ZW06IHRoaXMucXVldWVbcXVlSWR4XSxcbiAgICAgICAgc3RhdGU6IGludGVybmFsID8gXCJjaGFuZ2VWYWx1ZVwiIDogXCJzZXRWYWx1ZVwiLFxuICAgICAgICB2YWx1ZTogdGhpcy5xdWV1ZVtxdWVJZHhdLnNlbGVjdGVkLFxuICAgICAgICBpbnRlcm5hbDogaW50ZXJuYWxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGJvdW5kSUQgPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIGl0ZW1cbiAgICogQHJldHVybiB7QVg2VUlTZWxlY3R9XG4gICAqL1xuICBjbG9zZShpdGVtKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VUaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VUaW1lcik7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZVNlbGVjdE9wdGlvbkdyb3VwKSByZXR1cm4gdGhpcztcblxuICAgIGl0ZW0gPSB0aGlzLnF1ZXVlW3RoaXMuYWN0aXZlU2VsZWN0UXVldWVJbmRleF07XG4gICAgaXRlbS5vcHRpb25Gb2N1c0luZGV4ID0gLTE7XG5cbiAgICBpdGVtLiRkaXNwbGF5SW5wdXQudmFsKCcnKS50cmlnZ2VyKFwiYmx1clwiKTtcbiAgICBpdGVtLiRkaXNwbGF5LnJlbW92ZUF0dHIoXCJkYXRhLXNlbGVjdC1vcHRpb24tZ3JvdXAtb3BlbmVkXCIpLnRyaWdnZXIoXCJmb2N1c1wiKTtcblxuICAgIHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuYWRkQ2xhc3MoXCJkZXN0cm95XCIpO1xuXG4gICAgalF1ZXJ5KHdpbmRvdykub2ZmKFwicmVzaXplLmF4NnVpLXNlbGVjdC1cIiArIHRoaXMuaW5zdGFuY2VJZCkub2ZmKFwiY2xpY2suYXg2dWktc2VsZWN0LVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vZmYoXCJrZXl1cC5heDZ1aS1zZWxlY3QtXCIgKyB0aGlzLmluc3RhbmNlSWQpO1xuXG4gICAgdGhpcy5jbG9zZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5hY3RpdmVTZWxlY3RPcHRpb25Hcm91cCkgdGhpcy5hY3RpdmVTZWxlY3RPcHRpb25Hcm91cC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAgPSBudWxsO1xuICAgICAgdGhpcy5hY3RpdmVTZWxlY3RRdWV1ZUluZGV4ID0gLTE7XG5cbiAgICAgIGxldCB0aGF0ID0ge1xuICAgICAgICBzZWxmOiB0aGlzLFxuICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICB2YWx1ZTogaXRlbS5zZWxlY3RlZCxcbiAgICAgICAgc3RhdGU6IFwiY2xvc2VcIlxuICAgICAgfTtcblxuICAgICAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBpdGVtLCB0aGF0KTtcblxuICAgICAgLy8gd2FpdE9wdGlvbiB0aW1lclxuICAgICAgaWYgKGl0ZW0ub25DbG9zZSkge1xuICAgICAgICBpdGVtLm9uQ2xvc2UuY2FsbCh0aGF0KTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmNvbmZpZy5hbmltYXRlVGltZSk7XG4gICAgdGhpcy53YWl0T3B0aW9uc0NhbGxiYWNrID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBib3VuZElEXG4gICAqIEByZXR1cm4ge0FYNlVJU2VsZWN0fVxuICAgKi9cbiAgZW5hYmxlKGJvdW5kSUQpIHtcbiAgICBsZXQgcXVlSWR4ID0gZ2V0UXVlSWR4LmNhbGwodGhpcywgYm91bmRJRCk7XG4gICAgdGhpcy5xdWV1ZVtxdWVJZHhdLiRkaXNwbGF5LnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJHNlbGVjdC5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG5cbiAgICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIHRoaXMucXVldWVbcXVlSWR4XSwge1xuICAgICAgc2VsZjogdGhpcyxcbiAgICAgIHN0YXRlOiBcImVuYWJsZVwiXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBib3VuZElEXG4gICAqIEByZXR1cm4ge0FYNlVJU2VsZWN0fVxuICAgKi9cbiAgZGlzYWJsZShib3VuZElEKSB7XG4gICAgbGV0IHF1ZUlkeCA9IGdldFF1ZUlkeC5jYWxsKHRoaXMsIGJvdW5kSUQpO1xuICAgIHRoaXMucXVldWVbcXVlSWR4XS4kZGlzcGxheS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJHNlbGVjdC5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcblxuICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgdGhpcy5xdWV1ZVtxdWVJZHhdLCB7XG4gICAgICBzZWxmOiB0aGlzLFxuICAgICAgc3RhdGU6IFwiZGlzYWJsZVwiXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBWDZVSVNlbGVjdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSVNlbGVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBqUXVlcnkgZnJvbSBcImpxbWluXCI7XG5pbXBvcnQgQVg2VUlDb3JlIGZyb20gXCIuL0FYNlVJQ29yZS5qc1wiO1xuaW1wb3J0IFUgZnJvbSBcIi4vQVg2VXRpbFwiO1xuaW1wb3J0IGluZm8gZnJvbSBcIi4vQVg2SW5mb1wiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCIuL0FYNk11c3RhY2hlXCI7XG5pbXBvcnQgREFUQSBmcm9tIFwiLi9BWDZVSUdyaWQvQVg2VUlHcmlkX2RhdGFcIjtcbmltcG9ydCBIRUFERVIgZnJvbSBcIi4vQVg2VUlHcmlkL0FYNlVJR3JpZF9oZWFkZXJcIjtcbmltcG9ydCBCT0RZIGZyb20gXCIuL0FYNlVJR3JpZC9BWDZVSUdyaWRfYm9keVwiO1xuaW1wb3J0IFNDUk9MTEVSIGZyb20gXCIuL0FYNlVJR3JpZC9BWDZVSUdyaWRfc2Nyb2xsZXJcIjtcbmltcG9ydCBQQUdFIGZyb20gXCIuL0FYNlVJR3JpZC9BWDZVSUdyaWRfcGFnZVwiO1xuaW1wb3J0IFRNUEwgZnJvbSBcIi4vQVg2VUlHcmlkL0FYNlVJR3JpZF90bXBsXCI7XG5pbXBvcnQgVVRJTCBmcm9tIFwiLi9BWDZVSUdyaWQvQVg2VUlHcmlkX3V0aWxcIjtcblxuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBpbXBvcnQgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbmxldCBmb3JtYXR0ZXIgPSB7fTtcbmxldCBjb2xsZWN0b3IgPSB7fTtcbmxldCBjdHJsS2V5cyA9IHtcbiAgXCIzM1wiOiBcIktFWV9QQUdFVVBcIixcbiAgXCIzNFwiOiBcIktFWV9QQUdFRE9XTlwiLFxuICBcIjM1XCI6IFwiS0VZX0VORFwiLFxuICBcIjM2XCI6IFwiS0VZX0hPTUVcIixcbiAgXCIzN1wiOiBcIktFWV9MRUZUXCIsXG4gIFwiMzhcIjogXCJLRVlfVVBcIixcbiAgXCIzOVwiOiBcIktFWV9SSUdIVFwiLFxuICBcIjQwXCI6IFwiS0VZX0RPV05cIlxufTtcbmxldCB0bXBsID0ge307XG5cbmNvbnN0IGluaXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAvLyDqt7jrpqzrk5wg7YWc7ZSM66a/7JeQIOyghOuLrO2VmOqzoOyekCDtlZjripQg642w7J207YSw66W8IOygleumrO2VqeyLnOuLpC5cblxuICBsZXQgZGF0YSA9IHtcbiAgICBpbnN0YW5jZUlkOiB0aGlzLmlkXG4gIH07XG5cbiAgdGhpcy4kdGFyZ2V0Lmh0bWwobXVzdGFjaGUucmVuZGVyKHRoaXMuX190bXBsLm1haW4uY2FsbCh0aGlzKSwgZGF0YSkpO1xuXG4gIC8vIOq3uOumrOuTnCDtjKjrhJAg7ZSE66CI7J6E7J2YIOqwgSDsl5jrpqzrqLztirjrpbwg7LqQ7Ims7ZWp7Iuc64ukLlxuICB0aGlzLiQgPSB7XG4gICAgXCJjb250YWluZXJcIjoge1xuICAgICAgXCJoaWRkZW5cIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29udGFpbmVyPVwiaGlkZGVuXCJdJyksXG4gICAgICBcInJvb3RcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29udGFpbmVyPVwicm9vdFwiXScpLFxuICAgICAgXCJoZWFkZXJcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29udGFpbmVyPVwiaGVhZGVyXCJdJyksXG4gICAgICBcImJvZHlcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29udGFpbmVyPVwiYm9keVwiXScpLFxuICAgICAgXCJwYWdlXCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLWNvbnRhaW5lcj1cInBhZ2VcIl0nKSxcbiAgICAgIFwic2Nyb2xsZXJcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtY29udGFpbmVyPVwic2Nyb2xsZXJcIl0nKVxuICAgIH0sXG4gICAgXCJwYW5lbFwiOiB7XG4gICAgICBcImFzaWRlLWhlYWRlclwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbD1cImFzaWRlLWhlYWRlclwiXScpLFxuICAgICAgXCJsZWZ0LWhlYWRlclwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbD1cImxlZnQtaGVhZGVyXCJdJyksXG4gICAgICBcImhlYWRlclwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbD1cImhlYWRlclwiXScpLFxuICAgICAgXCJoZWFkZXItc2Nyb2xsXCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsLXNjcm9sbD1cImhlYWRlclwiXScpLFxuICAgICAgXCJyaWdodC1oZWFkZXJcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFuZWw9XCJyaWdodC1oZWFkZXJcIl0nKSxcbiAgICAgIFwidG9wLWFzaWRlLWJvZHlcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFuZWw9XCJ0b3AtYXNpZGUtYm9keVwiXScpLFxuICAgICAgXCJ0b3AtbGVmdC1ib2R5XCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsPVwidG9wLWxlZnQtYm9keVwiXScpLFxuICAgICAgXCJ0b3AtYm9keVwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbD1cInRvcC1ib2R5XCJdJyksXG4gICAgICBcInRvcC1ib2R5LXNjcm9sbFwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbC1zY3JvbGw9XCJ0b3AtYm9keVwiXScpLFxuICAgICAgXCJ0b3AtcmlnaHQtYm9keVwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbD1cInRvcC1yaWdodC1ib2R5XCJdJyksXG4gICAgICBcImFzaWRlLWJvZHlcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFuZWw9XCJhc2lkZS1ib2R5XCJdJyksXG4gICAgICBcImFzaWRlLWJvZHktc2Nyb2xsXCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsLXNjcm9sbD1cImFzaWRlLWJvZHlcIl0nKSxcbiAgICAgIFwibGVmdC1ib2R5XCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsPVwibGVmdC1ib2R5XCJdJyksXG4gICAgICBcImxlZnQtYm9keS1zY3JvbGxcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFuZWwtc2Nyb2xsPVwibGVmdC1ib2R5XCJdJyksXG4gICAgICBcImJvZHlcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFuZWw9XCJib2R5XCJdJyksXG4gICAgICBcImJvZHktc2Nyb2xsXCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsLXNjcm9sbD1cImJvZHlcIl0nKSxcbiAgICAgIFwicmlnaHQtYm9keVwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbD1cInJpZ2h0LWJvZHlcIl0nKSxcbiAgICAgIFwicmlnaHQtYm9keS1zY3JvbGxcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFuZWwtc2Nyb2xsPVwicmlnaHQtYm9keVwiXScpLFxuICAgICAgXCJib3R0b20tYXNpZGUtYm9keVwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYW5lbD1cImJvdHRvbS1hc2lkZS1ib2R5XCJdJyksXG4gICAgICBcImJvdHRvbS1sZWZ0LWJvZHlcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFuZWw9XCJib3R0b20tbGVmdC1ib2R5XCJdJyksXG4gICAgICBcImJvdHRvbS1ib2R5XCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsPVwiYm90dG9tLWJvZHlcIl0nKSxcbiAgICAgIFwiYm90dG9tLWJvZHktc2Nyb2xsXCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsLXNjcm9sbD1cImJvdHRvbS1ib2R5XCJdJyksXG4gICAgICBcImJvdHRvbS1yaWdodC1ib2R5XCI6IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZncmlkLXBhbmVsPVwiYm90dG9tLXJpZ2h0LWJvZHlcIl0nKVxuICAgIH0sXG4gICAgXCJsaXZlUGFuZWxLZXlzXCI6IFtdLCAvLyDtmITsnqwg7IKs7Jqp7KSR7J24IO2MqOuEkOuTpCAoZ3JpZC1ib2R5IHJlcGFpbnTsl5DshJwg7IiY7KeR7ZWY7JesIOyymOumrClcbiAgICBcInNjcm9sbGVyXCI6IHtcbiAgICAgIFwidmVydGljYWxcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtc2Nyb2xsZXI9XCJ2ZXJ0aWNhbFwiXScpLFxuICAgICAgXCJ2ZXJ0aWNhbC1iYXJcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtc2Nyb2xsZXI9XCJ2ZXJ0aWNhbC1iYXJcIl0nKSxcbiAgICAgIFwiaG9yaXpvbnRhbFwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1zY3JvbGxlcj1cImhvcml6b250YWxcIl0nKSxcbiAgICAgIFwiaG9yaXpvbnRhbC1iYXJcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtc2Nyb2xsZXI9XCJob3Jpem9udGFsLWJhclwiXScpLFxuICAgICAgXCJjb3JuZXJcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtc2Nyb2xsZXI9XCJjb3JuZXJcIl0nKVxuICAgIH0sXG4gICAgXCJwYWdlXCI6IHtcbiAgICAgIFwibmF2aWdhdGlvblwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1wYWdlPVwibmF2aWdhdGlvblwiXScpLFxuICAgICAgXCJzdGF0dXNcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtcGFnZT1cInN0YXR1c1wiXScpXG4gICAgfSxcbiAgICBcImZvcm1cIjoge1xuICAgICAgXCJjbGlwYm9hcmRcIjogdGhpcy4kdGFyZ2V0LmZpbmQoJ1tkYXRhLWF4NmdyaWQtZm9ybT1cImNsaXBib2FyZFwiXScpXG4gICAgfSxcbiAgICBcInJlc2l6ZXJcIjoge1xuICAgICAgXCJ2ZXJ0aWNhbFwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1yZXNpemVyPVwidmVydGljYWxcIl0nKSxcbiAgICAgIFwiaG9yaXpvbnRhbFwiOiB0aGlzLiR0YXJnZXQuZmluZCgnW2RhdGEtYXg2Z3JpZC1yZXNpemVyPVwiaG9yaXpvbnRhbFwiXScpXG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJFtcImNvbnRhaW5lclwiXVtcInJvb3RcIl0uY3NzKHsgaGVpZ2h0OiB0aGlzLmNvbmZpZy5oZWlnaHQgfHwgdGhpcy5jb25maWcuX2hlaWdodCB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5jb25zdCBpbml0Q29sdW1ucyA9IGZ1bmN0aW9uIChfY29sdW1ucykge1xuICBpZiAoIVUuaXNBcnJheShfY29sdW1ucykpIF9jb2x1bW5zID0gW107XG4gIHRoaXMuY29sdW1ucyA9IFUuZGVlcENvcHkoX2NvbHVtbnMpO1xuICB0aGlzLmhlYWRlclRhYmxlID0gVVRJTC5tYWtlSGVhZGVyVGFibGUuY2FsbCh0aGlzLCB0aGlzLmNvbHVtbnMpO1xuICB0aGlzLnh2YXIuZnJvemVuQ29sdW1uSW5kZXggPSB0aGlzLmNvbmZpZy5mcm96ZW5Db2x1bW5JbmRleCB8fCAwO1xuXG4gIHRoaXMuYm9keVJvd1RhYmxlID0gVVRJTC5tYWtlQm9keVJvd1RhYmxlLmNhbGwodGhpcywgdGhpcy5jb2x1bW5zKTtcbiAgdGhpcy5ib2R5Um93TWFwID0gVVRJTC5tYWtlQm9keVJvd01hcC5jYWxsKHRoaXMsIHRoaXMuYm9keVJvd1RhYmxlKTtcbiAgLy8g67CU65SU7JeQIO2RnO2YhOuQoCDtlZzspITsnZgg64aS7J2066W8IOqzhOyCsO2VqeuLiOuLpC5cbiAgdGhpcy54dmFyLmJvZHlUckhlaWdodCA9IHRoaXMuYm9keVJvd1RhYmxlLnJvd3MubGVuZ3RoICogdGhpcy5jb25maWcuYm9keS5jb2x1bW5IZWlnaHQ7XG5cbiAgbGV0IGNvbEdyb3VwTWFwID0ge307XG4gIGZvciAobGV0IHIgPSAwLCBybCA9IHRoaXMuaGVhZGVyVGFibGUucm93cy5sZW5ndGg7IHIgPCBybDsgcisrKSB7XG4gICAgbGV0IHJvdyA9IHRoaXMuaGVhZGVyVGFibGUucm93c1tyXTtcbiAgICBmb3IgKGxldCBjID0gMCwgY2wgPSByb3cuY29scy5sZW5ndGg7IGMgPCBjbDsgYysrKSB7XG4gICAgICBjb2xHcm91cE1hcFtyb3cuY29sc1tjXS5jb2xJbmRleF0gPSBqUXVlcnkuZXh0ZW5kKHt9LCByb3cuY29sc1tjXSk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5jb2xHcm91cCA9IFtdO1xuICBmb3IgKHZhciBrIGluIGNvbEdyb3VwTWFwKSB7XG4gICAgdGhpcy5jb2xHcm91cC5wdXNoKGNvbEdyb3VwTWFwW2tdKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IG9uUmVzZXRDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xuICBpbml0Q29sdW1ucy5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmNvbHVtbnMpO1xuICByZXNldENvbEdyb3VwV2lkdGguY2FsbCh0aGlzKTtcbiAgaWYgKHRoaXMuY29uZmlnLmZvb3RTdW0pIHtcbiAgICBpbml0Rm9vdFN1bS5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmZvb3RTdW0pO1xuICAgIHRoaXMubmVlZFRvUGFpbnRTdW0gPSB0cnVlO1xuICB9XG4gIGlmICh0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nKSBpbml0Qm9keUdyb3VwLmNhbGwodGhpcywgdGhpcy5jb25maWcuYm9keS5ncm91cGluZyk7XG4gIGFsaWduR3JpZC5jYWxsKHRoaXMsIHRydWUpO1xuICBIRUFERVIucmVwYWludC5jYWxsKHRoaXMsIHRydWUpO1xuICBCT0RZLnJlcGFpbnQuY2FsbCh0aGlzLCB0cnVlKTtcbiAgU0NST0xMRVIucmVzaXplLmNhbGwodGhpcyk7XG59O1xuY29uc3QgcmVzZXRDb2xHcm91cFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAvLy8gISEg6re466as65OcIHRhcmdldOydmCDtgazquLDqsIAg67OA6rK965CY66m0IOydtCDtlajsiJjrpbwg7Zi47Lac7ZWY66CkIHRoaXMuY29sR3JvdXDsnZggX3dpZHRoIOqwkuydhCDsnqwg6rOE7IKwIO2VmOyXrOyVvCDtlaguIFt0b21dXG4gIGxldCBDVF9XSURUSCA9IHRoaXMuJFtcImNvbnRhaW5lclwiXVtcInJvb3RcIl0ud2lkdGgoKSAtICgoKSA9PiB7XG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBpZiAodGhpcy5jb25maWcuc2hvd0xpbmVOdW1iZXIpIHdpZHRoICs9IHRoaXMuY29uZmlnLmxpbmVOdW1iZXJDb2x1bW5XaWR0aDtcbiAgICBpZiAodGhpcy5jb25maWcuc2hvd1Jvd1NlbGVjdG9yKSB3aWR0aCArPSB0aGlzLmNvbmZpZy5yb3dTZWxlY3RvckNvbHVtbldpZHRoO1xuICAgIHdpZHRoICs9IHRoaXMuY29uZmlnLnNjcm9sbGVyLnNpemU7XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9KSgpLFxuICAgICAgdG90YWxXaWR0aCA9IDAsXG4gICAgICBjb21wdXRlZFdpZHRoLFxuICAgICAgYXV0b1dpZHRoQ29sZ3JvdXBJbmRleHMgPSBbXSxcbiAgICAgIGNvbEdyb3VwID0gdGhpcy5jb2xHcm91cCxcbiAgICAgIGksXG4gICAgICBsO1xuXG4gIGZvciAoaSA9IDAsIGwgPSBjb2xHcm91cC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoVS5pc051bWJlcihjb2xHcm91cFtpXS53aWR0aCkpIHtcbiAgICAgIHRvdGFsV2lkdGggKz0gY29sR3JvdXBbaV0uX3dpZHRoID0gY29sR3JvdXBbaV0ud2lkdGg7XG4gICAgfSBlbHNlIGlmIChjb2xHcm91cFtpXS53aWR0aCA9PT0gXCIqXCIpIHtcbiAgICAgIGF1dG9XaWR0aENvbGdyb3VwSW5kZXhzLnB1c2goaSk7XG4gICAgfSBlbHNlIGlmIChVLnJpZ2h0KGNvbEdyb3VwW2ldLndpZHRoLCAxKSA9PT0gXCIlXCIpIHtcbiAgICAgIHRvdGFsV2lkdGggKz0gY29sR3JvdXBbaV0uX3dpZHRoID0gQ1RfV0lEVEggKiBVLmxlZnQoY29sR3JvdXBbaV0ud2lkdGgsIFwiJVwiKSAvIDEwMDtcbiAgICB9XG4gIH1cbiAgaWYgKGF1dG9XaWR0aENvbGdyb3VwSW5kZXhzLmxlbmd0aCA+IDApIHtcbiAgICBjb21wdXRlZFdpZHRoID0gKENUX1dJRFRIIC0gdG90YWxXaWR0aCkgLyBhdXRvV2lkdGhDb2xncm91cEluZGV4cy5sZW5ndGg7XG4gICAgZm9yIChpID0gMCwgbCA9IGF1dG9XaWR0aENvbGdyb3VwSW5kZXhzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29sR3JvdXBbYXV0b1dpZHRoQ29sZ3JvdXBJbmRleHNbaV1dLl93aWR0aCA9IGNvbXB1dGVkV2lkdGg7XG4gICAgfVxuICB9XG59O1xuY29uc3QgaW5pdEZvb3RTdW0gPSBmdW5jdGlvbiAoX2Zvb3RTdW0pIHtcbiAgaWYgKFUuaXNBcnJheShfZm9vdFN1bSkpIHtcbiAgICB0aGlzLmZvb3RTdW1UYWJsZSA9IFVUSUwubWFrZUZvb3RTdW1UYWJsZS5jYWxsKHRoaXMsIHRoaXMuZm9vdFN1bUNvbHVtbnMgPSBfZm9vdFN1bSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5mb290U3VtQ29sdW1ucyA9IFtdO1xuICAgIHRoaXMuZm9vdFN1bVRhYmxlID0ge307XG4gIH1cbn07XG5jb25zdCBpbml0Qm9keUdyb3VwID0gZnVuY3Rpb24gKF9ncm91cGluZykge1xuICBsZXQgZ3JvdXBpbmcgPSBqUXVlcnkuZXh0ZW5kKHt9LCBfZ3JvdXBpbmcpO1xuICBpZiAoXCJieVwiIGluIGdyb3VwaW5nICYmIFwiY29sdW1uc1wiIGluIGdyb3VwaW5nKSB7XG4gICAgdGhpcy5ib2R5R3JvdXBpbmcgPSB7XG4gICAgICBieTogZ3JvdXBpbmcuYnksXG4gICAgICBjb2x1bW5zOiBncm91cGluZy5jb2x1bW5zXG4gICAgfTtcbiAgICB0aGlzLmJvZHlHcm91cGluZ1RhYmxlID0gVVRJTC5tYWtlQm9keUdyb3VwaW5nVGFibGUuY2FsbCh0aGlzLCB0aGlzLmJvZHlHcm91cGluZy5jb2x1bW5zKTtcbiAgICB0aGlzLnNvcnRJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHNvcnRJbmZvID0ge307XG4gICAgICBmb3IgKGxldCBrID0gMCwga2wgPSB0aGlzLmJvZHlHcm91cGluZy5ieS5sZW5ndGg7IGsgPCBrbDsgaysrKSB7XG4gICAgICAgIHNvcnRJbmZvW3RoaXMuYm9keUdyb3VwaW5nLmJ5W2tdXSA9IHtcbiAgICAgICAgICBvcmRlckJ5OiBcImFzY1wiLFxuICAgICAgICAgIHNlcTogayxcbiAgICAgICAgICBmaXhlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBjID0gMCwgY2wgPSB0aGlzLmNvbEdyb3VwLmxlbmd0aDsgYyA8IGNsOyBjKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5jb2xHcm91cFtjXS5rZXkgPT09IHRoaXMuYm9keUdyb3VwaW5nLmJ5W2tdKSB7XG4gICAgICAgICAgICB0aGlzLmNvbEdyb3VwW2NdLnNvcnQgPSBcImFzY1wiO1xuICAgICAgICAgICAgdGhpcy5jb2xHcm91cFtjXS5zb3J0Rml4ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNvcnRJbmZvO1xuICAgIH0uY2FsbCh0aGlzKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nID0gZmFsc2U7XG4gIH1cbn07XG5jb25zdCBhbGlnbkdyaWQgPSBmdW5jdGlvbiAoX2lzRmlyc3QpIHtcbiAgbGV0IGxpc3QgPSB0aGlzLnByb3h5TGlzdCA/IHRoaXMucHJveHlMaXN0IDogdGhpcy5saXN0O1xuICAvLyDrjIDsg4HsnbQg7YGs6riw6rCAIOy7rOufvOydmCDstZzshowg7YGs6riwIOuztOuLpCDsnpHsl4Ug6riI7KeAXG4gIGlmIChNYXRoLm1pbih0aGlzLiR0YXJnZXQuaW5uZXJXaWR0aCgpLCB0aGlzLiR0YXJnZXQuaW5uZXJIZWlnaHQoKSkgPCA1KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCF0aGlzLmNvbmZpZy5oZWlnaHQpIHtcbiAgICB0aGlzLiRbXCJjb250YWluZXJcIl1bXCJyb290XCJdLmNzcyh7IGhlaWdodDogdGhpcy5jb25maWcuX2hlaWdodCA9IHRoaXMuJHRhcmdldC5oZWlnaHQoKSB9KTtcbiAgfVxuXG4gIGxldCBDVF9XSURUSCA9IHRoaXMuJFtcImNvbnRhaW5lclwiXVtcInJvb3RcIl0ud2lkdGgoKSxcbiAgICAgIENUX0hFSUdIVCA9IHRoaXMuJFtcImNvbnRhaW5lclwiXVtcInJvb3RcIl0uaGVpZ2h0KCksXG4gICAgICBDVF9JTk5FUl9XSURUSCA9IENUX1dJRFRILFxuICAgICAgQ1RfSU5ORVJfSEVJR0hUID0gQ1RfSEVJR0hULFxuICAgICAgYXNpZGVQYW5lbFdpZHRoID0gdGhpcy5jb25maWcuYXNpZGVQYW5lbFdpZHRoID0gKCgpID0+IHtcbiAgICBsZXQgd2lkdGggPSAwO1xuICAgIGlmICh0aGlzLmNvbmZpZy5zaG93TGluZU51bWJlcikgd2lkdGggKz0gdGhpcy5jb25maWcubGluZU51bWJlckNvbHVtbldpZHRoO1xuICAgIGlmICh0aGlzLmNvbmZpZy5zaG93Um93U2VsZWN0b3IpIHdpZHRoICs9IHRoaXMuY29uZmlnLnJvd1NlbGVjdG9yQ29sdW1uV2lkdGg7XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9KSgpLFxuICAgICAgZnJvemVuUGFuZWxXaWR0aCA9IHRoaXMuY29uZmlnLmZyb3plblBhbmVsV2lkdGggPSAoKGNvbEdyb3VwLCBlbmRJbmRleCkgPT4ge1xuICAgIGxldCB3aWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBlbmRJbmRleDsgaSA8IGw7IGkrKykge1xuICAgICAgd2lkdGggKz0gY29sR3JvdXBbaV0uX3dpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gd2lkdGg7XG4gIH0pKHRoaXMuY29sR3JvdXAsIHRoaXMuY29uZmlnLmZyb3plbkNvbHVtbkluZGV4KSxcbiAgICAgIHZlcnRpY2FsU2Nyb2xsZXJXaWR0aCxcbiAgICAgIGhvcml6b250YWxTY3JvbGxlckhlaWdodCxcbiAgICAgIGJvZHlIZWlnaHQ7XG5cbiAgLy8gdG9kbyA6IOyasOy4oSDtlajqs4Tsu6zrn7wg64SI67mEIOqzhOyCsFxuICBsZXQgcmlnaHRQYW5lbFdpZHRoID0gMCxcbiAgICAgIGZyb3plblJvd0hlaWdodCA9IHRoaXMuY29uZmlnLmZyb3plblJvd0luZGV4ICogdGhpcy54dmFyLmJvZHlUckhlaWdodCxcbiAgICAgIGZvb3RTdW1IZWlnaHQgPSB0aGlzLmZvb3RTdW1Db2x1bW5zLmxlbmd0aCAqIHRoaXMueHZhci5ib2R5VHJIZWlnaHQsXG4gICAgICBoZWFkZXJIZWlnaHQgPSB0aGlzLmNvbmZpZy5oZWFkZXIuZGlzcGxheSA/IHRoaXMuaGVhZGVyVGFibGUucm93cy5sZW5ndGggKiB0aGlzLmNvbmZpZy5oZWFkZXIuY29sdW1uSGVpZ2h0IDogMCxcbiAgICAgIHBhZ2VIZWlnaHQgPSB0aGlzLmNvbmZpZy5wYWdlLmRpc3BsYXkgPyB0aGlzLmNvbmZpZy5wYWdlLmhlaWdodCA6IDA7XG5cbiAge1xuICAgIHZlcnRpY2FsU2Nyb2xsZXJXaWR0aCA9IENUX0hFSUdIVCAtIGhlYWRlckhlaWdodCAtIHBhZ2VIZWlnaHQgLSBmb290U3VtSGVpZ2h0IDwgbGlzdC5sZW5ndGggKiB0aGlzLnh2YXIuYm9keVRySGVpZ2h0ID8gdGhpcy5jb25maWcuc2Nyb2xsZXIuc2l6ZSA6IDA7XG4gICAgLy8g64Ko7J2AIOuEiOu5hOqwgCBjb2xHcm91cOydmCDrhIjruYTrs7Tri6Qg64ST7J2E65WMLiDsiJjtj4kg7Iqk7YGs66GkIO2ZnOyEse2ZlC5cbiAgICBob3Jpem9udGFsU2Nyb2xsZXJIZWlnaHQgPSAoKCkgPT4ge1xuICAgICAgbGV0IHRvdGFsQ29sR3JvdXBXaWR0aCA9IDA7XG4gICAgICAvLyBhc2lkZSDrubzqs6Ag64SI67mEXG4gICAgICAvLyDsiJjsp4Eg7Iqk7YGs66Gk7J20IOyeiOycvOuptCDrmJAg67m86rOgIOu5hOq1kFxuICAgICAgbGV0IGJvZHlXaWR0aCA9IENUX1dJRFRIIC0gYXNpZGVQYW5lbFdpZHRoIC0gdmVydGljYWxTY3JvbGxlcldpZHRoO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmNvbEdyb3VwLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0b3RhbENvbEdyb3VwV2lkdGggKz0gdGhpcy5jb2xHcm91cFtpXS5fd2lkdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG90YWxDb2xHcm91cFdpZHRoID4gYm9keVdpZHRoID8gdGhpcy5jb25maWcuc2Nyb2xsZXIuc2l6ZSA6IDA7XG4gICAgfSkoKTtcblxuICAgIGlmIChob3Jpem9udGFsU2Nyb2xsZXJIZWlnaHQgPiAwKSB7XG4gICAgICB2ZXJ0aWNhbFNjcm9sbGVyV2lkdGggPSBDVF9IRUlHSFQgLSBoZWFkZXJIZWlnaHQgLSBwYWdlSGVpZ2h0IC0gZm9vdFN1bUhlaWdodCAtIGhvcml6b250YWxTY3JvbGxlckhlaWdodCA8IGxpc3QubGVuZ3RoICogdGhpcy54dmFyLmJvZHlUckhlaWdodCA/IHRoaXMuY29uZmlnLnNjcm9sbGVyLnNpemUgOiAwO1xuICAgIH1cbiAgfVxuXG4gIC8vIOyImO2PiSDrhIjruYQg6rKw7KCVXG4gIENUX0lOTkVSX1dJRFRIID0gQ1RfV0lEVEggLSB2ZXJ0aWNhbFNjcm9sbGVyV2lkdGg7XG4gIC8vIOyImOyngSDsiqTtgazroaTrn6zsnZgg64aS7J20IOqysOyglS5cbiAgQ1RfSU5ORVJfSEVJR0hUID0gQ1RfSEVJR0hUIC0gcGFnZUhlaWdodCAtIGhvcml6b250YWxTY3JvbGxlckhlaWdodDtcblxuICBib2R5SGVpZ2h0ID0gQ1RfSU5ORVJfSEVJR0hUIC0gaGVhZGVySGVpZ2h0O1xuXG4gIGNvbnN0IHBhbmVsRGlzcGxheVByb2Nlc3MgPSBmdW5jdGlvbiAocGFuZWwsIHZQb3NpdGlvbiwgaFBvc2l0aW9uLCBjb250YWluZXJUeXBlKSB7XG4gICAgbGV0IGNzcyA9IHtcbiAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICAgIH0sXG4gICAgICAgIGlzSGlkZSA9IGZhbHNlO1xuXG4gICAgc3dpdGNoIChoUG9zaXRpb24pIHtcbiAgICAgIGNhc2UgXCJhc2lkZVwiOlxuICAgICAgICBpZiAoYXNpZGVQYW5lbFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgaXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3NbXCJsZWZ0XCJdID0gMDtcbiAgICAgICAgICBjc3NbXCJ3aWR0aFwiXSA9IGFzaWRlUGFuZWxXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5mcm96ZW5Db2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgIGlzSGlkZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3NzW1wibGVmdFwiXSA9IGFzaWRlUGFuZWxXaWR0aDtcbiAgICAgICAgICBjc3NbXCJ3aWR0aFwiXSA9IGZyb3plblBhbmVsV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5yaWdodFN1bSkge1xuICAgICAgICAgIGlzSGlkZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7fVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChjb250YWluZXJUeXBlICE9PSBcInBhZ2VcIikge1xuICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5mcm96ZW5Db2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgY3NzW1wibGVmdFwiXSA9IGFzaWRlUGFuZWxXaWR0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzW1wibGVmdFwiXSA9IGZyb3plblBhbmVsV2lkdGggKyBhc2lkZVBhbmVsV2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNzc1tcIndpZHRoXCJdID0gQ1RfSU5ORVJfV0lEVEggLSBhc2lkZVBhbmVsV2lkdGggLSBmcm96ZW5QYW5lbFdpZHRoIC0gcmlnaHRQYW5lbFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChpc0hpZGUpIHtcbiAgICAgIHBhbmVsLmNzcyh7IGRpc3BsYXk6IFwibm9uZVwiIH0pO1xuICAgICAgLy8g7ZSE66Gc7IS47IqkIOykkeyngFxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRhaW5lclR5cGUgPT09IFwiYm9keVwiKSB7XG4gICAgICBzd2l0Y2ggKHZQb3NpdGlvbikge1xuICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmZyb3plblJvd0luZGV4ID09IDApIHtcbiAgICAgICAgICAgIGlzSGlkZSA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNzc1tcInRvcFwiXSA9IDA7XG4gICAgICAgICAgICBjc3NbXCJoZWlnaHRcIl0gPSBmcm96ZW5Sb3dIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5mb290U3VtKSB7XG4gICAgICAgICAgICBpc0hpZGUgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3NbXCJ0b3BcIl0gPSBib2R5SGVpZ2h0IC0gZm9vdFN1bUhlaWdodDtcbiAgICAgICAgICAgIGNzc1tcImhlaWdodFwiXSA9IGZvb3RTdW1IZWlnaHQ7IC8vIGZvb3RTdW0gaGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNzc1tcInRvcFwiXSA9IGZyb3plblJvd0hlaWdodDtcbiAgICAgICAgICBjc3NbXCJoZWlnaHRcIl0gPSBib2R5SGVpZ2h0IC0gZnJvemVuUm93SGVpZ2h0IC0gZm9vdFN1bUhlaWdodDtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29udGFpbmVyVHlwZSA9PT0gXCJoZWFkZXJcIikge1xuICAgICAgY3NzW1wiaGVpZ2h0XCJdID0gaGVhZGVySGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoY29udGFpbmVyVHlwZSA9PT0gXCJwYWdlXCIpIHtcbiAgICAgIGlmIChwYWdlSGVpZ2h0ID09IDApIHtcbiAgICAgICAgaXNIaWRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzc1tcImhlaWdodFwiXSA9IHBhZ2VIZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzSGlkZSkge1xuICAgICAgcGFuZWwuY3NzKHsgZGlzcGxheTogXCJub25lXCIgfSk7XG4gICAgICAvLyDtlITroZzshLjsiqQg7KSR7KeAXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwYW5lbC5jc3MoY3NzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgY29uc3Qgc2Nyb2xsZXJEaXNwbGF5UHJvY2VzcyA9IGZ1bmN0aW9uIChwYW5lbCwgc2Nyb2xsZXJXaWR0aCwgc2Nyb2xsZXJIZWlnaHQsIGNvbnRhaW5lclR5cGUpIHtcbiAgICBsZXQgY3NzID0ge1xuICAgICAgZGlzcGxheTogXCJibG9ja1wiXG4gICAgfSxcbiAgICAgICAgaXNIaWRlID0gZmFsc2U7XG5cbiAgICBzd2l0Y2ggKGNvbnRhaW5lclR5cGUpIHtcbiAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICBpZiAoc2Nyb2xsZXJXaWR0aCA+IDApIHtcbiAgICAgICAgICBjc3NbXCJ3aWR0aFwiXSA9IHNjcm9sbGVyV2lkdGg7XG4gICAgICAgICAgY3NzW1wiaGVpZ2h0XCJdID0gQ1RfSU5ORVJfSEVJR0hUO1xuICAgICAgICAgIGNzc1tcImJvdHRvbVwiXSA9IHNjcm9sbGVySGVpZ2h0ICsgcGFnZUhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0hpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImhvcml6b250YWxcIjpcbiAgICAgICAgaWYgKHNjcm9sbGVySGVpZ2h0ID4gMCkge1xuICAgICAgICAgIGNzc1tcIndpZHRoXCJdID0gQ1RfSU5ORVJfV0lEVEg7XG4gICAgICAgICAgY3NzW1wiaGVpZ2h0XCJdID0gc2Nyb2xsZXJIZWlnaHQ7XG4gICAgICAgICAgY3NzW1wicmlnaHRcIl0gPSBzY3JvbGxlcldpZHRoO1xuICAgICAgICAgIGNzc1tcImJvdHRvbVwiXSA9IHBhZ2VIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb3JuZXJcIjpcbiAgICAgICAgaWYgKHNjcm9sbGVyV2lkdGggPiAwICYmIHNjcm9sbGVySGVpZ2h0ID4gMCkge1xuICAgICAgICAgIGNzc1tcIndpZHRoXCJdID0gc2Nyb2xsZXJXaWR0aDtcbiAgICAgICAgICBjc3NbXCJoZWlnaHRcIl0gPSBzY3JvbGxlckhlaWdodDtcbiAgICAgICAgICBjc3NbXCJib3R0b21cIl0gPSBwYWdlSGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzSGlkZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGlzSGlkZSkge1xuICAgICAgcGFuZWwuY3NzKHsgZGlzcGxheTogXCJub25lXCIgfSk7XG4gICAgICAvLyDtlITroZzshLjsiqQg7KSR7KeAXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwYW5lbC5jc3MoY3NzKTtcbiAgfTtcblxuICB0aGlzLiRbXCJjb250YWluZXJcIl1bXCJoZWFkZXJcIl0uY3NzKHsgaGVpZ2h0OiBoZWFkZXJIZWlnaHQgfSk7XG4gIHRoaXMuJFtcImNvbnRhaW5lclwiXVtcImJvZHlcIl0uY3NzKHsgaGVpZ2h0OiBib2R5SGVpZ2h0IH0pO1xuXG4gIC8vIOqwgSDtjKjrhJDrk6TsnZgg7YGs6riwIO2RnOyLnOyXrOu2gOulvCDqsrDsoJXtlanri4jri6RcbiAgcGFuZWxEaXNwbGF5UHJvY2Vzcy5jYWxsKHRoaXMsIHRoaXMuJFtcInBhbmVsXCJdW1wiYXNpZGUtaGVhZGVyXCJdLCBcIlwiLCBcImFzaWRlXCIsIFwiaGVhZGVyXCIpO1xuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJsZWZ0LWhlYWRlclwiXSwgXCJcIiwgXCJsZWZ0XCIsIFwiaGVhZGVyXCIpO1xuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJoZWFkZXJcIl0sIFwiXCIsIFwiXCIsIFwiaGVhZGVyXCIpO1xuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJyaWdodC1oZWFkZXJcIl0sIFwiXCIsIFwicmlnaHRcIiwgXCJoZWFkZXJcIik7XG5cbiAgcGFuZWxEaXNwbGF5UHJvY2Vzcy5jYWxsKHRoaXMsIHRoaXMuJFtcInBhbmVsXCJdW1widG9wLWFzaWRlLWJvZHlcIl0sIFwidG9wXCIsIFwiYXNpZGVcIiwgXCJib2R5XCIpO1xuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJ0b3AtbGVmdC1ib2R5XCJdLCBcInRvcFwiLCBcImxlZnRcIiwgXCJib2R5XCIpO1xuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJ0b3AtYm9keVwiXSwgXCJ0b3BcIiwgXCJcIiwgXCJib2R5XCIpO1xuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJ0b3AtcmlnaHQtYm9keVwiXSwgXCJ0b3BcIiwgXCJyaWdodFwiLCBcImJvZHlcIik7XG5cbiAgcGFuZWxEaXNwbGF5UHJvY2Vzcy5jYWxsKHRoaXMsIHRoaXMuJFtcInBhbmVsXCJdW1wiYXNpZGUtYm9keVwiXSwgXCJcIiwgXCJhc2lkZVwiLCBcImJvZHlcIik7XG4gIHBhbmVsRGlzcGxheVByb2Nlc3MuY2FsbCh0aGlzLCB0aGlzLiRbXCJwYW5lbFwiXVtcImxlZnQtYm9keVwiXSwgXCJcIiwgXCJsZWZ0XCIsIFwiYm9keVwiKTtcbiAgcGFuZWxEaXNwbGF5UHJvY2Vzcy5jYWxsKHRoaXMsIHRoaXMuJFtcInBhbmVsXCJdW1wiYm9keVwiXSwgXCJcIiwgXCJcIiwgXCJib2R5XCIpO1xuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJyaWdodC1ib2R5XCJdLCBcIlwiLCBcInJpZ2h0XCIsIFwiYm9keVwiKTtcblxuICBwYW5lbERpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wicGFuZWxcIl1bXCJib3R0b20tYXNpZGUtYm9keVwiXSwgXCJib3R0b21cIiwgXCJhc2lkZVwiLCBcImJvZHlcIik7XG4gIHBhbmVsRGlzcGxheVByb2Nlc3MuY2FsbCh0aGlzLCB0aGlzLiRbXCJwYW5lbFwiXVtcImJvdHRvbS1sZWZ0LWJvZHlcIl0sIFwiYm90dG9tXCIsIFwibGVmdFwiLCBcImJvZHlcIik7XG4gIHBhbmVsRGlzcGxheVByb2Nlc3MuY2FsbCh0aGlzLCB0aGlzLiRbXCJwYW5lbFwiXVtcImJvdHRvbS1ib2R5XCJdLCBcImJvdHRvbVwiLCBcIlwiLCBcImJvZHlcIik7XG4gIHBhbmVsRGlzcGxheVByb2Nlc3MuY2FsbCh0aGlzLCB0aGlzLiRbXCJwYW5lbFwiXVtcImJvdHRvbS1yaWdodC1ib2R5XCJdLCBcImJvdHRvbVwiLCBcInJpZ2h0XCIsIFwiYm9keVwiKTtcblxuICBzY3JvbGxlckRpc3BsYXlQcm9jZXNzLmNhbGwodGhpcywgdGhpcy4kW1wic2Nyb2xsZXJcIl1bXCJ2ZXJ0aWNhbFwiXSwgdmVydGljYWxTY3JvbGxlcldpZHRoLCBob3Jpem9udGFsU2Nyb2xsZXJIZWlnaHQsIFwidmVydGljYWxcIik7XG4gIHNjcm9sbGVyRGlzcGxheVByb2Nlc3MuY2FsbCh0aGlzLCB0aGlzLiRbXCJzY3JvbGxlclwiXVtcImhvcml6b250YWxcIl0sIHZlcnRpY2FsU2Nyb2xsZXJXaWR0aCwgaG9yaXpvbnRhbFNjcm9sbGVySGVpZ2h0LCBcImhvcml6b250YWxcIik7XG4gIHNjcm9sbGVyRGlzcGxheVByb2Nlc3MuY2FsbCh0aGlzLCB0aGlzLiRbXCJzY3JvbGxlclwiXVtcImNvcm5lclwiXSwgdmVydGljYWxTY3JvbGxlcldpZHRoLCBob3Jpem9udGFsU2Nyb2xsZXJIZWlnaHQsIFwiY29ybmVyXCIpO1xuXG4gIHBhbmVsRGlzcGxheVByb2Nlc3MuY2FsbCh0aGlzLCB0aGlzLiRbXCJjb250YWluZXJcIl1bXCJwYWdlXCJdLCBcIlwiLCBcIlwiLCBcInBhZ2VcIik7XG5cbiAgLy8g6rCBIO2MqOuEkOydmCDsgqzsnbTspogg6rKw7KCVXG4gIC8vLyDri6Trpbgg7Yyo64SQ7J2YIOyCrOydtOymiCDsoJXrs7TqsIAg7ZWE7JqU7ZWcIOqyveyasCDsl6zquLDshJwg7KCV7J2Y7ZW07KO86rOgIOyCrOyaqe2VqC5cbiAgdGhpcy54dmFyLmJvZHlIZWlnaHQgPSB0aGlzLiQucGFuZWxbXCJib2R5XCJdLmhlaWdodCgpO1xuICB0aGlzLnh2YXIuYm9keVdpZHRoID0gdGhpcy4kLnBhbmVsW1wiYm9keVwiXS53aWR0aCgpO1xuICAvLyBzY3JvbGxDb250ZW50V2lkdGgg64qUIGdyaWQtaGVhZGVyIHJlcGFpbnTsl5DshJwg6rKw7KCV7ZWp64uI64ukLiDquYzrqLnsp4Ag66eZ7Iuc64ukLiA+IHRoaXMueHZhci5zY3JvbGxDb250ZW50V2lkdGhcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBzb3J0Q29sdW1ucyA9IGZ1bmN0aW9uIChfc29ydEluZm8pIHtcbiAgSEVBREVSLnJlcGFpbnQuY2FsbCh0aGlzKTtcblxuICBpZiAoVS5pc0Z1bmN0aW9uKHRoaXMuY29uZmlnLnJlbW90ZVNvcnQpKSB7XG4gICAgbGV0IHRoYXQgPSB7IHNvcnRJbmZvOiBbXSB9O1xuICAgIGZvciAobGV0IGsgaW4gX3NvcnRJbmZvKSB7XG4gICAgICB0aGF0LnNvcnRJbmZvLnB1c2goe1xuICAgICAgICBrZXk6IGssXG4gICAgICAgIG9yZGVyQnk6IF9zb3J0SW5mb1trXS5vcmRlckJ5LFxuICAgICAgICBzZXE6IF9zb3J0SW5mb1trXS5zZXFcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGF0LnNvcnRJbmZvLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnNlcSA+IGIuc2VxO1xuICAgIH0pO1xuICAgIHRoaXMuY29uZmlnLnJlbW90ZVNvcnQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5jb25maWcuYm9keS5ncm91cGluZykge1xuICAgICAgdGhpcy5saXN0ID0gREFUQS5pbml0RGF0YS5jYWxsKHRoaXMsIERBVEEuc29ydC5jYWxsKHRoaXMsIF9zb3J0SW5mbywgREFUQS5jbGVhckdyb3VwaW5nRGF0YS5jYWxsKHRoaXMsIHRoaXMubGlzdCkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saXN0ID0gREFUQS5zb3J0LmNhbGwodGhpcywgX3NvcnRJbmZvLCBEQVRBLmNsZWFyR3JvdXBpbmdEYXRhLmNhbGwodGhpcywgdGhpcy5saXN0KSwgeyByZXNldExpbmVOdW1iZXI6IHRydWUgfSk7XG4gICAgfVxuICAgIEJPRFkucmVwYWludC5jYWxsKHRoaXMsIHRydWUpO1xuICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICB9XG59O1xuXG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIHByaXZhdGUgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIEFYNlVJR3JpZCBleHRlbmRzIEFYNlVJQ29yZSB7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIF9mb3JtYXR0ZXJcbiAgICovXG4gIHN0YXRpYyBzZXRGb3JtYXR0ZXIoX2Zvcm1hdHRlcikge1xuICAgIHJldHVybiBmb3JtYXR0ZXIgPSBPYmplY3QuYXNzaWduKGZvcm1hdHRlciwgX2Zvcm1hdHRlcik7XG4gIH1cblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0Rm9ybWF0dGVyKCkge1xuICAgIHJldHVybiBmb3JtYXR0ZXIgfHwge307XG4gIH1cblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0gX2NvbGxlY3RvclxuICAgKiBAcmV0dXJuIHtjb2xsZWN0b3J9XG4gICAqL1xuICBzdGF0aWMgc2V0Q29sbGVjdG9yKF9jb2xsZWN0b3IpIHtcbiAgICByZXR1cm4gY29sbGVjdG9yID0gT2JqZWN0LmFzc2lnbihjb2xsZWN0b3IsIF9jb2xsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQHJldHVybiB7Y29sbGVjdG9yfVxuICAgKi9cbiAgc3RhdGljIGdldENvbGxlY3RvcigpIHtcbiAgICByZXR1cm4gY29sbGVjdG9yIHx8IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIF90bXBsXG4gICAqIEByZXR1cm4ge3RtcGx9XG4gICAqL1xuICBzdGF0aWMgc2V0VG1wbChfdG1wbCkge1xuICAgIHJldHVybiB0bXBsID0gT2JqZWN0LmFzc2lnbih0bXBsLCBfdG1wbCk7XG4gIH1cblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAcmV0dXJuIHt0bXBsfVxuICAgKi9cbiAgc3RhdGljIGdldFRtcGwoKSB7XG4gICAgcmV0dXJuIHRtcGwgfHwge307XG4gIH1cblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtKU09OfVxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbmZpZy50YXJnZXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5mcm96ZW5Db2x1bW5JbmRleD0wXVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZyb3plblJvd0luZGV4PTBdXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnNob3dMaW5lTnVtYmVyPWZhbHNlXVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zaG93Um93U2VsZWN0b3I9ZmFsc2VdXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLm11bHRpcGxlU2VsZWN0PXRydWVdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY29sdW1uTWluV2lkdGg9MTAwXVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmxpbmVOdW1iZXJDb2x1bW5XaWR0aD0zMF1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3dTZWxlY3RvckNvbHVtbldpZHRoPTI1XVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zb3J0YWJsZT1mYWxzZV1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubXVsdGlTb3J0PWZhbHNlXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcucmVtb3RlU29ydD1mYWxzZV1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlydHVhbFNjcm9sbFk9dHJ1ZV0gLSDshLjroZzstpUg6rCA7IOB7Iqk7YGs66GkIOyymOumrOyXrOu2gFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXJ0dWFsU2Nyb2xsWD10cnVlXSAtIOqwgOuhnOy2lSDqsIDsg4HsiqTtgazroaQg7LKY66as7Jes67aAXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuaGVhZGVyXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmhlYWRlci5hbGlnbl1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWFkZXIuY29sdW1uSGVpZ2h0PTI1XVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlYWRlci5jb2x1bW5QYWRkaW5nPTNdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVhZGVyLmNvbHVtbkJvcmRlcldpZHRoPTFdXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuYm9keV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmJvZHkub25DbGlja11cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmJvZHkub25EQkxDbGlja11cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmJvZHkub25EYXRhQ2hhbmdlZF1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmJvZHkub25Db250ZXh0TWVudV1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gW2NvbmZpZy5ib2R5Lm1lcmdlQ2VsbHM9ZmFsc2VdIC1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5ib2R5LmFsaWduXVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmJvZHkuY29sdW1uSGVpZ2h0PTI1XVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmJvZHkuY29sdW1uUGFkZGluZz0zXVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmJvZHkuY29sdW1uQm9yZGVyV2lkdGg9MV1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5ib2R5Lmdyb3VwaW5nXVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuYm9keS5ncm91cGluZy5ieV0gLSBsaXN0IGdyb3VwaW5nIGtleXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmJvZHkuZ3JvdXBpbmcuY29sdW1uc10gLSBsaXN0IGdyb3VwaW5nIGNvbHVtbnNcbiAgICAgKiBAcGFyYW0geyhTdHJpbmd8RnVuY3Rpb24pfSBbY29uZmlnLmJvZHkudHJTdHlsZUNsYXNzXVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnBhZ2VdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucGFnZS5oZWlnaHQ9MjVdXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnBhZ2UuZGlzcGxheT10cnVlXSAtIGdyaWQgcGFnZSBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnBhZ2Uuc3RhdHVzRGlzcGxheT10cnVlXSAtIGdyaWQgc3RhdHVzIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5wYWdlLm5hdmlnYXRpb25JdGVtQ291bnQ9NV1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY3JvbGxlcl1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY3JvbGxlci5zaXplPTE1XVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjcm9sbGVyLmJhck1pblNpemU9MTVdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2Nyb2xsZXIudHJhY2tQYWRkaW5nPTRdXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuY29sdW1uS2V5c11cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5jb2x1bW5LZXlzLnNlbGVjdGVkPVwiX1NFTEVDVEVEXCJdXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gY29uZmlnLmNvbHVtbnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmNvbHVtbnNbXS5rZXlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmNvbHVtbnNbXS5sYWJlbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcuY29sdW1uc1tdLndpZHRoXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfEZ1bmN0aW9uKX0gY29uZmlnLmNvbHVtbnNbXS5zdHlsZUNsYXNzXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfEZ1bmN0aW9uKX0gY29uZmlnLmNvbHVtbnNbXS5oZWFkZXJTdHlsZUNsYXNzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBjb25maWcuY29sdW1uc1tdLmVuYWJsZUZpbHRlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY29uZmlnLmNvbHVtbnNbXS5zb3J0YWJsZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcuY29sdW1uc1tdLmFsaWduXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfEZ1bmN0aW9uKX0gY29uZmlnLmNvbHVtbnNbXS5mb3JtYXR0ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnLmNvbHVtbnNbXS5lZGl0b3JcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmNvbHVtbnNbXS5lZGl0b3IudHlwZSAtIHRleHQsbnVtYmVyLG1vbmV5LGRhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnLmNvbHVtbnNbXS5lZGl0b3IuY29uZmlnXG4gICAgICogQHBhcmFtIHtBcnJheX0gY29uZmlnLmNvbHVtbnNbXS5lZGl0b3IudXBkYXRlV2l0aFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZy5jb2x1bW5zW10uZWRpdG9yLmRpc2FibGVkIC0gZGlzYWJsZSBlZGl0b3JcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuY29sdW1uc1tdLm11bHRpTGluZT1mYWxzZV1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy50cmVlXVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy50cmVlLnVzZT1mYWxzZV0gLSBXaGV0aGVyIHRyZWUtdHlwZSBkYXRhIGlzIHVzZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy50cmVlLmhhc2hEaWdpdD04XVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnRyZWUuaW5kZW50V2lkdGg9MTBdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcudHJlZS5hcnJvd1dpZHRoPTE1XVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnRyZWUuaWNvbldpZHRoPTE4XVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnRyZWUuaWNvbnNdXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcudHJlZS5pY29ucy5vcGVuZWRBcnJvdz0n4pa+J11cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy50cmVlLmljb25zLmNvbGxhcHNlZEFycm93PSfilrgnXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnRyZWUuaWNvbnMuZ3JvdXBJY29uPSfiiponXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnRyZWUuaWNvbnMuY29sbGFwc2VkR3JvdXBJY29uPSfiiponXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnRyZWUuaWNvbnMuaXRlbUljb249J+KKmSddXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcudHJlZS5jb2x1bW5LZXlzXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnRyZWUuY29sdW1uS2V5cy5wYXJlbnRLZXk9XCJwaWRcIl1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy50cmVlLmNvbHVtbktleXMuc2VsZktleT1cImlkXCJdXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcudHJlZS5jb2x1bW5LZXlzLmNvbGxhcHNlPVwiY29sbGFwc2VcIl1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy50cmVlLmNvbHVtbktleXMuaGlkZGVuPVwiaGlkZGVuXCJdXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcudHJlZS5jb2x1bW5LZXlzLnBhcmVudEhhc2g9XCJfX2hwX19cIl1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy50cmVlLmNvbHVtbktleXMuc2VsZkhhc2g9XCJfX2hzX19cIl1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy50cmVlLmNvbHVtbktleXMuY2hpbGRyZW49XCJfX2NoaWxkcmVuX19cIl1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy50cmVlLmNvbHVtbktleXMuZGVwdGg9XCJfX2RlcHRoX19cIl1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIHRoZW1lOiAnZGVmYXVsdCcsXG4gICAgICBhbmltYXRlVGltZTogMjUwLFxuICAgICAgZGVib3VuY2VUaW1lOiAyNTAsXG4gICAgICBhcHBlbmREZWJvdW5jZXI6IG51bGwsXG4gICAgICBhcHBlbmREZWJvdW5jZVRpbWVzOiAwLFxuICAgICAgYXBwZW5kUHJvZ3Jlc3NJY29uOiAnLi4uJyxcbiAgICAgIGFwcGVuZFByb2dyZXNzOiBmYWxzZSxcblxuICAgICAgLy8g7YuA6rOg7KCVIOyGjeyEsVxuICAgICAgZnJvemVuQ29sdW1uSW5kZXg6IDAsXG4gICAgICBmcm96ZW5Sb3dJbmRleDogMCxcbiAgICAgIHNob3dMaW5lTnVtYmVyOiBmYWxzZSxcbiAgICAgIHNob3dSb3dTZWxlY3RvcjogZmFsc2UsXG4gICAgICBtdWx0aXBsZVNlbGVjdDogdHJ1ZSxcbiAgICAgIHZpcnR1YWxTY3JvbGxZOiB0cnVlLFxuICAgICAgdmlydHVhbFNjcm9sbFg6IHRydWUsXG5cbiAgICAgIC8vIOyKpO2BrOuhpOuQoCDrlYwgYm9keSDtjpjsnbjtjIUg65Sc66CI7J2066W8IOyjvOyWtCDshLHriqXsnbQg7KKL7J2AIOyViuydgCDruIzrnbzsmrDsoIDsl5DshJwg67CY7J2R7J2EIOu5oOultOqyjCDtlaAg65WMIOyCrOyaqe2VmOuKlCDsmLXshZjrk6RcbiAgICAgIHZpcnR1YWxTY3JvbGxZQ291bnRNYXJnaW46IDAsXG4gICAgICB2aXJ0dWFsU2Nyb2xsQWNjZWxlcmF0ZWQ6IHRydWUsXG4gICAgICB2aXJ0dWFsU2Nyb2xsQWNjZWxlcmF0ZWREZWxheVRpbWU6IDEwLFxuXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICBjb2x1bW5NaW5XaWR0aDogMTAwLFxuICAgICAgbGluZU51bWJlckNvbHVtbldpZHRoOiAzMCxcbiAgICAgIHJvd1NlbGVjdG9yQ29sdW1uV2lkdGg6IDI2LFxuICAgICAgc29ydGFibGU6IHVuZGVmaW5lZCxcbiAgICAgIHJlbW90ZVNvcnQ6IGZhbHNlLFxuXG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgYWxpZ246IGZhbHNlLFxuICAgICAgICBjb2x1bW5IZWlnaHQ6IDI2LFxuICAgICAgICBjb2x1bW5QYWRkaW5nOiAzLFxuICAgICAgICBjb2x1bW5Cb3JkZXJXaWR0aDogMVxuICAgICAgfSxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgYWxpZ246IGZhbHNlLFxuICAgICAgICBjb2x1bW5IZWlnaHQ6IDI2LFxuICAgICAgICBjb2x1bW5QYWRkaW5nOiAzLFxuICAgICAgICBjb2x1bW5Cb3JkZXJXaWR0aDogMSxcbiAgICAgICAgZ3JvdXBpbmc6IGZhbHNlLFxuICAgICAgICBtZXJnZUNlbGxzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHJpZ2h0U3VtOiBmYWxzZSxcbiAgICAgIGZvb3RTdW06IGZhbHNlLFxuICAgICAgcGFnZToge1xuICAgICAgICBoZWlnaHQ6IDI1LFxuICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICBzdGF0dXNEaXNwbGF5OiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uSXRlbUNvdW50OiA1XG4gICAgICB9LFxuICAgICAgc2Nyb2xsZXI6IHtcbiAgICAgICAgc2l6ZTogMTUsXG4gICAgICAgIGJhck1pblNpemU6IDE1LFxuICAgICAgICB0cmFja1BhZGRpbmc6IDRcbiAgICAgIH0sXG4gICAgICBjb2x1bW5LZXlzOiB7XG4gICAgICAgIHNlbGVjdGVkOiAnX19zZWxlY3RlZF9fJyxcbiAgICAgICAgbW9kaWZpZWQ6ICdfX21vZGlmaWVkX18nLFxuICAgICAgICBkZWxldGVkOiAnX19kZWxldGVkX18nLFxuICAgICAgICBkaXNhYmxlU2VsZWN0aW9uOiAnX19kaXNhYmxlX3NlbGVjdGlvbl9fJ1xuICAgICAgfSxcbiAgICAgIHRyZWU6IHtcbiAgICAgICAgdXNlOiBmYWxzZSxcbiAgICAgICAgaGFzaERpZ2l0OiA4LFxuICAgICAgICBpbmRlbnRXaWR0aDogMTAsXG4gICAgICAgIGFycm93V2lkdGg6IDE1LFxuICAgICAgICBpY29uV2lkdGg6IDE4LFxuICAgICAgICBpY29uczoge1xuICAgICAgICAgIG9wZW5lZEFycm93OiAn4pa+JyxcbiAgICAgICAgICBjb2xsYXBzZWRBcnJvdzogJ+KWuCcsXG4gICAgICAgICAgZ3JvdXBJY29uOiAn4oqaJyxcbiAgICAgICAgICBjb2xsYXBzZWRHcm91cEljb246ICfiiponLFxuICAgICAgICAgIGl0ZW1JY29uOiAn4oqZJ1xuICAgICAgICB9LFxuICAgICAgICBjb2x1bW5LZXlzOiB7XG4gICAgICAgICAgcGFyZW50S2V5OiBcInBpZFwiLFxuICAgICAgICAgIHNlbGZLZXk6IFwiaWRcIixcbiAgICAgICAgICBjb2xsYXBzZTogXCJjb2xsYXBzZVwiLFxuICAgICAgICAgIGhpZGRlbjogXCJoaWRkZW5cIixcbiAgICAgICAgICBwYXJlbnRIYXNoOiBcIl9faHBfX1wiLFxuICAgICAgICAgIHNlbGZIYXNoOiBcIl9faHNfX1wiLFxuICAgICAgICAgIGNoaWxkcmVuOiBcIl9fY2hpbGRyZW5fX1wiLFxuICAgICAgICAgIGRlcHRoOiBcIl9fZGVwdGhfX1wiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgdGhpcy5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAvLyDrqaTrsoQg67OA7IiYIOy0iOq4sO2ZlFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnh2YXIgPSB7XG4gICAgICBib2R5VHJIZWlnaHQ6IDAsIC8vIO2VnOykhOydmCDrhpLsnbRcbiAgICAgIHNjcm9sbENvbnRlbnRXaWR0aDogMCwgLy8g7Iqk7YGs66GkIOuQoCDrgrTsmqnrrLzsnZgg64SI67mEICjsiqTtgazroaQg65CgIOuCtOyaqeusvCA6IHBhbmVsWydib2R5LXNjcm9sbCddIOyViOyXkCDsu6zrn7zsnbQg7J6I64qUKVxuICAgICAgc2Nyb2xsQ29udGVudEhlaWdodDogMCwgLy8g7Iqk7YGs66GkIOuQnCDrgrTsmqnrrLzsnZgg64aS7J20XG4gICAgICBzY3JvbGxUaW1lcjogbnVsbFxuICAgIH07XG5cbiAgICAvLyDqt7jrpqzrk5wg642w7J207YSw7IWLXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5jb2x1bW5zID0gW107IC8vIGNvbmZpZy5jb2x1bW5z7JeQ7IScIOuzteygnOuQnCDsmKTruIzsoJ3tirhcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbEdyb3VwID0gW107IC8vIGNvbHVtbnPrpbwgdGFibGXtg5zqt7jroZwg7Lac66Cl7ZWY6riwIOyii+qyjCDrs4DtmZjtlZwg7Jik67iM7KCd7Yq4XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mb290U3VtQ29sdW1ucyA9IFtdO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlHcm91cGluZyA9IHt9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMubGlzdCA9IFtdOyAvLyDqt7jrpqzrk5zsnZgg642w7J207YSwXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5wcm94eUxpc3QgPSBudWxsOyAvLyDqt7jrpqzrk5wg642w7J207YSw7J2YIOuMgOumrOyekFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnBhZ2UgPSBudWxsOyAvLyDqt7jrpqzrk5zsnZgg7Y6Y7J207KeAIOygleuztFxuXG4gICAgdGhpcy5zZWxlY3RlZERhdGFJbmRleHMgPSBbXTtcbiAgICB0aGlzLmRlbGV0ZWRMaXN0ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5zb3J0SW5mbyA9IHt9OyAvLyDqt7jrpqzrk5zsnZgg7Zek642UIOygleugrCDsoJXrs7RcbiAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5mb2N1c2VkQ29sdW1uID0ge307IC8vIOq3uOumrOuTnCDrsJTrlJTsnZgg7Y+s7Luk7Iqk65CcIOyFgCDsoJXrs7RcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5zZWxlY3RlZENvbHVtbiA9IHt9OyAvLyDqt7jrpqzrk5wg67CU65SU7J2YIOyEoO2DneuQnCDshYAg7KCV67O0XG4gICAgdGhpcy5pc0lubGluZUVkaXRpbmcgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5pbmxpbmVFZGl0aW5nID0ge307XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMubGlzdEluZGV4TWFwID0ge307IC8vIHRyZWXrjbDsnbTthLAg7IKs7Jqp7IucIOuNsOydtO2EsCDsnbjrjbHsi7Eg66e1XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dE1lbnUgPSBudWxsOyAvLyBjb250ZW50TWVudSDsnZgg7J247Iqk7YS07IqkXG5cbiAgICAvLyBoZWFkZXJcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5oZWFkZXJUYWJsZSA9IHt9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmxlZnRIZWFkZXJEYXRhID0ge307XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuaGVhZGVyRGF0YSA9IHt9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnJpZ2h0SGVhZGVyRGF0YSA9IHt9O1xuXG4gICAgLy8gYm9keVxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlSb3dUYWJsZSA9IHt9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmxlZnRCb2R5Um93RGF0YSA9IHt9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlSb3dEYXRhID0ge307XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMucmlnaHRCb2R5Um93RGF0YSA9IHt9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlSb3dNYXAgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlHcm91cGluZ1RhYmxlID0ge307XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMubGVmdEJvZHlHcm91cGluZ0RhdGEgPSB7fTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5ib2R5R3JvdXBpbmdEYXRhID0ge307XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMucmlnaHRCb2R5R3JvdXBpbmdEYXRhID0ge307XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuYm9keUdyb3VwaW5nTWFwID0ge307XG5cbiAgICAvLyBmb290U3VtXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZm9vdFN1bVRhYmxlID0ge307IC8vIGZvb3RTdW3snZgg7Lac66Cl66CI7J207JWE7JuDXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMubGVmdEZvb3RTdW1EYXRhID0ge307IC8vIGZyb3plbkNvbHVtbkluZGV4IOulvCDquLDspIDsnLzroZwg64KY64iE7Ja07KeEIOy2nOugpSDroIjsnbTslYTsm4Mg7Jm87Kq9XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZm9vdFN1bURhdGEgPSB7fTsgLy8gZnJvemVuQ29sdW1uSW5kZXgg66W8IOq4sOykgOycvOuhnCDrgpjriITslrTsp4Qg7Lac66ClIOugiOydtOyVhOybgyDsmKTrpbjsqr1cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmVlZFRvUGFpbnRTdW0gPSB0cnVlOyAvLyDrjbDsnbTthLAg7IWL7J20IOuzgOqyveuQmOyWtCBzdW1tYXJ5IOuzgOqyvSDtlYTsmpTsl6zrtoBcblxuICAgIC8qKlxuICAgICAqIOyCrOyaqeyekCDsoJXsnZggZm9ybWF0dGVyLiBBWDZVSUdyaWQuc2V0Rm9ybWF0dGVyIOulvCDsnbTsmqntlZjsl6wg7ZmV7J6lXG4gICAgICogQG1lbWJlclxuICAgICAqL1xuICAgIHRoaXMuY3VzdG9tRm9ybWF0dGVyID0gQVg2VUlHcmlkLmdldEZvcm1hdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICog7IKs7Jqp7J6QIOygleydmCBjb2xsZWN0b3IuIEFYNlVJR3JpZC5zZXRDb2xsZWN0b3Ig66W8IOydtOyaqe2VmOyXrCDtmZXsnqVcbiAgICAgKiBAbWVtYmVyXG4gICAgICovXG4gICAgdGhpcy5jdXN0b21Db2xsZWN0b3IgPSBBWDZVSUdyaWQuZ2V0Q29sbGVjdG9yKCk7XG5cbiAgICB0aGlzLl9fdG1wbCA9IE9iamVjdC5hc3NpZ24oVE1QTCwgQVg2VUlHcmlkLmdldFRtcGwoKSk7XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gXCJ1bmRlZmluZWRcIikgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICovXG4gIGluaXQoKSB7XG4gICAgLy8g6re466as65Oc7J2YIOydtOuypO2KuCDsoJXsnZgg6rWs6rCEXG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZCA9IHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkO1xuICAgIHRoaXMub25Mb2FkID0gdGhpcy5jb25maWcub25Mb2FkO1xuXG4gICAgLy8gaW5pdCDtmLjstpwg7Jes67aAXG4gICAgdGhpcy5pbml0T25jZSgpO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmNvbmZpZy50YXJnZXQgIT09IFwidW5kZWZpbmVkXCIpIHtcblxuICAgICAgdGhpcy4kdGFyZ2V0ID0galF1ZXJ5KHRoaXMuY29uZmlnLnRhcmdldCk7XG5cbiAgICAgIC8vIHRhcmdldCBhdHRyaWJ1dGUgZGF0YVxuICAgICAgKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChVLmlzT2JqZWN0KGRhdGEpICYmICFkYXRhLmVycm9yKSB7XG4gICAgICAgICAgdGhpcy5jb25maWcgPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLmNvbmZpZywgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhbGwodGhpcywgVS5wYXJzZUpzb24odGhpcy4kdGFyZ2V0LmF0dHIoXCJkYXRhLWF4NnVpLWdyaWQtY29uZmlnXCIpLCB0cnVlKSk7XG5cbiAgICAgIGlmICghdGhpcy5jb25maWcuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLl9oZWlnaHQgPSB0aGlzLiR0YXJnZXQuaGVpZ2h0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pZCkgdGhpcy5pZCA9IHRoaXMuJHRhcmdldC5kYXRhKFwiYXg2dWktZ3JpZC1pZFwiKTtcbiAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICB0aGlzLmlkID0gJ2F4NnVpLWdyaWQtJyArIHRoaXMuaW5zdGFuY2VJZDtcbiAgICAgICAgdGhpcy4kdGFyZ2V0LmRhdGEoXCJheDZ1aS1ncmlkLWlkXCIsIHRoaXMuaWQpO1xuICAgICAgfVxuXG4gICAgICBEQVRBLmluaXQuY2FsbCh0aGlzKTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLnRyZWUudXNlKSB7XG4gICAgICAgIC8vIO2KuOumrOudvOuptFxuICAgICAgICB0aGlzLnNvcnRJbmZvID0ge307XG4gICAgICAgIHRoaXMuc29ydEluZm9bdGhpcy5jb25maWcudHJlZS5jb2x1bW5LZXlzLnNlbGZIYXNoXSA9IHsgb3JkZXJCeTogXCJhc2NcIiwgc2VxOiAwLCBmaXhlZDogdHJ1ZSB9O1xuICAgICAgfVxuXG4gICAgICAvLy89PT09PT09PVxuICAgICAgLy8g6re466as65Oc66W8IOq3uOumrOq4sCDsnITtlZwg6rCA7J6lIOq4sOy0iOyggeyduCDsnpHsl4Ug67yI64yA7JmAIO2LgOydhCDspIDruYTtlanri4jri6QuIOydtCDrqZTshozrk5zripQg7LSI6riw7ZmUIOyLnCDtlZzrsojrp4wg7Zi47LacIOuQmOqyjCDrkKnri4jri6QuXG4gICAgICBpbml0R3JpZC5jYWxsKHRoaXMpO1xuXG4gICAgICAvLyBjb2x1bW5z642w7J207YSw66W8IOu2hOyEne2VmOyXrCDrr7jrpqwg7LKY66as7ZW07JW87ZWY64qUIOuNsOydtO2EsOulvCDsoJXrpqztlanri4jri6QuXG4gICAgICBpbml0Q29sdW1ucy5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmNvbHVtbnMpO1xuICAgICAgcmVzZXRDb2xHcm91cFdpZHRoLmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIGZvb3RTdW0g642w7J207YSw66W8IOu2hOyEne2VmOyXrCDrr7jrpqwg7LKY66as7ZW07JW8IO2VmOuKlCDrjbDsnbTthLDrpbwg7KCV66asXG4gICAgICBpZiAodGhpcy5jb25maWcuZm9vdFN1bSkgaW5pdEZvb3RTdW0uY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5mb290U3VtKTtcblxuICAgICAgLy8gYm9keUdyb3VwaW5nIOuNsOydtO2EsOulvCDrtoTshJ3tlZjsl6wg66+466asIOyymOumrO2VtOyVvCDtlZjripQg642w7J207YSw66W8IOygleumrFxuICAgICAgaWYgKHRoaXMuY29uZmlnLmJvZHkuZ3JvdXBpbmcpIGluaXRCb2R5R3JvdXAuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5ib2R5Lmdyb3VwaW5nKTtcblxuICAgICAgLy8g6re466as65Oc7J2YIOqwgSDsmpTshozsnZgg7YGs6riw66W8IOunnuy2pOuLiOuLpC5cbiAgICAgIGFsaWduR3JpZC5jYWxsKHRoaXMsIHRydWUpO1xuXG4gICAgICAvLyBjb2x1bW5z7J2YIOuNsOydtO2EsOuhnCBoZWFkZXLrjbDsnbTthLDrpbwg66eM65Ok6rOgXG4gICAgICBIRUFERVIuaW5pdC5jYWxsKHRoaXMpO1xuICAgICAgLy8gaGVhZGVy66W8IOy2nOugpe2VqeuLiOuLpC5cbiAgICAgIEhFQURFUi5yZXBhaW50LmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIGNvbHVtbnPsnZgg642w7J207YSw66GcIGJvZHnrjbDsnbTthLDrpbwg66eM65Ok6rOgXG4gICAgICBCT0RZLmluaXQuY2FsbCh0aGlzKTtcbiAgICAgIC8vIGJvZHnrpbwg7Lac66Cl7ZWp64uI64ukLlxuICAgICAgQk9EWS5yZXBhaW50LmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIHNjcm9sbGVyXG4gICAgICBTQ1JPTExFUi5pbml0LmNhbGwodGhpcyk7XG4gICAgICBTQ1JPTExFUi5yZXNpemUuY2FsbCh0aGlzKTtcblxuICAgICAgalF1ZXJ5KHdpbmRvdykub2ZmKFwicmVzaXplLmF4NmdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQpLm9mZihcImtleWRvd24uYXg2Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCkub24oXCJyZXNpemUuYXg2Z3JpZC1cIiArIHRoaXMuaW5zdGFuY2VJZCwgVS50aHJvdHRsZShmdW5jdGlvbiAoZSkge1xuICAgICAgICBhbGlnbkdyaWQuY2FsbCh0aGlzKTtcbiAgICAgICAgU0NST0xMRVIucmVzaXplLmNhbGwodGhpcyk7XG4gICAgICAgIEJPRFkucmVwYWludC5jYWxsKHRoaXMpOyAvLyB3aW5kb3cgcmVzaXpl7IucIHJlcGFpbnQg7ZWo7IiYIO2YuOy2nFxuICAgICAgfSwgMzApLmJpbmQodGhpcykpLm9uKFwia2V5ZG93bi5heDZncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkLCBlID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZCkge1xuICAgICAgICAgIGlmICh0aGlzLmlzSW5saW5lRWRpdGluZykge1xuICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gaW5mby5ldmVudEtleXMuRVNDKSB7XG4gICAgICAgICAgICAgIHRoaXMua2V5RG93bihcIkVTQ1wiLCBlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLlJFVFVSTikge1xuICAgICAgICAgICAgICB0aGlzLmtleURvd24oXCJSRVRVUk5cIiwgZS5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5UQUIpIHtcbiAgICAgICAgICAgICAgdGhpcy5rZXlEb3duKFwiVEFCXCIsIGUub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLlVQKSB7XG4gICAgICAgICAgICAgIHRoaXMua2V5RG93bihcIlJFVFVSTlwiLCB7IHNoaWZ0S2V5OiB0cnVlIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLkRPV04pIHtcbiAgICAgICAgICAgICAgdGhpcy5rZXlEb3duKFwiUkVUVVJOXCIsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gNjcpIHtcbiAgICAgICAgICAgICAgICAvLyBjXG4gICAgICAgICAgICAgICAgc2VsZi5jb3B5U2VsZWN0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChjdHJsS2V5c1tlLndoaWNoXSkge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5RG93bihjdHJsS2V5c1tlLndoaWNoXSwgZS5vcmlnaW5hbEV2ZW50KTsgLy8g7YKk64uk7Jq0IOydtOuypO2KuCDtmLjstpxcbiAgICAgICAgICAgICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLkVTQykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgIEJPRFkuYmx1ci5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLlJFVFVSTiB8fCBlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLlNQQUNFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlEb3duKFwiUkVUVVJOXCIsIGUub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5UQUIpIHtcbiAgICAgICAgICAgICAgICAvL3NlbGYua2V5RG93bihcIlJFVFVSTlwiLCBlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKHRoaXMuZm9jdXNlZENvbHVtbikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlEb3duKFwiSU5MSU5FX0VESVRcIiwgZS5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5vZmYoXCJjbGljay5heDZncmlkLVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vbihcImNsaWNrLmF4NmdyaWQtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGUgPT4ge1xuICAgICAgICBsZXQgaXNQaWNrZXJDbGljayA9IGZhbHNlLFxuICAgICAgICAgICAgdGFyZ2V0ID0gVS5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwgZnVuY3Rpb24gKF90YXJnZXQpIHtcbiAgICAgICAgICBpZiAoaXNQaWNrZXJDbGljayA9IF90YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZncmlkLWlubGluZS1lZGl0LXBpY2tlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtYXg2Z3JpZC1jb250YWluZXJcIikgPT09IFwicm9vdFwiO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NmdyaWQtaW5zdGFuY2VcIikgPT09IHRoaXMuaWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAgIEJPRFkuYmx1ci5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8g6re466as65OcIOugiOydtOyVhOybg+ydtCDrqqjrk6Ag7KSA67mE66W8IOuniOy5nOyLnOygkOyXkCBvbkxvYWTsobTsnqwg7Jes67aA66W8IO2ZleyduO2VmOqzoCDtmLjstpztlZjsl6wg7KSN64uI64ukLlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9uTG9hZCkge1xuICAgICAgICAgIHRoaXMub25Mb2FkLmNhbGwoe1xuICAgICAgICAgICAgc2VsZjogdGhpc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKi9cbiAgaW5pdE9uY2UoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIOq3uOumrOuTnOydmCDqsIEg7Yyo64SQ65Ok7J2YIO2BrOq4sOulvCDrs4Dqsr3rkJwg7ISk7KCV7JeQIOunnuy2lOyWtCDri6Tsi5wg6re466a8XG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7QVg2VUlHcmlkfVxuICAgKi9cbiAgYWxpZ24oKSB7XG4gICAgaWYgKGFsaWduR3JpZC5jYWxsKHRoaXMpKSB7XG4gICAgICBCT0RZLnJlcGFpbnQuY2FsbCh0aGlzKTtcbiAgICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiDqt7jrpqzrk5zsl5Ag7YKk67O065OcIOyVoeyFmOydhCDsoITri6xcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gX2FjdFxuICAgKiBAcGFyYW0gX2RhdGFcbiAgICogQHJldHVybiB7QVg2VUlHcmlkfVxuICAgKi9cbiAga2V5RG93bihfYWN0LCBfZGF0YSkge1xuICAgIGNvbnN0IHByb2Nlc3NvciA9IHtcbiAgICAgIFwiS0VZX1VQXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgQk9EWS5tb3ZlRm9jdXMuY2FsbCh0aGlzLCBcIlVQXCIpO1xuICAgICAgfSxcbiAgICAgIFwiS0VZX0RPV05cIjogZnVuY3Rpb24gKCkge1xuICAgICAgICBCT0RZLm1vdmVGb2N1cy5jYWxsKHRoaXMsIFwiRE9XTlwiKTtcbiAgICAgIH0sXG4gICAgICBcIktFWV9MRUZUXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgQk9EWS5tb3ZlRm9jdXMuY2FsbCh0aGlzLCBcIkxFRlRcIik7XG4gICAgICB9LFxuICAgICAgXCJLRVlfUklHSFRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICBCT0RZLm1vdmVGb2N1cy5jYWxsKHRoaXMsIFwiUklHSFRcIik7XG4gICAgICB9LFxuICAgICAgXCJLRVlfSE9NRVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEJPRFkubW92ZUZvY3VzLmNhbGwodGhpcywgXCJIT01FXCIpO1xuICAgICAgfSxcbiAgICAgIFwiS0VZX0VORFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEJPRFkubW92ZUZvY3VzLmNhbGwodGhpcywgXCJFTkRcIik7XG4gICAgICB9LFxuICAgICAgXCJJTkxJTkVfRURJVFwiOiBmdW5jdGlvbiAoX2UpIHtcbiAgICAgICAgQk9EWS5pbmxpbmVFZGl0LmFjdGl2ZS5jYWxsKHRoaXMsIHRoaXMuZm9jdXNlZENvbHVtbiwgX2UpO1xuICAgICAgICBpZiAoIS9bMC05YS16QS1aXS8udGVzdChfZS5rZXkpKSB7XG4gICAgICAgICAgVS5zdG9wRXZlbnQoX2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJFU0NcIjogZnVuY3Rpb24gKF9lKSB7XG4gICAgICAgIEJPRFkuaW5saW5lRWRpdC5rZXlkb3duLmNhbGwodGhpcywgXCJFU0NcIik7XG4gICAgICB9LFxuICAgICAgXCJSRVRVUk5cIjogZnVuY3Rpb24gKF9lKSB7XG4gICAgICAgIHZhciBhY3RpdmVFZGl0TGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgY29sdW1uS2V5IGluIHRoaXMuaW5saW5lRWRpdGluZykge1xuICAgICAgICAgIGFjdGl2ZUVkaXRMZW5ndGgrKztcblxuICAgICAgICAgIGlmICghQk9EWS5pbmxpbmVFZGl0LmtleWRvd24uY2FsbCh0aGlzLCBcIlJFVFVSTlwiLCBjb2x1bW5LZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBVLnN0b3BFdmVudChfZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG5leHQgZm9jdXNcbiAgICAgICAgICBpZiAoYWN0aXZlRWRpdExlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBpZiAoQk9EWS5tb3ZlRm9jdXMuY2FsbCh0aGlzLCBfZS5zaGlmdEtleSA/IFwiVVBcIiA6IFwiRE9XTlwiKSkge1xuICAgICAgICAgICAgICBCT0RZLmlubGluZUVkaXQua2V5ZG93bi5jYWxsKHRoaXMsIFwiUkVUVVJOXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlRWRpdExlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgQk9EWS5pbmxpbmVFZGl0LmtleWRvd24uY2FsbCh0aGlzLCBcIlJFVFVSTlwiKTtcbiAgICAgICAgICBVLnN0b3BFdmVudChfZSk7XG4gICAgICAgIH0gZWxzZSB7fVxuICAgICAgfSxcbiAgICAgIFwiVEFCXCI6IGZ1bmN0aW9uIChfZSkge1xuXG4gICAgICAgIHZhciBhY3RpdmVFZGl0TGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgY29sdW1uS2V5IGluIHRoaXMuaW5saW5lRWRpdGluZykge1xuICAgICAgICAgIGFjdGl2ZUVkaXRMZW5ndGgrKztcblxuICAgICAgICAgIEJPRFkuaW5saW5lRWRpdC5rZXlkb3duLmNhbGwodGhpcywgXCJSRVRVUk5cIiwgY29sdW1uS2V5LCB7IG1vdmVGb2N1czogdHJ1ZSB9KTtcbiAgICAgICAgICAvLyBuZXh0IGZvY3VzXG4gICAgICAgICAgaWYgKGFjdGl2ZUVkaXRMZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgaWYgKEJPRFkubW92ZUZvY3VzLmNhbGwodGhpcywgX2Uuc2hpZnRLZXkgPyBcIkxFRlRcIiA6IFwiUklHSFRcIikpIHtcbiAgICAgICAgICAgICAgQk9EWS5pbmxpbmVFZGl0LmtleWRvd24uY2FsbCh0aGlzLCBcIlJFVFVSTlwiLCB1bmRlZmluZWQsIHsgbW92ZUZvY3VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKF9hY3QgaW4gcHJvY2Vzc29yKSBwcm9jZXNzb3JbX2FjdF0uY2FsbCh0aGlzLCBfZGF0YSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICog7ISg7YOd65CcIOyFgOydhCDtgbTrpr3rs7Trk5zsl5Ag67O17IKs7ZWp64uI64ukXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGNvcHlTZWxlY3QoKSB7XG4gICAgbGV0IGNvcHlzdWNjZXNzLFxuICAgICAgICAkY2xpcEJvYXJkID0gdGhpcy4kW1wiZm9ybVwiXVtcImNsaXBib2FyZFwiXSxcbiAgICAgICAgY29weVRleHRBcnJheSA9IFtdLFxuICAgICAgICBjb3B5VGV4dCA9IFwiXCIsXG4gICAgICAgIF9yb3dJbmRleCxcbiAgICAgICAgX2NvbEluZGV4LFxuICAgICAgICBfZGluZGV4LFxuICAgICAgICBfZGkgPSAwO1xuXG4gICAgZm9yIChsZXQgYyBpbiB0aGlzLnNlbGVjdGVkQ29sdW1uKSB7XG4gICAgICBsZXQgX2NvbHVtbiA9IHRoaXMuc2VsZWN0ZWRDb2x1bW5bY107XG5cbiAgICAgIGlmIChfY29sdW1uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgX2RpbmRleCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIF9kaW5kZXggPSBfY29sdW1uLmRpbmRleDtcbiAgICAgICAgICBfcm93SW5kZXggPSBfY29sdW1uLnJvd0luZGV4O1xuICAgICAgICAgIF9jb2xJbmRleCA9IF9jb2x1bW4ucm93SW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2RpbmRleCAhPSBfY29sdW1uLmRpbmRleCB8fCBfcm93SW5kZXggIT0gX2NvbHVtbi5yb3dJbmRleCkge1xuICAgICAgICAgIF9kaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb3B5VGV4dEFycmF5W19kaV0pIHtcbiAgICAgICAgICBjb3B5VGV4dEFycmF5W19kaV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3JpZ2luYWxDb2x1bW4gPSB0aGlzLmJvZHlSb3dNYXBbX2NvbHVtbi5yb3dJbmRleCArIFwiX1wiICsgX2NvbHVtbi5jb2xJbmRleF07XG4gICAgICAgIGlmIChvcmlnaW5hbENvbHVtbikge1xuICAgICAgICAgIGlmICh0aGlzLmxpc3RbX2NvbHVtbi5kaW5kZXhdLl9faXNHcm91cGluZykge1xuICAgICAgICAgICAgY29weVRleHRBcnJheVtfZGldLnB1c2godGhpcy5saXN0W19jb2x1bW4uZGluZGV4XVtfY29sdW1uLmNvbEluZGV4XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvcHlUZXh0QXJyYXlbX2RpXS5wdXNoKHRoaXMubGlzdFtfY29sdW1uLmRpbmRleF1bb3JpZ2luYWxDb2x1bW4ua2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvcHlUZXh0QXJyYXlbX2RpXS5wdXNoKFwiXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2RpbmRleCA9IF9jb2x1bW4uZGluZGV4O1xuICAgICAgICBfcm93SW5kZXggPSBfY29sdW1uLnJvd0luZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvcHlUZXh0QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocikge1xuICAgICAgY29weVRleHQgKz0gci5qb2luKCdcXHQnKSArIFwiXFxuXCI7XG4gICAgfSk7XG5cbiAgICAkY2xpcEJvYXJkLmdldCgwKS5pbm5lclRleHQgPSBjb3B5VGV4dDtcbiAgICAkY2xpcEJvYXJkLnNlbGVjdCgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvcHlzdWNjZXNzID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvcHlzdWNjZXNzID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBjb3B5c3VjY2VzcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBfZGF0YVxuICAgKiBAcmV0dXJuIHtBWDZVSUdyaWR9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCB7QVg2VUlHcmlkIGFzIEdyaWR9IGZyb20gXCJheDZ1aVwiO1xuICAgKlxuICAgKiBsZXQgZ3JpZCA9IG5ldyBHcmlkKHt0YXJnZXQ6IGVsfSk7XG4gICAqIGdyaWQuc2V0RGF0YShbXG4gICAqICB7bmFtZTogXCJUaG9tYXNcIn1cbiAgICogXSk7XG4gICAqXG4gICAqIGdyaWQuc2V0RGF0YSh7XG4gICAgICogIGxpc3Q6IFtdLFxuICAgICAqICBwYWdlOiB7XG4gICAgICogICAgICBjdXJyZW50UGFnZTogMCxcbiAgICAgKiAgICAgIHBhZ2VTaXplOiA1MCxcbiAgICAgKiAgICAgIHRvdGFsRWxlbWVudHM6IDUwMCxcbiAgICAgKiAgICAgIHRvdGFsUGFnZXM6IDEwMFxuICAgICAqICB9XG4gICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgc2V0RGF0YShfZGF0YSkge1xuICAgIGxldCBpc0ZpcnN0UGFpbnQgPSB0eXBlb2YgdGhpcy54dmFyLnBhaW50U3RhcnRSb3dJbmRleCA9PT0gXCJ1bmRlZmluZWRcIjtcblxuICAgIERBVEEuc2V0LmNhbGwodGhpcywgX2RhdGEpO1xuICAgIEJPRFkucmVwYWludC5jYWxsKHRoaXMpO1xuICAgIGlmICghaXNGaXJzdFBhaW50KSBCT0RZLnNjcm9sbFRvLmNhbGwodGhpcywgeyB0b3A6IDAgfSk7XG5cbiAgICBhbGlnbkdyaWQuY2FsbCh0aGlzKTtcbiAgICBTQ1JPTExFUi5yZXNpemUuY2FsbCh0aGlzKTtcbiAgICBQQUdFLm5hdmlnYXRpb25VcGRhdGUuY2FsbCh0aGlzKTtcblxuICAgIGlzRmlyc3RQYWludCA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gX3R5cGVcbiAgICogQHJldHVybiB7Kn1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogaW1wb3J0IHtBWDZVSUdyaWQgYXMgR3JpZH0gZnJvbSBcImF4NnVpXCI7XG4gICAqIGxldCBncmlkID0gbmV3IEdyaWQoe3RhcmdldDogZWx9KTtcbiAgICogZ3JpZC5zZXREYXRhKFtdKTtcbiAgICpcbiAgICogZ3JpZC5nZXRMaXN0KCk7IC8vIHJldHVybiBhbGxcbiAgICogZ3JpZC5nZXRMaXN0KFwic2VsZWN0ZWRcIik7XG4gICAqIGdyaWQuZ2V0TGlzdChcIm1vZGlmaWVkXCIpO1xuICAgKiBncmlkLmdldExpc3QoXCJkZWxldGVkXCIpO1xuICAgKiBgYGBcbiAgICovXG4gIGdldExpc3QoX3R5cGUpIHtcbiAgICByZXR1cm4gREFUQS5nZXRMaXN0LmNhbGwodGhpcywgX3R5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIF9oZWlnaHRcbiAgICogQHJldHVybiB7QVg2VUlHcmlkfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBncmlkLnNldEhlaWdodChoZWlnaHQpO1xuICAgKiBgYGBcbiAgICovXG4gIHNldEhlaWdodChfaGVpZ2h0KSB7XG4gICAgaWYgKF9oZWlnaHQgPT0gXCIxMDAlXCIpIHtcbiAgICAgIF9oZWlnaHQgPSB0aGlzLiR0YXJnZXQub2Zmc2V0UGFyZW50KCkuaW5uZXJIZWlnaHQoKTtcbiAgICB9XG4gICAgdGhpcy4kdGFyZ2V0LmNzcyh7IGhlaWdodDogX2hlaWdodCB9KTtcbiAgICB0aGlzLiRbXCJjb250YWluZXJcIl1bXCJyb290XCJdLmNzcyh7IGhlaWdodDogX2hlaWdodCB9KTtcbiAgICBhbGlnbkdyaWQuY2FsbCh0aGlzKTtcbiAgICBCT0RZLnJlcGFpbnQuY2FsbCh0aGlzLCBcInJlc2V0XCIpO1xuICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIF9yb3dcbiAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbX2RpbmRleD1cImxhc3RcIl1cbiAgICogQHBhcmFtIF9vcHRpb25zXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW19vcHRpb25zLnNvcnRdXG4gICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW19vcHRpb25zLmZvY3VzXSAtIEhPTUV8RU5EfFtkaW5kZXhdXG4gICAqIEByZXR1cm4ge0FYNlVJR3JpZH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZ3JpZC5hZGRSb3coJC5leHRlbmQoe30sIHsuLi59KSwgXCJmaXJzdFwiKTtcbiAgICogZ3JpZC5hZGRSb3coJC5leHRlbmQoe30sIHsuLi59KSwgXCJsYXN0XCIsIHtmb2N1czogXCJFTkRcIn0pO1xuICAgKiBncmlkLmFkZFJvdygkLmV4dGVuZCh7fSwgey4uLn0pLCBcImxhc3RcIiwge2ZvY3VzOiBcIkhPTUVcIn0pO1xuICAgKiBncmlkLmFkZFJvdygkLmV4dGVuZCh7fSwgey4uLn0pLCBcImxhc3RcIiwge2ZvY3VzOiAxMH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGFkZFJvdyhfcm93LCBfZGluZGV4LCBfb3B0aW9ucykge1xuICAgIERBVEEuYWRkLmNhbGwodGhpcywgX3JvdywgX2RpbmRleCwgX29wdGlvbnMpO1xuICAgIGFsaWduR3JpZC5jYWxsKHRoaXMpO1xuICAgIEJPRFkucmVwYWludC5jYWxsKHRoaXMsIFwicmVzZXRcIik7XG4gICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLmZvY3VzKSB7XG4gICAgICBCT0RZLm1vdmVGb2N1cy5jYWxsKHRoaXMsIF9vcHRpb25zLmZvY3VzKTtcbiAgICB9XG4gICAgU0NST0xMRVIucmVzaXplLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gX2xpc3RcbiAgICogQHJldHVybiB7QVg2VUlHcmlkfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBncmlkLmFwcGVuZFRvTGlzdChbe30se30se31dKTtcbiAgICogZ3JpZC5hcHBlbmRUb0xpc3QoW3t9LHt9LHt9XSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXBwZW5kVG9MaXN0KF9saXN0KSB7XG4gICAgREFUQS5hcHBlbmQuY2FsbCh0aGlzLCBfbGlzdCwgZnVuY3Rpb24gKCkge1xuICAgICAgYWxpZ25HcmlkLmNhbGwodGhpcyk7XG4gICAgICBCT0RZLnJlcGFpbnQuY2FsbCh0aGlzKTtcbiAgICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFtfZGluZGV4PWxhc3RdXG4gICAqIEByZXR1cm4ge0FYNlVJR3JpZH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZ3JpZC5yZW1vdmVSb3coKTtcbiAgICogZ3JpZC5yZW1vdmVSb3coXCJmaXJzdFwiKTtcbiAgICogZ3JpZC5yZW1vdmVSb3coXCJsYXN0XCIpO1xuICAgKiBncmlkLnJlbW92ZVJvdygxKTtcbiAgICogZ3JpZC5yZW1vdmVSb3coXCJzZWxlY3RlZFwiKTtcbiAgICogYGBgXG4gICAqL1xuICByZW1vdmVSb3coX2RpbmRleCkge1xuICAgIERBVEEucmVtb3ZlLmNhbGwodGhpcywgX2RpbmRleCk7XG4gICAgYWxpZ25HcmlkLmNhbGwodGhpcyk7XG4gICAgQk9EWS5yZXBhaW50LmNhbGwodGhpcywgXCJyZXNldFwiKTtcbiAgICBCT0RZLm1vdmVGb2N1cy5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLmJvZHkuZ3JvdXBpbmcgPyBcIlNUQVJUXCIgOiBcIkVORFwiKTtcbiAgICBTQ1JPTExFUi5yZXNpemUuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBfcm93XG4gICAqIEBwYXJhbSBfZGluZGV4XG4gICAqIEByZXR1cm4ge0FYNlVJR3JpZH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZ3JpZC51cGRhdGVSb3coe3ByaWNlOiAxMDAsIGFtb3VudDogMTAwLCBjb3N0OiAxMDAwMH0sIDEpO1xuICAgKiBgYGBcbiAgICovXG4gIHVwZGF0ZVJvdyhfcm93LCBfZGluZGV4KSB7XG4gICAgREFUQS51cGRhdGUuY2FsbCh0aGlzLCBfcm93LCBfZGluZGV4KTtcbiAgICAvLyB0b2RvIDogbWVyZ2VDZWxscyDsmLXshZjsl5Ag65Sw6528IOyYiOyZuOyymOumrFxuICAgIEJPRFkucmVwYWludFJvdy5jYWxsKHRoaXMsIF9kaW5kZXgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtOdW1iZXJ9IF9kaW5kZXhcbiAgICogQHBhcmFtIHtPYmplY3R9IF91cGRhdGVEYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbX29wdGlvbnNdXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtfb3B0aW9ucy5maWx0ZXJdXG4gICAqIEByZXR1cm5zIHtBWDZVSUdyaWR9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIG9uRGF0YUNoYW5nZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgIHRoaXMuc2VsZi51cGRhdGVDaGlsZFJvd3ModGhpcy5kaW5kZXgsIHtpc0NoZWNrZWQ6IHRoaXMuaXRlbS5pc0NoZWNrZWR9KTtcbiAgICAgKiB9XG4gICAqXG4gICAqIG9uRGF0YUNoYW5nZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgIHRoaXMuc2VsZi51cGRhdGVDaGlsZFJvd3ModGhpcy5kaW5kZXgsIHtpc0NoZWNrZWQ6IHRoaXMuaXRlbS5pc0NoZWNrZWR9LCB7ZmlsdGVyOiBmdW5jdGlvbigpe1xuICAgICAqICAgICAgICAgIHJldHVybiB0aGlzLml0ZW0udHlwZSA9PSBcIkFcIjtcbiAgICAgKiAgICAgIH0pO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgdXBkYXRlQ2hpbGRSb3dzKF9kaW5kZXgsIF91cGRhdGVEYXRhLCBfb3B0aW9ucykge1xuICAgIERBVEEudXBkYXRlQ2hpbGQuY2FsbCh0aGlzLCBfZGluZGV4LCBfdXBkYXRlRGF0YSwgX29wdGlvbnMpO1xuICAgIHRoaXMueHZhci5wYWludFN0YXJ0Um93SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy54dmFyLnBhaW50U3RhcnRDb2x1bW5JbmRleCA9IHVuZGVmaW5lZDtcbiAgICBCT0RZLnJlcGFpbnQuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gX2RpbmRleFxuICAgKiBAcmV0dXJucyB7QVg2VUlHcmlkfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBncmlkLmRlbGV0ZVJvdyhcImZpcnN0XCIpO1xuICAgKiBncmlkLmRlbGV0ZVJvdyhcImxhc3RcIik7XG4gICAqIGdyaWQuZGVsZXRlUm93KDEpO1xuICAgKiBncmlkLmRlbGV0ZVJvdyhcInNlbGVjdGVkXCIpO1xuICAgKiBgYGBcbiAgICovXG4gIGRlbGV0ZVJvdyhfZGluZGV4KSB7XG4gICAgREFUQS5kZWxldGVSb3cuY2FsbCh0aGlzLCBfZGluZGV4KTtcbiAgICBhbGlnbkdyaWQuY2FsbCh0aGlzKTtcbiAgICBCT0RZLnJlcGFpbnQuY2FsbCh0aGlzLCBcInJlc2V0XCIpO1xuXG4gICAgU0NST0xMRVIucmVzaXplLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gX2RpbmRleFxuICAgKiBAcGFyYW0gX2tleVxuICAgKiBAcGFyYW0gX3ZhbHVlXG4gICAqIEByZXR1cm5zIHtBWDZVSUdyaWR9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGdyaWQuc2V0VmFsdWUoMCwgXCJwcmljZVwiLCAxMDApO1xuICAgKiBgYGBcbiAgICovXG4gIHNldFZhbHVlKF9kaW5kZXgsIF9rZXksIF92YWx1ZSkge1xuICAgIGxldCBkb2luZGV4O1xuXG4gICAgaWYgKERBVEEuc2V0VmFsdWUuY2FsbCh0aGlzLCBfZGluZGV4LCBkb2luZGV4LCBfa2V5LCBfdmFsdWUpKSB7XG4gICAgICBsZXQgcmVwYWludENlbGwgPSBmdW5jdGlvbiAoX3BhbmVsTmFtZSwgX3Jvd3MsIF9fZGluZGV4LCBfX2RvaW5kZXgsIF9fa2V5LCBfX3ZhbHVlKSB7XG4gICAgICAgIGZvciAobGV0IHIgPSAwLCBybCA9IF9yb3dzLmxlbmd0aDsgciA8IHJsOyByKyspIHtcbiAgICAgICAgICBmb3IgKGxldCBjID0gMCwgY2wgPSBfcm93c1tyXS5jb2xzLmxlbmd0aDsgYyA8IGNsOyBjKyspIHtcbiAgICAgICAgICAgIGlmIChfcm93c1tyXS5jb2xzW2NdLmtleSA9PSBfX2tleSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy54dmFyLmZyb3plblJvd0luZGV4ID4gX19kaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBCT0RZLnJlcGFpbnRDZWxsLmNhbGwodGhpcywgXCJ0b3AtXCIgKyBfcGFuZWxOYW1lLCBfX2RpbmRleCwgX19kb2luZGV4LCByLCBjLCBfX3ZhbHVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCT0RZLnJlcGFpbnRDZWxsLmNhbGwodGhpcywgX3BhbmVsTmFtZSArIFwiLXNjcm9sbFwiLCBfX2RpbmRleCwgX19kb2luZGV4LCByLCBjLCBfX3ZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmVwYWludENlbGwuY2FsbCh0aGlzLCBcImxlZnQtYm9keVwiLCB0aGlzLmxlZnRCb2R5Um93RGF0YS5yb3dzLCBfZGluZGV4LCBkb2luZGV4LCBfa2V5LCBfdmFsdWUpO1xuICAgICAgcmVwYWludENlbGwuY2FsbCh0aGlzLCBcImJvZHlcIiwgdGhpcy5ib2R5Um93RGF0YS5yb3dzLCBfZGluZGV4LCBkb2luZGV4LCBfa2V5LCBfdmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtPYmplY3R9IF9jb2x1bW5cbiAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbX2NpbmRleD1sYXN0XVxuICAgKiBAcmV0dXJucyB7QVg2VUlHcmlkfVxuICAgKi9cbiAgYWRkQ29sdW1uKF9jb2x1bW4sIF9jaW5kZXgpIHtcbiAgICBjb25zdCBwcm9jZXNzb3IgPSB7XG4gICAgICBcImZpcnN0XCI6IGZ1bmN0aW9uIChfY29sdW1uKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbHVtbnMgPSBbXS5jb25jYXQoX2NvbHVtbikuY29uY2F0KHRoaXMuY29uZmlnLmNvbHVtbnMpO1xuICAgICAgfSxcbiAgICAgIFwibGFzdFwiOiBmdW5jdGlvbiAoX2NvbHVtbikge1xuICAgICAgICB0aGlzLmNvbmZpZy5jb2x1bW5zID0gdGhpcy5jb25maWcuY29sdW1ucy5jb25jYXQoW10uY29uY2F0KF9jb2x1bW4pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBfY29sdW1uID09PSBcInVuZGVmaW5lZFwiKSB0aHJvdyAnX2NvbHVtbiBtdXN0IG5vdCBiZSBudWxsJztcbiAgICBpZiAodHlwZW9mIF9jaW5kZXggPT09IFwidW5kZWZpbmVkXCIpIF9jaW5kZXggPSBcImxhc3RcIjtcbiAgICBpZiAoX2NpbmRleCBpbiBwcm9jZXNzb3IpIHtcbiAgICAgIHByb2Nlc3NvcltfY2luZGV4XS5jYWxsKHRoaXMsIF9jb2x1bW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVUuaXNOdW1iZXIoX2NpbmRleCkpIHtcbiAgICAgICAgdGhyb3cgJ2ludmFsaWQgYXJndW1lbnQgX2NpbmRleCc7XG4gICAgICB9XG4gICAgICBpZiAoVS5pc0FycmF5KF9jb2x1bW4pKSB7XG4gICAgICAgIGZvciAobGV0IF9pID0gMCwgX2wgPSBfY29sdW1uLmxlbmd0aDsgX2kgPCBfbDsgX2krKykge1xuICAgICAgICAgIHRoaXMuY29uZmlnLmNvbHVtbnMuc3BsaWNlKF9jaW5kZXggKyBfaSwgMCwgX2NvbHVtbltfaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbmZpZy5jb2x1bW5zLnNwbGljZShfY2luZGV4LCAwLCBfY29sdW1uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb25SZXNldENvbHVtbnMuY2FsbCh0aGlzKTsgLy8g7Lus65+87J20IOuzgOqyveuQmOyXiOydhCDrlYwuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFtfY2luZGV4PWxhc3RdXG4gICAqIEByZXR1cm5zIHtBWDZVSUdyaWR9XG4gICAqL1xuICByZW1vdmVDb2x1bW4oX2NpbmRleCkge1xuICAgIGNvbnN0IHByb2Nlc3NvciA9IHtcbiAgICAgIFwiZmlyc3RcIjogZnVuY3Rpb24gKF9jaW5kZXgpIHtcbiAgICAgICAgdGhpcy5jb25maWcuY29sdW1ucy5zcGxpY2UoX2NpbmRleCwgMSk7XG4gICAgICB9LFxuICAgICAgXCJsYXN0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb25maWcuY29sdW1ucy5zcGxpY2UodGhpcy5jb25maWcuY29sdW1ucy5sZW5ndGggLSAxLCAxKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh0eXBlb2YgX2NpbmRleCA9PT0gXCJ1bmRlZmluZWRcIikgX2NpbmRleCA9IFwibGFzdFwiO1xuICAgIGlmIChfY2luZGV4IGluIHByb2Nlc3Nvcikge1xuICAgICAgcHJvY2Vzc29yW19jaW5kZXhdLmNhbGwodGhpcywgX2NpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghVS5pc051bWJlcihfY2luZGV4KSkge1xuICAgICAgICB0aHJvdyAnaW52YWxpZCBhcmd1bWVudCBfY2luZGV4JztcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICB0aGlzLmNvbmZpZy5jb2x1bW5zLnNwbGljZShfY2luZGV4LCAxKTtcbiAgICB9XG4gICAgb25SZXNldENvbHVtbnMuY2FsbCh0aGlzKTsgLy8g7Lus65+87J20IOuzgOqyveuQmOyXiOydhCDrlYwuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge09iamVjdH0gX2NvbHVtblxuICAgKiBAcGFyYW0ge051bWJlcn0gX2NpbmRleFxuICAgKiBAcmV0dXJucyB7QVg2VUlHcmlkfVxuICAgKi9cbiAgdXBkYXRlQ29sdW1uKF9jb2x1bW4sIF9jaW5kZXgpIHtcbiAgICBpZiAoIVUuaXNOdW1iZXIoX2NpbmRleCkpIHtcbiAgICAgIHRocm93ICdpbnZhbGlkIGFyZ3VtZW50IF9jaW5kZXgnO1xuICAgIH1cbiAgICAvL1xuICAgIHRoaXMuY29uZmlnLmNvbHVtbnMuc3BsaWNlKF9jaW5kZXgsIDEsIF9jb2x1bW4pO1xuICAgIG9uUmVzZXRDb2x1bW5zLmNhbGwodGhpcyk7IC8vIOy7rOufvOydtCDrs4Dqsr3rkJjsl4jsnYQg65WMLlxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtOdW1iZXJ9IF93aWR0aFxuICAgKiBAcGFyYW0ge051bWJlcn0gX2NpbmRleFxuICAgKiBAcmV0dXJucyB7QVg2VUlHcmlkfVxuICAgKi9cbiAgc2V0Q29sdW1uV2lkdGgoX3dpZHRoLCBfY2luZGV4KSB7XG4gICAgdGhpcy5jb2xHcm91cFt0aGlzLnh2YXIuY29sdW1uUmVzaXplckluZGV4XS5fd2lkdGggPSBfd2lkdGg7XG4gICAgdGhpcy5uZWVkVG9QYWludFN1bSA9IHRydWU7XG5cbiAgICAvLyDsu6zrn7zrhIjruYQg67OA6rK97IKs7ZWtIOyggeyaqS5cbiAgICBIRUFERVIucmVwYWludC5jYWxsKHRoaXMpO1xuICAgIEJPRFkucmVwYWludC5jYWxsKHRoaXMsIHRydWUpO1xuICAgIFNDUk9MTEVSLnJlc2l6ZS5jYWxsKHRoaXMpO1xuXG4gICAgYWxpZ25HcmlkLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBzb3J0SW5mb1xuICAgKi9cbiAgZ2V0Q29sdW1uU29ydEluZm8oKSB7XG4gICAgbGV0IHRoYXQgPSB7IHNvcnRJbmZvOiBbXSB9O1xuICAgIGZvciAobGV0IGsgaW4gdGhpcy5zb3J0SW5mbykge1xuICAgICAgdGhhdC5zb3J0SW5mby5wdXNoKHtcbiAgICAgICAga2V5OiBrLFxuICAgICAgICBvcmRlckJ5OiB0aGlzLnNvcnRJbmZvW2tdLm9yZGVyQnksXG4gICAgICAgIHNlcTogdGhpcy5zb3J0SW5mb1trXS5zZXFcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGF0LnNvcnRJbmZvLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnNlcSA+IGIuc2VxO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGF0LnNvcnRJbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtPYmplY3R9IF9zb3J0SW5mb1xuICAgKiBAcGFyYW0ge09iamVjdH0gX3NvcnRJbmZvLmtleVxuICAgKiBAcGFyYW0ge051bWJlcn0gX3NvcnRJbmZvLmtleS5zZXEgLSBzZXEgb2Ygc29ydE9yZGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBfc29ydEluZm8ua2V5Lm9yZGVyQnkgLSBcImRlc2NcInxcImFzY1wiXG4gICAqIEByZXR1cm5zIHtBWDZVSUdyaWR9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGdyaWQuc2V0Q29sdW1uU29ydCh7YTp7c2VxOjAsIG9yZGVyQnk6XCJkZXNjXCJ9LCBiOntzZXE6MSwgb3JkZXJCeTpcImFzY1wifX0pO1xuICAgKiBgYGBcbiAgICovXG4gIHNldENvbHVtblNvcnQoX3NvcnRJbmZvKSB7XG4gICAgaWYgKHR5cGVvZiBfc29ydEluZm8gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuc29ydEluZm8gPSBfc29ydEluZm87XG4gICAgICBIRUFERVIuYXBwbHlTb3J0U3RhdHVzLmNhbGwodGhpcywgX3NvcnRJbmZvKTtcbiAgICB9XG5cbiAgICBzb3J0Q29sdW1ucy5jYWxsKHRoaXMsIF9zb3J0SW5mbyB8fCB0aGlzLnNvcnRJbmZvKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gX3NlbGVjdE9iamVjdFxuICAgKiBAcGFyYW0ge051bWJlcn0gX3NlbGVjdE9iamVjdC5pbmRleCAtIGluZGV4IG9mIHJvd1xuICAgKiBAcGFyYW0ge051bWJlcn0gX3NlbGVjdE9iamVjdC5yb3dJbmRleCAtIHJvd0luZGV4IG9mIGNvbHVtbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IF9zZWxlY3RPYmplY3QuY29uSW5kZXggLSBjb2xJbmRleCBvZiBjb2x1bW5zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBfb3B0aW9uc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IF9vcHRpb25zLnNlbGVjdGVkQ2xlYXJcbiAgICogQHBhcmFtIHtCb29sZWFufSBfb3B0aW9ucy5zZWxlY3RlZFxuICAgKiBAcmV0dXJucyB7QVg2VUlHcmlkfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBncmlkLnNlbGVjdCgwKTtcbiAgICogZ3JpZC5zZWxlY3QoMCwge3NlbGVjdGVkOiB0cnVlfSk7XG4gICAqIGdyaWQuc2VsZWN0KDAsIHtzZWxlY3RlZDogZmFsc2V9KTtcbiAgICogZ3JpZC5zZWxlY3QoMCwge3NlbGVjdGVkQ2xlYXI6IHRydWV9KTtcbiAgICogYGBgXG4gICAqL1xuICBzZWxlY3QoX3NlbGVjdE9iamVjdCwgX29wdGlvbnMpIHtcbiAgICBpZiAoVS5pc051bWJlcihfc2VsZWN0T2JqZWN0KSkge1xuICAgICAgbGV0IGRpbmRleCA9IF9zZWxlY3RPYmplY3Q7XG5cbiAgICAgIGlmICghdGhpcy5jb25maWcubXVsdGlwbGVTZWxlY3QpIHtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLnNlbGVjdGVkQ2xlYXIpIHtcbiAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgREFUQS5zZWxlY3QuY2FsbCh0aGlzLCBkaW5kZXgsIHVuZGVmaW5lZCwgX29wdGlvbnMgJiYgX29wdGlvbnMuc2VsZWN0ZWQpO1xuICAgICAgQk9EWS51cGRhdGVSb3dTdGF0ZS5jYWxsKHRoaXMsIFtcInNlbGVjdGVkXCJdLCBkaW5kZXgsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIF9kaW5kZXhcbiAgICogQHJldHVybiB7QVg2VUlHcmlkfVxuICAgKi9cbiAgY2xpY2tCb2R5KF9kaW5kZXgpIHtcbiAgICBCT0RZLmNsaWNrLmNhbGwodGhpcywgX2RpbmRleCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gX2RpbmRleFxuICAgKiBAcmV0dXJuIHtBWDZVSUdyaWR9XG4gICAqL1xuICBEQkxDbGlja0JvZHkoX2RpbmRleCkge1xuICAgIEJPRFkuZGJsQ2xpY2suY2FsbCh0aGlzLCBfZGluZGV4KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge0FYNlVJR3JpZH1cbiAgICovXG4gIGNsZWFyU2VsZWN0KCkge1xuICAgIEJPRFkudXBkYXRlUm93U3RhdGUuY2FsbCh0aGlzLCBbXCJzZWxlY3RlZENsZWFyXCJdKTtcbiAgICBEQVRBLmNsZWFyU2VsZWN0LmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge09iamVjdH0gX29wdGlvbnNcbiAgICogQHBhcmFtIHtCb29sZWFufSBfb3B0aW9ucy5zZWxlY3RlZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBfb3B0aW9ucy5maWx0ZXJcbiAgICogQHJldHVybnMge0FYNlVJR3JpZH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZ3JpZC5zZWxlY3RBbGwoKTtcbiAgICogZ3JpZC5zZWxlY3RBbGwoe3NlbGVjdGVkOiB0cnVlfSk7XG4gICAqIGdyaWQuc2VsZWN0QWxsKHtzZWxlY3RlZDogZmFsc2V9KTtcbiAgICogZ3JpZC5zZWxlY3RBbGwoe2ZpbHRlcjogZnVuY3Rpb24oKXtcbiAgICAgKiAgICAgIHJldHVybiB0aGlzW1wiYlwiXSA9PSBcIkEwMVwiO1xuICAgICAqIH0pO1xuICAgICAqIGdyaWQuc2VsZWN0QWxsKHtzZWxlY3RlZDogdHJ1ZSwgZmlsdGVyOiBmdW5jdGlvbigpe1xuICAgICAqICAgICAgcmV0dXJuIHRoaXNbXCJiXCJdID09IFwiQTAxXCI7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gIHNlbGVjdEFsbChfb3B0aW9ucykge1xuICAgIERBVEEuc2VsZWN0QWxsLmNhbGwodGhpcywgX29wdGlvbnMgJiYgX29wdGlvbnMuc2VsZWN0ZWQsIF9vcHRpb25zKTtcbiAgICBCT0RZLnVwZGF0ZVJvd1N0YXRlQWxsLmNhbGwodGhpcywgW1wic2VsZWN0ZWRcIl0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtTdHJpbmd9IF9maWxlTmFtZVxuICAgKiBAcmV0dXJucyB7QVg2VUlHcmlkfFN0cmluZ31cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZ3JpZC5leHBvcnRFeGNlbChcImdyaWQtdG8tZXhjZWwueGxzXCIpO1xuICAgKiBjb25zb2xlLmxvZyhncmlkLmV4cG9ydEV4Y2VsKCkpO1xuICAgKiBgYGBcbiAgICovXG4gIGV4cG9ydEV4Y2VsKF9maWxlTmFtZSkge1xuICAgIGxldCB0YWJsZSA9IFtdO1xuICAgIHRhYmxlLnB1c2goJzx0YWJsZSBib3JkZXI9XCIxXCI+Jyk7XG4gICAgdGFibGUucHVzaChIRUFERVIuZ2V0RXhjZWxTdHJpbmcuY2FsbCh0aGlzKSk7XG4gICAgdGFibGUucHVzaChCT0RZLmdldEV4Y2VsU3RyaW5nLmNhbGwodGhpcykpO1xuICAgIHRhYmxlLnB1c2goJzwvdGFibGU+Jyk7XG5cbiAgICBpZiAodHlwZW9mIF9maWxlTmFtZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIHRhYmxlLmpvaW4oJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBFWENFTC5leHBvcnQuY2FsbCh0aGlzLCBbdGFibGUuam9pbignJyldLCBfZmlsZU5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBfcG9zIC0gVVAsIERPV04sIExFRlQsIFJJR0hULCBIT01FLCBFTkRcbiAgICogQHJldHVybnMge0FYNlVJR3JpZH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZ3JpZC5mb2N1cyhcIlVQXCIpO1xuICAgKiBncmlkLmZvY3VzKFwiRE9XTlwiKTtcbiAgICogZ3JpZC5mb2N1cyhcIkhPTUVcIik7XG4gICAqIGdyaWQuZm9jdXMoXCJFTkRcIik7XG4gICAqIGBgYFxuICAgKi9cbiAgZm9jdXMoX3Bvcykge1xuXG4gICAgaWYgKEJPRFkubW92ZUZvY3VzLmNhbGwodGhpcywgX3BvcykpIHtcbiAgICAgIGxldCBmb2N1c2VkQ29sdW1uO1xuICAgICAgZm9yIChsZXQgYyBpbiB0aGlzLmZvY3VzZWRDb2x1bW4pIHtcbiAgICAgICAgZm9jdXNlZENvbHVtbiA9IGpRdWVyeS5leHRlbmQoe30sIHRoaXMuZm9jdXNlZENvbHVtbltjXSwgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGZvY3VzZWRDb2x1bW4pIHtcbiAgICAgICAgdGhpcy5zZWxlY3QoZm9jdXNlZENvbHVtbi5kaW5kZXgsIHsgc2VsZWN0ZWRDbGVhcjogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnNlbGVjdGVkRGF0YUluZGV4c1swXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB0aGlzLnNlbGVjdCgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBzZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RlZERhdGFJbmRleHNbMF07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NvciA9IHtcbiAgICAgICAgICBcIlVQXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICB0aGlzLnNlbGVjdChzZWxlY3RlZEluZGV4IC0gMSwgeyBzZWxlY3RlZENsZWFyOiB0cnVlIH0pO1xuICAgICAgICAgICAgICBCT0RZLm1vdmVGb2N1cy5jYWxsKHRoaXMsIHNlbGVjdGVkSW5kZXggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiRE9XTlwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbmRleCA8IHRoaXMubGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0KHNlbGVjdGVkSW5kZXggKyAxLCB7IHNlbGVjdGVkQ2xlYXI6IHRydWUgfSk7XG4gICAgICAgICAgICAgIEJPRFkubW92ZUZvY3VzLmNhbGwodGhpcywgc2VsZWN0ZWRJbmRleCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJIT01FXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KDAsIHsgc2VsZWN0ZWRDbGVhcjogdHJ1ZSB9KTtcbiAgICAgICAgICAgIEJPRFkubW92ZUZvY3VzLmNhbGwodGhpcywgMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIkVORFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxpc3QubGVuZ3RoIC0gMSwgeyBzZWxlY3RlZENsZWFyOiB0cnVlIH0pO1xuICAgICAgICAgICAgQk9EWS5tb3ZlRm9jdXMuY2FsbCh0aGlzLCB0aGlzLmxpc3QubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChfcG9zIGluIHByb2Nlc3Nvcikge1xuICAgICAgICAgIHByb2Nlc3NvcltfcG9zXS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7bnVsbH1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy4kdGFyZ2V0LmVtcHR5KCk7XG4gICAgdGhpcy5saXN0ID0gW107XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBWDZVSUdyaWQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiaW1wb3J0IGpRdWVyeSBmcm9tIFwianFtaW5cIjtcbmltcG9ydCBCT0RZIGZyb20gXCIuL0FYNlVJR3JpZF9ib2R5XCI7XG5cbmNvbnN0IGVkaXRfdGV4dCA9IHtcbiAgdXNlUmV0dXJuVG9TYXZlOiB0cnVlLFxuICBlZGl0TW9kZTogXCJwb3B1cFwiLFxuICBnZXRIdG1sOiBmdW5jdGlvbiAoX3Jvb3QsIF9jb2x1bW5LZXksIF9lZGl0b3IsIF92YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgX2VkaXRvci5hdHRyaWJ1dGVzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB2YXIgYXR0cmlidXRlc1RleHQgPSBcIlwiO1xuICAgICAgZm9yICh2YXIgayBpbiBfZWRpdG9yLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgYXR0cmlidXRlc1RleHQgKz0gYCAke2t9PScke19lZGl0b3IuYXR0cmlidXRlc1trXX0nYDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLWF4NmdyaWQtZWRpdG9yPVwidGV4dFwiIHZhbHVlPVwiJHtfdmFsdWV9XCIgJHthdHRyaWJ1dGVzVGV4dH0+YDtcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gKF9yb290LCBfY29sdW1uS2V5LCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKSB7XG4gICAgdmFyICRlbDtcbiAgICBfJHBhcmVudC5hcHBlbmQoJGVsID0galF1ZXJ5KHRoaXMuZ2V0SHRtbChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgX3ZhbHVlKSkpO1xuICAgIHRoaXMuYmluZFVJKF9yb290LCBfY29sdW1uS2V5LCAkZWwsIF9lZGl0b3IsIF8kcGFyZW50LCBfdmFsdWUpO1xuICAgICRlbC5vbihcImJsdXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgQk9EWS5pbmxpbmVFZGl0LmRlQWN0aXZlLmNhbGwoX3Jvb3QsIFwiUkVUVVJOXCIsIF9jb2x1bW5LZXkpO1xuICAgIH0pO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIGJpbmRVSTogZnVuY3Rpb24gKF9yb290LCBfY29sdW1uS2V5LCBfJGVsLCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKSB7XG4gICAgXyRlbC5mb2N1cygpLnNlbGVjdCgpO1xuICB9XG59O1xuXG5jb25zdCBlZGl0X21vbmV5ID0ge1xuICB1c2VSZXR1cm5Ub1NhdmU6IHRydWUsXG4gIGVkaXRNb2RlOiBcInBvcHVwXCIsXG4gIGdldEh0bWw6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgX3ZhbHVlKSB7XG4gICAgbGV0IGF0dHJpYnV0ZXNUZXh0ID0gXCJcIjtcbiAgICBpZiAodHlwZW9mIF9lZGl0b3IuYXR0cmlidXRlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZm9yIChsZXQgayBpbiBfZWRpdG9yLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgYXR0cmlidXRlc1RleHQgKz0gYCAke2t9PScke19lZGl0b3IuYXR0cmlidXRlc1trXX0nYDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICc8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLWF4NmdyaWQtZWRpdG9yPVwibW9uZXlcIiB2YWx1ZT1cIicgKyBfdmFsdWUgKyAnXCIgJyArIGF0dHJpYnV0ZXNUZXh0ICsgJ1wiIC8+JztcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gKF9yb290LCBfY29sdW1uS2V5LCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKSB7XG4gICAgbGV0ICRlbDtcbiAgICBfJHBhcmVudC5hcHBlbmQoJGVsID0galF1ZXJ5KHRoaXMuZ2V0SHRtbChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgX3ZhbHVlKSkpO1xuICAgIHRoaXMuYmluZFVJKF9yb290LCBfY29sdW1uS2V5LCAkZWwsIF9lZGl0b3IsIF8kcGFyZW50LCBfdmFsdWUpO1xuICAgICRlbC5vbihcImJsdXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgQk9EWS5pbmxpbmVFZGl0LmRlQWN0aXZlLmNhbGwoX3Jvb3QsIFwiUkVUVVJOXCIsIF9jb2x1bW5LZXkpO1xuICAgIH0pO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIGJpbmRVSTogZnVuY3Rpb24gKF9yb290LCBfY29sdW1uS2V5LCBfJGVsLCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKSB7XG4gICAgXyRlbC5kYXRhKFwiYmluZGVkLWF4NXVpXCIsIFwiYXg1Zm9ybWF0ZXJcIik7XG4gICAgXyRlbC5heDVmb3JtYXR0ZXIoJC5leHRlbmQodHJ1ZSwge1xuICAgICAgcGF0dGVybjogXCJtb25leVwiXG4gICAgfSwgX2VkaXRvci5jb25maWcpKTtcbiAgICBfJGVsLmZvY3VzKCkuc2VsZWN0KCk7XG4gIH1cbn07XG5cbmNvbnN0IGVkaXRfbnVtYmVyID0ge1xuICB1c2VSZXR1cm5Ub1NhdmU6IHRydWUsXG4gIGVkaXRNb2RlOiBcInBvcHVwXCIsXG4gIGdldEh0bWw6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgX3ZhbHVlKSB7XG4gICAgbGV0IGF0dHJpYnV0ZXNUZXh0ID0gXCJcIjtcbiAgICBpZiAodHlwZW9mIF9lZGl0b3IuYXR0cmlidXRlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZm9yIChsZXQgayBpbiBfZWRpdG9yLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgYXR0cmlidXRlc1RleHQgKz0gYCAke2t9PScke19lZGl0b3IuYXR0cmlidXRlc1trXX0nYDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICc8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLWF4NmdyaWQtZWRpdG9yPVwibnVtYmVyXCIgdmFsdWU9XCInICsgX3ZhbHVlICsgJ1wiICcgKyBhdHRyaWJ1dGVzVGV4dCArICdcIiAvPic7XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgXyRwYXJlbnQsIF92YWx1ZSkge1xuICAgIHZhciAkZWw7XG4gICAgXyRwYXJlbnQuYXBwZW5kKCRlbCA9IGpRdWVyeSh0aGlzLmdldEh0bWwoX3Jvb3QsIF9jb2x1bW5LZXksIF9lZGl0b3IsIF92YWx1ZSkpKTtcbiAgICB0aGlzLmJpbmRVSShfcm9vdCwgX2NvbHVtbktleSwgJGVsLCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKTtcbiAgICAkZWwub24oXCJibHVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIEJPRFkuaW5saW5lRWRpdC5kZUFjdGl2ZS5jYWxsKF9yb290LCBcIlJFVFVSTlwiLCBfY29sdW1uS2V5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBiaW5kVUk6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgXyRlbCwgX2VkaXRvciwgXyRwYXJlbnQsIF92YWx1ZSkge1xuICAgIF8kZWwuZGF0YShcImJpbmRlZC1heDV1aVwiLCBcImF4NWZvcm1hdGVyXCIpO1xuICAgIF8kZWwuYXg1Zm9ybWF0dGVyKCQuZXh0ZW5kKHRydWUsIHtcbiAgICAgIHBhdHRlcm46IFwibnVtYmVyXCJcbiAgICB9LCBfZWRpdG9yLmNvbmZpZykpO1xuICAgIF8kZWwuZm9jdXMoKS5zZWxlY3QoKTtcbiAgfVxufTtcblxuY29uc3QgZWRpdF9kYXRlID0ge1xuICB1c2VSZXR1cm5Ub1NhdmU6IHRydWUsXG4gIGVkaXRNb2RlOiBcInBvcHVwXCIsXG4gIGdldEh0bWw6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgX3ZhbHVlKSB7XG4gICAgcmV0dXJuICc8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLWF4NmdyaWQtZWRpdG9yPVwiY2FsZW5kYXJcIiB2YWx1ZT1cIicgKyBfdmFsdWUgKyAnXCIgPic7XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgXyRwYXJlbnQsIF92YWx1ZSkge1xuICAgIHZhciAkZWw7XG4gICAgXyRwYXJlbnQuYXBwZW5kKCRlbCA9IGpRdWVyeSh0aGlzLmdldEh0bWwoX3Jvb3QsIF9jb2x1bW5LZXksIF9lZGl0b3IsIF92YWx1ZSkpKTtcbiAgICB0aGlzLmJpbmRVSShfcm9vdCwgX2NvbHVtbktleSwgJGVsLCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBiaW5kVUk6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgXyRlbCwgX2VkaXRvciwgXyRwYXJlbnQsIF92YWx1ZSkge1xuICAgIHZhciBzZWxmID0gX3Jvb3Q7XG4gICAgXyRlbC5kYXRhKFwiYmluZGVkLWF4NXVpXCIsIFwiYXg1cGlja2VyXCIpO1xuXG4gICAgXyRlbC5heDVwaWNrZXIoJC5leHRlbmQodHJ1ZSwge1xuICAgICAgZGlyZWN0aW9uOiBcImF1dG9cIixcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICBmb3JtYXR0ZXI6IHtcbiAgICAgICAgICBwYXR0ZXJuOiAnZGF0ZSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uU3RhdGVDaGFuZ2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFwib3BlblwiKSB7XG4gICAgICAgICAgdGhpcy5zZWxmLmFjdGl2ZVBpY2tlci5hdHRyKFwiZGF0YS1heDZncmlkLWlubGluZS1lZGl0LXBpY2tlclwiLCBcImRhdGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PSBcImNsb3NlXCIpIHtcbiAgICAgICAgICBCT0RZLmlubGluZUVkaXQuZGVBY3RpdmUuY2FsbChzZWxmLCBcIlJFVFVSTlwiLCBfY29sdW1uS2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9lZGl0b3IuY29uZmlnKSk7XG5cbiAgICBfJGVsLmZvY3VzKCkuc2VsZWN0KCk7XG4gIH1cbn07XG5cbmNvbnN0IGVkaXRfc2VsZWN0ID0ge1xuICB1c2VSZXR1cm5Ub1NhdmU6IGZhbHNlLFxuICBlZGl0TW9kZTogXCJwb3B1cFwiLFxuICBnZXRIdG1sOiBmdW5jdGlvbiAoX3Jvb3QsIF9jb2x1bW5LZXksIF9lZGl0b3IsIF92YWx1ZSkge1xuICAgIHZhciBwbyA9IFtdO1xuICAgIHBvLnB1c2goJzxkaXYgZGF0YS1heDVzZWxlY3Q9XCJheDVncmlkLWVkaXRvclwiIGRhdGEtYXg1c2VsZWN0LWNvbmZpZz1cInt9XCI+Jyk7XG4gICAgcG8ucHVzaCgnPC9kaXY+Jyk7XG5cbiAgICByZXR1cm4gcG8uam9pbignJyk7XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgX2VkaXRvciwgXyRwYXJlbnQsIF92YWx1ZSkge1xuICAgIHZhciAkZWw7XG4gICAgXyRwYXJlbnQuYXBwZW5kKCRlbCA9IGpRdWVyeSh0aGlzLmdldEh0bWwoX3Jvb3QsIF9jb2x1bW5LZXksIF9lZGl0b3IsIF92YWx1ZSkpKTtcbiAgICB0aGlzLmJpbmRVSShfcm9vdCwgX2NvbHVtbktleSwgJGVsLCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBiaW5kVUk6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgXyRlbCwgX2VkaXRvciwgXyRwYXJlbnQsIF92YWx1ZSkge1xuICAgIHZhciBlQ29uZmlnID0ge1xuICAgICAgY29sdW1uS2V5czoge1xuICAgICAgICBvcHRpb25WYWx1ZTogXCJ2YWx1ZVwiLFxuICAgICAgICBvcHRpb25UZXh0OiBcInRleHRcIixcbiAgICAgICAgb3B0aW9uU2VsZWN0ZWQ6IFwic2VsZWN0ZWRcIlxuICAgICAgfVxuICAgIH07XG4gICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCBlQ29uZmlnLCBfZWRpdG9yLmNvbmZpZyk7XG5cbiAgICBlQ29uZmlnLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgaWYgKG5bZUNvbmZpZy5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXSA9PSBfdmFsdWUpIG5bZUNvbmZpZy5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICB2YXIgc2VsZiA9IF9yb290O1xuICAgIF8kZWwuZGF0YShcImJpbmRlZC1heDV1aVwiLCBcImF4NXNlbGVjdFwiKTtcbiAgICBfJGVsLmF4NXNlbGVjdCgkLmV4dGVuZCh0cnVlLCB7XG4gICAgICBkaXJlY3Rpb246IFwiYXV0b1wiLFxuICAgICAgY29sdW1uS2V5czogZUNvbmZpZy5jb2x1bW5LZXlzLFxuICAgICAgb3B0aW9uczogZUNvbmZpZy5vcHRpb25zLFxuICAgICAgb25TdGF0ZUNoYW5nZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICB0aGlzLnNlbGYuYWN0aXZlU2VsZWN0T3B0aW9uR3JvdXAuYXR0cihcImRhdGEtYXg2Z3JpZC1pbmxpbmUtZWRpdC1waWNrZXJcIiwgXCJzZWxlY3RcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PSBcImNoYW5nZVZhbHVlXCIpIHtcbiAgICAgICAgICBCT0RZLmlubGluZUVkaXQuZGVBY3RpdmUuY2FsbChzZWxmLCBcIlJFVFVSTlwiLCBfY29sdW1uS2V5LCB0aGlzLnZhbHVlWzBdW2VDb25maWcuY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT0gXCJjbG9zZVwiKSB7XG4gICAgICAgICAgQk9EWS5pbmxpbmVFZGl0LmRlQWN0aXZlLmNhbGwoc2VsZiwgXCJFU0NcIiwgX2NvbHVtbktleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfZWRpdG9yLmNvbmZpZykpO1xuICAgIF8kZWwuYXg1c2VsZWN0KFwib3BlblwiKTtcbiAgICBfJGVsLmF4NXNlbGVjdChcInNldFZhbHVlXCIsIF92YWx1ZSk7XG4gICAgXyRlbC5maW5kKFwiYVwiKS5mb2N1cygpO1xuICB9XG59O1xuXG5jb25zdCBlZGl0X2NoZWNrYm94ID0ge1xuICBlZGl0TW9kZTogXCJpbmxpbmVcIixcbiAgZ2V0SHRtbDogZnVuY3Rpb24gKF9yb290LCBfZWRpdG9yLCBfdmFsdWUpIHtcblxuICAgIHZhciBsaW5lSGVpZ2h0ID0gX3Jvb3QuY29uZmlnLmJvZHkuY29sdW1uSGVpZ2h0IC0gX3Jvb3QuY29uZmlnLmJvZHkuY29sdW1uUGFkZGluZyAqIDIgLSBfcm9vdC5jb25maWcuYm9keS5jb2x1bW5Cb3JkZXJXaWR0aDtcbiAgICB2YXIgY2hlY2tlZDtcbiAgICBpZiAoX2VkaXRvci5jb25maWcgJiYgX2VkaXRvci5jb25maWcudHJ1ZVZhbHVlKSB7XG4gICAgICBjaGVja2VkID0gX3ZhbHVlID09IF9lZGl0b3IuY29uZmlnLnRydWVWYWx1ZSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja2VkID0gX3ZhbHVlID09IGZhbHNlIHx8IF92YWx1ZSA9PSBcImZhbHNlXCIgfHwgX3ZhbHVlIDwgXCIxXCIgPyBcImZhbHNlXCIgOiBcInRydWVcIjtcbiAgICB9XG5cbiAgICB2YXIgZUNvbmZpZyA9IHtcbiAgICAgIG1hcmdpblRvcDogMixcbiAgICAgIGhlaWdodDogbGluZUhlaWdodCAtIDRcbiAgICB9O1xuICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgZUNvbmZpZywgX2VkaXRvci5jb25maWcpO1xuICAgIGVDb25maWcubWFyZ2luVG9wID0gKGxpbmVIZWlnaHQgLSBlQ29uZmlnLmhlaWdodCkgLyAyO1xuXG4gICAgcmV0dXJuICc8ZGl2IGRhdGEtYXg2Z3JpZC1lZGl0b3I9XCJjaGVja2JveFwiIGRhdGEtYXg2Z3JpZC1jaGVja2VkPVwiJyArIGNoZWNrZWQgKyAnXCIgc3R5bGU9XCJoZWlnaHQ6JyArIGVDb25maWcuaGVpZ2h0ICsgJ3B4O3dpZHRoOicgKyBlQ29uZmlnLmhlaWdodCArICdweDttYXJnaW4tdG9wOicgKyBlQ29uZmlnLm1hcmdpblRvcCArICdweDtcIj48L2Rpdj4nO1xuICB9XG59O1xuXG5jb25zdCBlZGl0X3RleHRhcmVhID0ge1xuICB1c2VSZXR1cm5Ub1NhdmU6IGZhbHNlLFxuICBlZGl0TW9kZTogXCJwb3B1cFwiLFxuICBfZ2V0SHRtbDogZnVuY3Rpb24gKF9yb290LCBfY29sdW1uS2V5LCBfZWRpdG9yLCBfdmFsdWUpIHtcbiAgICAvLyBpbml0IOyXkOyEnCDsgqzsmqntlZjqsowg65CgIEhUTUwg7YOc6re466W8IOunjOuTpOyWtCDspI3ri4jri6QuXG4gICAgcmV0dXJuIGA8ZGl2IGRhdGEtYXg2Z3JpZC1lZGl0b3I9XCJ0ZXh0YXJlYVwiPjwvZGl2PmA7XG4gIH0sXG4gIF9iaW5kVUk6IGZ1bmN0aW9uIChfcm9vdCwgX2NvbHVtbktleSwgXyRlbCwgX2VkaXRvciwgXyRwYXJlbnQsIF92YWx1ZSkge1xuICAgIC8vIOychOy5mOyZgCDtgazquLDrpbwg6rWs7ZWp64uI64ukLlxuICAgIGxldCBvZmZzZXQgPSBfJGVsLm9mZnNldCgpO1xuICAgIGxldCBib3ggPSB7XG4gICAgICB3aWR0aDogXyRlbC53aWR0aCgpXG4gICAgfTtcbiAgICBsZXQgZWRpdG9ySGVpZ2h0ID0gMTUwO1xuICAgIGxldCBidXR0b25IZWlnaHQgPSAzMDtcblxuICAgIC8vIOyDiOuhnOyatCDsl5jrpqzrqLztirgg7IOd7ISxXG4gICAgbGV0ICRuZXdEaXYgPSBqUXVlcnkoYDxkaXYgZGF0YS1heDZncmlkLXBvcHVwPVwidGV4dGFyZWFcIiBzdHlsZT1cInotaW5kZXg6IDk5OTk7XCI+XG4gICAgPHRleHRhcmVhIHN0eWxlPVwid2lkdGg6MTAwJTtoZWlnaHQ6JHtlZGl0b3JIZWlnaHQgLSBidXR0b25IZWlnaHR9cHg7XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj4ke192YWx1ZX08L3RleHRhcmVhPlxuICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6JHtidXR0b25IZWlnaHR9cHg7cGFkZGluZzo1cHg7dGV4dC1hbGlnbjogcmlnaHQ7XCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIj5PSzwvYnV0dG9uPlxuICAgIDwvZGl2PlxuPC9kaXY+YCk7XG4gICAgbGV0ICRuZXdUZXh0YXJlYSA9ICRuZXdEaXYuZmluZChcInRleHRhcmVhXCIpO1xuICAgIC8vIOyXmOumrOuovO2KuOyXkCBDU1Mg7KCB7JqpXG4gICAgJG5ld0Rpdi5jc3Moe1xuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0LFxuICAgICAgdG9wOiBvZmZzZXQudG9wLFxuICAgICAgd2lkdGg6IGJveC53aWR0aCxcbiAgICAgIGhlaWdodDogZWRpdG9ySGVpZ2h0XG4gICAgfSk7XG4gICAgJG5ld0Rpdi5maW5kKFwidGV4dGFyZWFcIik7XG5cbiAgICAvLyDsg4jroZzsmrQg7JeY66as66i87Yq466W8IGRvY3VtZW50LmJvZHnsl5AgYXBwZW5kXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLmFwcGVuZCgkbmV3RGl2KTtcbiAgICAkbmV3VGV4dGFyZWEuZm9jdXMoKS5zZWxlY3QoKTtcblxuICAgICRuZXdUZXh0YXJlYS5vbihcImJsdXJcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIEJPRFkuaW5saW5lRWRpdC5kZUFjdGl2ZS5jYWxsKF9yb290LCBcIlJFVFVSTlwiLCBfY29sdW1uS2V5LCB0aGlzLnZhbHVlKTtcbiAgICAgICRuZXdEaXYucmVtb3ZlKCk7XG4gICAgICBheDUudXRpbC5zdG9wRXZlbnQoZS5vcmlnaW5hbEV2ZW50KTtcbiAgICB9KTtcbiAgICAkbmV3VGV4dGFyZWEub24oXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSBheDUuaW5mby5ldmVudEtleXMuRVNDKSB7XG4gICAgICAgIEJPRFkuaW5saW5lRWRpdC5kZUFjdGl2ZS5jYWxsKF9yb290LCBcIkVTQ1wiLCBfY29sdW1uS2V5KTtcbiAgICAgICAgJG5ld0Rpdi5yZW1vdmUoKTtcbiAgICAgICAgYXg1LnV0aWwuc3RvcEV2ZW50KGUub3JpZ2luYWxFdmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLy8g6rCSIOuzgOqyvVxuICAgIC8vLyBCT0RZLmlubGluZUVkaXQuZGVBY3RpdmUuY2FsbChfcm9vdCwgXCJSRVRVUk5cIiwgX2NvbHVtbktleSwgdGhpcy52YWx1ZVswXVtlQ29uZmlnLmNvbHVtbktleXMub3B0aW9uVmFsdWVdKTtcbiAgICAvLy8g7JeQ65SU7YyFIOy3qOyGjFxuICAgIC8vLyBCT0RZLmlubGluZUVkaXQuZGVBY3RpdmUuY2FsbChfcm9vdCwgXCJFU0NcIiwgX2NvbHVtbktleSk7XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKF9yb290LCBfY29sdW1uS2V5LCBfZWRpdG9yLCBfJHBhcmVudCwgX3ZhbHVlKSB7XG4gICAgLy8g7J2465287J24IOyXkOuUlO2MhSDtmZzshLHtmZQg7Iuc7J6RXG4gICAgLyoqXG4gICAgICogX3Jvb3QgOiBncmlkSW5zdGFuY2VcbiAgICAgKiBfY29sdW1uS2V5IDogZGkgKyBcIl9cIiArIGNvbC5jb2xJbmRleCArIFwiX1wiICsgY29sLnJvd0luZGV4XG4gICAgICogX2VkaXRvciA6IGNvbC5lZGl0b3JcbiAgICAgKiBfJHBhcmVudCA6IOyFgFxuICAgICAqIF92YWx1ZSA6IOqwklxuICAgICAqL1xuICAgIGxldCAkZWw7XG4gICAgXyRwYXJlbnQuYXBwZW5kKCRlbCA9IGpRdWVyeSh0aGlzLl9nZXRIdG1sKF9yb290LCBfY29sdW1uS2V5LCBfZWRpdG9yLCBfdmFsdWUpKSk7XG4gICAgLy8g7IWA7JeQIEhUTUwg7Luo7YWQ7LigIOy2lOqwgFxuXG4gICAgdGhpcy5fYmluZFVJKF9yb290LCBfY29sdW1uS2V5LCAkZWwsIF9lZGl0b3IsIF8kcGFyZW50LCBfdmFsdWUpO1xuICAgIC8vIOydtOuypO2KuCDrsJTsnbjrlKlcblxuICAgIHJldHVybiAkZWw7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgXCJ0ZXh0XCI6IGVkaXRfdGV4dCxcbiAgXCJtb25leVwiOiBlZGl0X21vbmV5LFxuICBcIm51bWJlclwiOiBlZGl0X251bWJlcixcbiAgXCJkYXRlXCI6IGVkaXRfZGF0ZSxcbiAgXCJzZWxlY3RcIjogZWRpdF9zZWxlY3QsXG4gIFwiY2hlY2tib3hcIjogZWRpdF9jaGVja2JveCxcbiAgXCJ0ZXh0YXJlYVwiOiBlZGl0X3RleHRhcmVhXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJR3JpZC9BWDZVSUdyaWRfaW5saW5lX2VkaXRvci5qc1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBVIGZyb20gXCIuLi9BWDZVdGlsXCI7XG5cbmxldCBzdW0gPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB2YWx1ZSA9IDAsXG4gICAgICBpID0gdGhpcy5saXN0Lmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIGlmICghKFwiX19ncm91cGluZ0xpc3RcIiBpbiB0aGlzLmxpc3RbaV0pKSB7XG4gICAgICB2YWx1ZSArPSBVLm51bWJlcih0aGlzLmxpc3RbaV1bdGhpcy5rZXldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxubGV0IGF2ZyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHZhbHVlID0gMCxcbiAgICAgIGkgPSB0aGlzLmxpc3QubGVuZ3RoLFxuICAgICAgbGlzdExlbmd0aCA9IDA7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBpZiAoIShcIl9fZ3JvdXBpbmdMaXN0XCIgaW4gdGhpcy5saXN0W2ldKSkge1xuICAgICAgdmFsdWUgKz0gVS5udW1iZXIodGhpcy5saXN0W2ldW3RoaXMua2V5XSk7XG4gICAgICBsaXN0TGVuZ3RoKys7XG4gICAgfVxuICB9XG4gIHJldHVybiBVLm51bWJlcih2YWx1ZSAvIChsaXN0TGVuZ3RoIHx8IDEpLCB7IFwicm91bmRcIjogMiB9KTtcbn07XG5cbi8qKlxuICogQG1vZHVsZSBBWDZVSUdyaWRfY29sbGVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBzdW06IHN1bSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICBhdmc6IGF2Z1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUdyaWQvQVg2VUlHcmlkX2NvbGxlY3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBVIGZyb20gXCIuLi9BWDZVdGlsXCI7XG5cbmNvbnN0IG1vbmV5ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHRoaXMudmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBsZXQgdmFsID0gKCcnICsgdGhpcy52YWx1ZSkucmVwbGFjZSgvW14wLTleXFwuXlxcLV0vZywgXCJcIiksXG4gICAgICAgIHJlZ0V4cFBhdHRlcm4gPSBuZXcgUmVnRXhwKCcoWzAtOV0pKFswLTldWzAtOV1bMC05XVssLl0pJyksXG4gICAgICAgIGFyck51bWJlciA9IHZhbC5zcGxpdCgnLicpLFxuICAgICAgICByZXR1cm5WYWx1ZTtcblxuICAgIGFyck51bWJlclswXSArPSAnLic7XG5cbiAgICBkbyB7XG4gICAgICBhcnJOdW1iZXJbMF0gPSBhcnJOdW1iZXJbMF0ucmVwbGFjZShyZWdFeHBQYXR0ZXJuLCAnJDEsJDInKTtcbiAgICB9IHdoaWxlIChyZWdFeHBQYXR0ZXJuLnRlc3QoYXJyTnVtYmVyWzBdKSk7XG5cbiAgICByZXR1cm4gYXJyTnVtYmVyLmxlbmd0aCA+IDEgPyBhcnJOdW1iZXJbMF0gKyBVLmxlZnQoYXJyTnVtYmVyWzFdLCAyKSA6IGFyck51bWJlclswXS5zcGxpdCgnLicpWzBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1vbmV5OiBtb25leVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSUdyaWQvQVg2VUlHcmlkX2Zvcm1hdHRlci5qc1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImNvbnN0IG1haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGA8ZGl2IGRhdGEtYXg2Z3JpZC1jb250YWluZXI9XCJyb290XCIgZGF0YS1heDZncmlkLWluc3RhbmNlPVwie3tpbnN0YW5jZUlkfX1cIj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLWNvbnRhaW5lcj1cImhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBkYXRhLWF4NmdyaWQtZm9ybT1cImNsaXBib2FyZFwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLWNvbnRhaW5lcj1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwiYXNpZGUtaGVhZGVyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFuZWw9XCJsZWZ0LWhlYWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsLXNjcm9sbD1cImhlYWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwicmlnaHQtaGVhZGVyXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLWNvbnRhaW5lcj1cImJvZHlcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYW5lbD1cInRvcC1hc2lkZS1ib2R5XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFuZWw9XCJ0b3AtbGVmdC1ib2R5XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFuZWw9XCJ0b3AtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYW5lbC1zY3JvbGw9XCJ0b3AtYm9keVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwidG9wLXJpZ2h0LWJvZHlcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYW5lbD1cImFzaWRlLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFuZWwtc2Nyb2xsPVwiYXNpZGUtYm9keVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwibGVmdC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsLXNjcm9sbD1cImxlZnQtYm9keVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwiYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYW5lbC1zY3JvbGw9XCJib2R5XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFuZWw9XCJyaWdodC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYW5lbC1zY3JvbGw9XCJyaWdodC1ib2R5XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFuZWw9XCJib3R0b20tYXNpZGUtYm9keVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwiYm90dG9tLWxlZnQtYm9keVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhbmVsPVwiYm90dG9tLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFuZWwtc2Nyb2xsPVwiYm90dG9tLWJvZHlcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYW5lbD1cImJvdHRvbS1yaWdodC1ib2R5XCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLWNvbnRhaW5lcj1cInBhZ2VcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYWdlPVwiaG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhZ2U9XCJuYXZpZ2F0aW9uXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhZ2U9XCJzdGF0dXNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtY29udGFpbmVyPVwic2Nyb2xsZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1zY3JvbGxlcj1cInZlcnRpY2FsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXNjcm9sbGVyPVwidmVydGljYWwtYmFyXCI+PC9kaXY+ICAgIFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXNjcm9sbGVyPVwiaG9yaXpvbnRhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1zY3JvbGxlcj1cImhvcml6b250YWwtYmFyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtc2Nyb2xsZXI9XCJjb3JuZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcmVzaXplcj1cInZlcnRpY2FsXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1yZXNpemVyPVwiaG9yaXpvbnRhbFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xufTtcblxuY29uc3QgcGFnZV9uYXZpZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBgPGRpdiBkYXRhLWF4NmdyaWQtcGFnZS1uYXZpZ2F0aW9uPVwiaG9sZGVyXCI+XG4gICAgICAgICAgICB7eyNoYXNQYWdlfX1cbiAgICAgICAgICAgIDxkaXYgZGF0YS1heDZncmlkLXBhZ2UtbmF2aWdhdGlvbj1cImNlbGxcIj4gICAgXG4gICAgICAgICAgICAgICAge3sjZmlyc3RJY29ufX08YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWF4NmdyaWQtcGFnZS1tb3ZlPVwiZmlyc3RcIj57e3tmaXJzdEljb259fX08L2J1dHRvbj57ey9maXJzdEljb259fVxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtYXg2Z3JpZC1wYWdlLW1vdmU9XCJwcmV2XCI+e3t7cHJldkljb259fX08L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBkYXRhLWF4NmdyaWQtcGFnZS1uYXZpZ2F0aW9uPVwiY2VsbC1wYWdpbmdcIj5cbiAgICAgICAgICAgICAgICB7eyNAcGFnaW5nfX1cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWF4NmdyaWQtcGFnZS1tb3ZlPVwie3twYWdlTm99fVwiIGRhdGEtYXg2Z3JpZC1wYWdlLXNlbGVjdGVkPVwie3tzZWxlY3RlZH19XCI+e3twYWdlTm99fTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHt7L0BwYWdpbmd9fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtYXg2Z3JpZC1wYWdlLW5hdmlnYXRpb249XCJjZWxsXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1heDZncmlkLXBhZ2UtbW92ZT1cIm5leHRcIj57e3tuZXh0SWNvbn19fTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHt7I2xhc3RJY29ufX08YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWF4NmdyaWQtcGFnZS1tb3ZlPVwibGFzdFwiPnt7e2xhc3RJY29ufX19PC9idXR0b24+e3svbGFzdEljb259fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7ey9oYXNQYWdlfX1cbiAgICAgICAgPC9kaXY+YDtcbn07XG5cbmNvbnN0IHBhZ2Vfc3RhdHVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBgPHNwYW4+e3t7cHJvZ3Jlc3N9fX0ge3tmcm9tUm93SW5kZXh9fSAtIHt7dG9Sb3dJbmRleH19IG9mIHt7ZGF0YVJvd0NvdW50fX0ge3sjdG90YWxFbGVtZW50c319Jm5ic3A7IFRvdGFsIHt7Ln19e3svdG90YWxFbGVtZW50c319PC9zcGFuPmA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgXCJtYWluXCI6IG1haW4sXG4gICAgXCJwYWdlX25hdmlnYXRpb25cIjogcGFnZV9uYXZpZ2F0aW9uLFxuICAgIFwicGFnZV9zdGF0dXNcIjogcGFnZV9zdGF0dXNcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlHcmlkL0FYNlVJR3JpZF90bXBsLmpzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiaW1wb3J0IGpRdWVyeSBmcm9tIFwianFtaW5cIjtcbmltcG9ydCBBWDZVSUNvcmUgZnJvbSBcIi4vQVg2VUlDb3JlLmpzXCI7XG5pbXBvcnQgaW5mbyBmcm9tIFwiLi9BWDZJbmZvXCI7XG5pbXBvcnQgVSBmcm9tIFwiLi9BWDZVdGlsXCI7XG5pbXBvcnQgbXVzdGFjaGUgZnJvbSBcIi4vQVg2TXVzdGFjaGVcIjtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgaW1wb3J0ICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG5sZXQgdG1wbCA9IHtcbiAgbWVudShjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBkYXRhLWF4NnVpLW1lbnU9XCJcIiBjbGFzcz1cInt7dGhlbWV9fVwiIHt7I3dpZHRofX1zdHlsZT1cIndpZHRoOnt7d2lkdGh9fXB4O1wie3svd2lkdGh9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJheC1tZW51LWJvZHlcIj5cbiAgICAgICAgICAgICAgICB7eyMke2NvbHVtbktleXMuaXRlbXN9fX1cbiAgICAgICAgICAgICAgICAgICAge3teQGlzTWVudX19XG4gICAgICAgICAgICAgICAgICAgICAgICB7eyNkaXZpZGV9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1lbnUtaXRlbS1kaXZpZGVcIiBkYXRhLW1lbnUtaXRlbS1pbmRleD1cInt7QGl9fVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3svZGl2aWRlfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7I2h0bWx9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1lbnUtaXRlbS1odG1sXCIgZGF0YS1tZW51LWl0ZW0taW5kZXg9XCJ7e0BpfX1cIj57e3tAaHRtbH19fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3svaHRtbH19XG4gICAgICAgICAgICAgICAgICAgIHt7L0Bpc01lbnV9fVxuICAgICAgICAgICAgICAgICAgICB7eyNAaXNNZW51fX1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1lbnUtaXRlbVwiIGRhdGEtbWVudS1pdGVtLWRlcHRoPVwie3tAZGVwdGh9fVwiIGRhdGEtbWVudS1pdGVtLWluZGV4PVwie3tAaX19XCIgZGF0YS1tZW51LWl0ZW0tcGF0aD1cInt7QHBhdGh9fS57e0BpfX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXgtbWVudS1pdGVtLWNlbGwgYXgtbWVudS1pdGVtLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sjY2hlY2t9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaXRlbS1jaGVja2JveC13cmFwIHVzZUNoZWNrQm94XCIge3sjY2hlY2tlZH19ZGF0YS1pdGVtLWNoZWNrZWQ9XCJ0cnVlXCJ7ey9jaGVja2VkfX0+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7L2NoZWNrfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e15jaGVja319XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpdGVtLWNoZWNrYm94LXdyYXBcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3svY2hlY2t9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge3sjaWNvbn19XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF4LW1lbnUtaXRlbS1jZWxsIGF4LW1lbnUtaXRlbS1pY29uXCIgc3R5bGU9XCJ3aWR0aDp7e2NmZy5pY29uV2lkdGh9fXB4O1wiPnt7ey59fX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ey9pY29ufX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXgtbWVudS1pdGVtLWNlbGwgYXgtbWVudS1pdGVtLWxhYmVsXCI+e3t7JHtjb2x1bW5LZXlzLmxhYmVsfX19fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7I2FjY2VsZXJhdG9yfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXgtbWVudS1pdGVtLWNlbGwgYXgtbWVudS1pdGVtLWFjY2VsZXJhdG9yXCIgc3R5bGU9XCJ3aWR0aDp7e2NmZy5hY2NlbGVyYXRvcldpZHRofX1weDtcIj48c3BhbiBjbGFzcz1cIml0ZW0td3JhcFwiPnt7Ln19PC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7L2FjY2VsZXJhdG9yfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7I0BoYXNDaGlsZH19XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF4LW1lbnUtaXRlbS1jZWxsIGF4LW1lbnUtaXRlbS1oYW5kbGVcIj57e3tjZmcuaWNvbnMuYXJyb3d9fX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ey9AaGFzQ2hpbGR9fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge3svQGlzTWVudX19XG5cbiAgICAgICAgICAgICAgICB7ey8ke2NvbHVtbktleXMuaXRlbXN9fX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1lbnUtYXJyb3dcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gIH0sXG4gIG1lbnViYXIoY29sdW1uS2V5cykge1xuICAgIHJldHVybiBgXG4gICAgICAgIDxkaXYgZGF0YS1heDZ1aS1tZW51YmFyPVwiXCIgY2xhc3M9XCJ7e3RoZW1lfX1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJheC1tZW51LWJvZHlcIj5cbiAgICAgICAgICAgICAgICB7eyMke2NvbHVtbktleXMuaXRlbXN9fX1cbiAgICAgICAgICAgICAgICAgICAge3teQGlzTWVudX19XG4gICAgICAgICAgICAgICAgICAgICAgICB7eyNkaXZpZGV9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1lbnUtaXRlbS1kaXZpZGVcIiBkYXRhLW1lbnUtaXRlbS1pbmRleD1cInt7QGl9fVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3svZGl2aWRlfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7I2h0bWx9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1lbnUtaXRlbS1odG1sXCIgZGF0YS1tZW51LWl0ZW0taW5kZXg9XCJ7e0BpfX1cIj57e3tAaHRtbH19fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3svaHRtbH19XG4gICAgICAgICAgICAgICAgICAgIHt7L0Bpc01lbnV9fVxuICAgICAgICAgICAgICAgICAgICB7eyNAaXNNZW51fX1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1lbnUtaXRlbVwiIGRhdGEtbWVudS1pdGVtLWluZGV4PVwie3tAaX19XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7eyNpY29ufX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXgtbWVudS1pdGVtLWNlbGwgYXgtbWVudS1pdGVtLWljb25cIiBzdHlsZT1cIndpZHRoOnt7Y2ZnLmljb25XaWR0aH19cHg7XCI+e3t7Ln19fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7L2ljb259fVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJheC1tZW51LWl0ZW0tY2VsbCBheC1tZW51LWl0ZW0tbGFiZWxcIj57e3ske2NvbHVtbktleXMubGFiZWx9fX19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge3svQGlzTWVudX19XG4gICAgICAgICAgICAgICAge3svJHtjb2x1bW5LZXlzLml0ZW1zfX19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gIH1cbn07XG5cbmNvbnN0IGFwcEV2ZW50QXR0YWNoID0gZnVuY3Rpb24gKGFjdGl2ZSwgb3B0KSB7XG4gIGlmIChhY3RpdmUpIHtcbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkub2ZmKFwiY2xpY2suYXg1bWVudS1cIiArIHRoaXMuaW5zdGFuY2VJZCkub24oXCJjbGljay5heDVtZW51LVwiICsgdGhpcy5pbnN0YW5jZUlkLCBjbGlja0l0ZW0uYmluZCh0aGlzLCBvcHQpKTtcblxuICAgIGpRdWVyeSh3aW5kb3cpLm9mZihcImtleWRvd24uYXg1bWVudS1cIiArIHRoaXMuaW5zdGFuY2VJZCkub24oXCJrZXlkb3duLmF4NW1lbnUtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5FU0MpIHtcbiAgICAgICAgc2VsZi5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pLm9mZihcInJlc2l6ZS5heDVtZW51LVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vbihcInJlc2l6ZS5heDVtZW51LVwiICsgdGhpcy5pbnN0YW5jZUlkLCBmdW5jdGlvbiAoZSkge1xuICAgICAgc2VsZi5jbG9zZSgpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5vZmYoXCJjbGljay5heDVtZW51LVwiICsgdGhpcy5pbnN0YW5jZUlkKTtcbiAgICBqUXVlcnkod2luZG93KS5vZmYoXCJrZXlkb3duLmF4NW1lbnUtXCIgKyB0aGlzLmluc3RhbmNlSWQpO1xuICAgIGpRdWVyeSh3aW5kb3cpLm9mZihcInJlc2l6ZS5heDVtZW51LVwiICsgdGhpcy5pbnN0YW5jZUlkKTtcbiAgfVxufTtcbmNvbnN0IG9uU3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKG9wdHMsIHRoYXQpIHtcbiAgaWYgKG9wdHMgJiYgb3B0cy5vblN0YXRlQ2hhbmdlZCkge1xuICAgIG9wdHMub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfSBlbHNlIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9XG5cbiAgdGhpcy5zdGF0ZSA9IHRoYXQuc3RhdGU7XG4gIG9wdHMgPSBudWxsO1xuICB0aGF0ID0gbnVsbDtcbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3Qgb25Mb2FkID0gZnVuY3Rpb24gKHRoYXQpIHtcbiAgaWYgKHRoaXMub25Mb2FkKSB7XG4gICAgdGhpcy5vbkxvYWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfVxuXG4gIHRoYXQgPSBudWxsO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBwb3B1cCA9IGZ1bmN0aW9uIChvcHQsIGl0ZW1zLCBkZXB0aCwgcGF0aCkge1xuICBsZXQgc2VsZiA9IHRoaXMsXG4gICAgICBjZmcgPSB0aGlzLmNvbmZpZztcbiAgbGV0IGRhdGEgPSBvcHQsXG4gICAgICAkYWN0aXZlTWVudSxcbiAgICAgIHJlbW92ZWQ7XG5cbiAgZGF0YS50aGVtZSA9IG9wdC50aGVtZSB8fCBjZmcudGhlbWU7XG4gIGRhdGEuY2ZnID0ge1xuICAgIGljb25zOiBqUXVlcnkuZXh0ZW5kKHt9LCBjZmcuaWNvbnMpLFxuICAgIGljb25XaWR0aDogb3B0Lmljb25XaWR0aCB8fCBjZmcuaWNvbldpZHRoLFxuICAgIGFjY2VsZXJhdG9yV2lkdGg6IG9wdC5hY2NlbGVyYXRvcldpZHRoIHx8IGNmZy5hY2NlbGVyYXRvcldpZHRoXG4gIH07XG5cbiAgaXRlbXMuZm9yRWFjaChuID0+IHtcbiAgICBpZiAobi5odG1sIHx8IG4uZGl2aWRlKSB7XG4gICAgICBuWydAaXNNZW51J10gPSBmYWxzZTtcbiAgICAgIGlmIChuLmh0bWwpIHtcbiAgICAgICAgblsnQGh0bWwnXSA9IG4uaHRtbC5jYWxsKHtcbiAgICAgICAgICBpdGVtOiBuLFxuICAgICAgICAgIGNvbmZpZzogY2ZnLFxuICAgICAgICAgIG9wdDogb3B0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuWydAaXNNZW51J10gPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgZGF0YVtjZmcuY29sdW1uS2V5cy5pdGVtc10gPSBpdGVtcztcbiAgZGF0YVsnQGRlcHRoJ10gPSBkZXB0aDtcbiAgZGF0YVsnQHBhdGgnXSA9IHBhdGggfHwgXCJyb290XCI7XG4gIGRhdGFbJ0BoYXNDaGlsZCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzW2NmZy5jb2x1bW5LZXlzLml0ZW1zXSAmJiB0aGlzW2NmZy5jb2x1bW5LZXlzLml0ZW1zXS5sZW5ndGggPiAwO1xuICB9O1xuICAkYWN0aXZlTWVudSA9IGpRdWVyeShtdXN0YWNoZS5yZW5kZXIodG1wbC5tZW51LmNhbGwodGhpcywgY2ZnLmNvbHVtbktleXMpLCBkYXRhKSk7XG4gIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hcHBlbmQoJGFjdGl2ZU1lbnUpO1xuXG4gIC8vIHJlbW92ZSBxdWV1ZVxuICByZW1vdmVkID0gdGhpcy5xdWV1ZS5zcGxpY2UoZGVwdGgpO1xuICByZW1vdmVkLmZvckVhY2gobiA9PiB7XG4gICAgbi4kdGFyZ2V0LnJlbW92ZSgpO1xuICB9KTtcblxuICB0aGlzLnF1ZXVlLnB1c2goe1xuICAgICckdGFyZ2V0JzogJGFjdGl2ZU1lbnUsXG4gICAgJ2RhdGEnOiBqUXVlcnkuZXh0ZW5kKHt9LCBkYXRhKVxuICB9KTtcblxuICAkYWN0aXZlTWVudS5vbignbW91c2VvdmVyJywgJ1tkYXRhLW1lbnUtaXRlbS1pbmRleF0nLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGRlcHRoID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaXRlbS1kZXB0aFwiKSxcbiAgICAgICAgaW5kZXggPSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtbWVudS1pdGVtLWluZGV4XCIpLFxuICAgICAgICBwYXRoID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaXRlbS1wYXRoXCIpLFxuICAgICAgICAkdGhpcyxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBzY3JvbGxUb3AsXG4gICAgICAgIGNoaWxkT3B0LFxuICAgICAgICBfaXRlbXMsXG4gICAgICAgIF9hY3RpdmVNZW51O1xuXG4gICAgaWYgKGRlcHRoICE9IG51bGwgJiYgdHlwZW9mIGRlcHRoICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIF9pdGVtcyA9IHNlbGYucXVldWVbZGVwdGhdLmRhdGFbY2ZnLmNvbHVtbktleXMuaXRlbXNdW2luZGV4XVtjZmcuY29sdW1uS2V5cy5pdGVtc107XG4gICAgICBfYWN0aXZlTWVudSA9IHNlbGYucXVldWVbZGVwdGhdLiR0YXJnZXQ7XG4gICAgICBfYWN0aXZlTWVudS5maW5kKCdbZGF0YS1tZW51LWl0ZW0taW5kZXhdJykucmVtb3ZlQ2xhc3MoXCJob3ZlclwiKTtcbiAgICAgIGpRdWVyeSh0aGlzKS5hZGRDbGFzcyhcImhvdmVyXCIpO1xuXG4gICAgICBpZiAoX2FjdGl2ZU1lbnUuYXR0cihcImRhdGEtc2VsZWN0ZWQtbWVudS1pdGVtLWluZGV4XCIpICE9IGluZGV4KSB7XG4gICAgICAgIF9hY3RpdmVNZW51LmF0dHIoXCJkYXRhLXNlbGVjdGVkLW1lbnUtaXRlbS1pbmRleFwiLCBpbmRleCk7XG5cbiAgICAgICAgaWYgKF9pdGVtcyAmJiBfaXRlbXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgJHRoaXMgPSBqUXVlcnkodGhpcyk7XG4gICAgICAgICAgb2Zmc2V0ID0gJHRoaXMub2Zmc2V0KCk7XG4gICAgICAgICAgc2Nyb2xsVG9wID0gY2ZnLnBvc2l0aW9uID09IFwiZml4ZWRcIiA/IGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsVG9wKCkgOiAwO1xuICAgICAgICAgIGNoaWxkT3B0ID0ge1xuICAgICAgICAgICAgJ0BwYXJlbnQnOiB7XG4gICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgICB0b3A6IG9mZnNldC50b3AsXG4gICAgICAgICAgICAgIHdpZHRoOiAkdGhpcy5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICAgIGhlaWdodDogJHRoaXMub3V0ZXJIZWlnaHQoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0ICsgJHRoaXMub3V0ZXJXaWR0aCgpIC0gY2ZnLm1lbnVCb2R5UGFkZGluZyxcbiAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcCAtIGNmZy5tZW51Qm9keVBhZGRpbmcgLSAxIC0gc2Nyb2xsVG9wXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNoaWxkT3B0ID0galF1ZXJ5LmV4dGVuZCh0cnVlLCBvcHQsIGNoaWxkT3B0KTtcbiAgICAgICAgICBwb3B1cC5jYWxsKHNlbGYsIGNoaWxkT3B0LCBfaXRlbXMsIE51bWJlcihkZXB0aCkgKyAxLCBwYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnF1ZXVlLnNwbGljZShOdW1iZXIoZGVwdGgpICsgMSkuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgbi4kdGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVwdGggPSBudWxsO1xuICAgIGluZGV4ID0gbnVsbDtcbiAgICBwYXRoID0gbnVsbDtcbiAgICAkdGhpcyA9IG51bGw7XG4gICAgb2Zmc2V0ID0gbnVsbDtcbiAgICBzY3JvbGxUb3AgPSBudWxsO1xuICAgIGNoaWxkT3B0ID0gbnVsbDtcbiAgICBfaXRlbXMgPSBudWxsO1xuICAgIF9hY3RpdmVNZW51ID0gbnVsbDtcbiAgfSk7XG5cbiAgLy8gbW91c2Ugb3V0XG4gICRhY3RpdmVNZW51Lm9uKCdtb3VzZW91dCcsICdbZGF0YS1tZW51LWl0ZW0taW5kZXhdJywgZnVuY3Rpb24gKCkge1xuICAgIGxldCBkZXB0aCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZW51LWl0ZW0tZGVwdGhcIiksXG4gICAgICAgIGluZGV4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaXRlbS1pbmRleFwiKSxcbiAgICAgICAgcGF0aCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZW51LWl0ZW0tcGF0aFwiKSxcbiAgICAgICAgX2l0ZW1zO1xuXG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIF9pdGVtcyA9IHNlbGYucXVldWVbZGVwdGhdLmRhdGFbY2ZnLmNvbHVtbktleXMuaXRlbXNdW2luZGV4XVtjZmcuY29sdW1uS2V5cy5pdGVtc107XG4gICAgfVxuICAgIGlmIChfaXRlbXMgJiYgX2l0ZW1zLmxlbmd0aCA+IDApIHt9IGVsc2Uge1xuICAgICAgalF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKFwiaG92ZXJcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBpcyBSb290XG4gIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgaWYgKGRhdGEuZGlyZWN0aW9uKSAkYWN0aXZlTWVudS5hZGRDbGFzcyhcImRpcmVjdGlvbi1cIiArIGRhdGEuZGlyZWN0aW9uKTtcbiAgICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIG51bGwsIHtcbiAgICAgIHNlbGY6IHRoaXMsXG4gICAgICBpdGVtczogaXRlbXMsXG4gICAgICBwYXJlbnQ6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIGlmICghcGF0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBGdW5jdGlvbihcIlwiLCBcInJldHVybiB0aGlzLmNvbmZpZy5pdGVtc1tcIiArIHBhdGguc3Vic3RyaW5nKDUpLnJlcGxhY2UoL1xcLi9nLCAnXS5pdGVtc1snKSArIFwiXTtcIikuY2FsbChzZWxmKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH0oZGF0YVsnQHBhdGgnXSksXG4gICAgICBzdGF0ZTogXCJwb3B1cFwiXG4gICAgfSk7XG4gIH1cblxuICBhbGlnbi5jYWxsKHRoaXMsICRhY3RpdmVNZW51LCBkYXRhKTtcbiAgb25Mb2FkLmNhbGwodGhpcywge1xuICAgIHNlbGY6IHRoaXMsXG4gICAgaXRlbXM6IGl0ZW1zLFxuICAgIGVsZW1lbnQ6ICRhY3RpdmVNZW51LmdldCgwKVxuICB9KTtcblxuICBkYXRhID0gbnVsbDtcbiAgJGFjdGl2ZU1lbnUgPSBudWxsO1xuICByZW1vdmVkID0gbnVsbDtcbiAgb3B0ID0gbnVsbDtcbiAgaXRlbXMgPSBudWxsO1xuICBkZXB0aCA9IG51bGw7XG4gIHBhdGggPSBudWxsO1xuXG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IGNsaWNrSXRlbSA9IGZ1bmN0aW9uIChvcHQsIGUpIHtcbiAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgY2ZnID0gdGhpcy5jb25maWc7XG4gIGxldCB0YXJnZXQsIGl0ZW07XG5cbiAgdGFyZ2V0ID0gVS5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZW51LWl0ZW0taW5kZXhcIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG9wdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0ID0ge307XG4gICAgaXRlbSA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICBpZiAoIXBhdGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihcIlwiLCBcInJldHVybiB0aGlzW1wiICsgcGF0aC5zdWJzdHJpbmcoNSkucmVwbGFjZSgvXFwuL2csICddLicgKyBjZmcuY29sdW1uS2V5cy5pdGVtcyArICdbJykgKyBcIl07XCIpLmNhbGwob3B0Lml0ZW1zIHx8IGNmZy5pdGVtcyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDVtZW51XCIsIFwiNTAxXCIsIFwibWVudUl0ZW1DbGlja1wiKSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaXRlbS1wYXRoXCIpKTtcblxuICAgIGlmICghaXRlbSkgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoaXRlbS5jaGVjaykge1xuICAgICAgKGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICBsZXQgc2V0VmFsdWUgPSB7XG4gICAgICAgICAgJ2NoZWNrYm94JzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSAhdmFsdWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAncmFkaW8nOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICBpZiAobi5jaGVjayAmJiBuLmNoZWNrLnR5cGUgPT09ICdyYWRpbycgJiYgbi5jaGVjay5uYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBuLmNoZWNrLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSAhdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoc2V0VmFsdWVbdGhpcy50eXBlXSkgc2V0VmFsdWVbdGhpcy50eXBlXS5jYWxsKHRoaXMsIHRoaXMuY2hlY2tlZCk7XG4gICAgICAgIHNldFZhbHVlID0gbnVsbDtcbiAgICAgIH0pLmNhbGwoaXRlbS5jaGVjaywgY2ZnLml0ZW1zKTtcblxuICAgICAgaWYgKCFjZmcuaXRlbUNsaWNrQW5kQ2xvc2UpIHtcbiAgICAgICAgc2VsZi5xdWV1ZS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgIG4uJHRhcmdldC5maW5kKCdbZGF0YS1tZW51LWl0ZW0taW5kZXhdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IG4uZGF0YVtjZmcuY29sdW1uS2V5cy5pdGVtc11bdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaXRlbS1pbmRleFwiKV07XG4gICAgICAgICAgICBpZiAoaXRlbS5jaGVjaykge1xuICAgICAgICAgICAgICBqUXVlcnkodGhpcykuZmluZChcIi5pdGVtLWNoZWNrYm94LXdyYXBcIikuYXR0cihcImRhdGEtaXRlbS1jaGVja2VkXCIsIGl0ZW0uY2hlY2suY2hlY2tlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlbGYub25DbGljaykge1xuICAgICAgaWYgKHNlbGYub25DbGljay5jYWxsKGl0ZW0sIGl0ZW0sIG9wdC5wYXJhbSkpIHtcbiAgICAgICAgc2VsZi5jbG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoKCFpdGVtW2NmZy5jb2x1bW5LZXlzLml0ZW1zXSB8fCBpdGVtW2NmZy5jb2x1bW5LZXlzLml0ZW1zXS5sZW5ndGggPT0gMCkgJiYgY2ZnLml0ZW1DbGlja0FuZENsb3NlKSBzZWxmLmNsb3NlKCk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5jbG9zZSgpO1xuICB9XG5cbiAgdGFyZ2V0ID0gbnVsbDtcbiAgaXRlbSA9IG51bGw7XG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IGFsaWduID0gZnVuY3Rpb24gKCRhY3RpdmVNZW51LCBkYXRhKSB7XG4gIGxldCBzZWxmID0gdGhpcyxcbiAgICAgIGNmZyA9IHRoaXMuY29uZmlnO1xuICBsZXQgJHdpbmRvdyA9IGpRdWVyeSh3aW5kb3cpLFxuICAgICAgJGRvY3VtZW50ID0galF1ZXJ5KGRvY3VtZW50KSxcbiAgICAgIHdoID0gY2ZnLnBvc2l0aW9uID09IFwiZml4ZWRcIiA/ICR3aW5kb3cuaGVpZ2h0KCkgOiAkZG9jdW1lbnQuaGVpZ2h0KCksXG4gICAgICB3dyA9ICR3aW5kb3cud2lkdGgoKSxcbiAgICAgIGggPSAkYWN0aXZlTWVudS5vdXRlckhlaWdodCgpLFxuICAgICAgdyA9ICRhY3RpdmVNZW51Lm91dGVyV2lkdGgoKSxcbiAgICAgIGwgPSBkYXRhLmxlZnQsXG4gICAgICB0ID0gZGF0YS50b3AsXG4gICAgICBwb3NpdGlvbiA9IGNmZy5wb3NpdGlvbiB8fCBcImZpeGVkXCI7XG5cbiAgaWYgKGwgKyB3ID4gd3cpIHtcbiAgICBpZiAoZGF0YVsnQHBhcmVudCddKSB7XG4gICAgICBsID0gZGF0YVsnQHBhcmVudCddLmxlZnQgLSB3ICsgY2ZnLm1lbnVCb2R5UGFkZGluZztcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IHd3IC0gdztcbiAgICB9XG4gIH1cblxuICBpZiAodCArIGggPiB3aCkge1xuICAgIHQgPSB3aCAtIGg7XG4gIH1cblxuICAkYWN0aXZlTWVudS5jc3MoeyBsZWZ0OiBsLCB0b3A6IHQsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcblxuICAkYWN0aXZlTWVudSA9IG51bGw7XG4gIGRhdGEgPSBudWxsO1xuICAkd2luZG93ID0gbnVsbDtcbiAgJGRvY3VtZW50ID0gbnVsbDtcbiAgd2ggPSBudWxsO1xuICB3dyA9IG51bGw7XG4gIGggPSBudWxsO1xuICB3ID0gbnVsbDtcbiAgbCA9IG51bGw7XG4gIHQgPSBudWxsO1xuICBwb3NpdGlvbiA9IG51bGw7XG4gIHJldHVybiB0aGlzO1xufTtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgcHJpdmF0ZSAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgQVg2VUlNZW51IGV4dGVuZHMgQVg2VUlDb3JlIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SlNPTn1cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHBhcmFtIFtjb25maWcudGhlbWVdXG4gICAgICogQHBhcmFtIFtjb25maWcuaWNvbldpZHRoPTIyXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmFjY2VsZXJhdG9yV2lkdGg9MTAwXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm1lbnVCb2R5UGFkZGluZz01XVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm9mZnNldF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5vZmZzZXQubGVmdD0wXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm9mZnNldC50b3A9MF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5wb3NpdGlvbj1cImZpeGVkXCJdXG4gICAgICogQHBhcmFtIFtjb25maWcuYW5pbWF0ZVRpbWU9MjUwXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLml0ZW1zXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLml0ZW1DbGlja0FuZENsb3NlPXRydWVdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sdW1uS2V5c11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jb2x1bW5LZXlzLmxhYmVsPSdsYWJlbCddXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sdW1uS2V5cy5pdGVtcz0naXRlbXMnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm9uU3RhdGVDaGFuZ2VkXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm9uQ2xpY2tdXG4gICAgICogQHBhcmFtIFtjb25maWcub25Mb2FkXVxuICAgICAqXG4gICAgICovXG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICB0aGVtZTogXCJkZWZhdWx0XCIsXG4gICAgICBpY29uV2lkdGg6IDIyLFxuICAgICAgYWNjZWxlcmF0b3JXaWR0aDogMTAwLFxuICAgICAgbWVudUJvZHlQYWRkaW5nOiA1LFxuICAgICAgb2Zmc2V0OiB7IGxlZnQ6IDAsIHRvcDogMCB9LFxuICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgIGFuaW1hdGVUaW1lOiAyNTAsXG4gICAgICBpdGVtczogW10sXG4gICAgICBpdGVtQ2xpY2tBbmRDbG9zZTogdHJ1ZSxcbiAgICAgIGNvbHVtbktleXM6IHtcbiAgICAgICAgbGFiZWw6ICdsYWJlbCcsXG4gICAgICAgIGl0ZW1zOiAnaXRlbXMnXG4gICAgICB9XG4gICAgfTtcbiAgICBqUXVlcnkuZXh0ZW5kKHRydWUsIHRoaXMuY29uZmlnLCBjb25maWcpO1xuXG4gICAgLy8g66mk67KEIOuzgOyImCDstIjquLDtmZRcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyXG4gICAgICovXG4gICAgdGhpcy5vcGVuVGltZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXJcbiAgICAgKi9cbiAgICB0aGlzLmNsb3NlVGltZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5tZW51QmFyID0ge307XG4gICAgLyoqXG4gICAgICogQG1lbWJlclxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gXCJ1bmRlZmluZWRcIikgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkID0gdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG4gICAgZGVsZXRlIHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkO1xuICAgIHRoaXMub25DbGljayA9IHRoaXMuY29uZmlnLm9uQ2xpY2s7XG4gICAgZGVsZXRlIHRoaXMuY29uZmlnLm9uQ2xpY2s7XG4gICAgdGhpcy5vbkxvYWQgPSB0aGlzLmNvbmZpZy5vbkxvYWQ7XG4gICAgZGVsZXRlIHRoaXMuY29uZmlnLm9uTG9hZDtcblxuICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgbnVsbCwge1xuICAgICAgc2VsZjogdGhpcyxcbiAgICAgIHN0YXRlOiBcImluaXRcIlxuICAgIH0pO1xuICAgIC8vIGluaXQg7Zi47LacIOyXrOu2gFxuICAgIHRoaXMuaW5pdE9uY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpbml0T25jZSgpIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge0V2ZW50fE9iamVjdH0gZSAtIEV2ZW50IG9yIE9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdF1cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHQudGhlbWVdXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHQuZmlsdGVyXVxuICAgKiBAcmV0dXJucyB7QVg2VUlNZW51fVxuICAgKi9cbiAgcG9wdXAoZSwgb3B0KSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgICBjZmcgPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBnZXRPcHRpb24gPSB7XG4gICAgICAnZXZlbnQnOiBmdW5jdGlvbiAoZSwgb3B0KSB7XG4gICAgICAgIGUgPSB7XG4gICAgICAgICAgbGVmdDogZS5jbGllbnRYLFxuICAgICAgICAgIHRvcDogY2ZnLnBvc2l0aW9uID09IFwiZml4ZWRcIiA/IGUuY2xpZW50WSA6IGUucGFnZVksXG4gICAgICAgICAgd2lkdGg6IGNmZy53aWR0aCxcbiAgICAgICAgICB0aGVtZTogY2ZnLnRoZW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgZS5sZWZ0IC09IDU7XG4gICAgICAgIGUudG9wIC09IDU7XG5cbiAgICAgICAgaWYgKGNmZy5vZmZzZXQpIHtcbiAgICAgICAgICBpZiAoY2ZnLm9mZnNldC5sZWZ0KSBlLmxlZnQgKz0gY2ZnLm9mZnNldC5sZWZ0O1xuICAgICAgICAgIGlmIChjZmcub2Zmc2V0LnRvcCkgZS50b3AgKz0gY2ZnLm9mZnNldC50b3A7XG4gICAgICAgIH1cbiAgICAgICAgb3B0ID0galF1ZXJ5LmV4dGVuZCh0cnVlLCBlLCBvcHQpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG9wdDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBlID0gbnVsbDtcbiAgICAgICAgICAvL29wdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnb2JqZWN0JzogZnVuY3Rpb24gKGUsIG9wdCkge1xuICAgICAgICBlID0ge1xuICAgICAgICAgIGxlZnQ6IGUubGVmdCxcbiAgICAgICAgICB0b3A6IGUudG9wLFxuICAgICAgICAgIHdpZHRoOiBlLndpZHRoIHx8IGNmZy53aWR0aCxcbiAgICAgICAgICB0aGVtZTogZS50aGVtZSB8fCBjZmcudGhlbWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY2ZnLm9mZnNldCkge1xuICAgICAgICAgIGlmIChjZmcub2Zmc2V0LmxlZnQpIGUubGVmdCArPSBjZmcub2Zmc2V0LmxlZnQ7XG4gICAgICAgICAgaWYgKGNmZy5vZmZzZXQudG9wKSBlLnRvcCArPSBjZmcub2Zmc2V0LnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdCA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgZSwgb3B0KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBvcHQ7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgZSA9IG51bGw7XG4gICAgICAgICAgLy9vcHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICAgICAgICB1cGRhdGVUaGVtZSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICAgICAgaWYgKHRoZW1lKSBjZmcudGhlbWUgPSB0aGVtZTtcbiAgICB9O1xuXG4gICAgaWYgKCFlKSByZXR1cm4gdGhpcztcbiAgICBvcHQgPSBnZXRPcHRpb25bdHlwZW9mIGUuY2xpZW50WCA9PSBcInVuZGVmaW5lZFwiID8gXCJvYmplY3RcIiA6IFwiZXZlbnRcIl0uY2FsbCh0aGlzLCBlLCBvcHQpO1xuICAgIHVwZGF0ZVRoZW1lKG9wdC50aGVtZSk7XG5cbiAgICBsZXQgaXRlbXMgPSBbXS5jb25jYXQoY2ZnLml0ZW1zKSxcbiAgICAgICAgZmlsdGVyaW5nSXRlbTtcbiAgICBvcHQuaXRlbXMgPSBpdGVtcztcblxuICAgIGlmIChvcHQuZmlsdGVyKSB7XG4gICAgICBmaWx0ZXJpbmdJdGVtID0gZnVuY3Rpb24gKF9pdGVtcykge1xuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgIF9pdGVtcy5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgIGlmIChuLml0ZW1zICYmIG4uaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbi5pdGVtcyA9IGZpbHRlcmluZ0l0ZW0obi5pdGVtcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvcHQuZmlsdGVyLmNhbGwobikpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKG4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9O1xuICAgICAgb3B0Lml0ZW1zID0gaXRlbXMgPSBmaWx0ZXJpbmdJdGVtKGl0ZW1zKTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICBhcHBFdmVudEF0dGFjaC5jYWxsKHRoaXMsIGZhbHNlKTtcbiAgICAgIHBvcHVwLmNhbGwodGhpcywgb3B0LCBpdGVtcywgMCk7IC8vIDAgaXMgc2VxIG9mIHF1ZXVlXG5cbiAgICAgIGlmICh0aGlzLnBvcHVwRXZlbnRBdHRhY2hUaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMucG9wdXBFdmVudEF0dGFjaFRpbWVyKTtcbiAgICAgIHRoaXMucG9wdXBFdmVudEF0dGFjaFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFwcEV2ZW50QXR0YWNoLmNhbGwodGhpcywgdHJ1ZSwgb3B0KTsgLy8g7J2067Kk7Yq4IOyXsOqysFxuICAgICAgfS5iaW5kKHRoaXMpLCA1MDApO1xuICAgIH1cblxuICAgIGUgPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtFbGVtZW50fGpRdWVyeU9iamVjdH0gZWxcbiAgICogQHJldHVybnMge0FYNlVJTWVudX1cbiAgICovXG4gIGF0dGFjaChlbCwgb3B0KSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgICBjZmcgPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBnZXRPcHRpb24gPSB7XG4gICAgICAnb2JqZWN0JzogZnVuY3Rpb24gKGUsIG9wdCkge1xuICAgICAgICBlID0ge1xuICAgICAgICAgIGxlZnQ6IGUubGVmdCxcbiAgICAgICAgICB0b3A6IGUudG9wLFxuICAgICAgICAgIHdpZHRoOiBlLndpZHRoIHx8IGNmZy53aWR0aCxcbiAgICAgICAgICB0aGVtZTogZS50aGVtZSB8fCBjZmcudGhlbWUsXG4gICAgICAgICAgZGlyZWN0aW9uOiBlLmRpcmVjdGlvbiB8fCBjZmcuZGlyZWN0aW9uXG4gICAgICAgIH07XG4gICAgICAgIG9wdCA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgb3B0LCBlKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBvcHQ7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgZSA9IG51bGw7XG4gICAgICAgICAgb3B0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3BVcENoaWxkTWVudSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdCwgZVR5cGUpIHtcbiAgICAgIGxldCAkdGFyZ2V0ID0galF1ZXJ5KHRhcmdldCksXG4gICAgICAgICAgb2Zmc2V0ID0gJHRhcmdldC5vZmZzZXQoKSxcbiAgICAgICAgICBoZWlnaHQgPSAkdGFyZ2V0Lm91dGVySGVpZ2h0KCksXG4gICAgICAgICAgaW5kZXggPSBOdW1iZXIodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbWVudS1pdGVtLWluZGV4XCIpKSxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBjZmcucG9zaXRpb24gPT0gXCJmaXhlZFwiID8galF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxUb3AoKSA6IDA7XG5cbiAgICAgIGlmIChjZmcuaXRlbXMgJiYgY2ZnLml0ZW1zW2luZGV4XVtjZmcuY29sdW1uS2V5cy5pdGVtc10gJiYgY2ZnLml0ZW1zW2luZGV4XVtjZmcuY29sdW1uS2V5cy5pdGVtc10ubGVuZ3RoKSB7XG5cbiAgICAgICAgaWYgKHNlbGYubWVudUJhci5vcGVuZWRJbmRleCA9PSBpbmRleCkge1xuICAgICAgICAgIGlmIChlVHlwZSA9PSBcImNsaWNrXCIpIHNlbGYuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLm1lbnVCYXIudGFyZ2V0LmZpbmQoJ1tkYXRhLW1lbnUtaXRlbS1pbmRleF0nKS5yZW1vdmVDbGFzcyhcImhvdmVyXCIpO1xuICAgICAgICBzZWxmLm1lbnVCYXIub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5tZW51QmFyLm9wZW5lZEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgJHRhcmdldC5hdHRyKFwiZGF0YS1tZW51LWl0ZW0tb3BlbmVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgJHRhcmdldC5hZGRDbGFzcyhcImhvdmVyXCIpO1xuXG4gICAgICAgIGlmIChjZmcub2Zmc2V0KSB7XG4gICAgICAgICAgaWYgKGNmZy5vZmZzZXQubGVmdCkgb2Zmc2V0LmxlZnQgKz0gY2ZnLm9mZnNldC5sZWZ0O1xuICAgICAgICAgIGlmIChjZmcub2Zmc2V0LnRvcCkgb2Zmc2V0LnRvcCArPSBjZmcub2Zmc2V0LnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdCA9IGdldE9wdGlvbltcIm9iamVjdFwiXS5jYWxsKHRoaXMsIHsgbGVmdDogb2Zmc2V0LmxlZnQsIHRvcDogb2Zmc2V0LnRvcCArIGhlaWdodCAtIHNjcm9sbFRvcCB9LCBvcHQpO1xuXG4gICAgICAgIHBvcHVwLmNhbGwoc2VsZiwgb3B0LCBjZmcuaXRlbXNbaW5kZXhdW2NmZy5jb2x1bW5LZXlzLml0ZW1zXSwgMCwgJ3Jvb3QuJyArIHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaXRlbS1pbmRleFwiKSk7IC8vIDAgaXMgc2VxIG9mIHF1ZXVlXG4gICAgICAgIGFwcEV2ZW50QXR0YWNoLmNhbGwoc2VsZiwgdHJ1ZSwge30pOyAvLyDsnbTrsqTtirgg7Jew6rKwXG4gICAgICB9XG5cbiAgICAgIHRhcmdldCA9IG51bGw7XG4gICAgICBvcHQgPSBudWxsO1xuICAgICAgJHRhcmdldCA9IG51bGw7XG4gICAgICBvZmZzZXQgPSBudWxsO1xuICAgICAgaGVpZ2h0ID0gbnVsbDtcbiAgICAgIGluZGV4ID0gbnVsbDtcbiAgICAgIHNjcm9sbFRvcCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBjbGlja1BhcmVudE1lbnUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHQsIGVUeXBlKSB7XG4gICAgICBsZXQgJHRhcmdldCA9IGpRdWVyeSh0YXJnZXQpLFxuICAgICAgICAgIG9mZnNldCA9ICR0YXJnZXQub2Zmc2V0KCksXG4gICAgICAgICAgaGVpZ2h0ID0gJHRhcmdldC5vdXRlckhlaWdodCgpLFxuICAgICAgICAgIGluZGV4ID0gTnVtYmVyKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaXRlbS1pbmRleFwiKSksXG4gICAgICAgICAgc2Nyb2xsVG9wID0gY2ZnLnBvc2l0aW9uID09IFwiZml4ZWRcIiA/IGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsVG9wKCkgOiAwO1xuICAgICAgaWYgKGNmZy5pdGVtcyAmJiAoIWNmZy5pdGVtc1tpbmRleF1bY2ZnLmNvbHVtbktleXMuaXRlbXNdIHx8IGNmZy5pdGVtc1tpbmRleF1bY2ZnLmNvbHVtbktleXMuaXRlbXNdLmxlbmd0aCA9PSAwKSkge1xuICAgICAgICBpZiAoc2VsZi5vbkNsaWNrKSB7XG4gICAgICAgICAgc2VsZi5vbkNsaWNrLmNhbGwoY2ZnLml0ZW1zW2luZGV4XSwgY2ZnLml0ZW1zW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IGRhdGEgPSB7fSxcbiAgICAgICAgaXRlbXMgPSBjZmcuaXRlbXMsXG4gICAgICAgICRhY3RpdmVNZW51O1xuXG4gICAgaWYgKHR5cGVvZiBvcHQgPT09IFwidW5kZWZpbmVkXCIpIG9wdCA9IHt9O1xuXG4gICAgZGF0YS50aGVtZSA9IG9wdC50aGVtZSB8fCBjZmcudGhlbWU7XG4gICAgZGF0YS5jZmcgPSB7XG4gICAgICBpY29uczogalF1ZXJ5LmV4dGVuZCh7fSwgY2ZnLmljb25zKSxcbiAgICAgIGljb25XaWR0aDogb3B0Lmljb25XaWR0aCB8fCBjZmcuaWNvbldpZHRoLFxuICAgICAgYWNjZWxlcmF0b3JXaWR0aDogb3B0LmFjY2VsZXJhdG9yV2lkdGggfHwgY2ZnLmFjY2VsZXJhdG9yV2lkdGhcbiAgICB9O1xuXG4gICAgaXRlbXMuZm9yRWFjaChuID0+IHtcbiAgICAgIGlmIChuLmh0bWwgfHwgbi5kaXZpZGUpIHtcbiAgICAgICAgblsnQGlzTWVudSddID0gZmFsc2U7XG4gICAgICAgIGlmIChuLmh0bWwpIHtcbiAgICAgICAgICBuWydAaHRtbCddID0gbi5odG1sLmNhbGwoe1xuICAgICAgICAgICAgaXRlbTogbixcbiAgICAgICAgICAgIGNvbmZpZzogY2ZnLFxuICAgICAgICAgICAgb3B0OiBvcHRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgblsnQGlzTWVudSddID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRhdGFbY2ZnLmNvbHVtbktleXMuaXRlbXNdID0gaXRlbXM7XG5cbiAgICAkYWN0aXZlTWVudSA9IGpRdWVyeShtdXN0YWNoZS5yZW5kZXIodG1wbC5tZW51YmFyLmNhbGwodGhpcywgY2ZnLmNvbHVtbktleXMpLCBkYXRhKSk7XG5cbiAgICBzZWxmLm1lbnVCYXIgPSB7XG4gICAgICB0YXJnZXQ6IGpRdWVyeShlbCksXG4gICAgICBvcGVuZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBzZWxmLm1lbnVCYXIudGFyZ2V0Lmh0bWwoJGFjdGl2ZU1lbnUpO1xuXG4gICAgLy8gY2xpY2ssIG1vdXNlb3ZlclxuICAgIHNlbGYubWVudUJhci50YXJnZXQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlKSByZXR1cm4gdGhpcztcbiAgICAgIGxldCB0YXJnZXQgPSBVLmZpbmRQYXJlbnROb2RlKGUudGFyZ2V0LCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZW51LWl0ZW0taW5kZXhcIikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGNsaWNrUGFyZW50TWVudSh0YXJnZXQsIG9wdCwgXCJjbGlja1wiKTtcbiAgICAgICAgcG9wVXBDaGlsZE1lbnUodGFyZ2V0LCBvcHQsIFwiY2xpY2tcIik7XG4gICAgICB9XG5cbiAgICAgIHRhcmdldCA9IG51bGw7XG4gICAgfSk7XG4gICAgc2VsZi5tZW51QmFyLnRhcmdldC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFzZWxmLm1lbnVCYXIub3BlbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICBsZXQgdGFyZ2V0ID0gVS5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbWVudS1pdGVtLWluZGV4XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHRhcmdldCkgcG9wVXBDaGlsZE1lbnUodGFyZ2V0LCBvcHQsIFwibW91c2VvdmVyXCIpO1xuXG4gICAgICB0YXJnZXQgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgZWwgPSBudWxsO1xuICAgIG9wdCA9IG51bGw7XG4gICAgZGF0YSA9IG51bGw7XG4gICAgaXRlbXMgPSBudWxsO1xuICAgICRhY3RpdmVNZW51ID0gbnVsbDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybnMge0FYNlVJTWVudX1cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIGxldCBzZWxmID0gdGhpcyxcbiAgICAgICAgY2ZnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKHNlbGYubWVudUJhciAmJiBzZWxmLm1lbnVCYXIudGFyZ2V0KSB7XG4gICAgICBzZWxmLm1lbnVCYXIudGFyZ2V0LmZpbmQoJ1tkYXRhLW1lbnUtaXRlbS1pbmRleF0nKS5yZW1vdmVDbGFzcyhcImhvdmVyXCIpO1xuICAgICAgc2VsZi5tZW51QmFyLm9wZW5lZCA9IGZhbHNlO1xuICAgICAgc2VsZi5tZW51QmFyLm9wZW5lZEluZGV4ID0gbnVsbDtcbiAgICB9XG5cbiAgICBhcHBFdmVudEF0dGFjaC5jYWxsKHRoaXMsIGZhbHNlKTsgLy8g7J2067Kk7Yq4IOygnOqxsFxuXG4gICAgdGhpcy5xdWV1ZS5mb3JFYWNoKG4gPT4ge1xuICAgICAgbi4kdGFyZ2V0LnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgbnVsbCwge1xuICAgICAgc2VsZjogdGhpcyxcbiAgICAgIHN0YXRlOiBcImNsb3NlXCJcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybnMge09iamVjdH0gc3RhdHVzQ2hlY2tJdGVtXG4gICAqL1xuICBnZXRDaGVja1ZhbHVlKCkge1xuXG4gICAgbGV0IGNoZWNrSXRlbXMgPSB7fTtcbiAgICBjb25zdCBjb2xsZWN0SXRlbSA9IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgbGV0IGkgPSBpdGVtcy5sZW5ndGg7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGlmIChpdGVtc1tpXS5jaGVjayAmJiBpdGVtc1tpXS5jaGVjay5jaGVja2VkKSB7XG4gICAgICAgICAgaWYgKCFjaGVja0l0ZW1zW2l0ZW1zW2ldLmNoZWNrLm5hbWVdKSBjaGVja0l0ZW1zW2l0ZW1zW2ldLmNoZWNrLm5hbWVdID0gaXRlbXNbaV0uY2hlY2sudmFsdWU7ZWxzZSB7XG4gICAgICAgICAgICBpZiAoVS5pc1N0cmluZyhjaGVja0l0ZW1zW2l0ZW1zW2ldLmNoZWNrLm5hbWVdKSkgY2hlY2tJdGVtc1tpdGVtc1tpXS5jaGVjay5uYW1lXSA9IFtjaGVja0l0ZW1zW2l0ZW1zW2ldLmNoZWNrLm5hbWVdXTtcbiAgICAgICAgICAgIGNoZWNrSXRlbXNbaXRlbXNbaV0uY2hlY2submFtZV0ucHVzaChpdGVtc1tpXS5jaGVjay52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtc1tpXS5pdGVtcyAmJiBpdGVtc1tpXS5pdGVtcy5sZW5ndGggPiAwKSBjb2xsZWN0SXRlbShpdGVtc1tpXS5pdGVtcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbGxlY3RJdGVtKHRoaXMuY29uZmlnLml0ZW1zKTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY2hlY2tJdGVtcztcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2hlY2tJdGVtcyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFYNlVJTWVudTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9heDZ1aS9BWDZVSU1lbnUuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgalF1ZXJ5IGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IFUgZnJvbSBcIi4vQVg2VXRpbC5qc1wiO1xuaW1wb3J0IEFYNlVJQ29yZSBmcm9tIFwiLi9BWDZVSUNvcmUuanNcIjtcbmltcG9ydCBtdXN0YWNoZSBmcm9tIFwiLi9BWDZNdXN0YWNoZVwiO1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBpbXBvcnQgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbmxldCB0bXBsID0ge1xuICBkaXNwbGF5KGNvbHVtbktleXMpIHtcbiAgICByZXR1cm4gYFxuPGRpdiBpZD1cInt7dG9hc3RJZH19XCIgZGF0YS1heDZ1aS10b2FzdD1cIlwiIGNsYXNzPVwie3t0aGVtZX19XCI+XG4gICAge3sjaWNvbn19XG4gICAgPGRpdiBjbGFzcz1cImF4LXRvYXN0LWljb25cIj57e3sufX19PC9kaXY+XG4gICAge3svaWNvbn19XG4gICAgPGRpdiBjbGFzcz1cImF4LXRvYXN0LWJvZHlcIj57e3ttc2d9fX08L2Rpdj5cbiAgICB7eyNidG5zfX1cbiAgICA8ZGl2IGNsYXNzPVwiYXgtdG9hc3QtYnV0dG9uc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtYnV0dG9uLXdyYXBcIj5cbiAgICAgICAgICAgIHt7I0BlYWNofX1cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtYXgtdG9hc3QtYnRuPVwie3tAa2V5fX1cIiBjbGFzcz1cImJ0biBidG4te3tAdmFsdWUudGhlbWV9fVwiPnt7e0B2YWx1ZS5sYWJlbH19fTwvYnV0dG9uPlxuICAgICAgICAgICAge3svQGVhY2h9fVxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICB7ey9idG5zfX1cbiAgICB7e15idG5zfX1cbiAgICAgICAgPGEgY2xhc3M9XCJheC10b2FzdC1jbG9zZVwiIGRhdGEtYXgtdG9hc3QtYnRuPVwib2tcIj57e3tjbG9zZUljb259fX08L2E+XG4gICAge3svYnRuc319XG4gICAgPGRpdiBzdHlsZT1cImNsZWFyOmJvdGg7XCI+PC9kaXY+XG48L2Rpdj5gO1xuICB9XG59O1xuXG5jb25zdCBvblN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uIChvcHRzLCB0aGF0KSB7XG4gIGlmIChvcHRzICYmIG9wdHMub25TdGF0ZUNoYW5nZWQpIHtcbiAgICBvcHRzLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gIH0gZWxzZSBpZiAodGhpcy5vblN0YXRlQ2hhbmdlZCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfVxuXG4gIG9wdHMgPSBudWxsO1xuICB0aGF0ID0gbnVsbDtcbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgZ2V0Q29udGVudCA9IGZ1bmN0aW9uICh0b2FzdElkLCBvcHRzKSB7XG4gIGxldCBkYXRhID0ge1xuICAgIHRvYXN0SWQ6IHRvYXN0SWQsXG4gICAgdGhlbWU6IG9wdHMudGhlbWUsXG4gICAgaWNvbjogb3B0cy5pY29uLFxuICAgIG1zZzogKG9wdHMubXNnIHx8IFwiXCIpLnJlcGxhY2UoL1xcbi9nLCBcIjxici8+XCIpLFxuICAgIGJ0bnM6IG9wdHMuYnRucyxcbiAgICBjbG9zZUljb246IG9wdHMuY2xvc2VJY29uXG4gIH07XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbXVzdGFjaGUucmVuZGVyKHRtcGwuZGlzcGxheS5jYWxsKHRoaXMpLCBkYXRhKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0b2FzdElkID0gbnVsbDtcbiAgICBkYXRhID0gbnVsbDtcbiAgfVxufTtcbmNvbnN0IG9wZW4gPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHRoaXMudG9hc3RTZXFDbGVhcikgY2xlYXJUaW1lb3V0KHRoaXMudG9hc3RTZXFDbGVhcik7XG5cbiAgbGV0ICR0b2FzdEJveCxcbiAgICAgIGJveCA9IHtcbiAgICB3aWR0aDogb3B0cy53aWR0aFxuICB9O1xuXG4gIG9wdHMuaWQgPSAnYXg2dWktdG9hc3QtJyArIHRoaXMuaW5zdGFuY2VJZCArICctJyArICsrdGhpcy50b2FzdFNlcTtcblxuICBpZiAoalF1ZXJ5KCcjJyArIG9wdHMuaWQpLmdldCgwKSkgcmV0dXJuIHRoaXM7XG5cbiAgJHRvYXN0Qm94ID0galF1ZXJ5KGdldENvbnRlbnQob3B0cy5pZCwgb3B0cykpO1xuICAkdG9hc3RCb3guY3NzKHsgd2lkdGg6IHRoaXMuJHRvYXN0Q29udGFpbmVyLndpZHRoKCkgfSk7XG5cbiAgaWYgKFUubGVmdCh0aGlzLmNvbmZpZy5jb250YWluZXJQb3NpdGlvbiwgJy0nKSA9PSAnYm90dG9tJykge1xuICAgIHRoaXMuJHRvYXN0Q29udGFpbmVyLmFwcGVuZCgkdG9hc3RCb3gpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuJHRvYXN0Q29udGFpbmVyLnByZXBlbmQoJHRvYXN0Qm94KTtcbiAgfVxuXG4gIG9wdHMuJHRvYXN0Qm94ID0gJHRvYXN0Qm94O1xuICB0aGlzLnF1ZXVlLnB1c2gob3B0cyk7XG5cbiAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBvcHRzLCB7XG4gICAgc2VsZjogdGhpcyxcbiAgICBzdGF0ZTogXCJvcGVuXCIsXG4gICAgdG9hc3RJZDogb3B0cy5pZFxuICB9KTtcblxuICBpZiAob3B0cy50b2FzdFR5cGUgPT09IFwicHVzaFwiKSB7XG4gICAgLy8g7J6Q64+ZIOygnOqxsCDtg4DsnbTrqLgg7Iuc7J6RXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9LCB0aGlzLmNvbmZpZy5kaXNwbGF5VGltZSk7XG5cbiAgICAkdG9hc3RCb3gub24odGhpcy5jb25maWcuY2xpY2tFdmVudE5hbWUsICdbZGF0YS1heC10b2FzdC1idG5dJywgZSA9PiB7XG4gICAgICBidG5PbkNsaWNrLmNhbGwodGhpcywgZSB8fCB3aW5kb3cuZXZlbnQsIG9wdHMsICR0b2FzdEJveCwgY2FsbGJhY2spO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdHMudG9hc3RUeXBlID09PSBcImNvbmZpcm1cIikge1xuICAgICR0b2FzdEJveC5vbih0aGlzLmNvbmZpZy5jbGlja0V2ZW50TmFtZSwgJ1tkYXRhLWF4LXRvYXN0LWJ0bl0nLCBlID0+IHtcbiAgICAgIGJ0bk9uQ2xpY2suY2FsbCh0aGlzLCBlIHx8IHdpbmRvdy5ldmVudCwgb3B0cywgJHRvYXN0Qm94LCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICBib3ggPSBudWxsO1xufTtcbmNvbnN0IGJ0bk9uQ2xpY2sgPSBmdW5jdGlvbiAoZSwgb3B0cywgJHRvYXN0Qm94LCBjYWxsYmFjaywgdGFyZ2V0LCBrKSB7XG4gIHRhcmdldCA9IFUuZmluZFBhcmVudE5vZGUoZS50YXJnZXQsIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtYXgtdG9hc3QtYnRuXCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICh0YXJnZXQpIHtcbiAgICBrID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtYXgtdG9hc3QtYnRuXCIpO1xuXG4gICAgbGV0IHRoYXQgPSB7XG4gICAgICBrZXk6IGssIHZhbHVlOiBvcHRzLmJ0bnMgPyBvcHRzLmJ0bnNba10gOiBrLFxuICAgICAgdG9hc3RJZDogb3B0cy5pZCxcbiAgICAgIGJ0bl90YXJnZXQ6IHRhcmdldFxuICAgIH07XG5cbiAgICBpZiAob3B0cy5idG5zICYmIG9wdHMuYnRuc1trXS5vbkNsaWNrKSB7XG4gICAgICBvcHRzLmJ0bnNba10ub25DbGljay5jYWxsKHRoYXQsIHRoYXQpO1xuICAgIH0gZWxzZSBpZiAob3B0cy50b2FzdFR5cGUgPT09IFwicHVzaFwiKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgICB0aGlzLmNsb3NlKG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2UgaWYgKG9wdHMudG9hc3RUeXBlID09PSBcImNvbmZpcm1cIikge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKHRoYXQsIHRoYXQpO1xuICAgICAgdGhpcy5jbG9zZShvcHRzKTtcbiAgICB9XG4gIH1cblxuICBlID0gbnVsbDtcbiAgb3B0cyA9IG51bGw7XG4gICR0b2FzdEJveCA9IG51bGw7XG4gIGNhbGxiYWNrID0gbnVsbDtcbiAgdGFyZ2V0ID0gbnVsbDtcbiAgayA9IG51bGw7XG59O1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBwcml2YXRlICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBBWDZVSVRvYXN0IGV4dGVuZHMgQVg2VUlDb3JlIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SlNPTn1cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHBhcmFtIFtjb25maWcudGhlbWU9J2RlZmF1bHQnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLndpZHRoPTMwMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5pY29uPScnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNsb3NlSWNvbj0nJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5tc2c9JyddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5sYW5nLm9rPSdvayddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZy5jYW5jZWw9J2NhbmNlbCddXG4gICAgICogQHBhcmFtIFtjb25maWcuZGlzcGxheVRpbWU9MzAwMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5hbmltYXRlVGltZT0yNTBdXG4gICAgICogQHBhcmFtIFtjb25maWcuY29udGFpbmVyUG9zaXRpb249J2JvdHRvbS1sZWZ0J11cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGNsaWNrRXZlbnROYW1lOiBcImNsaWNrXCIsXG4gICAgICB0aGVtZTogJ2RlZmF1bHQnLFxuICAgICAgd2lkdGg6IDMwMCxcbiAgICAgIGljb246ICcnLFxuICAgICAgY2xvc2VJY29uOiAnJyxcbiAgICAgIG1zZzogJycsXG4gICAgICBsYW5nOiB7XG4gICAgICAgIFwib2tcIjogXCJva1wiLCBcImNhbmNlbFwiOiBcImNhbmNlbFwiXG4gICAgICB9LFxuICAgICAgZGlzcGxheVRpbWU6IDMwMDAsXG4gICAgICBhbmltYXRlVGltZTogMjUwLFxuICAgICAgY29udGFpbmVyUG9zaXRpb246IFwiYm90dG9tLWxlZnRcIixcbiAgICAgIHpJbmRleDogOTk5OVxuICAgIH07XG4gICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCB0aGlzLmNvbmZpZywgY29uZmlnKTtcblxuICAgIC8vIOuppOuyhCDrs4DsiJgg7LSI6riw7ZmUXG4gICAgdGhpcy4kdG9hc3RDb250YWluZXIgPSBqUXVlcnkoJzxkaXYgZGF0YS1heDZ1aS10b2FzdC1jb250YWluZXI9XCInICsgdGhpcy5pbnN0YW5jZUlkICsgJ1wiIGRhdGEtdG9hc3QtY29udGFpbmVyLXBvc2l0aW9uPVwiXCI+PC9kaXY+Jyk7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMudG9hc3RTZXEgPSAwO1xuICAgIHRoaXMudG9hc3RTZXFDbGVhciA9IG51bGw7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYXBwZW5kKHRoaXMuJHRvYXN0Q29udGFpbmVyKTtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZCA9IHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkO1xuICAgIGRlbGV0ZSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcblxuICAgIHRoaXMuJHRvYXN0Q29udGFpbmVyLmNzcyh7IFwiei1pbmRleFwiOiB0aGlzLmNvbmZpZy56SW5kZXgsIHdpZHRoOiB0aGlzLmNvbmZpZy53aWR0aCwgXCJtYXgtd2lkdGhcIjogXCIxMDAlXCIgfSkuYXR0cihcImRhdGEtdG9hc3QtY29udGFpbmVyLXBvc2l0aW9uXCIsIHRoaXMuY29uZmlnLmNvbnRhaW5lclBvc2l0aW9uKTtcblxuICAgIC8vIGluaXQg7Zi47LacIOyXrOu2gFxuICAgIHRoaXMuaW5pdE9uY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpbml0T25jZSgpIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gb3B0c1xuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7QVg2VUlUb2FzdH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogaW1wb3J0IHtBWDZVSVRvYXN0IGFzIFRvYXN0fSBmcm9tIFwiYXg2dWlcIjtcbiAgICpcbiAgICogbGV0IHRvYXN0ID0gbmV3IFRvYXN0KHtcbiAgICAgKiAgY29udGFpbmVyUG9zaXRpb246IFwiYm90dG9tLXJpZ2h0XCJcbiAgICAgKiB9KTtcbiAgICpcbiAgICogdG9hc3QucHVzaChcInRvYXN0IG1lc3NhZ2VzXCIpO1xuICAgKiBgYGBcbiAgICovXG4gIHB1c2gob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAoVS5pc1N0cmluZyhvcHRzKSkge1xuICAgICAgb3B0cyA9IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuY29uZmlnLnRpdGxlLFxuICAgICAgICBtc2c6IG9wdHNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3B0cy50b2FzdFR5cGUgPSBcInB1c2hcIjtcbiAgICBvcHRzID0galF1ZXJ5LmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5jb25maWcsIG9wdHMpO1xuICAgIG9wZW4uY2FsbCh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG5cbiAgICBvcHRzID0gbnVsbDtcbiAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gb3B0c1xuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0FYNlVJVG9hc3R9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCB7QVg2VUlUb2FzdCBhcyBUb2FzdH0gZnJvbSBcImF4NnVpXCI7XG4gICAqXG4gICAqIGxldCB0b2FzdCA9IG5ldyBUb2FzdCh7XG4gICAgICogIGNvbnRhaW5lclBvc2l0aW9uOiBcImJvdHRvbS1yaWdodFwiXG4gICAgICogfSk7XG4gICAqXG4gICAqIHRvYXN0LmNvbmZpcm0oe1xuICAgICAqICB0aXRsZTogXCLsmIgv7JWE64uI7JikXCIsXG4gICAgICogIG1zZzogXCLri7nsi6DsnYAg6rCc67Cc7J6QIOyeheuLiOq5jD9cIixcbiAgICAgKiAgYnRuczoge1xuICAgICAqICAgICAgWToge2xhYmVsOiBcIuyYiFwifSxcbiAgICAgKiAgICAgIE46IHtsYWJlbDogXCLslYTri4jsmKRcIn1cbiAgICAgKiAgfVxuICAgICAqIH0sIGZ1bmN0aW9uKHJlcyl7XG4gICAgICogIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29uZmlybShvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmIChVLmlzU3RyaW5nKG9wdHMpKSB7XG4gICAgICBvcHRzID0ge1xuICAgICAgICB0aXRsZTogdGhpcy5jb25maWcudGl0bGUsXG4gICAgICAgIG1zZzogb3B0c1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcHRzLnRvYXN0VHlwZSA9IFwiY29uZmlybVwiO1xuICAgIG9wdHMgPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLmNvbmZpZywgb3B0cyk7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmJ0bnMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9wdHMuYnRucyA9IHtcbiAgICAgICAgb2s6IHsgbGFiZWw6IG9wdHMubGFuZ1tcIm9rXCJdLCB0aGVtZTogb3B0cy50aGVtZSB9XG4gICAgICB9O1xuICAgIH1cbiAgICBvcGVuLmNhbGwodGhpcywgb3B0cywgY2FsbGJhY2spO1xuXG4gICAgb3B0cyA9IG51bGw7XG4gICAgY2FsbGJhY2sgPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIGNsb3NlIHRoZSB0b2FzdFxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm5zIHtBWDZVSVRvYXN0fVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogdG9hc3QuY2xvc2UoKTtcbiAgICogYGBgXG4gICAqL1xuICBjbG9zZShvcHRzLCBjYWxsYmFjaykge1xuICAgIGxldCAkdG9hc3RCb3ggPSBvcHRzLiR0b2FzdEJveDtcbiAgICAkdG9hc3RCb3guYWRkQ2xhc3Mob3B0cy50b2FzdFR5cGUgPT0gXCJwdXNoXCIgPyBcInJlbW92ZWRcIiA6IFwiZGVzdHJveVwiKTtcbiAgICB0aGlzLnF1ZXVlID0gVS5maWx0ZXIodGhpcy5xdWV1ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9wdHMuaWQgIT0gdGhpcy5pZDtcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRoYXQgPSB7XG4gICAgICAgIHRvYXN0SWQ6IG9wdHMuaWRcbiAgICAgIH07XG5cbiAgICAgICR0b2FzdEJveC5yZW1vdmUoKTtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2suY2FsbCh0aGF0LCB0aGF0KTtcblxuICAgICAgdGhhdCA9IHtcbiAgICAgICAgc2VsZjogdGhpcyxcbiAgICAgICAgc3RhdGU6IFwiY2xvc2VcIixcbiAgICAgICAgdG9hc3RJZDogb3B0cy5pZFxuICAgICAgfTtcbiAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgb3B0cywgdGhhdCk7XG5cbiAgICAgIC8vIDPstIjtm4Tsl5Drj4Qg7JWE66y0IOydvOydtCDsl4bri6TrqbQg7JmE7KCE7Z6IIOygnOqxsFxuICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmICh0aGlzLnRvYXN0U2VxQ2xlYXIpIGNsZWFyVGltZW91dCh0aGlzLnRvYXN0U2VxQ2xlYXIpO1xuICAgICAgICB0aGlzLnRvYXN0U2VxQ2xlYXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLy8gY29uc29sZS5sb2coXCJ0cnkgY2xlYXIgc2VxXCIpO1xuICAgICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA9PT0gMCkgdGhpcy50b2FzdFNlcSA9IDA7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMzAwMCk7XG4gICAgICB9XG5cbiAgICAgIHRoYXQgPSBudWxsO1xuICAgICAgb3B0cyA9IG51bGw7XG4gICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgICAkdG9hc3RCb3ggPSBudWxsO1xuICAgIH0uYmluZCh0aGlzKSwgb3B0cy5hbmltYXRlVGltZSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFYNlVJVG9hc3Q7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlUb2FzdC5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBqUXVlcnkgZnJvbSBcImpxbWluXCI7XG5pbXBvcnQgQVg2VUlDb3JlIGZyb20gXCIuL0FYNlVJQ29yZS5qc1wiO1xuaW1wb3J0IFUgZnJvbSBcIi4vQVg2VXRpbFwiO1xuaW1wb3J0IGluZm8gZnJvbSBcIi4vQVg2SW5mb1wiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCIuL0FYNk11c3RhY2hlXCI7XG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIGltcG9ydCAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxubGV0IHRtcGwgPSB7XG4gIG1vZGFsKCkge1xuICAgIHJldHVybiBgIFxuPGRpdiBkYXRhLWF4NnVpLW1vZGFsPVwie3ttb2RhbElkfX1cIiBkYXRhLW1vZGFsLWVscz1cInJvb3RcIiBjbGFzcz1cInt7dGhlbWV9fSB7e2Z1bGxzY3JlZW59fVwiIHN0eWxlPVwie3tzdHlsZXN9fVwiPlxuICAgIHt7I2hlYWRlcn19XG4gICAgPGRpdiBjbGFzcz1cImF4LW1vZGFsLWhlYWRlclwiIGRhdGEtbW9kYWwtZWxzPVwiaGVhZGVyXCI+XG4gICAgICAgIHt7e3RpdGxlfX19XG4gICAgICAgIHt7I2J0bnN9fVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LW1vZGFsLWhlYWRlci1hZGRvblwiPlxuICAgICAgICAgICAge3sjQGVhY2h9fVxuICAgICAgICAgICAgPGJ1dHRvbiB0YWJpbmRleD1cIi0xXCIgZGF0YS1tb2RhbC1oZWFkZXItYnRuPVwie3tAa2V5fX1cIiBjbGFzcz1cInt7QHZhbHVlLnRoZW1lfX1cIj57e3tAdmFsdWUubGFiZWx9fX08L2J1dHRvbj5cbiAgICAgICAgICAgIHt7L0BlYWNofX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7ey9idG5zfX1cbiAgICA8L2Rpdj5cbiAgICB7ey9oZWFkZXJ9fVxuICAgIDxkaXYgY2xhc3M9XCJheC1tb2RhbC1ib2R5XCIgZGF0YS1tb2RhbC1lbHM9XCJib2R5XCI+XG4gICAge3sjaWZyYW1lfX1cbiAgICAgICAgPGRpdiBkYXRhLW1vZGFsLWVscz1cImlmcmFtZS13cmFwXCIgc3R5bGU9XCItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7IG92ZXJmbG93OiBhdXRvO3Bvc2l0aW9uOiByZWxhdGl2ZTtcIj5cbiAgICAgICAgICAgIDx0YWJsZSBkYXRhLW1vZGFsLWVscz1cImlmcmFtZS1sb2FkaW5nXCIgc3R5bGU9XCJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlO1wiPjx0cj48dGQgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7dmVydGljYWwtYWxpZ246IG1pZGRsZVwiPnt7e2lmcmFtZUxvYWRpbmdNc2d9fX08L3RkPjwvdHI+PC90YWJsZT5cbiAgICAgICAgICAgIDxpZnJhbWUgbmFtZT1cInt7bW9kYWxJZH19LWZyYW1lXCIgc3JjPVwiXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIGZyYW1lYm9yZGVyPVwiMFwiIGRhdGEtbW9kYWwtZWxzPVwiaWZyYW1lXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDowO3RvcDowO1wiPjwvaWZyYW1lPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInt7bW9kYWxJZH19LWZvcm1cIiBkYXRhLW1vZGFsLWVscz1cImlmcmFtZS1mb3JtXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIm1vZGFsSWRcIiB2YWx1ZT1cInt7bW9kYWxJZH19XCIgLz5cbiAgICAgICAge3sjcGFyYW19fVxuICAgICAgICB7eyNAZWFjaH19XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInt7QGtleX19XCIgdmFsdWU9XCJ7e0B2YWx1ZX19XCIgLz5cbiAgICAgICAge3svQGVhY2h9fVxuICAgICAgICB7ey9wYXJhbX19XG4gICAgICAgIDwvZm9ybT5cbiAgICB7ey9pZnJhbWV9fVxuICAgIHt7XmlmcmFtZX19XG4gICAgICAgIDxkaXYgZGF0YS1tb2RhbC1lbHM9XCJib2R5LWZyYW1lXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XCI+PC9kaXY+XG4gICAge3svaWZyYW1lfX1cbiAgICA8L2Rpdj5cbiAgICB7e15kaXNhYmxlUmVzaXplfX1cbiAgICA8ZGl2IGRhdGEtYXg2dWktbW9kYWwtcmVzaXplcj1cInRvcFwiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS1heDZ1aS1tb2RhbC1yZXNpemVyPVwicmlnaHRcIj48L2Rpdj5cbiAgICA8ZGl2IGRhdGEtYXg2dWktbW9kYWwtcmVzaXplcj1cImJvdHRvbVwiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS1heDZ1aS1tb2RhbC1yZXNpemVyPVwibGVmdFwiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS1heDZ1aS1tb2RhbC1yZXNpemVyPVwidG9wLWxlZnRcIj48L2Rpdj5cbiAgICA8ZGl2IGRhdGEtYXg2dWktbW9kYWwtcmVzaXplcj1cInRvcC1yaWdodFwiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS1heDZ1aS1tb2RhbC1yZXNpemVyPVwiYm90dG9tLWxlZnRcIj48L2Rpdj5cbiAgICA8ZGl2IGRhdGEtYXg2dWktbW9kYWwtcmVzaXplcj1cImJvdHRvbS1yaWdodFwiPjwvZGl2PlxuICAgIHt7L2Rpc2FibGVSZXNpemV9fVxuPC9kaXY+YDtcbiAgfVxufTtcbmxldCBFTk0gPSB7XG4gIFwibW91c2Vkb3duXCI6IGluZm8uc3VwcG9ydFRvdWNoID8gXCJ0b3VjaHN0YXJ0XCIgOiBcIm1vdXNlZG93blwiLFxuICBcIm1vdXNlbW92ZVwiOiBpbmZvLnN1cHBvcnRUb3VjaCA/IFwidG91Y2htb3ZlXCIgOiBcIm1vdXNlbW92ZVwiLFxuICBcIm1vdXNldXBcIjogaW5mby5zdXBwb3J0VG91Y2ggPyBcInRvdWNoZW5kXCIgOiBcIm1vdXNldXBcIlxufTtcblxuY29uc3QgZ2V0TW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gIGxldCBtb3VzZU9iaiA9IGU7XG4gIGlmICgnY2hhbmdlZFRvdWNoZXMnIGluIGUgJiYgZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgIG1vdXNlT2JqID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGNsaWVudFg6IG1vdXNlT2JqLmNsaWVudFgsXG4gICAgY2xpZW50WTogbW91c2VPYmouY2xpZW50WVxuICB9O1xufTtcbmNvbnN0IG9uU3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKG9wdHMsIHRoYXQpIHtcbiAgY29uc3QgZXZlbnRQcm9jZXNzb3IgPSB7XG4gICAgXCJyZXNpemVcIjogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIGlmIChvcHRzICYmIG9wdHMub25SZXNpemUpIHtcbiAgICAgICAgb3B0cy5vblJlc2l6ZS5jYWxsKHRoYXQsIHRoYXQpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9uUmVzaXplKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUuY2FsbCh0aGF0LCB0aGF0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFwibW92ZVwiOiBmdW5jdGlvbiAoKSB7fVxuICB9O1xuICBpZiAodGhhdC5zdGF0ZSBpbiBldmVudFByb2Nlc3Nvcikge1xuICAgIGV2ZW50UHJvY2Vzc29yW3RoYXQuc3RhdGVdLmNhbGwodGhpcywgdGhhdCk7XG4gIH1cblxuICBpZiAob3B0cyAmJiBvcHRzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgb3B0cy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9IGVsc2UgaWYgKHRoaXMub25TdGF0ZUNoYW5nZWQpIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgZ2V0Q29udGVudCA9IGZ1bmN0aW9uIChtb2RhbElkLCBvcHRzKSB7XG4gIGxldCBkYXRhID0ge1xuICAgIG1vZGFsSWQ6IG1vZGFsSWQsXG4gICAgdGhlbWU6IG9wdHMudGhlbWUsXG4gICAgaGVhZGVyOiBvcHRzLmhlYWRlcixcbiAgICBmdWxsU2NyZWVuOiBvcHRzLmZ1bGxTY3JlZW4gPyBcImZ1bGxzY3JlZW5cIiA6IFwiXCIsXG4gICAgc3R5bGVzOiBcIlwiLFxuICAgIGlmcmFtZTogb3B0cy5pZnJhbWUsXG4gICAgaWZyYW1lTG9hZGluZ01zZzogb3B0cy5pZnJhbWVMb2FkaW5nTXNnLFxuICAgIGRpc2FibGVSZXNpemU6IG9wdHMuZGlzYWJsZVJlc2l6ZVxuICB9O1xuXG4gIGlmIChvcHRzLnpJbmRleCkge1xuICAgIGRhdGEuc3R5bGVzICs9IFwiei1pbmRleDpcIiArIG9wdHMuekluZGV4ICsgXCI7XCI7XG4gIH1cbiAgaWYgKG9wdHMuYWJzb2x1dGUpIHtcbiAgICBkYXRhLnN0eWxlcyArPSBcInBvc2l0aW9uOmFic29sdXRlO1wiO1xuICB9XG5cbiAgaWYgKGRhdGEuaWZyYW1lICYmIHR5cGVvZiBkYXRhLmlmcmFtZS5wYXJhbSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGRhdGEuaWZyYW1lLnBhcmFtID0gYXg1LnV0aWwucGFyYW0oZGF0YS5pZnJhbWUucGFyYW0pO1xuICB9XG5cbiAgcmV0dXJuIG11c3RhY2hlLnJlbmRlcih0bXBsLm1vZGFsLmNhbGwodGhpcyksIGRhdGEpO1xufTtcbmNvbnN0IG9wZW4gPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgbGV0IHRoYXQ7XG5cbiAgdGhpcy5tb2RhbENvbmZpZyA9IG9wdHM7XG4gIHRoaXMuJGFjdGl2ZU1vZGFsID0galF1ZXJ5KGdldENvbnRlbnQuY2FsbCh0aGlzLCBvcHRzLmlkLCBvcHRzKSk7XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNhbGxiYWNrID0gb3B0cy5jYWxsYmFjaztcbiAgfVxuXG4gIC8vIO2MjO2KuOyImOynkVxuICB0aGlzLiQgPSB7XG4gICAgXCJyb290XCI6IHRoaXMuJGFjdGl2ZU1vZGFsLFxuICAgIFwiaGVhZGVyXCI6IHRoaXMuJGFjdGl2ZU1vZGFsLmZpbmQoJ1tkYXRhLW1vZGFsLWVscz1cImhlYWRlclwiXScpLFxuICAgIFwiYm9keVwiOiB0aGlzLiRhY3RpdmVNb2RhbC5maW5kKCdbZGF0YS1tb2RhbC1lbHM9XCJib2R5XCJdJylcbiAgfTtcblxuICBpZiAob3B0cy5pZnJhbWUpIHtcbiAgICB0aGlzLiRbXCJpZnJhbWUtd3JhcFwiXSA9IHRoaXMuJGFjdGl2ZU1vZGFsLmZpbmQoJ1tkYXRhLW1vZGFsLWVscz1cImlmcmFtZS13cmFwXCJdJyk7XG4gICAgdGhpcy4kW1wiaWZyYW1lXCJdID0gdGhpcy4kYWN0aXZlTW9kYWwuZmluZCgnW2RhdGEtbW9kYWwtZWxzPVwiaWZyYW1lXCJdJyk7XG4gICAgdGhpcy4kW1wiaWZyYW1lLWZvcm1cIl0gPSB0aGlzLiRhY3RpdmVNb2RhbC5maW5kKCdbZGF0YS1tb2RhbC1lbHM9XCJpZnJhbWUtZm9ybVwiXScpO1xuICAgIHRoaXMuJFtcImlmcmFtZS1sb2FkaW5nXCJdID0gdGhpcy4kYWN0aXZlTW9kYWwuZmluZCgnW2RhdGEtbW9kYWwtZWxzPVwiaWZyYW1lLWxvYWRpbmdcIl0nKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLiRbXCJib2R5LWZyYW1lXCJdID0gdGhpcy4kYWN0aXZlTW9kYWwuZmluZCgnW2RhdGEtbW9kYWwtZWxzPVwiYm9keS1mcmFtZVwiXScpO1xuICB9XG5cbiAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLmFwcGVuZCh0aGlzLiRhY3RpdmVNb2RhbCk7XG4gIC8vLSBwb3NpdGlvbiDsoJXroKxcbiAgdGhpcy5hbGlnbigpO1xuXG4gIHRoYXQgPSB7XG4gICAgc2VsZjogdGhpcyxcbiAgICBpZDogb3B0cy5pZCxcbiAgICB0aGVtZTogb3B0cy50aGVtZSxcbiAgICB3aWR0aDogb3B0cy53aWR0aCxcbiAgICBoZWlnaHQ6IG9wdHMuaGVpZ2h0LFxuICAgIHN0YXRlOiBcIm9wZW5cIixcbiAgICAkOiB0aGlzLiRcbiAgfTtcblxuICBpZiAob3B0cy5pZnJhbWUpIHtcbiAgICB0aGlzLiRbXCJpZnJhbWUtd3JhcFwiXS5jc3MoeyBoZWlnaHQ6IG9wdHMuaGVpZ2h0IH0pO1xuICAgIHRoaXMuJFtcImlmcmFtZVwiXS5jc3MoeyBoZWlnaHQ6IG9wdHMuaGVpZ2h0IH0pO1xuXG4gICAgLy8gaWZyYW1lIGNvbnRlbnQgbG9hZFxuICAgIHRoaXMuJFtcImlmcmFtZS1mb3JtXCJdLmF0dHIoeyBcIm1ldGhvZFwiOiBvcHRzLmlmcmFtZS5tZXRob2QgfSk7XG4gICAgdGhpcy4kW1wiaWZyYW1lLWZvcm1cIl0uYXR0cih7IFwidGFyZ2V0XCI6IG9wdHMuaWQgKyBcIi1mcmFtZVwiIH0pO1xuICAgIHRoaXMuJFtcImlmcmFtZS1mb3JtXCJdLmF0dHIoeyBcImFjdGlvblwiOiBvcHRzLmlmcmFtZS51cmwgfSk7XG4gICAgdGhpcy4kW1wiaWZyYW1lXCJdLm9uKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LnN0YXRlID0gXCJsb2FkXCI7XG4gICAgICBpZiAob3B0cy5pZnJhbWVMb2FkaW5nTXNnKSB7XG4gICAgICAgIHRoaXMuJFtcImlmcmFtZS1sb2FkaW5nXCJdLmhpZGUoKTtcbiAgICAgIH1cbiAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgb3B0cywgdGhhdCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICBpZiAoIW9wdHMuaWZyYW1lTG9hZGluZ01zZykge1xuICAgICAgdGhpcy4kW1wiaWZyYW1lXCJdLnNob3coKTtcbiAgICB9XG4gICAgdGhpcy4kW1wiaWZyYW1lLWZvcm1cIl0uc3VibWl0KCk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrLmNhbGwodGhhdCwgdGhhdCk7XG5cbiAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBvcHRzLCB0aGF0KTtcblxuICAvLyBiaW5kIGtleSBldmVudFxuICBpZiAob3B0cy5jbG9zZVRvRXNjKSB7XG4gICAgalF1ZXJ5KHdpbmRvdykub24oXCJrZXlkb3duLmF4LW1vZGFsXCIsIGUgPT4ge1xuICAgICAgb25rZXl1cC5jYWxsKHRoaXMsIGUgfHwgd2luZG93LmV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGpRdWVyeSh3aW5kb3cpLm9uKFwicmVzaXplLmF4LW1vZGFsXCIsIGUgPT4ge1xuICAgIHRoaXMuYWxpZ24obnVsbCwgZSB8fCB3aW5kb3cuZXZlbnQpO1xuICB9KTtcblxuICB0aGlzLiQuaGVhZGVyLm9mZihFTk1bXCJtb3VzZWRvd25cIl0pLm9mZihcImRyYWdzdGFydFwiKS5vbihFTk1bXCJtb3VzZWRvd25cIl0sIGUgPT4ge1xuICAgIC8vLyDsnbTrsqTtirgg7ZWE7YSw66eBIOy2lOqwgCA6IOuyhO2KvOyXmOumrOuovO2KuOuhnCDrtoDthLAg67Cc7IOd65CcIOydtOuypO2KuOydtOuptCBtb3ZlTW9kYWwg7Iuc7J6R7ZWY7KeAIOyViuuPhOuhnSDtlYTthLDrp4FcbiAgICBsZXQgaXNCdXR0b24gPSBVLmZpbmRQYXJlbnROb2RlKGUuY3VycmVudFRhcmdldCwgZnVuY3Rpb24gKF90YXJnZXQpIHtcbiAgICAgIGlmIChfdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbW9kYWwtaGVhZGVyLWJ0blwiKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghb3B0cy5pc0Z1bGxTY3JlZW4gJiYgIWlzQnV0dG9uICYmIG9wdHMuZGlzYWJsZURyYWcgIT0gdHJ1ZSkge1xuICAgICAgdGhpcy5tb3VzZVBvc2l0aW9uID0gZ2V0TW91c2VQb3NpdGlvbihlKTtcbiAgICAgIG1vdmVNb2RhbC5vbi5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBpZiAoaXNCdXR0b24pIHtcbiAgICAgIGJ0bk9uQ2xpY2suY2FsbCh0aGlzLCBlIHx8IHdpbmRvdy5ldmVudCwgb3B0cyk7XG4gICAgfVxuICB9KS5vbihcImRyYWdzdGFydFwiLCBlID0+IHtcbiAgICBVLnN0b3BFdmVudChlLm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgdGhpcy4kYWN0aXZlTW9kYWwub2ZmKEVOTVtcIm1vdXNlZG93blwiXSkub2ZmKFwiZHJhZ3N0YXJ0XCIpLm9uKEVOTVtcIm1vdXNlZG93blwiXSwgXCJbZGF0YS1heDZ1aS1tb2RhbC1yZXNpemVyXVwiLCBlID0+IHtcbiAgICBpZiAob3B0cy5kaXNhYmxlRHJhZyB8fCBvcHRzLmlzRnVsbFNjcmVlbikgcmV0dXJuIGZhbHNlO1xuICAgIHRoaXMubW91c2VQb3NpdGlvbiA9IGdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgcmVzaXplTW9kYWwub24uY2FsbCh0aGlzLCBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZ1aS1tb2RhbC1yZXNpemVyXCIpKTtcbiAgfSkub24oXCJkcmFnc3RhcnRcIiwgZSA9PiB7XG4gICAgVS5zdG9wRXZlbnQoZS5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufTtcbmNvbnN0IGJ0bk9uQ2xpY2sgPSBmdW5jdGlvbiAoZSwgb3B0cywgY2FsbGJhY2ssIHRhcmdldCwgaykge1xuICBsZXQgdGhhdDtcbiAgaWYgKGUuc3JjRWxlbWVudCkgZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQ7XG5cbiAgdGFyZ2V0ID0gVS5maW5kUGFyZW50Tm9kZShlLnRhcmdldCwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tb2RhbC1oZWFkZXItYnRuXCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICh0YXJnZXQpIHtcbiAgICBrID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbW9kYWwtaGVhZGVyLWJ0blwiKTtcblxuICAgIHRoYXQgPSB7XG4gICAgICBzZWxmOiB0aGlzLFxuICAgICAga2V5OiBrLCB2YWx1ZTogb3B0cy5oZWFkZXIuYnRuc1trXSxcbiAgICAgIGRpYWxvZ0lkOiBvcHRzLmlkLFxuICAgICAgYnRuVGFyZ2V0OiB0YXJnZXRcbiAgICB9O1xuXG4gICAgaWYgKG9wdHMuaGVhZGVyLmJ0bnNba10ub25DbGljaykge1xuICAgICAgb3B0cy5oZWFkZXIuYnRuc1trXS5vbkNsaWNrLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgfVxuICB9XG5cbiAgdGhhdCA9IG51bGw7XG4gIG9wdHMgPSBudWxsO1xuICBjYWxsYmFjayA9IG51bGw7XG4gIHRhcmdldCA9IG51bGw7XG4gIGsgPSBudWxsO1xufTtcbmNvbnN0IG9ua2V5dXAgPSBmdW5jdGlvbiAoZSkge1xuICBpZiAoZS5rZXlDb2RlID09IGluZm8uZXZlbnRLZXlzLkVTQykge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxufTtcbmNvbnN0IGFsaWduUHJvY2Vzc29yID0ge1xuICBcInRvcC1sZWZ0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFsaWduKHsgbGVmdDogXCJsZWZ0XCIsIHRvcDogXCJ0b3BcIiB9KTtcbiAgfSxcbiAgXCJ0b3AtcmlnaHRcIjogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWxpZ24oeyBsZWZ0OiBcInJpZ2h0XCIsIHRvcDogXCJ0b3BcIiB9KTtcbiAgfSxcbiAgXCJib3R0b20tbGVmdFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hbGlnbih7IGxlZnQ6IFwibGVmdFwiLCB0b3A6IFwiYm90dG9tXCIgfSk7XG4gIH0sXG4gIFwiYm90dG9tLXJpZ2h0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFsaWduKHsgbGVmdDogXCJyaWdodFwiLCB0b3A6IFwiYm90dG9tXCIgfSk7XG4gIH0sXG4gIFwiY2VudGVyLW1pZGRsZVwiOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hbGlnbih7IGxlZnQ6IFwiY2VudGVyXCIsIHRvcDogXCJtaWRkbGVcIiB9KTtcbiAgfVxufTtcbmNvbnN0IG1vdmVNb2RhbCA9IHtcbiAgXCJvblwiOiBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG1vZGFsWkluZGV4ID0gdGhpcy4kYWN0aXZlTW9kYWwuY3NzKFwiei1pbmRleFwiKSxcbiAgICAgICAgbW9kYWxPZmZzZXQgPSB0aGlzLiRhY3RpdmVNb2RhbC5wb3NpdGlvbigpLFxuICAgICAgICBtb2RhbEJveCA9IHtcbiAgICAgIHdpZHRoOiB0aGlzLiRhY3RpdmVNb2RhbC5vdXRlcldpZHRoKCksIGhlaWdodDogdGhpcy4kYWN0aXZlTW9kYWwub3V0ZXJIZWlnaHQoKVxuICAgIH0sXG4gICAgICAgIHdpbmRvd0JveCA9IHtcbiAgICAgIHdpZHRoOiBqUXVlcnkod2luZG93KS53aWR0aCgpLFxuICAgICAgaGVpZ2h0OiBqUXVlcnkod2luZG93KS5oZWlnaHQoKSxcbiAgICAgIHNjcm9sbExlZnQ6IHRoaXMubW9kYWxDb25maWcuYWJzb2x1dGUgPyAwIDogalF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxMZWZ0KCksXG4gICAgICBzY3JvbGxUb3A6IHRoaXMubW9kYWxDb25maWcuYWJzb2x1dGUgPyAwIDogalF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxUb3AoKVxuICAgIH0sXG4gICAgICAgIGdldFJlc2l6ZXJQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9fZHggPSBlLmNsaWVudFggLSB0aGlzLm1vdXNlUG9zaXRpb24uY2xpZW50WDtcbiAgICAgIHRoaXMuX19keSA9IGUuY2xpZW50WSAtIHRoaXMubW91c2VQb3NpdGlvbi5jbGllbnRZO1xuXG4gICAgICBpZiAobWluWCA+IG1vZGFsT2Zmc2V0LmxlZnQgKyB0aGlzLl9fZHgpIHtcbiAgICAgICAgdGhpcy5fX2R4ID0gLW1vZGFsT2Zmc2V0LmxlZnQ7XG4gICAgICB9IGVsc2UgaWYgKG1heFggPCBtb2RhbE9mZnNldC5sZWZ0ICsgdGhpcy5fX2R4KSB7XG4gICAgICAgIHRoaXMuX19keCA9IG1heFggLSBtb2RhbE9mZnNldC5sZWZ0O1xuICAgICAgfVxuXG4gICAgICBpZiAobWluWSA+IG1vZGFsT2Zmc2V0LnRvcCArIHRoaXMuX19keSkge1xuICAgICAgICB0aGlzLl9fZHkgPSAtbW9kYWxPZmZzZXQudG9wO1xuICAgICAgfSBlbHNlIGlmIChtYXhZIDwgbW9kYWxPZmZzZXQudG9wICsgdGhpcy5fX2R5KSB7XG4gICAgICAgIHRoaXMuX19keSA9IG1heFkgLSBtb2RhbE9mZnNldC50b3A7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgKyB0aGlzLl9fZHggKyB3aW5kb3dCb3guc2Nyb2xsTGVmdCxcbiAgICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AgKyB0aGlzLl9fZHkgKyB3aW5kb3dCb3guc2Nyb2xsVG9wXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBsZXQgbWluWCA9IDAsXG4gICAgICAgIG1heFggPSB3aW5kb3dCb3gud2lkdGggLSBtb2RhbEJveC53aWR0aCxcbiAgICAgICAgbWluWSA9IDAsXG4gICAgICAgIG1heFkgPSB3aW5kb3dCb3guaGVpZ2h0IC0gbW9kYWxCb3guaGVpZ2h0O1xuXG4gICAgdGhpcy5fX2R4ID0gMDsgLy8g67OA7ZmU65+JIFhcbiAgICB0aGlzLl9fZHkgPSAwOyAvLyDrs4DtmZTrn4kgWVxuXG4gICAgLy8gdGhpcy4kcmVzaXplckJnIDogYm9keSDqsIAgd2luZG9367O064ukIOyekeydhCDrlYwg66y47KCcIO2VtOqysOydhCDsnITtlZwgRElWXG4gICAgdGhpcy4kcmVzaXplckJnLmNzcyh7IHpJbmRleDogbW9kYWxaSW5kZXggfSk7XG4gICAgdGhpcy4kcmVzaXplci5jc3Moe1xuICAgICAgbGVmdDogbW9kYWxPZmZzZXQubGVmdCArIHdpbmRvd0JveC5zY3JvbGxMZWZ0LFxuICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AgKyB3aW5kb3dCb3guc2Nyb2xsVG9wLFxuICAgICAgd2lkdGg6IG1vZGFsQm94LndpZHRoLFxuICAgICAgaGVpZ2h0OiBtb2RhbEJveC5oZWlnaHQsXG4gICAgICB6SW5kZXg6IG1vZGFsWkluZGV4ICsgMVxuICAgIH0pO1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLmFwcGVuZCh0aGlzLiRyZXNpemVyQmcpLmFwcGVuZCh0aGlzLiRyZXNpemVyKTtcblxuICAgIHRoaXMuJGFjdGl2ZU1vZGFsLmFkZENsYXNzKFwiZHJhZ2VkXCIpO1xuXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLm9uKEVOTVtcIm1vdXNlbW92ZVwiXSArIFwiLmF4Nm1vZGFsLW1vdmUtXCIgKyB0aGlzLmluc3RhbmNlSWQsIFUudGhyb3R0bGUoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuJHJlc2l6ZXIuY3NzKGdldFJlc2l6ZXJQb3NpdGlvbi5jYWxsKHRoaXMsIGUpKTtcbiAgICB9LCAzMCkuYmluZCh0aGlzKSkub24oRU5NW1wibW91c2V1cFwiXSArIFwiLmF4Nm1vZGFsLW1vdmUtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGUgPT4ge1xuICAgICAgbW92ZU1vZGFsLm9mZi5jYWxsKHRoaXMpO1xuICAgIH0pLm9uKFwibW91c2VsZWF2ZS5heDZtb2RhbC1tb3ZlLVwiICsgdGhpcy5pbnN0YW5jZUlkLCBlID0+IHtcbiAgICAgIG1vdmVNb2RhbC5vZmYuY2FsbCh0aGlzKTtcbiAgICB9KTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hdHRyKCd1bnNlbGVjdGFibGUnLCAnb24nKS5jc3MoJ3VzZXItc2VsZWN0JywgJ25vbmUnKS5vbignc2VsZWN0c3RhcnQnLCBmYWxzZSk7XG4gIH0sXG4gIFwib2ZmXCI6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzZXRNb2RhbFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGJveCA9IHRoaXMuJHJlc2l6ZXIub2Zmc2V0KCk7XG4gICAgICBpZiAoIXRoaXMubW9kYWxDb25maWcuYWJzb2x1dGUpIHtcbiAgICAgICAgYm94LmxlZnQgLT0galF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk7XG4gICAgICAgIGJveC50b3AgLT0galF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxUb3AoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJGFjdGl2ZU1vZGFsLmNzcyhib3gpO1xuICAgICAgdGhpcy5tb2RhbENvbmZpZy5sZWZ0ID0gYm94LmxlZnQ7XG4gICAgICB0aGlzLm1vZGFsQ29uZmlnLnRvcCA9IGJveC50b3A7XG5cbiAgICAgIGJveCA9IG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMuJGFjdGl2ZU1vZGFsLnJlbW92ZUNsYXNzKFwiZHJhZ2VkXCIpO1xuICAgIHNldE1vZGFsUG9zaXRpb24uY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuJHJlc2l6ZXIucmVtb3ZlKCk7XG4gICAgdGhpcy4kcmVzaXplciA9IG51bGw7XG4gICAgdGhpcy4kcmVzaXplckJnLnJlbW92ZSgpO1xuICAgIHRoaXMuJHJlc2l6ZXJCZyA9IG51bGw7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkub2ZmKEVOTVtcIm1vdXNlbW92ZVwiXSArIFwiLmF4Nm1vZGFsLW1vdmUtXCIgKyB0aGlzLmluc3RhbmNlSWQpLm9mZihFTk1bXCJtb3VzZXVwXCJdICsgXCIuYXg2bW9kYWwtbW92ZS1cIiArIHRoaXMuaW5zdGFuY2VJZCkub2ZmKFwibW91c2VsZWF2ZS5heDZtb2RhbC1tb3ZlLVwiICsgdGhpcy5pbnN0YW5jZUlkKTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5yZW1vdmVBdHRyKCd1bnNlbGVjdGFibGUnKS5jc3MoJ3VzZXItc2VsZWN0JywgJ2F1dG8nKS5vZmYoJ3NlbGVjdHN0YXJ0Jyk7XG5cbiAgICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIHRoaXMubW9kYWxDb25maWcsIHtcbiAgICAgIHNlbGY6IHRoaXMsXG4gICAgICBzdGF0ZTogXCJtb3ZlXCJcbiAgICB9KTtcbiAgfVxufTtcbmNvbnN0IHJlc2l6ZU1vZGFsID0ge1xuICBcIm9uXCI6IGZ1bmN0aW9uIChyZXNpemVyVHlwZSkge1xuICAgIGxldCBtb2RhbFpJbmRleCA9IHRoaXMuJGFjdGl2ZU1vZGFsLmNzcyhcInotaW5kZXhcIiksXG4gICAgICAgIG1vZGFsT2Zmc2V0ID0gdGhpcy4kYWN0aXZlTW9kYWwucG9zaXRpb24oKSxcbiAgICAgICAgbW9kYWxCb3ggPSB7XG4gICAgICB3aWR0aDogdGhpcy4kYWN0aXZlTW9kYWwub3V0ZXJXaWR0aCgpLCBoZWlnaHQ6IHRoaXMuJGFjdGl2ZU1vZGFsLm91dGVySGVpZ2h0KClcbiAgICB9LFxuICAgICAgICB3aW5kb3dCb3ggPSB7XG4gICAgICB3aWR0aDogalF1ZXJ5KHdpbmRvdykud2lkdGgoKSxcbiAgICAgIGhlaWdodDogalF1ZXJ5KHdpbmRvdykuaGVpZ2h0KCksXG4gICAgICBzY3JvbGxMZWZ0OiB0aGlzLm1vZGFsQ29uZmlnLmFic29sdXRlID8gMCA6IGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsTGVmdCgpLFxuICAgICAgc2Nyb2xsVG9wOiB0aGlzLm1vZGFsQ29uZmlnLmFic29sdXRlID8gMCA6IGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsVG9wKClcbiAgICB9LFxuICAgICAgICByZXNpemVyUHJvY2Vzc29yID0ge1xuICAgICAgXCJ0b3BcIjogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICBpZiAobWluSGVpZ2h0ID4gbW9kYWxCb3guaGVpZ2h0IC0gdGhpcy5fX2R5KSB7XG4gICAgICAgICAgdGhpcy5fX2R5ID0gbW9kYWxCb3guaGVpZ2h0IC0gbWluSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcblxuICAgICAgICAgIGlmIChtaW5IZWlnaHQgPiBtb2RhbEJveC5oZWlnaHQgLSB0aGlzLl9fZHkgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9fZHkgPSAobW9kYWxCb3guaGVpZ2h0IC0gbWluSGVpZ2h0KSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCArIHRoaXMuX19keSxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0IC0gdGhpcy5fX2R5ICogMlxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHtcblxuICAgICAgICAgIGlmIChtaW5IZWlnaHQgPiBtb2RhbEJveC5oZWlnaHQgLSB0aGlzLl9fZHkgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9fZHkgPSAobW9kYWxCb3guaGVpZ2h0IC0gbWluSGVpZ2h0KSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgKyB0aGlzLl9fZHksXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCArIHRoaXMuX19keSxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCAtIHRoaXMuX19keSAqIDIsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keSAqIDJcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBtb2RhbE9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AgKyB0aGlzLl9fZHksXG4gICAgICAgICAgICB3aWR0aDogbW9kYWxCb3gud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImJvdHRvbVwiOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIGlmIChtaW5IZWlnaHQgPiBtb2RhbEJveC5oZWlnaHQgKyB0aGlzLl9fZHkpIHtcbiAgICAgICAgICB0aGlzLl9fZHkgPSAtbW9kYWxCb3guaGVpZ2h0ICsgbWluSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcblxuICAgICAgICAgIGlmIChtaW5IZWlnaHQgPiBtb2RhbEJveC5oZWlnaHQgKyB0aGlzLl9fZHkgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9fZHkgPSAoLW1vZGFsQm94LmhlaWdodCArIG1pbkhlaWdodCkgLyAyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBtb2RhbE9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AgLSB0aGlzLl9fZHksXG4gICAgICAgICAgICB3aWR0aDogbW9kYWxCb3gud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCArIHRoaXMuX19keSAqIDJcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGUuYWx0S2V5KSB7XG5cbiAgICAgICAgICBpZiAobWluSGVpZ2h0ID4gbW9kYWxCb3guaGVpZ2h0ICsgdGhpcy5fX2R5ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R5ID0gKC1tb2RhbEJveC5oZWlnaHQgKyBtaW5IZWlnaHQpIC8gMjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbW9kYWxPZmZzZXQubGVmdCAtIHRoaXMuX19keSxcbiAgICAgICAgICAgIHRvcDogbW9kYWxPZmZzZXQudG9wIC0gdGhpcy5fX2R5LFxuICAgICAgICAgICAgd2lkdGg6IG1vZGFsQm94LndpZHRoICsgdGhpcy5fX2R5ICogMixcbiAgICAgICAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0ICsgdGhpcy5fX2R5ICogMlxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0ICsgdGhpcy5fX2R5XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwibGVmdFwiOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoIC0gdGhpcy5fX2R4KSB7XG4gICAgICAgICAgdGhpcy5fX2R4ID0gbW9kYWxCb3gud2lkdGggLSBtaW5XaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG5cbiAgICAgICAgICBpZiAobWluV2lkdGggPiBtb2RhbEJveC53aWR0aCAtIHRoaXMuX19keCAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX19keCA9IChtb2RhbEJveC53aWR0aCAtIG1pbldpZHRoKSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgKyB0aGlzLl9fZHgsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCAtIHRoaXMuX19keCAqIDIsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHtcblxuICAgICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoIC0gdGhpcy5fX2R4ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R4ID0gKG1vZGFsQm94LndpZHRoIC0gbWluV2lkdGgpIC8gMjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbW9kYWxPZmZzZXQubGVmdCArIHRoaXMuX19keCxcbiAgICAgICAgICAgIHRvcDogbW9kYWxPZmZzZXQudG9wICsgdGhpcy5fX2R4LFxuICAgICAgICAgICAgd2lkdGg6IG1vZGFsQm94LndpZHRoIC0gdGhpcy5fX2R4ICogMixcbiAgICAgICAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0IC0gdGhpcy5fX2R4ICogMlxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgKyB0aGlzLl9fZHgsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCAtIHRoaXMuX19keCxcbiAgICAgICAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmlnaHRcIjogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICBpZiAobWluV2lkdGggPiBtb2RhbEJveC53aWR0aCArIHRoaXMuX19keCkge1xuICAgICAgICAgIHRoaXMuX19keCA9IC1tb2RhbEJveC53aWR0aCArIG1pbldpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcblxuICAgICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoICsgdGhpcy5fX2R4ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R4ID0gKC1tb2RhbEJveC53aWR0aCArIG1pbldpZHRoKSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgLSB0aGlzLl9fZHgsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCArIHRoaXMuX19keCAqIDIsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHtcblxuICAgICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoICsgdGhpcy5fX2R4ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R4ID0gKC1tb2RhbEJveC53aWR0aCArIG1pbldpZHRoKSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgLSB0aGlzLl9fZHgsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCAtIHRoaXMuX19keCxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCArIHRoaXMuX19keCAqIDIsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCArIHRoaXMuX19keCAqIDJcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBtb2RhbE9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AsXG4gICAgICAgICAgICB3aWR0aDogbW9kYWxCb3gud2lkdGggKyB0aGlzLl9fZHgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInRvcC1sZWZ0XCI6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgaWYgKG1pbldpZHRoID4gbW9kYWxCb3gud2lkdGggLSB0aGlzLl9fZHgpIHtcbiAgICAgICAgICB0aGlzLl9fZHggPSBtb2RhbEJveC53aWR0aCAtIG1pbldpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbkhlaWdodCA+IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keSkge1xuICAgICAgICAgIHRoaXMuX19keSA9IG1vZGFsQm94LmhlaWdodCAtIG1pbkhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLnNoaWZ0S2V5IHx8IGUuYWx0S2V5KSB7XG5cbiAgICAgICAgICBpZiAobWluSGVpZ2h0ID4gbW9kYWxCb3guaGVpZ2h0IC0gdGhpcy5fX2R5ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R5ID0gKG1vZGFsQm94LmhlaWdodCAtIG1pbkhlaWdodCkgLyAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWluV2lkdGggPiBtb2RhbEJveC53aWR0aCAtIHRoaXMuX19keCAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX19keCA9IChtb2RhbEJveC53aWR0aCAtIG1pbldpZHRoKSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgKyB0aGlzLl9fZHgsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCArIHRoaXMuX19keSxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCAtIHRoaXMuX19keCAqIDIsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keSAqIDJcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgaWYgKG1pbkhlaWdodCA+IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keSAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX19keSA9IChtb2RhbEJveC5oZWlnaHQgLSBtaW5IZWlnaHQpIC8gMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1pbldpZHRoID4gbW9kYWxCb3gud2lkdGggLSB0aGlzLl9fZHggKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9fZHggPSAobW9kYWxCb3gud2lkdGggLSBtaW5XaWR0aCkgLyAyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBtb2RhbE9mZnNldC5sZWZ0ICsgdGhpcy5fX2R4LFxuICAgICAgICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AgKyB0aGlzLl9fZHksXG4gICAgICAgICAgICB3aWR0aDogbW9kYWxCb3gud2lkdGggLSB0aGlzLl9fZHgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInRvcC1yaWdodFwiOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoICsgdGhpcy5fX2R4KSB7XG4gICAgICAgICAgdGhpcy5fX2R4ID0gLW1vZGFsQm94LndpZHRoICsgbWluV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWluSGVpZ2h0ID4gbW9kYWxCb3guaGVpZ2h0IC0gdGhpcy5fX2R5KSB7XG4gICAgICAgICAgdGhpcy5fX2R5ID0gbW9kYWxCb3guaGVpZ2h0IC0gbWluSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5hbHRLZXkpIHtcblxuICAgICAgICAgIGlmIChtaW5IZWlnaHQgPiBtb2RhbEJveC5oZWlnaHQgLSB0aGlzLl9fZHkgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9fZHkgPSAobW9kYWxCb3guaGVpZ2h0IC0gbWluSGVpZ2h0KSAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoICsgdGhpcy5fX2R4ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R4ID0gKC1tb2RhbEJveC53aWR0aCArIG1pbldpZHRoKSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQgLSB0aGlzLl9fZHgsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCArIHRoaXMuX19keSxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCArIHRoaXMuX19keCAqIDIsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keSAqIDJcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBtb2RhbE9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AgKyB0aGlzLl9fZHksXG4gICAgICAgICAgICB3aWR0aDogbW9kYWxCb3gud2lkdGggKyB0aGlzLl9fZHgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1vZGFsQm94LmhlaWdodCAtIHRoaXMuX19keVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImJvdHRvbS1sZWZ0XCI6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgaWYgKG1pbldpZHRoID4gbW9kYWxCb3gud2lkdGggLSB0aGlzLl9fZHgpIHtcbiAgICAgICAgICB0aGlzLl9fZHggPSBtb2RhbEJveC53aWR0aCAtIG1pbldpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbkhlaWdodCA+IG1vZGFsQm94LmhlaWdodCArIHRoaXMuX19keSkge1xuICAgICAgICAgIHRoaXMuX19keSA9IC1tb2RhbEJveC5oZWlnaHQgKyBtaW5IZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoIC0gdGhpcy5fX2R4ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R4ID0gKG1vZGFsQm94LndpZHRoIC0gbWluV2lkdGgpIC8gMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1pbkhlaWdodCA+IG1vZGFsQm94LmhlaWdodCArIHRoaXMuX19keSAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX19keSA9ICgtbW9kYWxCb3guaGVpZ2h0ICsgbWluSGVpZ2h0KSAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBtb2RhbE9mZnNldC5sZWZ0ICsgdGhpcy5fX2R4LFxuICAgICAgICAgICAgdG9wOiBtb2RhbE9mZnNldC50b3AgLSB0aGlzLl9fZHksXG4gICAgICAgICAgICB3aWR0aDogbW9kYWxCb3gud2lkdGggLSB0aGlzLl9fZHggKiAyLFxuICAgICAgICAgICAgaGVpZ2h0OiBtb2RhbEJveC5oZWlnaHQgKyB0aGlzLl9fZHkgKiAyXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbW9kYWxPZmZzZXQubGVmdCArIHRoaXMuX19keCxcbiAgICAgICAgICAgIHRvcDogbW9kYWxPZmZzZXQudG9wLFxuICAgICAgICAgICAgd2lkdGg6IG1vZGFsQm94LndpZHRoIC0gdGhpcy5fX2R4LFxuICAgICAgICAgICAgaGVpZ2h0OiBtb2RhbEJveC5oZWlnaHQgKyB0aGlzLl9fZHlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJib3R0b20tcmlnaHRcIjogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICBpZiAobWluV2lkdGggPiBtb2RhbEJveC53aWR0aCArIHRoaXMuX19keCkge1xuICAgICAgICAgIHRoaXMuX19keCA9IC1tb2RhbEJveC53aWR0aCArIG1pbldpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbkhlaWdodCA+IG1vZGFsQm94LmhlaWdodCArIHRoaXMuX19keSkge1xuICAgICAgICAgIHRoaXMuX19keSA9IC1tb2RhbEJveC5oZWlnaHQgKyBtaW5IZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgICAgIGlmIChtaW5XaWR0aCA+IG1vZGFsQm94LndpZHRoICsgdGhpcy5fX2R4ICogMikge1xuICAgICAgICAgICAgdGhpcy5fX2R4ID0gKC1tb2RhbEJveC53aWR0aCArIG1pbldpZHRoKSAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtaW5IZWlnaHQgPiBtb2RhbEJveC5oZWlnaHQgKyB0aGlzLl9fZHkgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9fZHkgPSAoLW1vZGFsQm94LmhlaWdodCArIG1pbkhlaWdodCkgLyAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbW9kYWxPZmZzZXQubGVmdCAtIHRoaXMuX19keCxcbiAgICAgICAgICAgIHRvcDogbW9kYWxPZmZzZXQudG9wIC0gdGhpcy5fX2R5LFxuICAgICAgICAgICAgd2lkdGg6IG1vZGFsQm94LndpZHRoICsgdGhpcy5fX2R4ICogMixcbiAgICAgICAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0ICsgdGhpcy5fX2R5ICogMlxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCArIHRoaXMuX19keCxcbiAgICAgICAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0ICsgdGhpcy5fX2R5XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgICAgIGdldFJlc2l6ZXJQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9fZHggPSBlLmNsaWVudFggLSB0aGlzLm1vdXNlUG9zaXRpb24uY2xpZW50WDtcbiAgICAgIHRoaXMuX19keSA9IGUuY2xpZW50WSAtIHRoaXMubW91c2VQb3NpdGlvbi5jbGllbnRZO1xuXG4gICAgICByZXR1cm4gcmVzaXplclByb2Nlc3NvcltyZXNpemVyVHlwZV0oZSk7XG4gICAgfTtcblxuICAgIGlmICghdGhpcy5tb2RhbENvbmZpZy5hYnNvbHV0ZSkge1xuICAgICAgbW9kYWxPZmZzZXQubGVmdCArPSB3aW5kb3dCb3guc2Nyb2xsTGVmdDtcbiAgICAgIG1vZGFsT2Zmc2V0LnRvcCArPSB3aW5kb3dCb3guc2Nyb2xsVG9wO1xuICAgIH1cblxuICAgIGxldCBtaW5XaWR0aCA9IDEwMCxcbiAgICAgICAgbWluSGVpZ2h0ID0gMTAwO1xuXG4gICAgbGV0IGN1cnNvclR5cGUgPSB7XG4gICAgICBcInRvcFwiOiBcInJvdy1yZXNpemVcIixcbiAgICAgIFwiYm90dG9tXCI6IFwicm93LXJlc2l6ZVwiLFxuICAgICAgXCJsZWZ0XCI6IFwiY29sLXJlc2l6ZVwiLFxuICAgICAgXCJyaWdodFwiOiBcImNvbC1yZXNpemVcIixcbiAgICAgIFwidG9wLWxlZnRcIjogXCJud3NlLXJlc2l6ZVwiLFxuICAgICAgXCJ0b3AtcmlnaHRcIjogXCJuZXN3LXJlc2l6ZVwiLFxuICAgICAgXCJib3R0b20tbGVmdFwiOiBcIm5lc3ctcmVzaXplXCIsXG4gICAgICBcImJvdHRvbS1yaWdodFwiOiBcIm53c2UtcmVzaXplXCJcbiAgICB9O1xuXG4gICAgdGhpcy5fX2R4ID0gMDsgLy8g67OA7ZmU65+JIFhcbiAgICB0aGlzLl9fZHkgPSAwOyAvLyDrs4DtmZTrn4kgWVxuXG4gICAgLy8gdGhpcy4kcmVzaXplckJnIDogYm9keSDqsIAgd2luZG9367O064ukIOyekeydhCDrlYwg66y47KCcIO2VtOqysOydhCDsnITtlZwgRElWXG4gICAgdGhpcy4kcmVzaXplckJnLmNzcyh7XG4gICAgICB6SW5kZXg6IG1vZGFsWkluZGV4LFxuICAgICAgY3Vyc29yOiBjdXJzb3JUeXBlW3Jlc2l6ZXJUeXBlXVxuICAgIH0pO1xuICAgIHRoaXMuJHJlc2l6ZXIuY3NzKHtcbiAgICAgIGxlZnQ6IG1vZGFsT2Zmc2V0LmxlZnQsXG4gICAgICB0b3A6IG1vZGFsT2Zmc2V0LnRvcCxcbiAgICAgIHdpZHRoOiBtb2RhbEJveC53aWR0aCxcbiAgICAgIGhlaWdodDogbW9kYWxCb3guaGVpZ2h0LFxuICAgICAgekluZGV4OiBtb2RhbFpJbmRleCArIDEsXG4gICAgICBjdXJzb3I6IGN1cnNvclR5cGVbcmVzaXplclR5cGVdXG4gICAgfSk7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYXBwZW5kKHRoaXMuJHJlc2l6ZXJCZykuYXBwZW5kKHRoaXMuJHJlc2l6ZXIpO1xuXG4gICAgdGhpcy4kYWN0aXZlTW9kYWwuYWRkQ2xhc3MoXCJkcmFnZWRcIik7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkub24oRU5NW1wibW91c2Vtb3ZlXCJdICsgXCIuYXg2bW9kYWwtcmVzaXplLVwiICsgdGhpcy5pbnN0YW5jZUlkLCBVLnRocm90dGxlKGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLiRyZXNpemVyLmNzcyhnZXRSZXNpemVyUG9zaXRpb24uY2FsbChlKSk7XG4gICAgfSwgMzApLmJpbmQodGhpcykpLm9uKEVOTVtcIm1vdXNldXBcIl0gKyBcIi5heDZtb2RhbC1yZXNpemUtXCIgKyB0aGlzLmluc3RhbmNlSWQsIGUgPT4ge1xuICAgICAgcmVzaXplTW9kYWwub2ZmLmNhbGwodGhpcyk7XG4gICAgfSkub24oXCJtb3VzZWxlYXZlLmF4Nm1vZGFsLXJlc2l6ZS1cIiArIHRoaXMuaW5zdGFuY2VJZCwgZSA9PiB7XG4gICAgICByZXNpemVNb2RhbC5vZmYuY2FsbCh0aGlzKTtcbiAgICB9KTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hdHRyKCd1bnNlbGVjdGFibGUnLCAnb24nKS5jc3MoJ3VzZXItc2VsZWN0JywgJ25vbmUnKS5iaW5kKCdzZWxlY3RzdGFydCcsIGZhbHNlKTtcbiAgfSxcbiAgXCJvZmZcIjogZnVuY3Rpb24gKCkge1xuICAgIGxldCBzZXRNb2RhbFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGJveCA9IHRoaXMuJHJlc2l6ZXIub2Zmc2V0KCk7XG4gICAgICBqUXVlcnkuZXh0ZW5kKGJveCwge1xuICAgICAgICB3aWR0aDogdGhpcy4kcmVzaXplci53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuJHJlc2l6ZXIuaGVpZ2h0KClcbiAgICAgIH0pO1xuICAgICAgaWYgKCF0aGlzLm1vZGFsQ29uZmlnLmFic29sdXRlKSB7XG4gICAgICAgIGJveC5sZWZ0IC09IGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsTGVmdCgpO1xuICAgICAgICBib3gudG9wIC09IGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XG4gICAgICB9XG4gICAgICB0aGlzLiRhY3RpdmVNb2RhbC5jc3MoYm94KTtcblxuICAgICAgdGhpcy5tb2RhbENvbmZpZy5sZWZ0ID0gYm94LmxlZnQ7XG4gICAgICB0aGlzLm1vZGFsQ29uZmlnLnRvcCA9IGJveC50b3A7XG4gICAgICB0aGlzLm1vZGFsQ29uZmlnLndpZHRoID0gYm94LndpZHRoO1xuICAgICAgdGhpcy5tb2RhbENvbmZpZy5oZWlnaHQgPSBib3guaGVpZ2h0O1xuICAgICAgdGhpcy4kW1wiYm9keVwiXS5jc3MoeyBoZWlnaHQ6IGJveC5oZWlnaHQgLSB0aGlzLm1vZGFsQ29uZmlnLmhlYWRlckhlaWdodCB9KTtcbiAgICAgIGlmICh0aGlzLm1vZGFsQ29uZmlnLmlmcmFtZSkge1xuICAgICAgICB0aGlzLiRbXCJpZnJhbWUtd3JhcFwiXS5jc3MoeyBoZWlnaHQ6IGJveC5oZWlnaHQgLSB0aGlzLm1vZGFsQ29uZmlnLmhlYWRlckhlaWdodCB9KTtcbiAgICAgICAgdGhpcy4kW1wiaWZyYW1lXCJdLmNzcyh7IGhlaWdodDogYm94LmhlaWdodCAtIHRoaXMubW9kYWxDb25maWcuaGVhZGVySGVpZ2h0IH0pO1xuICAgICAgfVxuXG4gICAgICBib3ggPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLiRhY3RpdmVNb2RhbC5yZW1vdmVDbGFzcyhcImRyYWdlZFwiKTtcbiAgICBzZXRNb2RhbFBvc2l0aW9uLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLiRyZXNpemVyLnJlbW92ZSgpO1xuICAgIHRoaXMuJHJlc2l6ZXJCZy5yZW1vdmUoKTtcblxuICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgdGhpcy5tb2RhbENvbmZpZywge1xuICAgICAgc2VsZjogdGhpcyxcbiAgICAgIHN0YXRlOiBcInJlc2l6ZVwiXG4gICAgfSk7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkub2ZmKEVOTVtcIm1vdXNlbW92ZVwiXSArIFwiLmF4Nm1vZGFsLXJlc2l6ZS1cIiArIHRoaXMuaW5zdGFuY2VJZCkub2ZmKEVOTVtcIm1vdXNldXBcIl0gKyBcIi5heDZtb2RhbC1yZXNpemUtXCIgKyB0aGlzLmluc3RhbmNlSWQpLm9mZihcIm1vdXNlbGVhdmUuYXg2bW9kYWwtcmVzaXplLVwiICsgdGhpcy5pbnN0YW5jZUlkKTtcblxuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5yZW1vdmVBdHRyKCd1bnNlbGVjdGFibGUnKS5jc3MoJ3VzZXItc2VsZWN0JywgJ2F1dG8nKS5vZmYoJ3NlbGVjdHN0YXJ0Jyk7XG4gIH1cbn07XG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIHByaXZhdGUgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIEFYNlVJTW9kYWwgZXh0ZW5kcyBBWDZVSUNvcmUge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtKU09OfVxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5pZD0nYXg2dWktbW9kYWwtJyArIHRoaXMuaW5zdGFuY2VJZF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5wb3NpdGlvbl1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5wb3NpdGlvbi5sZWZ0PSdjZW5lciddXG4gICAgICogQHBhcmFtIFtjb25maWcucG9zaXRpb24udG9wPSdtaWRkbGUnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLnBvc2l0aW9uLm1hcmdpbj0xMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5taW5pbWl6ZVBvc2l0aW9uPSdib3R0b20tcmlnaHQnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNsaWNrRXZlbnROYW1lXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLnRoZW1lXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLndpZHRoPTMwMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5oZWlnaHQ9NDAwXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNsb3NlVG9Fc2NdXG4gICAgICogQHBhcmFtIFtjb25maWcuZGlzYWJsZURyYWddXG4gICAgICogQHBhcmFtIFtjb25maWcuZGlzYWJsZVJlc2l6ZV1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5hbmltYXRlVGltZT0yNTBdXG4gICAgICogQHBhcmFtIFtjb25maWcuaWZyYW1lPWZhbHNlXVxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgaWQ6ICdheDZ1aS1tb2RhbC0nICsgdGhpcy5pbnN0YW5jZUlkLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgbGVmdDogXCJjZW50ZXJcIixcbiAgICAgICAgdG9wOiBcIm1pZGRsZVwiLFxuICAgICAgICBtYXJnaW46IDEwXG4gICAgICB9LFxuICAgICAgbWluaW1pemVQb3NpdGlvbjogXCJib3R0b20tcmlnaHRcIixcbiAgICAgIGNsaWNrRXZlbnROYW1lOiAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyBcInRvdWNoc3RhcnRcIiA6IFwiY2xpY2tcIixcbiAgICAgIHRoZW1lOiAnZGVmYXVsdCcsXG4gICAgICB3aWR0aDogMzAwLFxuICAgICAgaGVpZ2h0OiA0MDAsXG4gICAgICBjbG9zZVRvRXNjOiB0cnVlLFxuICAgICAgZGlzYWJsZURyYWc6IGZhbHNlLFxuICAgICAgZGlzYWJsZVJlc2l6ZTogZmFsc2UsXG4gICAgICBhbmltYXRlVGltZTogMjUwLFxuICAgICAgaWZyYW1lOiBmYWxzZVxuICAgIH07XG4gICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCB0aGlzLmNvbmZpZywgY29uZmlnKTtcblxuICAgIC8vIOuppOuyhCDrs4DsiJgg7LSI6riw7ZmUXG4gICAgLyoqXG4gICAgICog7Je066Ck7J6I64qUIOyDge2DnOyXkOyEnCDri6Tsi5wgb3BlbuydtCDrkJjrqbQgcXVldWXsl5Ag67O06rSAIO2VmOyYgOuLpOqwgCBjbG9zZe2bhCBvcGVuXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2pRdWVyeUVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy4kYWN0aXZlTW9kYWwgPSBudWxsO1xuICAgIHRoaXMuJCA9IHt9O1xuXG4gICAgdGhpcy4kcmVzaXplckJnID0galF1ZXJ5KCc8ZGl2IGRhdGEtYXg2dWktbW9kYWwtcmVzaXplci1iYWNrZ3JvdW5kPVwiXCIgb25kcmFnc3RhcnQ9XCJyZXR1cm4gZmFsc2U7XCI+PC9kaXY+Jyk7XG4gICAgdGhpcy4kcmVzaXplciA9IGpRdWVyeSgnPGRpdiBkYXRhLWF4NnVpLW1vZGFsLXJlc2l6ZXI9XCJcIiBvbmRyYWdzdGFydD1cInJldHVybiBmYWxzZTtcIj48L2Rpdj4nKTtcblxuICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSBcInVuZGVmaW5lZFwiKSB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQgPSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG5cbiAgICAvLyBpbml0IO2YuOy2nCDsl6zrtoBcbiAgICB0aGlzLmluaXRPbmNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKi9cbiAgaW5pdE9uY2UoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIG9wZW4gdGhlIG1vZGFsXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybnMge0FYNlVJTW9kYWx9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBtb2RhbC5vcGVuKCk7XG4gICAqIG1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICogIHdpZHRoOiA1MDAsXG4gICAgICAgICAgICAgKiAgaGVpZ2h0OiA1MDBcbiAgICAgICAgICAgICAqIH0pO1xuICAgKiBtb2FhbC5vcGVuKHt9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICogIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICAgICAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgb3BlbihvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIG9wdHMgPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLmNvbmZpZywgb3B0cyk7XG5cbiAgICBpZiAodGhpcy4kYWN0aXZlTW9kYWwpIHtcbiAgICAgIG9wdHMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIHRoaXMucXVldWUucHVzaChvcHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3Blbi5jYWxsKHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBjbG9zZSB0aGUgbW9kYWxcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gX29wdGlvblxuICAgKiBAcmV0dXJucyB7QVg2VUlNb2RhbH1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIG1vZGFsLmNsb3NlKCk7XG4gICAqIG1vZGFsLmNsb3NlKHtjYWxsYmFjazogZnVuY3Rpb24oKXtcbiAgICAgKiAgLy8gb24gY2xvc2UgZXZlbnRcbiAgICAgKiB9KTtcbiAgICAgKiAvLyBjbG9zZSDtlajsiJjsl5AgY2FsbGJhY2vsnYQg7KCE64us7ZWY66m0IOygle2Zle2VnCBjbG9zZSDtg4DsnbTrsI3snYQg7LqQ7LmY7ZWgIOyImCDsnojsirXri4jri6RcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgY2xvc2UoX29wdGlvbikge1xuICAgIGxldCBvcHRzLCB0aGF0O1xuXG4gICAgaWYgKHRoaXMuJGFjdGl2ZU1vZGFsKSB7XG4gICAgICBvcHRzID0gdGhpcy5tb2RhbENvbmZpZztcblxuICAgICAgdGhpcy4kYWN0aXZlTW9kYWwuYWRkQ2xhc3MoXCJkZXN0cm95XCIpO1xuICAgICAgalF1ZXJ5KHdpbmRvdykub2ZmKFwia2V5ZG93bi5heC1tb2RhbFwiKS5vZmYoXCJyZXNpemUuYXgtbW9kYWxcIik7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyDtlITroIjsnoQg7KCc6rGwXG4gICAgICAgIGlmIChvcHRzLmlmcmFtZSkge1xuICAgICAgICAgIGxldCAkaWZyYW1lID0gdGhpcy4kW1wiaWZyYW1lXCJdOyAvLyBpZnJhbWUgalF1ZXJ5IE9iamVjdFxuICAgICAgICAgIGlmICgkaWZyYW1lKSB7XG4gICAgICAgICAgICBsZXQgaWZyYW1lT2JqZWN0ID0gJGlmcmFtZS5nZXQoMCksXG4gICAgICAgICAgICAgICAgaWRvYyA9IGlmcmFtZU9iamVjdC5jb250ZW50RG9jdW1lbnQgPyBpZnJhbWVPYmplY3QuY29udGVudERvY3VtZW50IDogaWZyYW1lT2JqZWN0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICQoaWRvYy5ib2R5KS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIGlkb2MuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgICAgICRpZnJhbWUuYXR0cignc3JjJywgJ2Fib3V0OmJsYW5rJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGdhcmJhcmdlIGNvbGxlY3Rpb24gZm9yIElFIG9ubHlcbiAgICAgICAgICAgIHdpbmRvdy5Db2xsZWN0R2FyYmFnZSAmJiB3aW5kb3cuQ29sbGVjdEdhcmJhZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy4kYWN0aXZlTW9kYWwpIHtcbiAgICAgICAgICB0aGlzLiRhY3RpdmVNb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICB0aGlzLiRhY3RpdmVNb2RhbCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0ID0ge1xuICAgICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgICAgaWQ6IG9wdHMuaWQsXG4gICAgICAgICAgdGhlbWU6IG9wdHMudGhlbWUsXG4gICAgICAgICAgd2lkdGg6IG9wdHMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBvcHRzLmhlaWdodCxcbiAgICAgICAgICBzdGF0ZTogXCJjbG9zZVwiLFxuICAgICAgICAgICQ6IHRoaXMuJFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChfb3B0aW9uICYmIFUuaXNGdW5jdGlvbihfb3B0aW9uLmNhbGxiYWNrKSkge1xuICAgICAgICAgIF9vcHRpb24uY2FsbGJhY2suY2FsbCh0aGF0LCB0aGF0KTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRzLmNhbGxiYWNrICYmICghX29wdGlvbiB8fCAhX29wdGlvbi5kb05vdENhbGxiYWNrKSkge1xuICAgICAgICAgIG9wdHMuY2FsbGJhY2suY2FsbCh0aGF0LCB0aGF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRzICYmIG9wdHMub25TdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgICBvcHRzLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vblN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOyXtOugpOyVvCDtlaAg7YGQ6rCAIOuCqOyVhCDsnojri6TrqbQg7YGQ7JWE7J207YWc7Jy866GcIOuLpOyLnCBvcGVuXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlICYmIHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgb3Blbi5jYWxsKHRoaXMsIHRoaXMucXVldWUuc2hpZnQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRzID0gbnVsbDtcbiAgICAgICAgdGhhdCA9IG51bGw7XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMuY29uZmlnLmFuaW1hdGVUaW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLm1pbmltaXplZCA9IGZhbHNlOyAvLyBob2tzaVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJucyB7QVg2VUlNb2RhbH1cbiAgICovXG4gIG1pbmltaXplKG1pbmltaXplUG9zaXRpb24pIHtcbiAgICBpZiAodGhpcy5taW5pbWl6ZWQgIT09IHRydWUpIHtcblxuICAgICAgbGV0IG9wdHMgPSB0aGlzLm1vZGFsQ29uZmlnO1xuICAgICAgaWYgKHR5cGVvZiBtaW5pbWl6ZVBvc2l0aW9uID09PSBcInVuZGVmaW5lZFwiKSBtaW5pbWl6ZVBvc2l0aW9uID0gY2ZnLm1pbmltaXplUG9zaXRpb247XG5cbiAgICAgIHRoaXMubWluaW1pemVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJC5ib2R5LmNzcyh7IGRpc3BsYXk6IFwibm9uZVwiIH0pO1xuICAgICAgdGhpcy5tb2RhbENvbmZpZy5vcmlnaW5hbEhlaWdodCA9IG9wdHMuaGVpZ2h0O1xuICAgICAgdGhpcy5tb2RhbENvbmZpZy5oZWlnaHQgPSAwO1xuICAgICAgYWxpZ25Qcm9jZXNzb3JbbWluaW1pemVQb3NpdGlvbl0uY2FsbCh0aGlzKTtcblxuICAgICAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBvcHRzLCB7XG4gICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgIHN0YXRlOiBcIm1pbmltaXplXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgYXg1bW9kYWwucmVzdG9yZVxuICAgKiBAcmV0dXJucyB7QVg2VUlNb2RhbH1cbiAgICovXG4gIHJlc3RvcmUoKSB7XG4gICAgbGV0IG9wdHMgPSB0aGlzLm1vZGFsQ29uZmlnO1xuICAgIGlmICh0aGlzLm1pbmltaXplZCkge1xuICAgICAgdGhpcy5taW5pbWl6ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuJC5ib2R5LmNzcyh7IGRpc3BsYXk6IFwiYmxvY2tcIiB9KTtcbiAgICAgIHRoaXMubW9kYWxDb25maWcuaGVpZ2h0ID0gdGhpcy5tb2RhbENvbmZpZy5vcmlnaW5hbEhlaWdodDtcbiAgICAgIHRoaXMubW9kYWxDb25maWcub3JpZ2luYWxIZWlnaHQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuYWxpZ24oeyBsZWZ0OiBcImNlbnRlclwiLCB0b3A6IFwibWlkZGxlXCIgfSk7XG4gICAgICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIG9wdHMsIHtcbiAgICAgICAgc2VsZjogdGhpcyxcbiAgICAgICAgc3RhdGU6IFwicmVzdG9yZVwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogc2V0Q1NTXG4gICAqIEBtZXRob2QgYXg1bW9kYWwuY3NzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjc3MgLVxuICAgKiBAcmV0dXJucyB7QVg2VUlNb2RhbH1cbiAgICovXG4gIGNzcyhjc3MpIHtcbiAgICBpZiAodGhpcy4kYWN0aXZlTW9kYWwgJiYgIXRoaXMuZnVsbFNjcmVlbikge1xuICAgICAgdGhpcy4kYWN0aXZlTW9kYWwuY3NzKGNzcyk7XG4gICAgICBpZiAodHlwZW9mIGNzcy53aWR0aCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB0aGlzLm1vZGFsQ29uZmlnLndpZHRoID0gY3NzLndpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjc3MuaGVpZ2h0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHRoaXMubW9kYWxDb25maWcuaGVpZ2h0ID0gY3NzLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hbGlnbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSBfY29uZmlnXG4gICAqIEByZXR1cm5zIHtBWDZVSU1vZGFsfVxuICAgKi9cbiAgc2V0TW9kYWxDb25maWcoX2NvbmZpZykge1xuICAgIHRoaXMubW9kYWxDb25maWcgPSBqUXVlcnkuZXh0ZW5kKHt9LCB0aGlzLm1vZGFsQ29uZmlnLCBfY29uZmlnKTtcbiAgICB0aGlzLmFsaWduKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBheDVtb2RhbC5hbGlnblxuICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICogQHBhcmFtIGVcbiAgICogQHJldHVybnMge2F4NW1vZGFsfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBtb2RhbC5hbGlnbih7bGVmdDpcImNlbnRlclwiLCB0b3A6XCJtaWRkbGVcIn0pO1xuICAgKiBtb2RhbC5hbGlnbih7bGVmdDpcImxlZnRcIiwgdG9wOlwidG9wXCIsIG1hcmdpbjogMjB9KTtcbiAgICogYGBgXG4gICAqL1xuICBhbGlnbihwb3NpdGlvbiwgZSkge1xuICAgIGlmICghdGhpcy4kYWN0aXZlTW9kYWwpIHJldHVybiB0aGlzO1xuXG4gICAgbGV0IG9wdHMgPSB0aGlzLm1vZGFsQ29uZmlnLFxuICAgICAgICBib3ggPSB7XG4gICAgICB3aWR0aDogb3B0cy53aWR0aCxcbiAgICAgIGhlaWdodDogb3B0cy5oZWlnaHRcbiAgICB9O1xuXG4gICAgY29uc3QgZnVsbFNjcmVlbiA9IG9wdHMuaXNGdWxsU2NyZWVuID0gZnVuY3Rpb24gKF9mdWxsU2NyZWVuKSB7XG4gICAgICBpZiAodHlwZW9mIF9mdWxsU2NyZWVuID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoVS5pc0Z1bmN0aW9uKF9mdWxsU2NyZWVuKSkge1xuICAgICAgICByZXR1cm4gX2Z1bGxTY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9KG9wdHMuZnVsbFNjcmVlbik7XG5cbiAgICBpZiAoZnVsbFNjcmVlbikge1xuICAgICAgaWYgKG9wdHMuaGVhZGVyKSB0aGlzLiQuaGVhZGVyLnNob3coKTtcbiAgICAgIGlmIChvcHRzLmhlYWRlcikge1xuICAgICAgICBvcHRzLmhlYWRlckhlaWdodCA9IHRoaXMuJC5oZWFkZXIub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgYm94LmhlaWdodCArPSBvcHRzLmhlYWRlckhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdHMuaGVhZGVySGVpZ2h0ID0gMDtcbiAgICAgIH1cbiAgICAgIGJveC53aWR0aCA9IGpRdWVyeSh3aW5kb3cpLndpZHRoKCk7XG4gICAgICBib3guaGVpZ2h0ID0gb3B0cy5oZWlnaHQ7XG4gICAgICBib3gubGVmdCA9IDA7XG4gICAgICBib3gudG9wID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9wdHMuaGVhZGVyKSB0aGlzLiQuaGVhZGVyLnNob3coKTtcbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKHRydWUsIG9wdHMucG9zaXRpb24sIHBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMuaGVhZGVyKSB7XG4gICAgICAgIG9wdHMuaGVhZGVySGVpZ2h0ID0gdGhpcy4kLmhlYWRlci5vdXRlckhlaWdodCgpO1xuICAgICAgICBib3guaGVpZ2h0ICs9IG9wdHMuaGVhZGVySGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0cy5oZWFkZXJIZWlnaHQgPSAwO1xuICAgICAgfVxuXG4gICAgICAvLy0gcG9zaXRpb24g7KCV66CsXG4gICAgICBpZiAob3B0cy5wb3NpdGlvbi5sZWZ0ID09IFwibGVmdFwiKSB7XG4gICAgICAgIGJveC5sZWZ0ID0gb3B0cy5wb3NpdGlvbi5tYXJnaW4gfHwgMDtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5wb3NpdGlvbi5sZWZ0ID09IFwicmlnaHRcIikge1xuICAgICAgICAvLyB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgYm94LmxlZnQgPSBqUXVlcnkod2luZG93KS53aWR0aCgpIC0gYm94LndpZHRoIC0gKG9wdHMucG9zaXRpb24ubWFyZ2luIHx8IDApO1xuICAgICAgfSBlbHNlIGlmIChvcHRzLnBvc2l0aW9uLmxlZnQgPT0gXCJjZW50ZXJcIikge1xuICAgICAgICBib3gubGVmdCA9IGpRdWVyeSh3aW5kb3cpLndpZHRoKCkgLyAyIC0gYm94LndpZHRoIC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJveC5sZWZ0ID0gb3B0cy5wb3NpdGlvbi5sZWZ0IHx8IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLnBvc2l0aW9uLnRvcCA9PSBcInRvcFwiKSB7XG4gICAgICAgIGJveC50b3AgPSBvcHRzLnBvc2l0aW9uLm1hcmdpbiB8fCAwO1xuICAgICAgfSBlbHNlIGlmIChvcHRzLnBvc2l0aW9uLnRvcCA9PSBcImJvdHRvbVwiKSB7XG4gICAgICAgIGJveC50b3AgPSBqUXVlcnkod2luZG93KS5oZWlnaHQoKSAtIGJveC5oZWlnaHQgLSAob3B0cy5wb3NpdGlvbi5tYXJnaW4gfHwgMCk7XG4gICAgICB9IGVsc2UgaWYgKG9wdHMucG9zaXRpb24udG9wID09IFwibWlkZGxlXCIpIHtcbiAgICAgICAgYm94LnRvcCA9IGpRdWVyeSh3aW5kb3cpLmhlaWdodCgpIC8gMiAtIGJveC5oZWlnaHQgLyAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm94LnRvcCA9IG9wdHMucG9zaXRpb24udG9wIHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAoYm94LmxlZnQgPCAwKSBib3gubGVmdCA9IDA7XG4gICAgICBpZiAoYm94LnRvcCA8IDApIGJveC50b3AgPSAwO1xuICAgIH1cblxuICAgIHRoaXMuJGFjdGl2ZU1vZGFsLmNzcyhib3gpO1xuICAgIHRoaXMuJFtcImJvZHlcIl0uY3NzKHsgaGVpZ2h0OiBib3guaGVpZ2h0IC0gKG9wdHMuaGVhZGVySGVpZ2h0IHx8IDApIH0pO1xuXG4gICAgaWYgKG9wdHMuaWZyYW1lKSB7XG4gICAgICB0aGlzLiRbXCJpZnJhbWUtd3JhcFwiXS5jc3MoeyBoZWlnaHQ6IGJveC5oZWlnaHQgLSBvcHRzLmhlYWRlckhlaWdodCB9KTtcbiAgICAgIHRoaXMuJFtcImlmcmFtZVwiXS5jc3MoeyBoZWlnaHQ6IGJveC5oZWlnaHQgLSBvcHRzLmhlYWRlckhlaWdodCB9KTtcbiAgICB9IGVsc2Uge31cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFYNlVJTW9kYWw7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlNb2RhbC5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImltcG9ydCBqUXVlcnkgZnJvbSBcImpxbWluXCI7XG5pbXBvcnQgQVg2VUlDb3JlIGZyb20gXCIuL0FYNlVJQ29yZS5qc1wiO1xuaW1wb3J0IFUgZnJvbSBcIi4vQVg2VXRpbFwiO1xuaW1wb3J0IGluZm8gZnJvbSBcIi4vQVg2SW5mb1wiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCIuL0FYNk11c3RhY2hlXCI7XG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIGltcG9ydCAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxubGV0IHRtcGwgPSB7XG4gIHVwbG9hZFByb2dyZXNzKGNvbHVtbktleXMpIHtcbiAgICByZXR1cm4gYGA7XG4gIH0sXG4gIGlucHV0RmlsZShjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cImZpbGVcIiBkYXRhLWF4NnVpLXVwbG9hZGVyLWlucHV0PVwie3tpbnN0YW5jZUlkfX1cIiBuYW1lPVwie3tuYW1lfX1cIiB7eyNtdWx0aXBsZX19bXVsdGlwbGV7ey9tdWx0aXBsZX19IGFjY2VwdD1cInt7YWNjZXB0fX1cIiAvPmA7XG4gIH0sXG4gIGlucHV0RmlsZUZvcm0oY29sdW1uS2V5cykge1xuICAgIHJldHVybiBgPGZvcm0gZGF0YS1heDZ1aS11cGxvYWRlci1mb3JtPVwie3tpbnN0YW5jZUlkfX1cIiBuYW1lPVwiYXg1dXBsb2FkZXIte3tpbnN0YW5jZUlkfX0tZm9ybVwiIG1ldGhvZD1cInBvc3RcIiBlbmN0eXBlPVwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiPjwvZm9ybT5gO1xuICB9LFxuICBwcm9ncmVzc0JveChjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbjxkaXYgZGF0YS1heDZ1aS11cGxvYWRlci1wcm9ncmVzc2JveD1cInt7aW5zdGFuY2VJZH19XCIgY2xhc3M9XCJ7e3RoZW1lfX1cIj5cbiAgICA8ZGl2IGNsYXNzPVwiYXgtcHJvZ3Jlc3Nib3gtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtcHJlZ3Jlc3Nib3gtY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXIgcHJvZ3Jlc3MtYmFyLXN0cmlwZWQgYWN0aXZlXCIgcm9sZT1cInByb2dyZXNzYmFyXCIgc3R5bGU9XCJ3aWR0aDogMFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiIHJvbGU9XCJwcm9ncmVzc2JhcnZhbFwiPjAlIENvbXBsZXRlPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3sjYnRuc319XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtcHJvZ3Jlc3Nib3gtYnV0dG9uc1wiPlxuICAgICAgICAgICAge3sjYnRuc319XG4gICAgICAgICAgICAgICAge3sjQGVhY2h9fVxuICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1wcmVncmVzc2JveC1idG49XCJ7e0BrZXl9fVwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IHt7QHZhbHVlLnRoZW1lfX1cIj57e0B2YWx1ZS5sYWJlbH19PC9idXR0b24+XG4gICAgICAgICAgICAgICAge3svQGVhY2h9fVxuICAgICAgICAgICAge3svYnRuc319XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAge3svYnRuc319XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImF4LXByb2dyZXNzYm94LWFycm93XCI+PC9kaXY+XG48L2Rpdj5cbmA7XG4gIH0sXG4gIHVwb2FkZWRCb3goY29sdW1uS2V5cykge1xuICAgIHJldHVybiBgXG57eyN1cGxvYWRlZEZpbGVzfX08ZGl2IGRhdGEtYXg2dWktdXBsb2FkZXItdXBsb2FkZWQtaXRlbT1cInt7QGl9fVwiPlxuICAgIDxkaXYgY2xhc3M9XCJ1cGxvYWRlZC1pdGVtLXByZXZpZXdcIj5cbiAgICAgICAge3sjJHtjb2x1bW5LZXlzLnRodW1ibmFpbH19fTxpbWcgc3JjPVwiJHtjb2x1bW5LZXlzLmFwaVNlcnZlclVybH17eyR7Y29sdW1uS2V5cy50aHVtYm5haWx9fX1cIj57ey8ke2NvbHVtbktleXMudGh1bWJuYWlsfX19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInVwbG9hZGVkLWl0ZW0taG9sZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1cGxvYWRlZC1pdGVtLWNlbGxcIiBkYXRhLXVwbG9hZGVkLWl0ZW0tY2VsbD1cImRvd25sb2FkXCI+e3t7aWNvbi5kb3dubG9hZH19fTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidXBsb2FkZWQtaXRlbS1jZWxsXCIgZGF0YS11cGxvYWRlZC1pdGVtLWNlbGw9XCJmaWxlbmFtZVwiPnt7JHtjb2x1bW5LZXlzLm5hbWV9fX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInVwbG9hZGVkLWl0ZW0tY2VsbFwiIGRhdGEtdXBsb2FkZWQtaXRlbS1jZWxsPVwiZmlsZXNpemVcIj4oe3sjQGZuX2dldF9ieXRlfX17eyR7Y29sdW1uS2V5cy5zaXplfX19e3svQGZuX2dldF9ieXRlfX0pPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1cGxvYWRlZC1pdGVtLWNlbGxcIiBkYXRhLXVwbG9hZGVkLWl0ZW0tY2VsbD1cImRlbGV0ZVwiPnt7e2ljb24uZGVsZXRlfX19PC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj57ey91cGxvYWRlZEZpbGVzfX1cbnt7XnVwbG9hZGVkRmlsZXN9fVxuPGRpdiBkYXRhLWF4NnVpLXVwbG9hZGVyLWVtcHR5TGlzdC1tc2c9XCJ0cnVlXCI+XG4gIHt7I3N1cHBvcnRGaWxlQXBpfX17e3tsYW5nLnN1cHBvcnRlZEhUTUw1X2VtcHR5TGlzdE1zZ319fXt7L3N1cHBvcnRGaWxlQXBpfX1cbiAge3tec3VwcG9ydEZpbGVBcGl9fXt7e2xhbmcuZW1wdHlMaXN0TXNnfX19e3svc3VwcG9ydEZpbGVBcGl9fVxuPC9kaXY+XG57ey91cGxvYWRlZEZpbGVzfX1cbmA7XG4gIH1cbn07XG5cbmNvbnN0IG9uU3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKHRoYXQpIHtcbiAgaWYgKHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQuY2FsbCh0aGF0LCB0aGF0KTtcbiAgfSBlbHNlIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9XG5cbiAgdGhhdCA9IG51bGw7XG4gIHJldHVybiB0cnVlO1xufTtcbmNvbnN0IG9uU2VsZWN0RmlsZSA9IGZ1bmN0aW9uIChfZXZ0KSB7XG4gIGxldCBmaWxlcztcblxuICBpZiAoIWluZm8uc3VwcG9ydEZpbGVBcGkpIHtcbiAgICAvLyBmaWxlIEFQSSDsp4Dsm5Ag7JWI65CY64qUIOu4jOudvOyasOyggC5cbiAgICAvLyBpbnB1dCBmaWxl7JeQIG11bHRpcGxlIOyngOybkCDslYjrkKgg6re465+s66+A66GcIOuLqOydvCDtjIzsnbwg7LKY66as66eMIO2VmOuptCDrkKguXG4gICAgZmlsZXMgPSB7IHBhdGg6IF9ldnQudGFyZ2V0LnZhbHVlIH07XG4gIH0gZWxzZSBpZiAoJ2RhdGFUcmFuc2ZlcicgaW4gX2V2dCkge1xuICAgIGZpbGVzID0gX2V2dC5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gIH0gZWxzZSBpZiAoJ3RhcmdldCcgaW4gX2V2dCkge1xuICAgIGZpbGVzID0gX2V2dC50YXJnZXQuZmlsZXM7XG4gIH0gZWxzZSBpZiAoX2V2dCkge1xuICAgIGZpbGVzID0gX2V2dDtcbiAgfVxuXG4gIGlmICghZmlsZXMpIHJldHVybiBmYWxzZTtcblxuICAvLy8gc2VsZWN0ZWRGaWxlc+yXkCDtmITsnqwg7YyM7J28IOygleuztCDri7TslYTrkZDquLBcbiAgaWYgKGxlbmd0aCBpbiBmaWxlcykge1xuICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gW2ZpbGVzWzBdXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gVS50b0FycmF5KGZpbGVzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gW2ZpbGVzXTtcbiAgfVxuXG4gIGlmICh0aGlzLmNvbmZpZy5wcm9ncmVzc0JveCkge1xuICAgIG9wZW5Qcm9ncmVzc0JveC5jYWxsKHRoaXMpO1xuICB9XG4gIGlmICghdGhpcy5jb25maWcubWFudWFsVXBsb2FkKSB7XG4gICAgdGhpcy5zZW5kKCk7XG4gIH1cblxuICBpZiAoIWluZm8uc3VwcG9ydEZpbGVBcGkpIHtcbiAgICBhbGlnbkxheW91dC5jYWxsKHRoaXMsIGZhbHNlKTtcbiAgfVxufTtcbmNvbnN0IGJpbmRFdmVudCA9IGZ1bmN0aW9uICgpIHtcblxuICB0aGlzLiRmaWxlU2VsZWN0b3Iub2ZmKFwiY2xpY2suYXg1dXBsb2FkZXJcIikub24oXCJjbGljay5heDV1cGxvYWRlclwiLCBlID0+IHtcbiAgICB0aGlzLiRpbnB1dEZpbGUudHJpZ2dlcihcImNsaWNrXCIpO1xuICB9KTtcblxuICBpZiAoIWluZm8uc3VwcG9ydEZpbGVBcGkpIHtcbiAgICB0aGlzLiRmaWxlU2VsZWN0b3Iub2ZmKFwibW91c2VvdmVyLmF4NXVwbG9hZGVyXCIpLm9uKFwibW91c2VvdmVyLmF4NXVwbG9hZGVyXCIsIGUgPT4ge1xuICAgICAgYWxpZ25MYXlvdXQuY2FsbCh0aGlzLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGlucHV0RmlsZS5vZmYoXCJtb3VzZW92ZXIuYXg1dXBsb2FkZXJcIikub24oXCJtb3VzZW92ZXIuYXg1dXBsb2FkZXJcIiwgZSA9PiB7XG4gICAgICB0aGlzLiRmaWxlU2VsZWN0b3IuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRpbnB1dEZpbGUub2ZmKFwibW91c2VvdXQuYXg1dXBsb2FkZXJcIikub24oXCJtb3VzZW91dC5heDV1cGxvYWRlclwiLCBlID0+IHtcbiAgICAgIHRoaXMuJGZpbGVTZWxlY3Rvci5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgIGFsaWduTGF5b3V0LmNhbGwodGhpcywgZmFsc2UpO1xuICAgIH0pO1xuICB9XG5cbiAge1xuICAgIGlmICghdGhpcy4kdXBsb2FkZWRCb3ggfHwgIXRoaXMuJHVwbG9hZGVkQm94LmdldCgwKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgdGhpcy4kdXBsb2FkZWRCb3gub24oXCJjbGlja1wiLCBcIltkYXRhLXVwbG9hZGVkLWl0ZW0tY2VsbF1cIiwgZSA9PiB7XG4gICAgICBsZXQgJHRoaXMgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcbiAgICAgICAgICBjZWxsVHlwZSA9ICR0aGlzLmF0dHIoXCJkYXRhLXVwbG9hZGVkLWl0ZW0tY2VsbFwiKSxcbiAgICAgICAgICB1cGxvYWRlZEl0ZW1JbmRleCA9IE51bWJlcigkdGhpcy5wYXJlbnRzKCdbZGF0YS1heDZ1aS11cGxvYWRlci11cGxvYWRlZC1pdGVtXScpLmF0dHIoJ2RhdGEtYXg2dWktdXBsb2FkZXItdXBsb2FkZWQtaXRlbScpKSxcbiAgICAgICAgICB0aGF0ID0ge307XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy51cGxvYWRlZEJveCAmJiB0aGlzLmNvbmZpZy51cGxvYWRlZEJveC5vbmNsaWNrKSB7XG4gICAgICAgIHRoYXQgPSB7XG4gICAgICAgICAgc2VsZjogdGhpcyxcbiAgICAgICAgICBjZWxsVHlwZTogY2VsbFR5cGUsXG4gICAgICAgICAgdXBsb2FkZWRGaWxlczogdGhpcy51cGxvYWRlZEZpbGVzLFxuICAgICAgICAgIGZpbGVJbmRleDogdXBsb2FkZWRJdGVtSW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb25maWcudXBsb2FkZWRCb3gub25jbGljay5jYWxsKHRoYXQsIHRoYXQpO1xuICAgICAgfVxuXG4gICAgICAkdGhpcyA9IG51bGw7XG4gICAgICBjZWxsVHlwZSA9IG51bGw7XG4gICAgICB1cGxvYWRlZEl0ZW1JbmRleCA9IG51bGw7XG4gICAgICB0aGF0ID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHRoaXMuJHVwbG9hZGVkQm94Lm9uKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHtcbiAgICAvLyBkcm9wWm9uZSDshKTsoJUg67Cp7IudIOuzgOqyvVxuICAgIGlmICghaW5mby5zdXBwb3J0RmlsZUFwaSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghdGhpcy4kZHJvcFpvbmUgfHwgIXRoaXMuJGRyb3Bab25lLmdldCgwKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgbGV0IHRpbWVyO1xuXG4gICAgdGhpcy4kZHJvcFpvbmUucGFyZW50KCkub24oXCJjbGlja1wiLCBcIltkYXRhLWF4NnVpLXVwbG9hZGVyLWRyb3B6b25lXVwiLCBlID0+IHtcbiAgICAgIGxldCAkdGFyZ2V0ID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCk7XG4gICAgICBpZiAoJHRhcmdldC5wYXJlbnRzKCdbZGF0YS1heDZ1aS11cGxvYWRlci11cGxvYWRlZC1pdGVtXScpLmxlbmd0aCA9PSAwICYmICEkdGFyZ2V0LmF0dHIoJ2RhdGEtYXg2dWktdXBsb2FkZXItdXBsb2FkZWQtaXRlbScpKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coZS5jdXJyZW50VGFyZ2V0ID09IGUudGFyZ2V0LCAkLmNvbnRhaW5zKGUudGFyZ2V0LCBlLmN1cnJlbnRUYXJnZXQpLCBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXg2dWktdXBsb2FkZXItZW1wdHlsaXN0LW1zZycpKTtcbiAgICAgICAgaWYgKGUuY3VycmVudFRhcmdldCA9PSBlLnRhcmdldCB8fCAkLmNvbnRhaW5zKGUudGFyZ2V0LCBlLmN1cnJlbnRUYXJnZXQpIHx8IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1heDZ1aS11cGxvYWRlci1lbXB0eWxpc3QtbXNnJykpIHtcbiAgICAgICAgICBpZiAoVS5pc0Z1bmN0aW9uKHRoaXMuY29uZmlnLmRyb3Bab25lLm9uY2xpY2spKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5kcm9wWm9uZS5vbmNsaWNrLmNhbGwoe1xuICAgICAgICAgICAgICBzZWxmOiB0aGlzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kaW5wdXRGaWxlLnRyaWdnZXIoXCJjbGlja1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICR0YXJnZXQgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kZHJvcFpvbmUuZ2V0KDApLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZSA9PiB7XG4gICAgICBVLnN0b3BFdmVudChlKTtcblxuICAgICAgaWYgKFUuaXNGdW5jdGlvbih0aGlzLmNvbmZpZy5kcm9wWm9uZS5vbmRyYWdvdmVyKSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5kcm9wWm9uZS5vbmRyYWdvdmVyLmNhbGwoe1xuICAgICAgICAgIHNlbGY6IHRoaXNcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRkcm9wWm9uZS5hZGRDbGFzcyhcImRyYWdvdmVyXCIpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcblxuICAgIHRoaXMuJGRyb3Bab25lLmdldCgwKS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBlID0+IHtcbiAgICAgIFUuc3RvcEV2ZW50KGUpO1xuXG4gICAgICBpZiAoVS5pc0Z1bmN0aW9uKHRoaXMuY29uZmlnLmRyb3Bab25lLm9uZHJhZ292ZXIpKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmRyb3Bab25lLm9uZHJhZ291dC5jYWxsKHtcbiAgICAgICAgICBzZWxmOiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kZHJvcFpvbmUucmVtb3ZlQ2xhc3MoXCJkcmFnb3ZlclwiKTtcbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG5cbiAgICB0aGlzLiRkcm9wWm9uZS5nZXQoMCkuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGUgPT4ge1xuICAgICAgVS5zdG9wRXZlbnQoZSk7XG5cbiAgICAgIGlmIChVLmlzRnVuY3Rpb24odGhpcy5jb25maWcuZHJvcFpvbmUub25kcm9wKSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5kcm9wWm9uZS5vbmRyb3AuY2FsbCh7XG4gICAgICAgICAgc2VsZjogdGhpc1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJGRyb3Bab25lLnJlbW92ZUNsYXNzKFwiZHJhZ292ZXJcIik7XG4gICAgICB9XG5cbiAgICAgIG9uU2VsZWN0RmlsZS5jYWxsKHRoaXMsIGUgfHwgd2luZG93LmV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cbn07XG5jb25zdCBhbGlnbkxheW91dCA9IGZ1bmN0aW9uIChfVEYpIHtcbiAgLy8g7IOB7Zmp7J20IOyii+yngCDslYrsnYDqsr3smrAgKOunjOyVvSDrsoTtirwg7YG066at7Jy866GcIGlucHV0IGZpbGUgY2xpY2vsnbQg65CY7KeAIOyViuuKlCDri6TrqbQgei1pbmRleOqwkuydhCDrhpLsl6zshJwg67KE7Yq87JyE66W8IOuNruuKlOuLpC4pXG4gIGlmIChfVEYpIHtcbiAgICBpZiAoIWluZm8uc3VwcG9ydEZpbGVBcGkpIHtcbiAgICAgIC8vIGllOeyXkOyEnCBpbnB1dEZpbGXsnYQg7KeB7KCRIO2BtOumre2VmOyngCDslYrsnLzrqbQgc3VibWl0IOyYpOulmOuwnOyDne2VqC4gc3VibWl0IGFjY2VzcyBkZW5pZWRcbiAgICAgIC8vIOq3uOuemOyEnCDrsoTtirzsnITsl5AgaW5wdXRGaWxl7J2EIOyYrOugpOuRkOyWtOyVvCDtlaguIChwb3NpdGlvbuqwkuydhCDsnbTsmqntlZjrqbQg7Y647ZWY7KeA66eMLi4pXG4gICAgICAvLyDqt7jrn7DrjbAgZm9ybeydhCDslYjsl5DrkZDrqbQg65iQIOuLpOuluCDsnbTspJHtj7wg66y47KCcIOuwnOyDneyGjOyngCDjhZzjhZwg67aI6rCA7ZS87ZWY6rKMIOuyhO2KvOydmCBvZmZzZXQg6rCS7J2EIOydtOyaqS5cbiAgICAgIGxldCBib3ggPSB0aGlzLiRmaWxlU2VsZWN0b3Iub2Zmc2V0KCk7XG4gICAgICBib3gud2lkdGggPSB0aGlzLiRmaWxlU2VsZWN0b3Iub3V0ZXJXaWR0aCgpO1xuICAgICAgYm94LmhlaWdodCA9IHRoaXMuJGZpbGVTZWxlY3Rvci5vdXRlckhlaWdodCgpO1xuICAgICAgdGhpcy4kaW5wdXRGaWxlLmNzcyhib3gpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLiRpbnB1dEZpbGUuY3NzKHtcbiAgICAgIGxlZnQ6IC0xMDAwLCB0b3A6IC0xMDAwXG4gICAgfSk7XG4gIH1cbn07XG5jb25zdCBhbGlnblByb2dyZXNzQm94ID0gZnVuY3Rpb24gKGFwcGVuZCkge1xuICBjb25zdCBfYWxpZ25Qcm9ncmVzc0JveCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgJHdpbmRvdyA9IGpRdWVyeSh3aW5kb3cpLFxuICAgICAgICAkYm9keSA9IGpRdWVyeShkb2N1bWVudC5ib2R5KTtcbiAgICBsZXQgcG9zID0ge30sXG4gICAgICAgIHBvc2l0aW9uTWFyZ2luID0gNixcbiAgICAgICAgZGltID0ge30sXG4gICAgICAgIHBpY2tlckRpbSA9IHt9LFxuICAgICAgICBwaWNrZXJEaXJlY3Rpb247XG5cbiAgICAvLyB0aGlzLmNvbmZpZy52aWV3cG9ydC5zZWxlY3RvclxuXG4gICAgcG9zID0gdGhpcy4kcHJvZ3Jlc3NCb3gucGFyZW50KCkuZ2V0KDApID09IHRoaXMuJHRhcmdldC5nZXQoMCkgPyB0aGlzLiRmaWxlU2VsZWN0b3IucG9zaXRpb24oKSA6IHRoaXMuJGZpbGVTZWxlY3Rvci5vZmZzZXQoKTtcbiAgICBkaW0gPSB7XG4gICAgICB3aWR0aDogdGhpcy4kZmlsZVNlbGVjdG9yLm91dGVyV2lkdGgoKSxcbiAgICAgIGhlaWdodDogdGhpcy4kZmlsZVNlbGVjdG9yLm91dGVySGVpZ2h0KClcbiAgICB9O1xuICAgIHBpY2tlckRpbSA9IHtcbiAgICAgIHdpbldpZHRoOiBNYXRoLm1heCgkd2luZG93LndpZHRoKCksICRib2R5LndpZHRoKCkpLFxuICAgICAgd2luSGVpZ2h0OiBNYXRoLm1heCgkd2luZG93LmhlaWdodCgpLCAkYm9keS5oZWlnaHQoKSksXG4gICAgICB3aWR0aDogdGhpcy4kcHJvZ3Jlc3NCb3gub3V0ZXJXaWR0aCgpLFxuICAgICAgaGVpZ2h0OiB0aGlzLiRwcm9ncmVzc0JveC5vdXRlckhlaWdodCgpXG4gICAgfTtcblxuICAgIC8vIHBpY2tlciBjc3Mod2lkdGgsIGxlZnQsIHRvcCkgJiBkaXJlY3Rpb24g6rKw7KCVXG4gICAgaWYgKCF0aGlzLmNvbmZpZy5wcm9ncmVzc0JveERpcmVjdGlvbiB8fCB0aGlzLmNvbmZpZy5wcm9ncmVzc0JveERpcmVjdGlvbiA9PT0gXCJcIiB8fCB0aGlzLmNvbmZpZy5wcm9ncmVzc0JveERpcmVjdGlvbiA9PT0gXCJhdXRvXCIpIHtcbiAgICAgIC8vIHNldCBkaXJlY3Rpb25cbiAgICAgIHBpY2tlckRpcmVjdGlvbiA9IFwidG9wXCI7XG4gICAgICBpZiAocG9zLnRvcCAtIHBpY2tlckRpbS5oZWlnaHQgLSBwb3NpdGlvbk1hcmdpbiA8IDApIHtcbiAgICAgICAgcGlja2VyRGlyZWN0aW9uID0gXCJ0b3BcIjtcbiAgICAgIH0gZWxzZSBpZiAocG9zLnRvcCArIGRpbS5oZWlnaHQgKyBwaWNrZXJEaW0uaGVpZ2h0ICsgcG9zaXRpb25NYXJnaW4gPiBwaWNrZXJEaW0ud2luSGVpZ2h0KSB7XG4gICAgICAgIHBpY2tlckRpcmVjdGlvbiA9IFwiYm90dG9tXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBpY2tlckRpcmVjdGlvbiA9IHRoaXMuY29uZmlnLnByb2dyZXNzQm94RGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlmIChhcHBlbmQpIHtcbiAgICAgIHRoaXMuJHByb2dyZXNzQm94LmFkZENsYXNzKFwiZGlyZWN0aW9uLVwiICsgcGlja2VyRGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICBsZXQgcG9zaXRpb25DU1MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgY3NzID0geyBsZWZ0OiAwLCB0b3A6IDAgfTtcbiAgICAgIHN3aXRjaCAocGlja2VyRGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICBjc3MubGVmdCA9IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBpY2tlckRpbS53aWR0aCAvIDI7XG4gICAgICAgICAgY3NzLnRvcCA9IHBvcy50b3AgKyBkaW0uaGVpZ2h0ICsgcG9zaXRpb25NYXJnaW47XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICBjc3MubGVmdCA9IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBpY2tlckRpbS53aWR0aCAvIDI7XG4gICAgICAgICAgY3NzLnRvcCA9IHBvcy50b3AgLSBwaWNrZXJEaW0uaGVpZ2h0IC0gcG9zaXRpb25NYXJnaW47XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCArIGRpbS53aWR0aCArIHBvc2l0aW9uTWFyZ2luO1xuICAgICAgICAgIGNzcy50b3AgPSBwb3MudG9wIC0gcGlja2VyRGltLmhlaWdodCAvIDIgKyBkaW0uaGVpZ2h0IC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCAtIHBpY2tlckRpbS53aWR0aCAtIHBvc2l0aW9uTWFyZ2luO1xuICAgICAgICAgIGNzcy50b3AgPSBwb3MudG9wIC0gcGlja2VyRGltLmhlaWdodCAvIDIgKyBkaW0uaGVpZ2h0IC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjc3M7XG4gICAgfSgpO1xuXG4gICAge1xuICAgICAgaWYgKHBpY2tlckRpcmVjdGlvbiA9PSBcInRvcFwiIHx8IHBpY2tlckRpcmVjdGlvbiA9PSBcImJvdHRvbVwiKSB7XG4gICAgICAgIGlmIChwb3NpdGlvbkNTUy5sZWZ0IDwgMCkge1xuICAgICAgICAgIHBvc2l0aW9uQ1NTLmxlZnQgPSBwb3NpdGlvbk1hcmdpbjtcbiAgICAgICAgICB0aGlzLiRwcm9ncmVzc0JveEFycm93LmNzcyh7IGxlZnQ6IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBvc2l0aW9uQ1NTLmxlZnQgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb25DU1MubGVmdCArIHBpY2tlckRpbS53aWR0aCA+IHBpY2tlckRpbS53aW5XaWR0aCkge1xuICAgICAgICAgIHBvc2l0aW9uQ1NTLmxlZnQgPSBwaWNrZXJEaW0ud2luV2lkdGggLSBwaWNrZXJEaW0ud2lkdGggLSBwb3NpdGlvbk1hcmdpbjtcbiAgICAgICAgICB0aGlzLiRwcm9ncmVzc0JveEFycm93LmNzcyh7IGxlZnQ6IHBvcy5sZWZ0ICsgZGltLndpZHRoIC8gMiAtIHBvc2l0aW9uQ1NTLmxlZnQgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLiRwcm9ncmVzc0JveC5jc3MocG9zaXRpb25DU1MpO1xuICB9O1xuXG4gIHRoaXMuJHByb2dyZXNzQm94LmNzcyh7IHRvcDogLTk5OSB9KTtcblxuICBpZiAoYXBwZW5kKSB7XG4gICAgLy8gcHJvZ3Jlc3NCb3jrpbwgYXBwZW5kIO2VoCDtg4Dqsp8g7JeY66as66i87Yq4IO2OgOuLqCDtm4Qg6rKw7KCVLlxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcudmlld3BvcnQpIHtcbiAgICAgICAgcmV0dXJuIGpRdWVyeSh0aGlzLmNvbmZpZy52aWV3cG9ydC5zZWxlY3Rvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy4kdGFyZ2V0O1xuICAgICAgfVxuICAgIH0pLmNhbGwodGhpcykuYXBwZW5kKHRoaXMuJHByb2dyZXNzQm94KTtcblxuICAgIC8vIHByb2dyZXNzQm94IOuyhO2KvOyXkCDsnbTrsqTtirgg7Jew6rKwLlxuICAgIHRoaXMuJHByb2dyZXNzQm94Lm9mZihcImNsaWNrLmF4NXVwbG9hZGVyXCIpLm9uKFwiY2xpY2suYXg1dXBsb2FkZXJcIiwgXCJidXR0b25cIiwgZSA9PiB7XG4gICAgICBsZXQgYWN0ID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcHJlZ3Jlc3Nib3gtYnRuXCIpO1xuICAgICAgbGV0IHByb2Nlc3NvciA9IHtcbiAgICAgICAgXCJ1cGxvYWRcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuc2VuZCgpO1xuICAgICAgICB9LFxuICAgICAgICBcImFib3J0XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAocHJvY2Vzc29yW2FjdF0pIHByb2Nlc3NvclthY3RdLmNhbGwodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBfYWxpZ25Qcm9ncmVzc0JveC5jYWxsKHRoaXMpO1xuICB9KTtcbn07XG5jb25zdCBvcGVuUHJvZ3Jlc3NCb3ggPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuJHByb2dyZXNzQm94LnJlbW92ZUNsYXNzKFwiZGVzdHJveVwiKTtcbiAgdGhpcy4kcHJvZ3Jlc3NVcGxvYWQucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICB0aGlzLiRwcm9ncmVzc0Fib3J0LnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcblxuICAvLyBhcGVuZCAmIGFsaWduIHByb2dyZXNzIGJveFxuICBhbGlnblByb2dyZXNzQm94LmNhbGwodGhpcywgXCJhcHBlbmRcIik7XG5cbiAgLy8gc3RhdGUgY2hhbmdlXG4gIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywge1xuICAgIHNlbGY6IHRoaXMsXG4gICAgc3RhdGU6IFwib3BlblwiXG4gIH0pO1xufTtcbmNvbnN0IGNsb3NlUHJvZ3Jlc3NCb3ggPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuJHByb2dyZXNzQm94LmFkZENsYXNzKFwiZGVzdHJveVwiKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgdGhpcy4kcHJvZ3Jlc3NCb3gucmVtb3ZlKCk7XG4gIH0sIHRoaXMuY29uZmlnLmFuaW1hdGVUaW1lKTtcbn07XG5jb25zdCBzdGFydFVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcHJvY2Vzc29yID0ge1xuICAgIFwiaHRtbDVcIigpIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgbGV0IHVwbG9hZEZpbGUgPSB0aGlzLnNlbGVjdGVkRmlsZXMuc2hpZnQoKTtcbiAgICAgIGlmICghdXBsb2FkRmlsZSkge1xuICAgICAgICAvLyDsl4XroZzrk5wg7KKF66OMXG4gICAgICAgIHVwbG9hZENvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAodXBsb2FkRmlsZVswXSkgdXBsb2FkRmlsZSA9IHVwbG9hZEZpbGVbMF07XG5cbiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgLy/shJzrsoTroZwg7KCE7Iah7ZW07JW8IO2VoCDstpTqsIAg7YyM652866+47YSwIOygleuztCDshKTsoJVcblxuICAgICAgdGhpcy4kdGFyZ2V0LmZpbmQoXCJpbnB1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKHRoaXMubmFtZSwgdGhpcy52YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIC8vIO2MjOydvCDslYTsnbTthZwg7LaU6rCAXG4gICAgICBmb3JtRGF0YS5hcHBlbmQodGhpcy5jb25maWcuZm9ybS5maWxlTmFtZSwgdXBsb2FkRmlsZSk7XG5cbiAgICAgIHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICB0aGlzLnhoci5vcGVuKFwicG9zdFwiLCB0aGlzLmNvbmZpZy5mb3JtLmFjdGlvbiwgdHJ1ZSk7XG4gICAgICB0aGlzLnhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBsZXQgcmVzID0gZS50YXJnZXQucmVzcG9uc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXMgPT0gXCJzdHJpbmdcIikgcmVzID0gVS5wYXJzZUpzb24ocmVzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5jb25maWcuZGVidWcpIGNvbnNvbGUubG9nKHJlcyk7XG5cbiAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5kZWJ1ZykgY29uc29sZS5sb2cocmVzLmVycm9yKTtcbiAgICAgICAgICBpZiAoVS5pc0Z1bmN0aW9uKHNlbGYuY29uZmlnLm9udXBsb2FkZXJyb3IpKSB7XG4gICAgICAgICAgICBzZWxmLmNvbmZpZy5vbnVwbG9hZGVycm9yLmNhbGwoe1xuICAgICAgICAgICAgICBzZWxmOiBzZWxmLFxuICAgICAgICAgICAgICBlcnJvcjogcmVzLmVycm9yXG4gICAgICAgICAgICB9LCByZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLnNlbmQoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB1cGxvYWRlZC5jYWxsKHNlbGYsIHJlcyk7XG4gICAgICAgIHNlbGYuc2VuZCgpO1xuICAgICAgfTtcbiAgICAgIHRoaXMueGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdXBkYXRlUHJvZ3Jlc3NCYXIuY2FsbChzZWxmLCBlKTtcbiAgICAgICAgaWYgKFUuaXNGdW5jdGlvbihzZWxmLmNvbmZpZy5vbnByb2dyZXNzKSkge1xuICAgICAgICAgIHNlbGYuY29uZmlnLm9ucHJvZ3Jlc3MuY2FsbCh7XG4gICAgICAgICAgICBsb2FkZWQ6IGUubG9hZGVkLFxuICAgICAgICAgICAgdG90YWw6IGUudG90YWxcbiAgICAgICAgICB9LCBlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMueGhyLnNlbmQoZm9ybURhdGEpOyAvLyBtdWx0aXBhcnQvZm9ybS1kYXRhXG4gICAgfSxcbiAgICBcImZvcm1cIigpIHtcblxuICAgICAgLy8vIGknbSBidXN5XG4gICAgICB0aGlzLl9fdXBsb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgLy8g7Y+86rO8IGlmcmFtZeydhCDrp4zrk6TslrQg7Y6Y7J207KeAIOyVhOuemOyXkCDsgr3snoUg7ZuEIOyXheuhnOuTnFxuICAgICAgbGV0ICRpZnJhbWUgPSBqUXVlcnkoJzxpZnJhbWUgc3JjPVwiamF2YXNjcmlwdDpmYWxzZTtcIiBuYW1lPVwiYXg1dXBsb2FkZXItJyArIHRoaXMuaW5zdGFuY2VJZCArICctaWZyYW1lXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9pZnJhbWU+Jyk7XG4gICAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYXBwZW5kKCRpZnJhbWUpO1xuXG4gICAgICAvLyBvbmxvYWQg7J2067Kk7Yq4IO2VuOuTpOufrFxuICAgICAgLy8gYWN0aW9u7JeQ7IScIO2MjOydvOydhCDrsJvslYQg7LKY66as7ZWcIOqysOqzvOqwkuydhCDthY3siqTtirjroZwg7Lac66Cl7ZWc64uk6rOgIOqwgOygle2VmOqzoCBpZnJhbWXsnZgg64K067aAIOuNsOydtO2EsOulvCDqsrDqs7zqsJLsnLzroZwgY2FsbGJhY2sg7Zi47LacXG4gICAgICAkaWZyYW1lLm9uKCdsb2FkJywgZSA9PiB7XG4gICAgICAgIGxldCBkb2MgPSBlLmN1cnJlbnRUYXJnZXQuY29udGVudFdpbmRvdyA/IGUuY3VycmVudFRhcmdldC5jb250ZW50V2luZG93LmRvY3VtZW50IDogZS5jdXJyZW50VGFyZ2V0LmNvbnRlbnREb2N1bWVudCA/IGUuY3VycmVudFRhcmdldC5jb250ZW50RG9jdW1lbnQgOiBlLmN1cnJlbnRUYXJnZXQuZG9jdW1lbnQsXG4gICAgICAgICAgICByb290ID0gZG9jLmRvY3VtZW50RWxlbWVudCA/IGRvYy5kb2N1bWVudEVsZW1lbnQgOiBkb2MuYm9keSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHJvb3QudGV4dENvbnRlbnQgPyByb290LnRleHRDb250ZW50IDogcm9vdC5pbm5lclRleHQsXG4gICAgICAgICAgICByZXM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXMgPSB7XG4gICAgICAgICAgICBlcnJvcjogXCJTeW50YXggZXJyb3JcIixcbiAgICAgICAgICAgIGJvZHk6IHJlc3VsdFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwbG9hZGVkLmNhbGwodGhpcywgcmVzKTtcbiAgICAgICAgICAkaWZyYW1lLnJlbW92ZSgpO1xuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB1cGxvYWRDb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLiRpbnB1dEZpbGVGb3JtLmF0dHIoXCJ0YXJnZXRcIiwgJ2F4NXVwbG9hZGVyLScgKyB0aGlzLmluc3RhbmNlSWQgKyAnLWlmcmFtZScpLmF0dHIoXCJhY3Rpb25cIiwgdGhpcy5jb25maWcuZm9ybS5hY3Rpb24pLnN1Ym1pdCgpO1xuXG4gICAgICB0aGlzLnNlbGVjdGVkRmlsZXNUb3RhbCA9IDE7XG4gICAgICB1cGRhdGVQcm9ncmVzc0Jhci5jYWxsKHRoaXMsIHtcbiAgICAgICAgbG9hZGVkOiAxLFxuICAgICAgICB0b3RhbDogMVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0aGlzLl9fdXBsb2FkaW5nID09PSBmYWxzZSkge1xuICAgIC8vIOyghOyytCDtjIzsnbwg7IKs7J207KaIIOq1rO2VmOq4sFxuICAgIGxldCBmaWxlc1RvdGFsID0gMDtcbiAgICB0aGlzLnNlbGVjdGVkRmlsZXMuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgZmlsZXNUb3RhbCArPSBuLnNpemU7XG4gICAgfSk7XG4gICAgdGhpcy5zZWxlY3RlZEZpbGVzVG90YWwgPSBmaWxlc1RvdGFsO1xuICAgIHRoaXMuX19sb2FkZWQgPSAwO1xuXG4gICAgdGhpcy5fX3VwbG9hZGluZyA9IHRydWU7IC8vIOyXheuhnOuTnCDsi5zsnpEg7IOB7YOcIOyymOumrFxuICAgIHRoaXMuJHByb2dyZXNzVXBsb2FkLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgIHRoaXMuJHByb2dyZXNzQWJvcnQucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICB9XG5cbiAgcHJvY2Vzc29yW2luZm8uc3VwcG9ydEZpbGVBcGkgPyBcImh0bWw1XCIgOiBcImZvcm1cIl0uY2FsbCh0aGlzKTtcbn07XG5jb25zdCB1cGRhdGVQcm9ncmVzc0JhciA9IGZ1bmN0aW9uIChlKSB7XG4gIGxldCBwZXJjZW50ID0gVS5udW1iZXIoKHRoaXMuX19sb2FkZWQgKyBlLmxvYWRlZCkgLyB0aGlzLnNlbGVjdGVkRmlsZXNUb3RhbCAqIDEwMCwgeyByb3VuZDogMiB9KTtcbiAgdGhpcy4kcHJvZ3Jlc3NCYXIuY3NzKHsgd2lkdGg6IHBlcmNlbnQgKyAnJScgfSk7XG4gIHRoaXMuJHByb2dyZXNzQmFyVmFsLmh0bWwocGVyY2VudCArICclIENvbXBsZXRlJyk7XG4gIGlmIChlLmxvYWRlZCA+PSBlLnRvdGFsKSB7XG4gICAgdGhpcy5fX2xvYWRlZCArPSBlLnRvdGFsO1xuICB9XG4gIGlmIChlLmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICBpZiAoZS5sb2FkZWQgPj0gZS50b3RhbCkge31cbiAgfVxuICBwZXJjZW50ID0gbnVsbDtcbn07XG5jb25zdCB1cGxvYWRlZCA9IGZ1bmN0aW9uIChyZXMpIHtcbiAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSBjb25zb2xlLmxvZyhyZXMpO1xuICB0aGlzLnVwbG9hZGVkRmlsZXMucHVzaChyZXMpO1xuICByZXBhaW50VXBsb2FkZWRCb3guY2FsbCh0aGlzKTsgLy8g7JeF66Gc65Oc65CcIO2MjOydvCDstpzroKVcblxuICBpZiAoVS5pc0Z1bmN0aW9uKHRoaXMuY29uZmlnLm9udXBsb2FkZWQpKSB7XG4gICAgdGhpcy5jb25maWcub251cGxvYWRlZC5jYWxsKHtcbiAgICAgIHNlbGY6IHRoaXNcbiAgICB9LCByZXMpO1xuICB9XG59O1xuY29uc3QgdXBsb2FkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX191cGxvYWRpbmcgPSBmYWxzZTsgLy8g7JeF66Gc65OcIOyZhOujjCDsg4Htg5zsspjrpqxcbiAgdGhpcy4kcHJvZ3Jlc3NVcGxvYWQucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICB0aGlzLiRwcm9ncmVzc0Fib3J0LmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuXG4gIGlmICh0aGlzLmNvbmZpZy5wcm9ncmVzc0JveCkge1xuICAgIGNsb3NlUHJvZ3Jlc3NCb3guY2FsbCh0aGlzKTtcbiAgfVxuICBpZiAoVS5pc0Z1bmN0aW9uKHRoaXMuY29uZmlnLm9udXBsb2FkQ29tcGxldGUpKSB7XG4gICAgdGhpcy5jb25maWcub251cGxvYWRDb21wbGV0ZS5jYWxsKHtcbiAgICAgIHNlbGY6IHRoaXNcbiAgICB9KTtcbiAgfVxuICAvLyB1cGRhdGUgdXBsb2FkZWRGaWxlcyBkaXNwbGF5XG5cbiAgLy8vIHJlc2V0IGlucHV0RmlsZVxuICBhdHRhY2hGaWxlVGFnLmNhbGwodGhpcyk7XG59O1xuY29uc3QgY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IHByb2Nlc3NvciA9IHtcbiAgICBcImh0bWw1XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgXCJmb3JtXCI6IGZ1bmN0aW9uICgpIHt9XG4gIH07XG5cbiAgdGhpcy5fX3VwbG9hZGluZyA9IGZhbHNlOyAvLyDsl4XroZzrk5wg7JmE66OMIOyDge2DnOyymOumrFxuICB0aGlzLiRwcm9ncmVzc1VwbG9hZC5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gIHRoaXMuJHByb2dyZXNzQWJvcnQuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG5cbiAgcHJvY2Vzc29yW2luZm8uc3VwcG9ydEZpbGVBcGkgPyBcImh0bWw1XCIgOiBcImZvcm1cIl0uY2FsbCh0aGlzKTtcblxuICBpZiAodGhpcy5jb25maWcucHJvZ3Jlc3NCb3gpIHtcbiAgICBjbG9zZVByb2dyZXNzQm94LmNhbGwodGhpcyk7XG4gIH1cblxuICAvL3RoaXMuJGlucHV0RmlsZS52YWwoXCJcIik7XG4gIC8vLyByZXNldCBpbnB1dEZpbGVcbiAgYXR0YWNoRmlsZVRhZy5jYWxsKHRoaXMpO1xuXG4gIGlmICh0aGlzLmNvbmZpZy5kZWJ1ZykgY29uc29sZS5sb2coXCJjYW5jZWxVcGxvYWRcIik7XG4gIC8vIHVwZGF0ZSB1cGxvYWRlZEZpbGVzIGRpc3BsYXlcbn07XG5jb25zdCByZXBhaW50VXBsb2FkZWRCb3ggPSBmdW5jdGlvbiAoKSB7XG4gIC8vIHVwbG9hZGVkQm94IOqwgCDsl4bri6TrqbQg7JWE66y07J2864+EIO2VmOyngCDslYrsnYwuXG4gIC8vIG9udXBsb2FkZWQg7ZWo7IiYIOydtOuypO2KuOulvCDsnbTsmqntlZjsl6wg6rCc67Cc7J6Q6rCAIOyngeygkSDsl4XroZzrk5zrlJQg67CV7Iqk66W8IOq1rO2YhCDtlZzri6Tqs6Ag7J207ZW0IO2VmOyekC5cbiAgaWYgKHRoaXMuJHVwbG9hZGVkQm94ID09PSBudWxsKSByZXR1cm4gdGhpcztcblxuICB0aGlzLiR1cGxvYWRlZEJveC5odG1sKG11c3RhY2hlLnJlbmRlcih0bXBsLnVwb2FkZWRCb3guY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy51cGxvYWRlZEJveC5jb2x1bW5LZXlzKSwge1xuICAgIFwiQGZuX2dldF9ieXRlXCIoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHRleHQsIHJlbmRlcikge1xuICAgICAgICByZXR1cm4gVS5udW1iZXIocmVuZGVyKHRleHQpLCB7IHJvdW5kOiAyLCBieXRlOiB0cnVlIH0pO1xuICAgICAgfTtcbiAgICB9LFxuICAgIHVwbG9hZGVkRmlsZXM6IHRoaXMudXBsb2FkZWRGaWxlcyxcbiAgICBpY29uOiB0aGlzLmNvbmZpZy51cGxvYWRlZEJveC5pY29uLFxuICAgIGxhbmc6IHRoaXMuY29uZmlnLnVwbG9hZGVkQm94LmxhbmcsXG4gICAgc3VwcG9ydEZpbGVBcGk6ICEhaW5mby5zdXBwb3J0RmlsZUFwaVxuICB9KSk7XG4gIHRoaXMuJHVwbG9hZGVkQm94LmZpbmQoXCJpbWdcIikub24oXCJlcnJvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgLy90aGlzLnNyYyA9IFwiXCI7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcyhcIm5vLWltYWdlXCIpO1xuICB9KTtcbn07XG5jb25zdCBhdHRhY2hGaWxlVGFnID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy4kaW5wdXRGaWxlICYmIHRoaXMuJGlucHV0RmlsZS5nZXQoMCkpIHtcbiAgICB0aGlzLiRpbnB1dEZpbGUucmVtb3ZlKCk7XG4gIH1cbiAgaWYgKHRoaXMuJGlucHV0RmlsZUZvcm0gJiYgdGhpcy4kaW5wdXRGaWxlRm9ybS5nZXQoMCkpIHtcbiAgICB0aGlzLiRpbnB1dEZpbGVGb3JtLnJlbW92ZSgpO1xuICB9XG5cbiAgdGhpcy4kaW5wdXRGaWxlID0galF1ZXJ5KG11c3RhY2hlLnJlbmRlcih0bXBsLmlucHV0RmlsZS5jYWxsKHRoaXMpLCB7XG4gICAgaW5zdGFuY2VJZDogdGhpcy5pbnN0YW5jZUlkLFxuICAgIG11bHRpcGxlOiB0aGlzLmNvbmZpZy5tdWx0aXBsZSxcbiAgICBhY2NlcHQ6IHRoaXMuY29uZmlnLmFjY2VwdCxcbiAgICBuYW1lOiB0aGlzLmNvbmZpZy5mb3JtLmZpbGVOYW1lXG4gIH0pKTtcblxuICBpZiAoaW5mby5zdXBwb3J0RmlsZUFwaSkge1xuICAgIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hcHBlbmQodGhpcy4kaW5wdXRGaWxlKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLiRmaWxlU2VsZWN0b3IuYXR0cihcInRhYmluZGV4XCIsIC0xKTtcbiAgICB0aGlzLiRpbnB1dEZpbGVGb3JtID0galF1ZXJ5KG11c3RhY2hlLnJlbmRlcih0bXBsLmlucHV0RmlsZUZvcm0uY2FsbCh0aGlzKSwge1xuICAgICAgaW5zdGFuY2VJZDogdGhpcy5pbnN0YW5jZUlkXG4gICAgfSkpO1xuXG4gICAgdGhpcy4kaW5wdXRGaWxlRm9ybS5hcHBlbmQodGhpcy4kaW5wdXRGaWxlKTtcbiAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYXBwZW5kKHRoaXMuJGlucHV0RmlsZUZvcm0pO1xuICB9XG5cbiAgdGhpcy4kaW5wdXRGaWxlLm9mZihcImNoYW5nZS5heDV1cGxvYWRlclwiKS5vbihcImNoYW5nZS5heDV1cGxvYWRlclwiLCBlID0+IHtcbiAgICBvblNlbGVjdEZpbGUuY2FsbCh0aGlzLCBlKTtcbiAgfSk7XG59O1xuLyogfn5+fn5+fn5+fn5+fn5+fn5+IGVuZCBvZiBwcml2YXRlICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBBWDZVSVVwbG9hZGVyIGV4dGVuZHMgQVg2VUlDb3JlIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SlNPTn1cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBjb25maWcudGFyZ2V0XG4gICAgICogQHBhcmFtIFtjb25maWcudGhlbWU9J2RlZmF1bHQnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmxhbmddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZy51cGxvYWQ9J1VwbG9hZCddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZy5hYm9ydD0nQWJvcnQnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmFuaW1hdGVUaW1lPTEwMF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5hY2NlcHQ9XCIqXFwvKlwiXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm11bHRpcGxlPWZhbHNlXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm1hbnVhbFVwbG9hZD1mYWxzZV1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5wcm9ncmVzc0JveD10cnVlXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLnByb2dyZXNzQm94RGlyZWN0aW9uPSdsZWZ0J10gLSB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQsIGF1dG9cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5mb3JtXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmZvcm0uYWN0aW9uPScnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmZvcm0uZmlsZU5hbWU9J2ZpbGUnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmRyb3Bab25lXVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gW2NvbmZpZy5kcm9wWm9uZS50YXJnZXRdXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3hdXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBbY29uZmlnLnVwbG9hZGVkQm94LnRhcmdldF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy51cGxvYWRlZEJveC5pY29uXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLnVwbG9hZGVkQm94Lmljb24uZG93bmxvYWQ9J1UrMjkxMyddXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3guaWNvbi5kZWxldGU9J1UrMjMyYiddXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3guY29sdW1uS2V5cy5uYW1lPSduYW1lJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy51cGxvYWRlZEJveC5jb2x1bW5LZXlzLnR5cGU9J3R5cGUnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLnVwbG9hZGVkQm94LmNvbHVtbktleXMuc2l6ZT0nc2l6ZSddXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3guY29sdW1uS2V5cy51cGxvYWRlZE5hbWU9J3VwbG9hZGVkTmFtZSddXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3guY29sdW1uS2V5cy51cGxvYWRlZFBhdGg9J3VwbG9hZGVkUGF0aCddXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3guY29sdW1uS2V5cy5kb3dubG9hZFBhdGg9J2Rvd25sb2FkUGF0aCddXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3guY29sdW1uS2V5cy5wcmV2aWV3UGF0aD0ncHJldmlld1BhdGgnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLnVwbG9hZGVkQm94LmNvbHVtbktleXMudGh1bWJuYWlsPSd0aHVtYm5haWwnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLnVwbG9hZGVkQm94LmxhbmddXG4gICAgICogQHBhcmFtIFtjb25maWcudXBsb2FkZWRCb3gubGFuZy5zdXBwb3J0ZWRIVE1MNV9lbXB0eUxpc3RNc2c9J0Ryb3AgZmlsZXMgaGVyZSBvciBjbGljayB0byB1cGxvYWQuJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy51cGxvYWRlZEJveC5sYW5nLmVtcHR5TGlzdE1zZz0nRW1wdHkgb2YgTGlzdC4nXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcudXBsb2FkZWRCb3gub25jaGFuZ2VdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy51cGxvYWRlZEJveC5vbmNsaWNrXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcub25wcm9ncmVzc11cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLm9udXBsb2FkZXJyb3JdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5vbnVwbG9hZGVkXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcub251cGxvYWRDb21wbGV0ZV1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIHRoZW1lOiAnZGVmYXVsdCcsIC8vIHRoZW1lIG9mIHVwbG9hZGVyXG4gICAgICBsYW5nOiB7IC8vIOyXheuhnOuNlCDrsoTtirwg656t6reA7KeAIOyEpOyglVxuICAgICAgICBcInVwbG9hZFwiOiBcIlVwbG9hZFwiLFxuICAgICAgICBcImFib3J0XCI6IFwiQWJvcnRcIlxuICAgICAgfSxcbiAgICAgIGFuaW1hdGVUaW1lOiAxMDAsXG4gICAgICBhY2NlcHQ6IFwiKi8qXCIsIC8vIOyXheuhnOuTnCDshKDtg50g7YyM7J28IO2DgOyehSDshKTsoJVcbiAgICAgIG11bHRpcGxlOiBmYWxzZSwgLy8g64uk7KSRIO2MjOydvCDsl4XroZzrk5xcbiAgICAgIG1hbnVhbFVwbG9hZDogZmFsc2UsIC8vIOyXheuhnOuUqSDsi5zsnpEg7IiY64+Z7LKY66asIOyXrOu2gFxuICAgICAgcHJvZ3Jlc3NCb3g6IHRydWUsIC8vIOyXheuhnOuTnCDtlITroZzqt7jrnpjsiqQg67CV7IqkIOyCrOyaqeyXrOu2gCBmYWxzZSDsnbTrqbQg7JeF66Gc65OcIOynhO2WieuwlOulvCDtkZzsi5wg7ZWY7KeAIOyViuyKteuLiOuLpC4g6rCc67Cc7J6Q6rCAIG9ucHJvZ3Jlc3Mg7ZWo7IiY66W8IOydtOyaqe2VmOyXrCDsp4HsoJEg6rWs7ZiEIO2VtOyVvCDtlanri4jri6QuXG4gICAgICBwcm9ncmVzc0JveERpcmVjdGlvbjogXCJsZWZ0XCIsXG4gICAgICBmb3JtOiB7XG4gICAgICAgIGFjdGlvbjogXCJcIixcbiAgICAgICAgZmlsZU5hbWU6IFwiZmlsZVwiXG4gICAgICB9LFxuICAgICAgZHJvcFpvbmU6IHtcbiAgICAgICAgdGFyZ2V0OiBudWxsXG4gICAgICB9LFxuICAgICAgdXBsb2FkZWRCb3g6IHtcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBpY29uOiB7XG4gICAgICAgICAgZG93bmxvYWQ6IFwiVSsyOTEzXCIsXG4gICAgICAgICAgZGVsZXRlOiBcIlUrMjMyYlwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvbHVtbktleXM6IHtcbiAgICAgICAgICBuYW1lOiBcIm5hbWVcIixcbiAgICAgICAgICB0eXBlOiBcInR5cGVcIixcbiAgICAgICAgICBzaXplOiBcInNpemVcIixcbiAgICAgICAgICB1cGxvYWRlZE5hbWU6IFwidXBsb2FkZWROYW1lXCIsXG4gICAgICAgICAgdXBsb2FkZWRQYXRoOiBcInVwbG9hZGVkUGF0aFwiLFxuICAgICAgICAgIGRvd25sb2FkUGF0aDogXCJkb3dubG9hZFBhdGhcIixcbiAgICAgICAgICBwcmV2aWV3UGF0aDogXCJwcmV2aWV3UGF0aFwiLFxuICAgICAgICAgIHRodW1ibmFpbDogXCJ0aHVtYm5haWxcIlxuICAgICAgICB9LFxuICAgICAgICBsYW5nOiB7XG4gICAgICAgICAgc3VwcG9ydGVkSFRNTDVfZW1wdHlMaXN0TXNnOiAnRHJvcCBmaWxlcyBoZXJlIG9yIGNsaWNrIHRvIHVwbG9hZC4nLFxuICAgICAgICAgIGVtcHR5TGlzdE1zZzogJ0VtcHR5IG9mIExpc3QuJ1xuICAgICAgICB9LFxuICAgICAgICBvbmNoYW5nZTogbnVsbCxcbiAgICAgICAgb25jbGljazogbnVsbFxuICAgICAgfSxcbiAgICAgIHZhbGlkYXRlU2VsZWN0ZWRGaWxlczogbnVsbCxcbiAgICAgIG9ucHJvZ3Jlc3M6IG51bGwsXG4gICAgICBvbnVwbG9hZGVycm9yOiBudWxsLFxuICAgICAgb251cGxvYWRlZDogbnVsbCxcbiAgICAgIG9udXBsb2FkQ29tcGxldGU6IG51bGxcbiAgICB9O1xuICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgdGhpcy5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAvLyDrqaTrsoQg67OA7IiYIOy0iOq4sO2ZlFxuICAgIC8qKlxuICAgICAqIOuyhO2KvOyGjeyEsVxuICAgICAqIEBtZW1iZXIge0pTT059XG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0QnRucyA9IHtcbiAgICAgIFwidXBsb2FkXCI6IHsgbGFiZWw6IHRoaXMuY29uZmlnLmxhbmdbXCJ1cGxvYWRcIl0sIHRoZW1lOiBcInVwbG9hZFwiIH0sXG4gICAgICBcImFib3J0XCI6IHsgbGFiZWw6IHRoaXMuY29uZmlnLmxhbmdbXCJhYm9ydFwiXSwgdGhlbWU6IFwiYWJvcnRcIiB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOyXheuhnOuTnOuQnCDtjIzsnbxcbiAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnVwbG9hZGVkRmlsZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIOyXheuhnOuNlCDtg4Dqsp9cbiAgICAgKiBAbWVtYmVyIHtqUXVlcnl9XG4gICAgICovXG4gICAgdGhpcy4kdGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIGlucHV0IGZpbGUg7YOc6re4XG4gICAgICogQG1lbWJlciB7alF1ZXJ5fVxuICAgICAqL1xuICAgIHRoaXMuJGlucHV0RmlsZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogaW5wdXQgZm9ybVxuICAgICAqIEBtZW1iZXIge2pRdWVyeX1cbiAgICAgKi9cbiAgICB0aGlzLiRpbnB1dEZpbGVGb3JtID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIO2MjOydvCDshKDtg50g67KE7Yq8XG4gICAgICogQG1lbWJlciB7alF1ZXJ5fVxuICAgICAqL1xuICAgIHRoaXMuJGZpbGVTZWxlY3RvciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiDtjIzsnbwg65Oc656N7KG0XG4gICAgICogQG1lbWJlciB7alF1ZXJ5fVxuICAgICAqL1xuICAgIHRoaXMuJGRyb3Bab25lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIO2MjOydvCDrqqnroZ0g7ZGc7Iuc67CV7IqkXG4gICAgICogQG1lbWJlciB7alF1ZXJ5fVxuICAgICAqL1xuICAgIHRoaXMuJHVwbG9hZGVkQm94ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIOyXheuhnOuTnCDsp4Ttlokg7IOB7YOc67CUXG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9fdXBsb2FkaW5nID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiDshKDtg53rkJwg7YyM7J2865OkXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiDshKDtg53rkJwg7YyM7J287J2YIOyghOyytCDtgazquLBcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zZWxlY3RlZEZpbGVzVG90YWwgPSAwO1xuXG4gICAgLyoqXG4gICAgICog7KCE7Iah65CcIO2MjOydvCDtgazquLBcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fX2xvYWRlZCA9IDA7XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gXCJ1bmRlZmluZWRcIikgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkID0gdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG4gICAgZGVsZXRlIHRoaXMuY29uZmlnLm9uU3RhdGVDaGFuZ2VkO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLnRhcmdldCkge1xuICAgICAgdGhpcy4kdGFyZ2V0ID0galF1ZXJ5KHRoaXMuY29uZmlnLnRhcmdldCk7XG5cbiAgICAgIC8vIO2MjOydvCDrk5zrno3sobTsnYAg7Ji17IWYIOyCrO2VrS5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kcm9wWm9uZSAmJiB0aGlzLmNvbmZpZy5kcm9wWm9uZS50YXJnZXQgJiYgaW5mby5zdXBwb3J0RmlsZUFwaSkge1xuICAgICAgICB0aGlzLiRkcm9wWm9uZSA9IGpRdWVyeSh0aGlzLmNvbmZpZy5kcm9wWm9uZS50YXJnZXQpO1xuICAgICAgICB0aGlzLiRkcm9wWm9uZS5hdHRyKFwiZGF0YS1heDZ1aS11cGxvYWRlci1kcm9wem9uZVwiLCB0aGlzLmluc3RhbmNlSWQpO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGxvYWRlZEJveCDsmLXshZgg7IKs7ZWtXG4gICAgICBpZiAodGhpcy5jb25maWcudXBsb2FkZWRCb3ggJiYgdGhpcy5jb25maWcudXBsb2FkZWRCb3gudGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuJHVwbG9hZGVkQm94ID0galF1ZXJ5KHRoaXMuY29uZmlnLnVwbG9hZGVkQm94LnRhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHRhcmdldCBhdHRyaWJ1dGUgZGF0YVxuICAgICAgKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChVLmlzT2JqZWN0KGRhdGEpICYmICFkYXRhLmVycm9yKSB7XG4gICAgICAgICAgdGhpcy5jb25maWcgPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLmNvbmZpZywgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhbGwodGhpcywgVS5wYXJzZUpzb24odGhpcy4kdGFyZ2V0LmF0dHIoXCJkYXRhLWF4NnVpLXVwbG9hZGVyLWNvbmZpZ1wiKSwgdHJ1ZSkpO1xuXG4gICAgICAvLyBkZXRlY3QgZWxlbWVudFxuICAgICAgLy8vIGZpbGVTZWxlY3RvciDsiJjsp5FcbiAgICAgIHRoaXMuJGZpbGVTZWxlY3RvciA9IHRoaXMuJHRhcmdldC5maW5kKCdbZGF0YS1heDZ1aS11cGxvYWRlci1idXR0b249XCJzZWxlY3RvclwiXScpO1xuICAgICAgaWYgKHRoaXMuJGZpbGVTZWxlY3Rvci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coaW5mby5nZXRFcnJvcihcImF4NnVpLXVwbG9hZGVyXCIsIFwiNDAyXCIsIFwiY2FuIG5vdCBmaW5kIGZpbGUgc2VsZWN0b3JcIikpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gaW5wdXQgZmlsZSDstpTqsIBcbiAgICAgIGF0dGFjaEZpbGVUYWcuY2FsbCh0aGlzKTtcblxuICAgICAgLy8gYnRucyDtmZXsnbhcbiAgICAgIHRoaXMuY29uZmlnLmJ0bnMgPSBqUXVlcnkuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRCdG5zLCB0aGlzLmNvbmZpZy5idG5zKTtcblxuICAgICAgdGhpcy4kcHJvZ3Jlc3NCb3ggPSBqUXVlcnkobXVzdGFjaGUucmVuZGVyKHRtcGwucHJvZ3Jlc3NCb3guY2FsbCh0aGlzKSwge1xuICAgICAgICBpbnN0YW5jZUlkOiB0aGlzLmluc3RhbmNlSWQsXG4gICAgICAgIGJ0bnM6IHRoaXMuY29uZmlnLmJ0bnNcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuJHByb2dyZXNzQmFyID0gdGhpcy4kcHJvZ3Jlc3NCb3guZmluZCgnW3JvbGU9XCJwcm9ncmVzc2JhclwiXScpO1xuICAgICAgdGhpcy4kcHJvZ3Jlc3NCYXJWYWwgPSB0aGlzLiRwcm9ncmVzc0JveC5maW5kKCdbcm9sZT1cInByb2dyZXNzYmFydmFsXCJdJyk7XG4gICAgICB0aGlzLiRwcm9ncmVzc0JveEFycm93ID0gdGhpcy4kcHJvZ3Jlc3NCb3guZmluZChcIi5heC1wcm9ncmVzc2JveC1hcnJvd1wiKTtcbiAgICAgIHRoaXMuJHByb2dyZXNzVXBsb2FkID0gdGhpcy4kcHJvZ3Jlc3NCb3guZmluZCgnW2RhdGEtcHJlZ3Jlc3Nib3gtYnRuPVwidXBsb2FkXCJdJyk7XG4gICAgICB0aGlzLiRwcm9ncmVzc0Fib3J0ID0gdGhpcy4kcHJvZ3Jlc3NCb3guZmluZCgnW2RhdGEtcHJlZ3Jlc3Nib3gtYnRuPVwiYWJvcnRcIl0nKTtcblxuICAgICAgLy8gZmlsZSBBUEnqsIAg7KeA7JuQ65CY7KeAIOyViuuKlCDruIzrnbzsmrDsoIDripQg7KSR7KeAIOq4sOuKpSDsoJzqs7Ug66q77ZWoLlxuICAgICAgaWYgKCFpbmZvLnN1cHBvcnRGaWxlQXBpKSB7XG4gICAgICAgIHRoaXMuJHByb2dyZXNzQWJvcnQuY3NzKHsgZGlzcGxheTogXCJub25lXCIgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIO2MjOydvOuyhO2KvCDrk7Hsl5Ag7J2067Kk7Yq4IOyXsOqysC5cbiAgICAgIGJpbmRFdmVudC5jYWxsKHRoaXMpO1xuICAgICAgcmVwYWludFVwbG9hZGVkQm94LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gaW5pdCDtmLjstpwg7Jes67aAXG4gICAgdGhpcy5pbml0T25jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICovXG4gIGluaXRPbmNlKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm5zIHtBWDZVSVVwbG9hZGVyfVxuICAgKi9cbiAgc2VuZCgpIHtcbiAgICAvLyDsl4XroZzrk5wg7Iuc7J6RXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRGaWxlcy5sZW5ndGggJiYgVS5pc0Z1bmN0aW9uKHRoaXMuY29uZmlnLnZhbGlkYXRlU2VsZWN0ZWRGaWxlcykpIHtcbiAgICAgIGxldCB0aGF0ID0ge1xuICAgICAgICBzZWxmOiB0aGlzLFxuICAgICAgICB1cGxvYWRlZEZpbGVzOiB0aGlzLnVwbG9hZGVkRmlsZXMsXG4gICAgICAgIHNlbGVjdGVkRmlsZXM6IHRoaXMuc2VsZWN0ZWRGaWxlc1xuICAgICAgfTtcbiAgICAgIGlmICghdGhpcy5jb25maWcudmFsaWRhdGVTZWxlY3RlZEZpbGVzLmNhbGwodGhhdCwgdGhhdCkpIHtcbiAgICAgICAgY2FuY2VsVXBsb2FkLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8g7KCE7Iah7LKY66asIOyViO2VqC5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydFVwbG9hZC5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybnMge0FYNlVJVXBsb2FkZXJ9XG4gICAqL1xuICBhYm9ydCgpIHtcbiAgICBpZiAoIWluZm8uc3VwcG9ydEZpbGVBcGkpIHtcbiAgICAgIGFsZXJ0KFwiVGhpcyBicm93c2VyIG5vdCBzdXBwb3J0ZWQgYWJvcnQgbWV0aG9kXCIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNhbmNlbFVwbG9hZC5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtBcnJheX0gX2ZpbGVzIC0gSlNPTiBmb3JtYXR0aW5nIGNhbiBhbGwgYmUgb3ZlcnJpZGRlbiBpbiBjb2x1bW5LZXlzLlxuICAgKiBAcmV0dXJucyB7QVg2VUlVcGxvYWRlcn1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogJC5hamF4KHtcbiAgICogICAgIHVybDogXCJhcGkvZmlsZUxpc3RMb2FkLnBocFwiLFxuICAgKiAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgKiAgICAgICAgIC8vIHJlcyBKU09OIGZvcm1hdFxuICAgKiAgICAgICAgIC8vIFt7XG4gICAqICAgICAgICAgLy8gXCJuYW1lXCI6IFwiYmFyY29kZS1zY2FuLWFuaS5naWZcIixcbiAgICogICAgICAgICAvLyBcInNhdmVOYW1lXCI6IFwiYmFyY29kZS1zY2FuLWFuaS5naWZcIixcbiAgICogICAgICAgICAvLyBcInR5cGVcIjogXCJmaWxlXCIsXG4gICAqICAgICAgICAgLy8gXCJmaWxlU2l6ZVwiOiBcIjM4OTE2NjRcIixcbiAgICogICAgICAgICAvLyBcInVwbG9hZGVkUGF0aFwiOiBcIi9heDV1aS11cGxvYWRlci90ZXN0L2FwaS9maWxlc1wiLFxuICAgKiAgICAgICAgIC8vIFwidGh1bWJVcmxcIjogXCJcIlxuICAgKiAgICAgICAgIC8vIH1dXG4gICAqICAgICAgICAgdXBsb2FkLnNldFVwbG9hZGVkRmlsZXMocmVzKTtcbiAgICogICAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgc2V0VXBsb2FkZWRGaWxlcyhfZmlsZXMpIHtcbiAgICBpZiAoVS5pc0FycmF5KF9maWxlcykpIHtcbiAgICAgIHRoaXMudXBsb2FkZWRGaWxlcyA9IF9maWxlcztcbiAgICB9XG4gICAgaWYgKFUuaXNTdHJpbmcoX2ZpbGVzKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy51cGxvYWRlZEZpbGVzID0gSlNPTi5wYXJzZShfZmlsZXMpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICByZXBhaW50VXBsb2FkZWRCb3guY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBjbGVhciB1cGxvYWRlZEZpbGVzXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybnMge0FYNlVJVXBsb2FkZXJ9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLnNldFVwbG9hZGVkRmlsZXMoW10pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBpbmRleCBwYXNzZWQgdG8gdGhlIGFyZ3VtZW50IGZyb20gdXBsb2FkZWRGaWxlcy5cbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge051bWJlcn0gX2luZGV4XG4gICAqIEByZXR1cm5zIHtBWDZVSVVwbG9hZGVyfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiAvLyBUaGUgYWN0dWFsIGZpbGUgaXMgbm90IGRlbGV0ZWRcbiAgICogdXBsb2FkLnJlbW92ZUZpbGUoZmlsZUluZGV4KTtcbiAgICogYGBgXG4gICAqL1xuICByZW1vdmVGaWxlKF9pbmRleCkge1xuICAgIGlmICghaXNOYU4oTnVtYmVyKF9pbmRleCkpKSB7XG4gICAgICB0aGlzLnVwbG9hZGVkRmlsZXMuc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgfVxuICAgIHJlcGFpbnRVcGxvYWRlZEJveC5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtcHR5IHVwbG9hZGVkRmlsZXNcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJucyB7QVg2VUlVcGxvYWRlcn1cbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICpcbiAgICogYGBgXG4gICAqL1xuICByZW1vdmVGaWxlQWxsKCkge1xuICAgIHRoaXMudXBsb2FkZWRGaWxlcyA9IFtdO1xuICAgIHJlcGFpbnRVcGxvYWRlZEJveC5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqL1xuICBzZWxlY3RGaWxlKCkge1xuICAgIGlmIChpbmZvLnN1cHBvcnRGaWxlQXBpKSB7XG4gICAgICB0aGlzLiRpbnB1dEZpbGUudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBWDZVSVVwbG9hZGVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJVXBsb2FkZXIuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgalF1ZXJ5IGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IEFYNlVJQ29yZSBmcm9tIFwiLi9BWDZVSUNvcmUuanNcIjtcbmltcG9ydCBpbmZvIGZyb20gXCIuL0FYNkluZm9cIjtcbmltcG9ydCBVIGZyb20gXCIuL0FYNlV0aWxcIjtcbmltcG9ydCBtdXN0YWNoZSBmcm9tIFwiLi9BWDZNdXN0YWNoZVwiO1xuXG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIGltcG9ydCAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxubGV0IGN0cmxLZXlzID0ge1xuICBcIjE4XCI6IFwiS0VZX0FMVFwiLFxuICAvL1wiOFwiOiBcIktFWV9CQUNLU1BBQ0VcIixcbiAgXCIxN1wiOiBcIktFWV9DT05UUk9MXCIsXG4gIFwiNDZcIjogXCJLRVlfREVMRVRFXCIsXG4gIFwiNDBcIjogXCJLRVlfRE9XTlwiLFxuICBcIjM1XCI6IFwiS0VZX0VORFwiLFxuICBcIjE4N1wiOiBcIktFWV9FUVVBTFwiLFxuICAvL1wiMjdcIjogXCJLRVlfRVNDXCIsXG4gIFwiMzZcIjogXCJLRVlfSE9NRVwiLFxuICBcIjQ1XCI6IFwiS0VZX0lOU0VSVFwiLFxuICBcIjM3XCI6IFwiS0VZX0xFRlRcIixcbiAgXCIxODlcIjogXCJLRVlfTUlOVVNcIixcbiAgXCIzNFwiOiBcIktFWV9QQUdFRE9XTlwiLFxuICBcIjMzXCI6IFwiS0VZX1BBR0VVUFwiLFxuICAvLyBcIjE5MFwiOiBcIktFWV9QRVJJT0RcIixcbiAgLy9cIjEzXCI6IFwiS0VZX1JFVFVSTlwiLFxuICBcIjM5XCI6IFwiS0VZX1JJR0hUXCIsXG4gIFwiMTZcIjogXCJLRVlfU0hJRlRcIixcbiAgLy8gXCIzMlwiOiBcIktFWV9TUEFDRVwiLFxuICBcIjlcIjogXCJLRVlfVEFCXCIsXG4gIFwiMzhcIjogXCJLRVlfVVBcIixcbiAgXCI5MVwiOiBcIktFWV9XSU5ET1dcIlxuICAvL1wiMTA3XCIgOiBcIk5VTVBBRF9BRERcIixcbiAgLy9cIjE5NFwiIDogXCJOVU1QQURfQ09NTUFcIixcbiAgLy9cIjExMFwiIDogXCJOVU1QQURfREVDSU1BTFwiLFxuICAvL1wiMTExXCIgOiBcIk5VTVBBRF9ESVZJREVcIixcbiAgLy9cIjEyXCIgOiBcIk5VTVBBRF9FUVVBTFwiLFxuICAvL1wiMTA2XCIgOiBcIk5VTVBBRF9NVUxUSVBMWVwiLFxuICAvL1wiMTA5XCIgOiBcIk5VTVBBRF9TVUJUUkFDVFwiXG59O1xubGV0IHRtcGwgPSB7XG4gIFwib3B0aW9uR3JvdXBcIihjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGBcbjxkaXYgY2xhc3M9XCJheDZ1aS1hdXRvY29tcGxldGUtb3B0aW9uLWdyb3VwIHt7dGhlbWV9fSB7e3NpemV9fVwiIGRhdGEtYXg2dWktYXV0b2NvbXBsZXRlLW9wdGlvbi1ncm91cD1cInt7aWR9fVwiPlxuICAgIDxkaXYgY2xhc3M9XCJheC1hdXRvY29tcGxldGUtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtYXV0b2NvbXBsZXRlLW9wdGlvbi1ncm91cC1jb250ZW50XCIgZGF0YS1lbHM9XCJjb250ZW50XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImF4LWF1dG9jb21wbGV0ZS1hcnJvd1wiPjwvZGl2PiBcbjwvZGl2PlxuYDtcbiAgfSxcbiAgXCJhdXRvY29tcGxldGVEaXNwbGF5XCIoY29sdW1uS2V5cykge1xuICAgIHJldHVybiBgIFxuPGlucHV0IHRhYmluZGV4PVwiLTFcIiB0eXBlPVwidGV4dFwiIGRhdGEtaW5wdXQtZHVtbXk9XCJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgLz5cbjxkaXYgY2xhc3M9XCJheDZ1aS1hdXRvY29tcGxldGUtZGlzcGxheSB7e3RoZW1lfX1cIiBkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1kaXNwbGF5PVwie3tpZH19XCIgZGF0YS1heDZ1aS1hdXRvY29tcGxldGUtaW5zdGFuY2U9XCJ7e2luc3RhbmNlSWR9fVwiIHN0eWxlPVwiaGVpZ2h0OiB7e2hlaWdodH19cHg7XCI+XG4gICAgPGRpdiBjbGFzcz1cImF4NnVpLWF1dG9jb21wbGV0ZS1kaXNwbGF5LXRhYmxlXCIgZGF0YS1lbHM9XCJkaXNwbGF5LXRhYmxlXCI+XG4gICAgICAgIDxkaXYgZGF0YS1heDZ1aS1hdXRvY29tcGxldGUtZGlzcGxheT1cImxhYmVsLWhvbGRlclwiPiBcbiAgICAgICAgICA8YSB7e150YWJJbmRleH19e3svdGFiSW5kZXh9fXt7I3RhYkluZGV4fX10YWJpbmRleD1cInt7dGFiSW5kZXh9fVwiIHt7L3RhYkluZGV4fX0gZGF0YS1heDZ1aS1hdXRvY29tcGxldGUtZGlzcGxheT1cImxhYmVsXCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgc3R5bGU9XCJwYWRkaW5nOiAwIHt7cGFkZGluZ0xlZnR9fXB4O1wiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1kaXNwbGF5PVwiaW5wdXRcIiBzdHlsZT1cImJvcmRlcjowIG5vbmU7aGVpZ2h0OiB7e29wdGlvbkl0ZW1IZWlnaHR9fXB4O2xpbmUtaGVpZ2h0OiB7e29wdGlvbkl0ZW1IZWlnaHR9fXB4O1wiIC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1kaXNwbGF5PVwiYWRkb25cIj4gXG4gICAgICAgICAgICB7eyNtdWx0aXBsZX19e3sjcmVzZXR9fVxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhZGRvbi1pY29uLXJlc2V0XCIgZGF0YS1zZWxlY3RlZC1jbGVhcj1cInRydWVcIj57e3sufX19PC9zcGFuPlxuICAgICAgICAgICAge3svcmVzZXR9fXt7L211bHRpcGxlfX1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cbmA7XG4gIH0sXG4gIFwiZm9ybVNlbGVjdFwiKGNvbHVtbktleXMpIHtcbiAgICByZXR1cm4gYFxuPHNlbGVjdCB0YWJpbmRleD1cIi0xXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wge3tmb3JtU2l6ZX19XCIgbmFtZT1cInt7bmFtZX19XCIgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPjwvc2VsZWN0PlxuYDtcbiAgfSxcbiAgXCJmb3JtU2VsZWN0T3B0aW9uc1wiKGNvbHVtbktleXMpIHtcbiAgICByZXR1cm4gYFxue3sjc2VsZWN0ZWR9fVxuPG9wdGlvbiB2YWx1ZT1cInt7JHtjb2x1bW5LZXlzLm9wdGlvblZhbHVlfX19XCIgc2VsZWN0ZWQ9XCJ0cnVlXCI+e3ske2NvbHVtbktleXMub3B0aW9uVGV4dH19fTwvb3B0aW9uPlxue3svc2VsZWN0ZWR9fVxuYDtcbiAgfSxcbiAgXCJvcHRpb25zXCIoY29sdW1uS2V5cykge1xuICAgIHJldHVybiBgXG57eyN3YWl0T3B0aW9uc319XG4gICAgPGRpdiBjbGFzcz1cImF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbS1ob2xkZXJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbS1jZWxsIGF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbS1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICB7e3tsYW5nLmxvYWRpbmd9fX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG57ey93YWl0T3B0aW9uc319XG57e153YWl0T3B0aW9uc319XG4gICAge3sjb3B0aW9uc319XG4gICAgICAgIHt7XmhpZGV9fVxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXgtYXV0b2NvbXBsZXRlLW9wdGlvbi1pdGVtXCIgZGF0YS1vcHRpb24tZm9jdXMtaW5kZXg9XCJ7e0BmaW5kZXh9fVwiIGRhdGEtb3B0aW9uLWluZGV4PVwie3tAaW5kZXh9fVwiIGRhdGEtb3B0aW9uLXZhbHVlPVwie3ske2NvbHVtbktleXMub3B0aW9uVmFsdWV9fX1cIiB7eyMke2NvbHVtbktleXMub3B0aW9uU2VsZWN0ZWR9fX1kYXRhLW9wdGlvbi1zZWxlY3RlZD1cInRydWVcInt7LyR7Y29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZH19fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJheC1hdXRvY29tcGxldGUtb3B0aW9uLWl0ZW0taG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJheC1hdXRvY29tcGxldGUtb3B0aW9uLWl0ZW0tY2VsbCBheC1hdXRvY29tcGxldGUtb3B0aW9uLWl0ZW0tbGFiZWxcIj57eyR7Y29sdW1uS2V5cy5vcHRpb25UZXh0fX19PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7ey9oaWRlfX1cbiAgICB7ey9vcHRpb25zfX1cbiAgICB7e15vcHRpb25zfX1cbiAgICAgICAgPGRpdiBjbGFzcz1cImF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbS1ob2xkZXJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbS1jZWxsIGF4LWF1dG9jb21wbGV0ZS1vcHRpb24taXRlbS1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICB7e3tsYW5nLm5vT3B0aW9uc319fVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICB7ey9vcHRpb25zfX1cbnt7L3dhaXRPcHRpb25zfX1cbmA7XG4gIH0sXG4gIFwibGFiZWxcIihjb2x1bW5LZXlzKSB7XG4gICAgcmV0dXJuIGB7eyNzZWxlY3RlZH19XG48ZGl2IHRhYmluZGV4PVwiLTFcIiBkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1zZWxlY3RlZC1sYWJlbD1cInt7QGl9fVwiIGRhdGEtYXg2dWktYXV0b2NvbXBsZXRlLXNlbGVjdGVkLXRleHQ9XCJ7e3RleHR9fVwiIHN0eWxlPVwiaGVpZ2h0OiB7e29wdGlvbkl0ZW1IZWlnaHR9fXB4O1wiPiAgXG4gIDxkaXYgY2xhc3M9XCJsYWJlbC1jZWxsXCI+e3ske2NvbHVtbktleXMub3B0aW9uVGV4dH19fTwvZGl2PlxuICA8ZGl2IGNsYXNzPVwibGFiZWwtY2VsbFwiIGRhdGEtYXg2dWktYXV0b2NvbXBsZXRlLXJlbW92ZT1cInRydWVcIiBkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1yZW1vdmUtaW5kZXg9XCJ7e0BpfX1cIj57e3tyZW1vdmVJY29ufX19PC9kaXY+XG48L2Rpdj57ey9zZWxlY3RlZH19YDtcbiAgfVxufTtcblxuY29uc3Qgb25TdGF0ZUNoYW5nZWQgPSBmdW5jdGlvbiAoaXRlbSwgdGhhdCkge1xuICBpZiAoaXRlbSAmJiBpdGVtLm9uU3RhdGVDaGFuZ2VkKSB7XG4gICAgaXRlbS5vblN0YXRlQ2hhbmdlZC5jYWxsKHRoYXQsIHRoYXQpO1xuICB9IGVsc2UgaWYgKHRoaXMub25TdGF0ZUNoYW5nZWQpIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkLmNhbGwodGhhdCwgdGhhdCk7XG4gIH1cblxuICBpZiAodGhhdC5zdGF0ZSA9PSBcImNoYW5nZVZhbHVlXCIpIHtcbiAgICBpZiAoaXRlbSAmJiBpdGVtLm9uQ2hhbmdlKSB7XG4gICAgICBpdGVtLm9uQ2hhbmdlLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlLmNhbGwodGhhdCwgdGhhdCk7XG4gICAgfVxuICB9XG5cbiAgaXRlbSA9IG51bGw7XG4gIHRoYXQgPSBudWxsO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBhbGlnbkF1dG9jb21wbGV0ZURpc3BsYXkgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBpID0gdGhpcy5xdWV1ZS5sZW5ndGgsXG4gICAgICB3O1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbaV07XG4gICAgaWYgKGl0ZW0uJGRpc3BsYXkpIHtcbiAgICAgIHcgPSBNYXRoLm1heChpdGVtLiRzZWxlY3Qub3V0ZXJXaWR0aCgpLCBVLm51bWJlcihpdGVtLm1pbldpZHRoKSk7XG4gICAgICBpdGVtLiRkaXNwbGF5LmNzcyh7XG4gICAgICAgIFwibWluLXdpZHRoXCI6IHdcbiAgICAgIH0pO1xuICAgICAgaWYgKGl0ZW0ucmVzZXQpIHtcbiAgICAgICAgaXRlbS4kZGlzcGxheS5maW5kKFwiLmFkZG9uLWljb24tcmVzZXRcIikuY3NzKHtcbiAgICAgICAgICBcImxpbmUtaGVpZ2h0XCI6IHRoaXMucXVldWVbaV0uJGRpc3BsYXkuaGVpZ2h0KCkgKyBcInB4XCJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIOuGkuydtOyhsOygiCDsspjrpqxcbiAgICAgIGlmIChpdGVtLm11bHRpcGxlKSB7XG4gICAgICAgIHZhciBkaXNwbGF5VGFibGVIZWlnaHRBZGp1c3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIFUubnVtYmVyKGl0ZW0uJGRpc3BsYXkuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSkgKyBVLm51bWJlcihpdGVtLiRkaXNwbGF5LmNzcyhcImJvcmRlci1ib3R0b20td2lkdGhcIikpO1xuICAgICAgICB9LmNhbGwodGhpcyk7XG4gICAgICAgIGl0ZW0uJHRhcmdldC5oZWlnaHQoJycpO1xuICAgICAgICBpdGVtLiRkaXNwbGF5LmhlaWdodCgnJyk7XG5cbiAgICAgICAgdmFyIGRpc3BsYXlUYWJsZUhlaWdodCA9IGl0ZW0uJGRpc3BsYXlUYWJsZS5vdXRlckhlaWdodCgpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzcGxheVRhYmxlSGVpZ2h0IC0gaXRlbS4kdGFyZ2V0LmhlaWdodCgpKSA+IGRpc3BsYXlUYWJsZUhlaWdodEFkanVzdCkge1xuICAgICAgICAgIGl0ZW0uJHRhcmdldC5jc3MoeyBoZWlnaHQ6IGRpc3BsYXlUYWJsZUhlaWdodCArIGRpc3BsYXlUYWJsZUhlaWdodEFkanVzdCArIDQgfSk7XG4gICAgICAgICAgaXRlbS4kZGlzcGxheS5jc3MoeyBoZWlnaHQ6IGRpc3BsYXlUYWJsZUhlaWdodCArIGRpc3BsYXlUYWJsZUhlaWdodEFkanVzdCArIDQgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpID0gbnVsbDtcbiAgdyA9IG51bGw7XG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IGFsaWduQXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAgPSBmdW5jdGlvbiAoYXBwZW5kKSB7XG4gIGlmIChhcHBlbmQgJiYgIXRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXApIHJldHVybiB0aGlzO1xuXG4gIGxldCBpdGVtID0gdGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXhdLFxuICAgICAgcG9zID0ge30sXG4gICAgICBwb3NpdGlvbk1hcmdpbiA9IDAsXG4gICAgICBkaW0gPSB7fSxcbiAgICAgIHBpY2tlckRpbSA9IHt9LFxuICAgICAgcGlja2VyRGlyZWN0aW9uO1xuXG4gIGlmICghaXRlbSkgcmV0dXJuIHRoaXM7XG4gIGlmIChhcHBlbmQpIGpRdWVyeShkb2N1bWVudC5ib2R5KS5hcHBlbmQodGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cCk7XG5cbiAgcG9zID0gaXRlbS4kdGFyZ2V0Lm9mZnNldCgpO1xuICBkaW0gPSB7XG4gICAgd2lkdGg6IGl0ZW0uJHRhcmdldC5vdXRlcldpZHRoKCksXG4gICAgaGVpZ2h0OiBpdGVtLiR0YXJnZXQub3V0ZXJIZWlnaHQoKVxuICB9O1xuICBwaWNrZXJEaW0gPSB7XG4gICAgd2luV2lkdGg6IE1hdGgubWF4KGpRdWVyeSh3aW5kb3cpLndpZHRoKCksIGpRdWVyeShkb2N1bWVudC5ib2R5KS53aWR0aCgpKSxcbiAgICB3aW5IZWlnaHQ6IE1hdGgubWF4KGpRdWVyeSh3aW5kb3cpLmhlaWdodCgpLCBqUXVlcnkoZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkpLFxuICAgIHdpZHRoOiB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLm91dGVyV2lkdGgoKSxcbiAgICBoZWlnaHQ6IHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAub3V0ZXJIZWlnaHQoKVxuICB9O1xuXG4gIC8vIHBpY2tlciBjc3Mod2lkdGgsIGxlZnQsIHRvcCkgJiBkaXJlY3Rpb24g6rKw7KCVXG4gIGlmICghaXRlbS5kaXJlY3Rpb24gfHwgaXRlbS5kaXJlY3Rpb24gPT09IFwiXCIgfHwgaXRlbS5kaXJlY3Rpb24gPT09IFwiYXV0b1wiKSB7XG4gICAgLy8gc2V0IGRpcmVjdGlvblxuICAgIHBpY2tlckRpcmVjdGlvbiA9IFwidG9wXCI7XG5cbiAgICBpZiAocG9zLnRvcCAtIHBpY2tlckRpbS5oZWlnaHQgLSBwb3NpdGlvbk1hcmdpbiA8IDApIHtcbiAgICAgIHBpY2tlckRpcmVjdGlvbiA9IFwidG9wXCI7XG4gICAgfSBlbHNlIGlmIChwb3MudG9wICsgZGltLmhlaWdodCArIHBpY2tlckRpbS5oZWlnaHQgKyBwb3NpdGlvbk1hcmdpbiA+IHBpY2tlckRpbS53aW5IZWlnaHQpIHtcbiAgICAgIHBpY2tlckRpcmVjdGlvbiA9IFwiYm90dG9tXCI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBpY2tlckRpcmVjdGlvbiA9IGl0ZW0uZGlyZWN0aW9uO1xuICB9XG5cbiAgaWYgKGFwcGVuZCkge1xuICAgIHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuYWRkQ2xhc3MoXCJkaXJlY3Rpb24tXCIgKyBwaWNrZXJEaXJlY3Rpb24pO1xuICB9XG4gIHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuY3NzKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocGlja2VyRGlyZWN0aW9uID09IFwidG9wXCIpIHtcbiAgICAgIGlmIChwb3MudG9wICsgZGltLmhlaWdodCArIHBpY2tlckRpbS5oZWlnaHQgKyBwb3NpdGlvbk1hcmdpbiA+IHBpY2tlckRpbS53aW5IZWlnaHQpIHtcblxuICAgICAgICB2YXIgbmV3VG9wID0gcG9zLnRvcCArIHBpY2tlckRpbS5oZWlnaHQ7XG4gICAgICAgIGlmIChuZXdUb3AgKyBwaWNrZXJEaW0uaGVpZ2h0ICsgcG9zaXRpb25NYXJnaW4gPiBwaWNrZXJEaW0ud2luSGVpZ2h0KSB7XG4gICAgICAgICAgbmV3VG9wID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3VG9wIDwgMCkge1xuICAgICAgICAgIG5ld1RvcCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6IHBvcy5sZWZ0LFxuICAgICAgICAgIHRvcDogbmV3VG9wLFxuICAgICAgICAgIHdpZHRoOiBkaW0ud2lkdGhcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IHBvcy5sZWZ0LFxuICAgICAgICB0b3A6IHBvcy50b3AgKyBkaW0uaGVpZ2h0ICsgMSxcbiAgICAgICAgd2lkdGg6IGRpbS53aWR0aFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHBpY2tlckRpcmVjdGlvbiA9PSBcImJvdHRvbVwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBwb3MubGVmdCxcbiAgICAgICAgdG9wOiBwb3MudG9wIC0gcGlja2VyRGltLmhlaWdodCAtIDEsXG4gICAgICAgIHdpZHRoOiBkaW0ud2lkdGhcbiAgICAgIH07XG4gICAgfVxuICB9LmNhbGwodGhpcykpO1xufTtcbmNvbnN0IG9uQm9keUNsaWNrID0gZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICBpZiAoIXRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXApIHJldHVybiB0aGlzO1xuXG4gIGxldCBpdGVtID0gdGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXhdLFxuICAgICAgY2xpY2tFbCA9IFwiZGlzcGxheVwiO1xuXG4gIHRhcmdldCA9IFUuZmluZFBhcmVudE5vZGUoZS50YXJnZXQsIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtb3B0aW9uLXZhbHVlXCIpKSB7XG4gICAgICBjbGlja0VsID0gXCJvcHRpb25JdGVtXCI7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uJHRhcmdldC5nZXQoMCkgPT0gdGFyZ2V0KSB7XG4gICAgICBjbGlja0VsID0gXCJkaXNwbGF5XCI7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9IGVsc2UgaWYgKGNsaWNrRWwgPT09IFwib3B0aW9uSXRlbVwiKSB7XG4gICAgc2V0U2VsZWN0ZWQuY2FsbCh0aGlzLCBpdGVtLmlkLCB7XG4gICAgICBvcHRpb25JbmRleDoge1xuICAgICAgICBpbmRleDogdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtb3B0aW9uLWluZGV4XCIpXG4gICAgICB9XG4gICAgfSwgdW5kZWZpbmVkLCBcIm9wdGlvbkl0ZW1DbGlja1wiKTtcbiAgICBhbGlnbkF1dG9jb21wbGV0ZURpc3BsYXkuY2FsbCh0aGlzKTtcbiAgICBhbGlnbkF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLmNhbGwodGhpcyk7XG4gICAgaWYgKCFpdGVtLm11bHRpcGxlKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9IGVsc2Uge31cblxuICByZXR1cm4gdGhpcztcbn07XG5jb25zdCBnZXRMYWJlbCA9IGZ1bmN0aW9uIChxdWVJZHgpIHtcbiAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF07XG5cbiAgLy8g7YWc7ZSM66a/7JeQIOyghOuLrCDtlbTslbztlaAg642w7J207YSwIOyEoOyWuFxuICBsZXQgZGF0YSA9IHt9O1xuICBkYXRhLmlkID0gaXRlbS5pZDtcbiAgZGF0YS50aGVtZSA9IGl0ZW0udGhlbWU7XG4gIGRhdGEubXVsdGlwbGUgPSBpdGVtLm11bHRpcGxlO1xuICBkYXRhLmxhbmcgPSBpdGVtLmxhbmc7XG4gIGRhdGEub3B0aW9ucyA9IGl0ZW0ub3B0aW9ucztcbiAgZGF0YS5zZWxlY3RlZCA9IGl0ZW0uc2VsZWN0ZWQ7XG4gIGRhdGEuaGFzU2VsZWN0ZWQgPSBkYXRhLnNlbGVjdGVkICYmIGRhdGEuc2VsZWN0ZWQubGVuZ3RoID4gMDtcbiAgZGF0YS5yZW1vdmVJY29uID0gaXRlbS5yZW1vdmVJY29uO1xuICBkYXRhLmhlaWdodCA9IGl0ZW0uaGVpZ2h0O1xuICBkYXRhLm9wdGlvbkl0ZW1IZWlnaHQgPSBpdGVtLm9wdGlvbkl0ZW1IZWlnaHQ7XG5cbiAgcmV0dXJuIG11c3RhY2hlLnJlbmRlcih0bXBsLmxhYmVsLmNhbGwodGhpcywgaXRlbS5jb2x1bW5LZXlzKSwgZGF0YSk7XG59O1xuY29uc3Qgc3luY0xhYmVsID0gZnVuY3Rpb24gKHF1ZUlkeCkge1xuICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XTtcblxuICBpZiAoIWl0ZW0ubXVsdGlwbGUgJiYgaXRlbS5zZWxlY3RlZCAmJiBpdGVtLnNlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICBpdGVtLnNlbGVjdGVkID0gW10uY29uY2F0KGl0ZW0uc2VsZWN0ZWRbaXRlbS5zZWxlY3RlZC5sZW5ndGggLSAxXSk7XG4gIH1cblxuICBpdGVtLnNlbGVjdGVkLmZvckVhY2goZnVuY3Rpb24gKG4sIG5pbmRleCkge1xuICAgIG5bXCJAaW5kZXhcIl0gPSBuaW5kZXg7XG4gIH0pO1xuXG4gIGl0ZW0uJHNlbGVjdC5odG1sKG11c3RhY2hlLnJlbmRlcih0bXBsLmZvcm1TZWxlY3RPcHRpb25zLmNhbGwodGhpcywgaXRlbS5jb2x1bW5LZXlzKSwge1xuICAgIHNlbGVjdGVkOiBpdGVtLnNlbGVjdGVkXG4gIH0pKTtcbn07XG5jb25zdCBwcmludExhYmVsID0gZnVuY3Rpb24gKHF1ZUlkeCkge1xuICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XTtcblxuICBpdGVtLiRkaXNwbGF5TGFiZWwuZmluZCgnW2RhdGEtYXg2dWktYXV0b2NvbXBsZXRlLXNlbGVjdGVkLWxhYmVsXScpLnJlbW92ZSgpO1xuICBpdGVtLiRkaXNwbGF5TGFiZWxJbnB1dC5iZWZvcmUoZ2V0TGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpKTtcbn07XG5jb25zdCBmb2N1c0xhYmVsID0gZnVuY3Rpb24gKHF1ZUlkeCkge1xuICBpZiAodGhpcy5xdWV1ZVtxdWVJZHhdLmRpc2FibGVkKSByZXR1cm4gdGhpcztcblxuICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJGRpc3BsYXlMYWJlbC50cmlnZ2VyKFwiZm9jdXNcIik7XG4gIHRoaXMucXVldWVbcXVlSWR4XS4kZGlzcGxheUxhYmVsSW5wdXQuZm9jdXMoKTtcbn07XG5jb25zdCBjbGVhckxhYmVsID0gZnVuY3Rpb24gKHF1ZUlkeCkge1xuICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJGRpc3BsYXlMYWJlbElucHV0LnZhbCgnJyk7XG59O1xuY29uc3QgYmx1ckxhYmVsID0gZnVuY3Rpb24gKHF1ZUlkeCkge1xuICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJGRpc3BsYXlMYWJlbC50cmlnZ2VyKFwiYmx1clwiKTtcbn07XG5jb25zdCBvblNlYXJjaCA9IGZ1bmN0aW9uIChxdWVJZHgsIHNlYXJjaFdvcmQpIHtcbiAgaWYgKHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlUXVldWVJbmRleCA9PSAtMSkgcmV0dXJuIHRoaXM7IC8vIOyYteyFmOuwleyKpOqwgCDri6vtnozsg4Htg5zsnbTrqbQg7KeE7ZaJ7JWI7ZWoLlxuICBsZXQgcmVnRXhwID0gL1tcXHtcXH1cXFtcXF1cXC8/Liw7OnxcXCkqfmAhXlxcLV8rPD5AXFwjJCUmXFxcXFxcPVxcKFxcJ1xcXCJdL2dpO1xuICBzZWFyY2hXb3JkID0gc2VhcmNoV29yZC5yZXBsYWNlKHJlZ0V4cCwgXCJcIik7XG5cbiAgdGhpcy5xdWV1ZVtxdWVJZHhdLndhaXRPcHRpb25zID0gdHJ1ZTtcbiAgdGhpcy5xdWV1ZVtxdWVJZHhdLm9uU2VhcmNoLmNhbGwoe1xuICAgIHNlbGY6IHRoaXMsXG4gICAgaXRlbTogdGhpcy5xdWV1ZVtxdWVJZHhdLFxuICAgIHNlYXJjaFdvcmQ6IHNlYXJjaFdvcmRcbiAgfSwgZnVuY3Rpb24gKE8pIHtcblxuICAgIGxldCBkYXRhID0ge307XG4gICAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3RoaXMuYWN0aXZlYXV0b2NvbXBsZXRlUXVldWVJbmRleF07XG4gICAgaWYgKCFpdGVtKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLy8g7ZiE7J6sIHNlbGVjdGVkIOqygOymne2bhCDsspjrpqxcbiAgICAoZnVuY3Rpb24gKGl0ZW0sIE8pIHtcbiAgICAgIGxldCBvcHRpb25zTWFwID0ge307XG4gICAgICBPLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoX08sIF9PSW5kZXgpIHtcbiAgICAgICAgX09bXCJAaW5kZXhcIl0gPSBfT0luZGV4O1xuICAgICAgICBfT1tcIkBmaW5kZXhcIl0gPSBfT0luZGV4O1xuICAgICAgICBvcHRpb25zTWFwW19PW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV1dID0gX087XG4gICAgICB9KTtcbiAgICAgIGlmIChVLmlzQXJyYXkoaXRlbS5zZWxlY3RlZCkpIHtcbiAgICAgICAgaXRlbS5zZWxlY3RlZC5mb3JFYWNoKGZ1bmN0aW9uIChfTykge1xuICAgICAgICAgIGlmIChvcHRpb25zTWFwW19PW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV1dKSB7XG4gICAgICAgICAgICBPLm9wdGlvbnNbb3B0aW9uc01hcFtfT1tpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdXVtcIkBpbmRleFwiXV1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KShpdGVtLCBPKTtcblxuICAgIGl0ZW0ub3B0aW9ucyA9IE8ub3B0aW9ucztcblxuICAgIGFsaWduQXV0b2NvbXBsZXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuXG4gICAgLy8vIO2FnO2UjOumv+yXkCDsoITri6ztlaAg7Jik67iM7KCd7Yq4IOyEoOyWuFxuICAgIGRhdGEuaWQgPSBpdGVtLmlkO1xuICAgIGRhdGEudGhlbWUgPSBpdGVtLnRoZW1lO1xuICAgIGRhdGEubXVsdGlwbGUgPSBpdGVtLm11bHRpcGxlO1xuICAgIGRhdGEubGFuZyA9IGl0ZW0ubGFuZztcbiAgICBkYXRhLm9wdGlvbnMgPSBpdGVtLm9wdGlvbnM7XG4gICAgdGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cC5maW5kKCdbZGF0YS1lbHM9XCJjb250ZW50XCJdJykuaHRtbChtdXN0YWNoZS5yZW5kZXIodG1wbC5vcHRpb25zLmNhbGwodGhpcywgaXRlbS5jb2x1bW5LZXlzKSwgZGF0YSkpO1xuXG4gICAgZm9jdXNXb3JkLmNhbGwodGhpcywgdGhpcy5hY3RpdmVhdXRvY29tcGxldGVRdWV1ZUluZGV4LCBzZWFyY2hXb3JkKTtcbiAgICBhbGlnbkF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLmNhbGwodGhpcyk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGFsaWduQXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuY2FsbCh0aGlzKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9LmJpbmQodGhpcykpO1xufTtcbmNvbnN0IGZvY3VzV29yZCA9IGZ1bmN0aW9uIChxdWVJZHgsIHNlYXJjaFdvcmQpIHtcbiAgaWYgKHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlUXVldWVJbmRleCA9PSAtMSkgcmV0dXJuIHRoaXM7IC8vIOyYteyFmOuwleyKpOqwgCDri6vtnozsg4Htg5zsnbTrqbQg7KeE7ZaJ7JWI7ZWoLlxuICBsZXQgY29sbGVjdF9vcHRpb25zID0gW10sXG4gICAgICBpID0gLTEsXG4gICAgICBsID0gdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbnMubGVuZ3RoIC0gMSxcbiAgICAgIG47XG4gIGlmIChzZWFyY2hXb3JkICE9IFwiXCIpIHtcbiAgICB3aGlsZSAobCAtIGkrKykge1xuICAgICAgbiA9IHRoaXMucXVldWVbcXVlSWR4XS5vcHRpb25zW2ldO1xuXG4gICAgICBpZiAoKCcnICsgbi50ZXh0KS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaFdvcmQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjb2xsZWN0X29wdGlvbnMgPSBbeyAnQGZpbmRleCc6IG5bJ0BmaW5kZXgnXSwgb3B0aW9uc1NvcnQ6IDAgfV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHNvcnQgPSAoJycgKyBuLnRleHQpLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHNlYXJjaFdvcmQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChzb3J0ID4gLTEpIHtcbiAgICAgICAgICBjb2xsZWN0X29wdGlvbnMucHVzaCh7ICdAZmluZGV4JzogblsnQGZpbmRleCddLCBvcHRpb25zU29ydDogc29ydCB9KTtcbiAgICAgICAgICBpZiAoY29sbGVjdF9vcHRpb25zLmxlbmd0aCA+IDIpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNvcnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBjb2xsZWN0X29wdGlvbnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEub3B0aW9uc1NvcnQgLSBiLm9wdGlvbnNTb3J0O1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNvbGxlY3Rfb3B0aW9ucyAmJiBjb2xsZWN0X29wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGZvY3VzTW92ZS5jYWxsKHRoaXMsIHF1ZUlkeCwgdW5kZWZpbmVkLCBjb2xsZWN0X29wdGlvbnNbMF1bJ0BmaW5kZXgnXSk7XG4gIH0gZWxzZSB7XG4gICAgZm9jdXNDbGVhci5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gIH1cbn07XG5jb25zdCBmb2N1c0NsZWFyID0gZnVuY3Rpb24gKHF1ZUlkeCkge1xuICBpZiAodGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cCkge1xuICAgIHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtb3B0aW9uLWZvY3VzLWluZGV4XScpLnJlbW92ZUNsYXNzKFwiaG92ZXJcIikucmVtb3ZlQXR0cihcImRhdGEtb3B0aW9uLXNlbGVjdGVkXCIpO1xuICB9XG5cbiAgdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbkZvY3VzSW5kZXggPSAtMTtcbn07XG5jb25zdCBmb2N1c01vdmUgPSBmdW5jdGlvbiAocXVlSWR4LCBkaXJlY3Rpb24sIGZpbmRleCkge1xuICBsZXQgX2ZvY3VzSW5kZXgsIF9wcmV2Rm9jdXNJbmRleCwgZm9jdXNPcHRpb25FbCwgb3B0aW9uR3JvdXBTY3JvbGxDb250YWluZXI7XG4gIGxldCBpdGVtID0gdGhpcy5xdWV1ZVtxdWVJZHhdO1xuXG4gIGlmICh0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwICYmIGl0ZW0ub3B0aW9ucyAmJiBpdGVtLm9wdGlvbnMubGVuZ3RoID4gMCkge1xuXG4gICAgaWYgKHR5cGVvZiBmaW5kZXggIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIF9mb2N1c0luZGV4ID0gZmluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICBfcHJldkZvY3VzSW5kZXggPSBpdGVtLm9wdGlvbkZvY3VzSW5kZXggPT0gLTEgPyBpdGVtLm9wdGlvblNlbGVjdGVkSW5kZXggfHwgLTEgOiBpdGVtLm9wdGlvbkZvY3VzSW5kZXg7XG4gICAgICBpZiAoX3ByZXZGb2N1c0luZGV4ID09IC0xKSB7XG4gICAgICAgIF9mb2N1c0luZGV4ID0gMDtcbiAgICAgICAgLy9fZm9jdXNJbmRleCA9IChkaXJlY3Rpb24gPiAwKSA/IDAgOiBpdGVtLm9wdGlvbkl0ZW1MZW5ndGggLSAxOyAvLyDrp6gg64Gd7Jy866GcIOuztOuCvOqyg+yduOqwgCDrp5Ag6rKD7J246rCALlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2ZvY3VzSW5kZXggPSBfcHJldkZvY3VzSW5kZXggKyBkaXJlY3Rpb247XG4gICAgICAgIGlmIChfZm9jdXNJbmRleCA8IDApIF9mb2N1c0luZGV4ID0gMDtlbHNlIGlmIChfZm9jdXNJbmRleCA+IGl0ZW0ub3B0aW9uSXRlbUxlbmd0aCAtIDEpIF9mb2N1c0luZGV4ID0gaXRlbS5vcHRpb25JdGVtTGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpdGVtLm9wdGlvbkZvY3VzSW5kZXggPSBfZm9jdXNJbmRleDtcblxuICAgIC8vIO2PrOy7pOyKpCDsnbjrjbHsiqTqsIAgaGlkZeyVhOydtO2FnOydhCDrp4zrgpjrqbQgaGlkZSDslYTsnbTthZzsnbQg7JWI64KY7JisIOuVjOq5jOyngCDro6jtlITrpbwg7Iic7ZqMIO2VqeuLiOuLpC5cbiAgICBpZiAoaXRlbS5vcHRpb25zW19mb2N1c0luZGV4XSAmJiBpdGVtLm9wdGlvbnNbX2ZvY3VzSW5kZXhdLmhpZGUpIHtcbiAgICAgIC8vIOyYteyFmOydtCDsl4bripQg6rCS7J20IOyEoO2DneuQnCDqsr3smrBcbiAgICAgIGlmICh0eXBlb2YgZGlyZWN0aW9uID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGlzU3Ryb3AgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGl0ZW0ub3B0aW9uc1tfZm9jdXNJbmRleF0uaGlkZSkge1xuICAgICAgICAgIF9mb2N1c0luZGV4ID0gX2ZvY3VzSW5kZXggKyBkaXJlY3Rpb247XG4gICAgICAgICAgaWYgKF9mb2N1c0luZGV4IDwgMCkge1xuICAgICAgICAgICAgX2ZvY3VzSW5kZXggPSAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChfZm9jdXNJbmRleCA+IGl0ZW0ub3B0aW9uSXRlbUxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIF9mb2N1c0luZGV4ID0gaXRlbS5vcHRpb25JdGVtTGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgX2ZvY3VzSW5kZXggIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtb3B0aW9uLWZvY3VzLWluZGV4XScpLnJlbW92ZUNsYXNzKFwiaG92ZXJcIik7XG5cbiAgICAgIGZvY3VzT3B0aW9uRWwgPSB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLW9wdGlvbi1mb2N1cy1pbmRleD1cIicgKyBfZm9jdXNJbmRleCArICdcIl0nKS5hZGRDbGFzcyhcImhvdmVyXCIpO1xuXG4gICAgICBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lciA9IHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtZWxzPVwiY29udGVudFwiXScpO1xuXG4gICAgICBpZiAoZm9jdXNPcHRpb25FbC5nZXQoMCkpIHtcbiAgICAgICAgbGV0IGZvY3VzT3B0aW9uRWxIZWlnaHQgPSBmb2N1c09wdGlvbkVsLm91dGVySGVpZ2h0KCksXG4gICAgICAgICAgICBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lckhlaWdodCA9IG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVyLmlubmVySGVpZ2h0KCksXG4gICAgICAgICAgICBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lclNjcm9sbFRvcCA9IG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgZm9jdXNPcHRpb25FbFRvcCA9IGZvY3VzT3B0aW9uRWwucG9zaXRpb24oKS50b3AgKyBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AoKTtcblxuICAgICAgICBpZiAob3B0aW9uR3JvdXBTY3JvbGxDb250YWluZXJIZWlnaHQgKyBvcHRpb25Hcm91cFNjcm9sbENvbnRhaW5lclNjcm9sbFRvcCA8IGZvY3VzT3B0aW9uRWxUb3AgKyBmb2N1c09wdGlvbkVsSGVpZ2h0KSB7XG4gICAgICAgICAgb3B0aW9uR3JvdXBTY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wKGZvY3VzT3B0aW9uRWxUb3AgKyBmb2N1c09wdGlvbkVsSGVpZ2h0IC0gb3B0aW9uR3JvdXBTY3JvbGxDb250YWluZXJIZWlnaHQpO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVyU2Nyb2xsVG9wID4gZm9jdXNPcHRpb25FbFRvcCkge1xuICAgICAgICAgIG9wdGlvbkdyb3VwU2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcChmb2N1c09wdGlvbkVsVG9wKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpb25Hcm91cCBzY3JvbGwgY2hlY2tcblxuICAgICAgICBpZiAodHlwZW9mIGRpcmVjdGlvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW0uJGRpc3BsYXlMYWJlbElucHV0LnZhbChpdGVtLm9wdGlvbnNbX2ZvY3VzSW5kZXhdLnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuY29uc3QgYmluZEF1dG9jb21wbGV0ZVRhcmdldCA9IGZ1bmN0aW9uIChxdWVJZHgpIHtcbiAgbGV0IGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICBkYXRhID0ge307XG4gIGNvbnN0IGRlYm91bmNlZEZvY3VzV29yZCA9IFUuZGVib3VuY2UoZnVuY3Rpb24gKHF1ZUlkeCkge1xuICAgIGlmICh0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXggPT0gLTEpIHJldHVybiB0aGlzOyAvLyDsmLXshZjrsJXsiqTqsIAg64ur7Z6M7IOB7YOc7J2066m0IOynhO2WieyViO2VqC5cbiAgICBvblNlYXJjaC5jYWxsKHRoaXMsIHF1ZUlkeCwgdGhpcy5xdWV1ZVtxdWVJZHhdLiRkaXNwbGF5TGFiZWxJbnB1dC52YWwoKSk7XG4gIH0sIDEwMCkuYmluZCh0aGlzKTtcbiAgY29uc3QgYXV0b2NvbXBsZXRlRXZlbnQgPSB7XG4gICAgJ2NsaWNrJzogZnVuY3Rpb24gKHF1ZUlkeCwgZSkge1xuICAgICAgbGV0IGNsaWNrRWwgPSBcIlwiO1xuICAgICAgbGV0IHRhcmdldCA9IFUuZmluZFBhcmVudE5vZGUoZS50YXJnZXQsIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1yZW1vdmVcIikpIHtcbiAgICAgICAgICBjbGlja0VsID0gXCJvcHRpb25JdGVtUmVtb3ZlXCI7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtc2VsZWN0ZWQtY2xlYXJcIikpIHtcbiAgICAgICAgICBjbGlja0VsID0gXCJjbGVhclwiO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBpZiAoY2xpY2tFbCA9PT0gXCJvcHRpb25JdGVtUmVtb3ZlXCIpIHtcbiAgICAgICAgICBsZXQgcmVtb3ZlSW5kZXggPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1heDZ1aS1hdXRvY29tcGxldGUtcmVtb3ZlLWluZGV4XCIpO1xuICAgICAgICAgIHRoaXMucXVldWVbcXVlSWR4XS5zZWxlY3RlZC5zcGxpY2UocmVtb3ZlSW5kZXgsIDEpO1xuICAgICAgICAgIHN5bmNMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgICAgICAgcHJpbnRMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgICAgICAgZm9jdXNMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgICAgICAgYWxpZ25BdXRvY29tcGxldGVEaXNwbGF5LmNhbGwodGhpcyk7XG4gICAgICAgICAgYWxpZ25BdXRvY29tcGxldGVPcHRpb25Hcm91cC5jYWxsKHRoaXMpO1xuICAgICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2UgaWYgKGNsaWNrRWwgPT09IFwiY2xlYXJcIikge1xuICAgICAgICAgIHNldFNlbGVjdGVkLmNhbGwodGhpcywgcXVlSWR4LCB7IGNsZWFyOiB0cnVlIH0pO1xuICAgICAgICAgIGFsaWduQXV0b2NvbXBsZXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGFsaWduQXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlUXVldWVJbmRleCA9PSBxdWVJZHgpIHtcbiAgICAgICAgICBpZiAodGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbkZvY3VzSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIOyVhOydtO2FnOyXkCDtj6zsu6TsiqTqsIAg7Zmc7ISx7ZmUIOuQnCDtm4QsIOuniOyasOyKpCDsnbTrsqTtirgg7J2066m0IOustOyLnFxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb2N1c0xhYmVsLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ2tleVVwJzogZnVuY3Rpb24gKHF1ZUlkeCwgZSkge1xuICAgICAgLy8vIOyVveyGjeuQnCDtgqQg7J2067Kk7Yq46rCAIOuwnOyDne2VmOuptCBzdG9wRXZlbnTrpbwg7Ya17ZW0IGtleVVwIOydtOuypO2KuOqwgCDrsJzsg53rkJjsp4Ag7JWK64+E66GdIOunieyVhOyjvOuKlCDshLzsiqRcbiAgICAgIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLkVTQyAmJiB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXggPT09IC0xKSB7XG4gICAgICAgIC8vIEVTQ+2CpOulvCDriITrpbTqs6Ag7Ji17IWY6re466O57J20IOyXtOugpOyeiOyngCDslYrsnYAg6rK97JqwXG4gICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5UQUIpIHtcbiAgICAgICAgLy8gbm90aGluZ1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXggIT0gcXVlSWR4ICYmIGUud2hpY2ggIT0gaW5mby5ldmVudEtleXMuQkFDS1NQQUNFKSB7XG4gICAgICAgIC8vIOuLq+2ejCDsg4Htg5wg7J246rK97JqwXG4gICAgICAgIHRoaXMub3BlbihxdWVJZHgpOyAvLyBvcGVuIGFuZCBhbGlnblxuICAgICAgICBkZWJvdW5jZWRGb2N1c1dvcmQocXVlSWR4KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN0cmxLZXlzW2Uud2hpY2hdKSB7XG4gICAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYmFja3NwYWNlIOqwkOyngCDtlZjsl6wgaW5wdXQg6rCS7J20IOyXhuycvOuptCDsiqTtg5HsnbTrsqTtirgg7LKY66asIO2VoCDqsoNcbiAgICAgICAgaWYgKGUud2hpY2ggPT0gaW5mby5ldmVudEtleXMuQkFDS1NQQUNFICYmIHRoaXMucXVldWVbcXVlSWR4XS4kZGlzcGxheUxhYmVsSW5wdXQudmFsKCkgPT0gXCJcIikge1xuICAgICAgICAgIC8vIOuniOyngOuniSDslYTsnbTthZzsnYQg7KCc6rGwLlxuICAgICAgICAgIHRoaXMucXVldWVbcXVlSWR4XS5zZWxlY3RlZC5wb3AoKTtcbiAgICAgICAgICBzeW5jTGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgICAgICAgIHByaW50TGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgICAgICAgIGZvY3VzTGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgICAgICAgIGFsaWduQXV0b2NvbXBsZXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGFsaWduQXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuY2FsbCh0aGlzKTtcbiAgICAgICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWJvdW5jZWRGb2N1c1dvcmQocXVlSWR4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ2tleURvd24nOiBmdW5jdGlvbiAocXVlSWR4LCBlKSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XTtcbiAgICAgIGlmIChlLndoaWNoID09IGluZm8uZXZlbnRLZXlzLkVTQykge1xuICAgICAgICBjbGVhckxhYmVsLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5SRVRVUk4pIHtcbiAgICAgICAgbGV0IGlucHV0VmFsdWUgPSBpdGVtLiRkaXNwbGF5TGFiZWxJbnB1dC52YWwoKTtcbiAgICAgICAgaWYgKGl0ZW0ub3B0aW9uRm9jdXNJbmRleCA+IC0xKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWQuY2FsbCh0aGlzLCBpdGVtLmlkLCB7XG4gICAgICAgICAgICBvcHRpb25JbmRleDoge1xuICAgICAgICAgICAgICBpbmRleDogaXRlbS5vcHRpb25Gb2N1c0luZGV4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdW5kZWZpbmVkLCBcIm9wdGlvbkl0ZW1DbGlja1wiKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFZhbHVlICE9IFwiXCIpIHtcbiAgICAgICAgICBzZXRTZWxlY3RlZC5jYWxsKHRoaXMsIHF1ZUlkeCwgaW5wdXRWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgICAgIGFsaWduQXV0b2NvbXBsZXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgVS5zdG9wRXZlbnQoZSk7XG4gICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gaW5mby5ldmVudEtleXMuRE9XTikge1xuICAgICAgICBmb2N1c01vdmUuY2FsbCh0aGlzLCBxdWVJZHgsIDEpO1xuICAgICAgICBVLnN0b3BFdmVudChlKTtcbiAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSBpbmZvLmV2ZW50S2V5cy5VUCkge1xuICAgICAgICBmb2N1c01vdmUuY2FsbCh0aGlzLCBxdWVJZHgsIC0xKTtcbiAgICAgICAgVS5zdG9wRXZlbnQoZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnZm9jdXMnOiBmdW5jdGlvbiAocXVlSWR4LCBlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhlKTtcbiAgICB9LFxuICAgICdibHVyJzogZnVuY3Rpb24gKHF1ZUlkeCwgZSkge1xuICAgICAgYmx1ckxhYmVsLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgIH0sXG4gICAgJ3NlbGVjdENoYW5nZSc6IGZ1bmN0aW9uIChxdWVJZHgsIGUpIHtcbiAgICAgIHNldFNlbGVjdGVkLmNhbGwodGhpcywgcXVlSWR4LCB7IHZhbHVlOiBpdGVtLiRzZWxlY3QudmFsKCkgfSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBibHVyTGFiZWwgPSBmdW5jdGlvbiAocXVlSWR4KSB7XG4gICAgY2xlYXJMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gIH07XG5cbiAgaWYgKCFpdGVtLiRkaXNwbGF5KSB7XG4gICAgLy8vIO2FnO2UjOumv+yXkCDsoITri6ztlaAg7Jik67iM7KCd7Yq4IOyEoOyWuFxuICAgIGRhdGEuaW5zdGFuY2VJZCA9IHRoaXMuaW5zdGFuY2VJZDtcbiAgICBkYXRhLmlkID0gaXRlbS5pZDtcbiAgICBkYXRhLm5hbWUgPSBpdGVtLm5hbWU7XG4gICAgZGF0YS50aGVtZSA9IGl0ZW0udGhlbWU7XG4gICAgZGF0YS50YWJJbmRleCA9IGl0ZW0udGFiSW5kZXg7XG4gICAgZGF0YS5tdWx0aXBsZSA9IGl0ZW0ubXVsdGlwbGU7XG4gICAgZGF0YS5yZXNldCA9IGl0ZW0ucmVzZXQ7XG4gICAgZGF0YS5oZWlnaHQgPSBpdGVtLmhlaWdodDtcbiAgICBkYXRhLm9wdGlvbkl0ZW1IZWlnaHQgPSBpdGVtLm9wdGlvbkl0ZW1IZWlnaHQ7XG4gICAgZGF0YS5wYWRkaW5nTGVmdCA9IChpdGVtLmhlaWdodCAtIGl0ZW0ub3B0aW9uSXRlbUhlaWdodCkgLyAyO1xuICAgIGRhdGEubGFiZWwgPSBnZXRMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG5cbiAgICBpdGVtLiRkaXNwbGF5ID0galF1ZXJ5KG11c3RhY2hlLnJlbmRlcih0bXBsLmF1dG9jb21wbGV0ZURpc3BsYXkuY2FsbCh0aGlzLCBpdGVtLmNvbHVtbktleXMpLCBkYXRhKSk7XG4gICAgaXRlbS4kZGlzcGxheVRhYmxlID0gaXRlbS4kZGlzcGxheS5maW5kKCdbZGF0YS1lbHM9XCJkaXNwbGF5LXRhYmxlXCJdJyk7XG4gICAgaXRlbS4kZGlzcGxheUxhYmVsID0gaXRlbS4kZGlzcGxheS5maW5kKCdbZGF0YS1heDZ1aS1hdXRvY29tcGxldGUtZGlzcGxheT1cImxhYmVsXCJdJyk7XG4gICAgaXRlbS4kZGlzcGxheUxhYmVsSW5wdXQgPSBpdGVtLiRkaXNwbGF5LmZpbmQoJ1tkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1kaXNwbGF5PVwiaW5wdXRcIl0nKTtcblxuICAgIGlmIChpdGVtLiR0YXJnZXQuZmluZChcInNlbGVjdFwiKS5nZXQoMCkpIHtcbiAgICAgIGl0ZW0uJHNlbGVjdCA9IGl0ZW0uJHRhcmdldC5maW5kKFwic2VsZWN0XCIpO1xuICAgICAgaXRlbS4kc2VsZWN0LmF0dHIoXCJ0YWJpbmRleFwiLCBcIi0xXCIpLmF0dHIoXCJjbGFzc1wiLCBcImZvcm0tY29udHJvbCBcIiArIGRhdGEuZm9ybVNpemUpO1xuXG4gICAgICBpZiAoZGF0YS5uYW1lKSB7XG4gICAgICAgIGl0ZW0uJHNlbGVjdC5hdHRyKFwibmFtZVwiLCBcIm5hbWVcIik7XG4gICAgICB9XG4gICAgICBpdGVtLiRzZWxlY3QuYXR0cihcIm11bHRpcGxlXCIsIFwibXVsdGlwbGVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0uJHNlbGVjdCA9IGpRdWVyeShtdXN0YWNoZS5yZW5kZXIodG1wbC5mb3JtU2VsZWN0LmNhbGwodGhpcywgaXRlbS5jb2x1bW5LZXlzKSwgZGF0YSkpO1xuICAgICAgaXRlbS4kdGFyZ2V0LmFwcGVuZChpdGVtLiRzZWxlY3QpO1xuICAgIH1cblxuICAgIGl0ZW0uJHRhcmdldC5hcHBlbmQoaXRlbS4kZGlzcGxheSk7XG4gIH0gZWxzZSB7XG4gICAgcHJpbnRMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gIH1cblxuICBhbGlnbkF1dG9jb21wbGV0ZURpc3BsYXkuY2FsbCh0aGlzKTtcblxuICBpdGVtLiRkaXNwbGF5Lm9mZignY2xpY2suYXg2dWktYXV0b2NvbXBsZXRlJykub24oJ2NsaWNrLmF4NnVpLWF1dG9jb21wbGV0ZScsIGF1dG9jb21wbGV0ZUV2ZW50LmNsaWNrLmJpbmQodGhpcywgcXVlSWR4KSk7XG5cbiAgLy8gYXV0b2NvbXBsZXRlIO2DnOq3uOyXkCDrjIDtlZwg7J2067Kk7Yq4IOqwkOyLnFxuXG4gIGl0ZW0uJGRpc3BsYXlMYWJlbElucHV0Lm9mZihcImZvY3VzLmF4NnVpLWF1dG9jb21wbGV0ZVwiKS5vbihcImZvY3VzLmF4NnVpLWF1dG9jb21wbGV0ZVwiLCBhdXRvY29tcGxldGVFdmVudC5mb2N1cy5iaW5kKHRoaXMsIHF1ZUlkeCkpLm9mZihcImJsdXIuYXg2dWktYXV0b2NvbXBsZXRlXCIpLm9uKFwiYmx1ci5heDZ1aS1hdXRvY29tcGxldGVcIiwgYXV0b2NvbXBsZXRlRXZlbnQuYmx1ci5iaW5kKHRoaXMsIHF1ZUlkeCkpLm9mZihcImtleWRvd24uYXg2dWktYXV0b2NvbXBsZXRlXCIpLm9uKFwia2V5ZG93bi5heDZ1aS1hdXRvY29tcGxldGVcIiwgYXV0b2NvbXBsZXRlRXZlbnQua2V5RG93bi5iaW5kKHRoaXMsIHF1ZUlkeCkpLm9mZihcImtleXVwLmF4NnVpLWF1dG9jb21wbGV0ZVwiKS5vbihcImtleXVwLmF4NnVpLWF1dG9jb21wbGV0ZVwiLCBhdXRvY29tcGxldGVFdmVudC5rZXlVcC5iaW5kKHRoaXMsIHF1ZUlkeCkpO1xuXG4gIC8vIHNlbGVjdCDtg5zqt7jsl5Ag64yA7ZWcIGNoYW5nZSDsnbTrsqTtirgg6rCQ7IucXG5cbiAgLypcbiAgICBpdGVtLiRzZWxlY3RcbiAgICAgIC5vZmYoJ2NoYW5nZS5heDZ1aS1hdXRvY29tcGxldGUnKVxuICAgICAgLm9uKCdjaGFuZ2UuYXg2dWktYXV0b2NvbXBsZXRlJywgYXV0b2NvbXBsZXRlRXZlbnQuc2VsZWN0Q2hhbmdlLmJpbmQodGhpcywgcXVlSWR4KSk7XG4gICAgKi9cblxuICBkYXRhID0gbnVsbDtcbiAgaXRlbSA9IG51bGw7XG4gIHF1ZUlkeCA9IG51bGw7XG4gIHJldHVybiB0aGlzO1xufTtcbmNvbnN0IGdldFF1ZUlkeCA9IGZ1bmN0aW9uIChib3VuZElEKSB7XG4gIGlmIChib3VuZElEIGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgYm91bmRJRCA9IGJvdW5kSUQuZGF0YShcImRhdGEtYXg2dWktYXV0b2NvbXBsZXRlLWlkXCIpO1xuICB9IGVsc2UgaWYgKCFVLmlzU3RyaW5nKGJvdW5kSUQpKSB7XG4gICAgYm91bmRJRCA9IGpRdWVyeShib3VuZElEKS5kYXRhKFwiZGF0YS1heDZ1aS1hdXRvY29tcGxldGUtaWRcIik7XG4gIH1cbiAgaWYgKCFVLmlzU3RyaW5nKGJvdW5kSUQpKSB7XG4gICAgY29uc29sZS5sb2coaW5mby5nZXRFcnJvcihcImF4NnVpLWF1dG9jb21wbGV0ZVwiLCBcIjQwMlwiLCBcImdldFF1ZUlkeFwiKSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBVLnNlYXJjaCh0aGlzLnF1ZXVlLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWQgPT0gYm91bmRJRDtcbiAgfSk7XG59O1xuY29uc3QgZ2V0U2VsZWN0ZWQgPSBmdW5jdGlvbiAoX2l0ZW0sIG8sIHNlbGVjdGVkKSB7XG4gIGlmICh0eXBlb2Ygc2VsZWN0ZWQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gX2l0ZW0ubXVsdGlwbGUgPyAhbyA6IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNlbGVjdGVkO1xuICB9XG59O1xuY29uc3QgY2xlYXJTZWxlY3RlZCA9IGZ1bmN0aW9uIChxdWVJZHgpIHtcbiAgdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgIGlmIChuLm9wdGdyb3VwKSB7XG4gICAgICBuLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobm4pIHtcbiAgICAgICAgbm4uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnF1ZXVlW3F1ZUlkeF0uc2VsZWN0ZWQgPSBbXTtcbiAgdGhpcy5xdWV1ZVtxdWVJZHhdLiRzZWxlY3QuaHRtbChtdXN0YWNoZS5yZW5kZXIodG1wbC5mb3JtU2VsZWN0T3B0aW9ucy5jYWxsKHRoaXMsIHRoaXMucXVldWVbcXVlSWR4XS5jb2x1bW5LZXlzKSwge1xuICAgIHNlbGVjdGVkOiB0aGlzLnF1ZXVlW3F1ZUlkeF0uc2VsZWN0ZWRcbiAgfSkpO1xufTtcbmNvbnN0IHNldFNlbGVjdGVkID0gZnVuY3Rpb24gKGJvdW5kSUQsIHZhbHVlLCBzZWxlY3RlZCwgX29wdGlvbikge1xuICBjb25zdCBwcm9jZXNzb3IgPSB7XG4gICAgJ3NlbGVjdGVkSW5kZXgnOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZSwgc2VsZWN0ZWQsIHNldFZhbHVlVHlwZSkge30sXG4gICAgJ3JlbW92ZVNlbGVjdGVkSW5kZXgnOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZSwgc2VsZWN0ZWQsIHNldFZhbHVlVHlwZSkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgICAgYWRkT3B0aW9ucyA9IHt9O1xuICAgICAgdmFyIG5ld1NlbGVjdGVkQXJyYXkgPSBbXSxcbiAgICAgICAgICBvcHRpb25JbmRleCA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWRbaV1bJ0BpbmRleCddICE9IHZhbHVlLnJlbW92ZVNlbGVjdGVkSW5kZXguaW5kZXgpIHtcbiAgICAgICAgICBhZGRPcHRpb25zID0geyAnQGluZGV4Jzogb3B0aW9uSW5kZXgsICdAZmluZGV4Jzogb3B0aW9uSW5kZXggfTtcbiAgICAgICAgICBhZGRPcHRpb25zW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPSBpdGVtLnNlbGVjdGVkW2ldW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV07XG4gICAgICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPSBpdGVtLnNlbGVjdGVkW2ldW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XTtcbiAgICAgICAgICBuZXdTZWxlY3RlZEFycmF5LnB1c2goYWRkT3B0aW9ucyk7XG4gICAgICAgICAgb3B0aW9uSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXRlbS5zZWxlY3RlZCA9IG5ld1NlbGVjdGVkQXJyYXk7XG4gICAgfSxcbiAgICAnb3B0aW9uSW5kZXgnOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZSwgc2VsZWN0ZWQsIHNldFZhbHVlVHlwZSkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgICAgYWRkT3B0aW9ucyA9IHt9O1xuICAgICAgdmFyIG9wdGlvbkluZGV4ID0gaXRlbS5zZWxlY3RlZC5sZW5ndGg7XG4gICAgICB2YXIgcHVzaE9rID0gdHJ1ZTtcblxuICAgICAgYWRkT3B0aW9ucyA9IHtcbiAgICAgICAgJ0BpbmRleCc6IG9wdGlvbkluZGV4LCAnQGZpbmRleCc6IG9wdGlvbkluZGV4XG4gICAgICB9O1xuICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdID0gaXRlbS5vcHRpb25zW3ZhbHVlLm9wdGlvbkluZGV4LmluZGV4XVtpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdO1xuICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPSBpdGVtLm9wdGlvbnNbdmFsdWUub3B0aW9uSW5kZXguaW5kZXhdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpdGVtLnNlbGVjdGVkW2ldW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPT0gYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdKSB7XG4gICAgICAgICAgcHVzaE9rID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwdXNoT2spIGl0ZW0uc2VsZWN0ZWQucHVzaChhZGRPcHRpb25zKTtcbiAgICB9LFxuICAgICdhcnInOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZXMsIHNlbGVjdGVkLCBzZXRWYWx1ZVR5cGUpIHtcbiAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoVS5pc1N0cmluZyh2YWx1ZSkgfHwgVS5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICBwcm9jZXNzb3IudGV4dC5jYWxsKHNlbGYsIHF1ZUlkeCwgdmFsdWUsIHNlbGVjdGVkLCBcImp1c3RTZXRWYWx1ZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvY2Vzc29yKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVba2V5XSkge1xuICAgICAgICAgICAgICBwcm9jZXNzb3Jba2V5XS5jYWxsKHNlbGYsIHF1ZUlkeCwgdmFsdWUsIHNlbGVjdGVkLCBcImp1c3RTZXRWYWx1ZVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgICd2YWx1ZSc6IGZ1bmN0aW9uIChxdWVJZHgsIHZhbHVlLCBzZWxlY3RlZCwgc2V0VmFsdWVUeXBlKSB7XG4gICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbcXVlSWR4XTtcbiAgICAgIHZhciBhZGRPcHRpb25zO1xuICAgICAgdmFyIG9wdGlvbkluZGV4ID0gVS5zZWFyY2goaXRlbS5vcHRpb25zLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPT0gdmFsdWUudmFsdWVbaXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3B0aW9uSW5kZXggPiAtMSkge1xuICAgICAgICBpdGVtLm9wdGlvbnNbb3B0aW9uSW5kZXhdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZF0gPSBnZXRTZWxlY3RlZChpdGVtLCBpdGVtLm9wdGlvbnNbb3B0aW9uSW5kZXhdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZF0sIHNlbGVjdGVkKTtcblxuICAgICAgICBpZiAoaXRlbS5vcHRpb25zW29wdGlvbkluZGV4XVtpdGVtLmNvbHVtbktleXMub3B0aW9uU2VsZWN0ZWRdKSB7XG4gICAgICAgICAgdmFyIGFwcGVuZE9rID0gdHJ1ZTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnNlbGVjdGVkW2ldW3RoaXMuY29uZmlnLmNvbHVtbktleXMub3B0aW9uVmFsdWVdID09IGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0pIHtcbiAgICAgICAgICAgICAgYXBwZW5kT2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcHBlbmRPaykge1xuICAgICAgICAgICAgYWRkT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdID0gaXRlbS5vcHRpb25zW29wdGlvbkluZGV4XVtpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdO1xuICAgICAgICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPSBpdGVtLm9wdGlvbnNbb3B0aW9uSW5kZXhdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XTtcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQucHVzaChhZGRPcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1NlbGVjdGVkQXJyYXkgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnNlbGVjdGVkW2ldW3RoaXMuY29uZmlnLmNvbHVtbktleXMub3B0aW9uVmFsdWVdID09IGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0pIHt9IGVsc2Uge1xuICAgICAgICAgICAgICBhZGRPcHRpb25zID0ge307XG4gICAgICAgICAgICAgIGFkZE9wdGlvbnNbaXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXSA9IGl0ZW0uc2VsZWN0ZWRbaV1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXTtcbiAgICAgICAgICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPSBpdGVtLnNlbGVjdGVkW2ldW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XTtcbiAgICAgICAgICAgICAgbmV3U2VsZWN0ZWRBcnJheS5wdXNoKGFkZE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gbmV3U2VsZWN0ZWRBcnJheTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g7IOI66Gc7Jq0IOqwkiDstpTqsIBcbiAgICAgICAgdmFyIGFwcGVuZE9rID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWRbaV1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPT0gdmFsdWUudmFsdWVbdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0pIHtcbiAgICAgICAgICAgIGFwcGVuZE9rID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXBwZW5kT2spIHtcbiAgICAgICAgICBhZGRPcHRpb25zID0ge307XG4gICAgICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVmFsdWVdID0gdmFsdWUudmFsdWVbdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25WYWx1ZV07XG4gICAgICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPSB2YWx1ZS52YWx1ZVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLm9wdGlvblRleHRdO1xuICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQucHVzaChhZGRPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ3RleHQnOiBmdW5jdGlvbiAocXVlSWR4LCB2YWx1ZSwgc2VsZWN0ZWQsIHNldFZhbHVlVHlwZSkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLnF1ZXVlW3F1ZUlkeF07XG4gICAgICB2YXIgYWRkT3B0aW9ucztcbiAgICAgIHZhciBvcHRpb25JbmRleCA9IFUuc2VhcmNoKGl0ZW0ub3B0aW9ucywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPT0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9wdGlvbkluZGV4ID4gLTEpIHtcbiAgICAgICAgaXRlbS5vcHRpb25zW29wdGlvbkluZGV4XVtpdGVtLmNvbHVtbktleXMub3B0aW9uU2VsZWN0ZWRdID0gZ2V0U2VsZWN0ZWQoaXRlbSwgaXRlbS5vcHRpb25zW29wdGlvbkluZGV4XVtpdGVtLmNvbHVtbktleXMub3B0aW9uU2VsZWN0ZWRdLCBzZWxlY3RlZCk7XG5cbiAgICAgICAgaWYgKGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblNlbGVjdGVkXSkge1xuICAgICAgICAgIHZhciBhcHBlbmRPayA9IHRydWU7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5zZWxlY3RlZFtpXVt0aGlzLmNvbmZpZy5jb2x1bW5LZXlzLm9wdGlvblRleHRdID09IGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25UZXh0XSkge1xuICAgICAgICAgICAgICBhcHBlbmRPayA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFwcGVuZE9rKSB7XG4gICAgICAgICAgICBhZGRPcHRpb25zID0ge307XG4gICAgICAgICAgICBhZGRPcHRpb25zW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPSBpdGVtLm9wdGlvbnNbb3B0aW9uSW5kZXhdW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV07XG4gICAgICAgICAgICBhZGRPcHRpb25zW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XSA9IGl0ZW0ub3B0aW9uc1tvcHRpb25JbmRleF1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblRleHRdO1xuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZC5wdXNoKGFkZE9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3U2VsZWN0ZWRBcnJheSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5zZWxlY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWRbaV1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25UZXh0XSA9PSBpdGVtLm9wdGlvbnNbb3B0aW9uSW5kZXhdW3RoaXMuY29uZmlnLmNvbHVtbktleXMub3B0aW9uVGV4dF0pIHt9IGVsc2Uge1xuICAgICAgICAgICAgICBhZGRPcHRpb25zID0ge307XG4gICAgICAgICAgICAgIGFkZE9wdGlvbnNbaXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXSA9IGl0ZW0uc2VsZWN0ZWRbaV1baXRlbS5jb2x1bW5LZXlzLm9wdGlvblZhbHVlXTtcbiAgICAgICAgICAgICAgYWRkT3B0aW9uc1tpdGVtLmNvbHVtbktleXMub3B0aW9uVGV4dF0gPSBpdGVtLnNlbGVjdGVkW2ldW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XTtcbiAgICAgICAgICAgICAgbmV3U2VsZWN0ZWRBcnJheS5wdXNoKGFkZE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gbmV3U2VsZWN0ZWRBcnJheTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g7IOI66Gc7Jq0IOqwkiDstpTqsIBcbiAgICAgICAgdmFyIGFwcGVuZE9rID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWRbaV1bdGhpcy5jb25maWcuY29sdW1uS2V5cy5vcHRpb25UZXh0XSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgYXBwZW5kT2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcHBlbmRPaykge1xuICAgICAgICAgIGFkZE9wdGlvbnMgPSB7fTtcbiAgICAgICAgICBhZGRPcHRpb25zW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25WYWx1ZV0gPSB2YWx1ZTtcbiAgICAgICAgICBhZGRPcHRpb25zW2l0ZW0uY29sdW1uS2V5cy5vcHRpb25UZXh0XSA9IHZhbHVlO1xuICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQucHVzaChhZGRPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ2NsZWFyJzogZnVuY3Rpb24gKHF1ZUlkeCkge1xuICAgICAgY2xlYXJTZWxlY3RlZC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgICBmb2N1c0NsZWFyLmNhbGwodGhpcywgcXVlSWR4KTtcblxuICAgICAgaWYgKHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXApIHtcbiAgICAgICAgdGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cC5maW5kKCdbZGF0YS1vcHRpb24taW5kZXhdJykuYXR0cihcImRhdGEtb3B0aW9uLVNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0ub3B0aW9uU2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIH1cbiAgfTtcblxuICBsZXQgcXVlSWR4ID0gVS5pc051bWJlcihib3VuZElEKSA/IGJvdW5kSUQgOiBnZXRRdWVJZHguY2FsbCh0aGlzLCBib3VuZElEKTtcbiAgaWYgKHF1ZUlkeCA9PT0gLTEpIHtcbiAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2dWktYXV0b2NvbXBsZXRlXCIsIFwiNDAyXCIsIFwidmFsXCIpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBcImVycm9yIG5vdCBmb3VuZCB2YWx1ZVwiO1xuICB9IGVsc2UgaWYgKFUuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBwcm9jZXNzb3IuY2xlYXIuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgIHByb2Nlc3Nvci5hcnIuY2FsbCh0aGlzLCBxdWVJZHgsIHRoaXMucXVldWVbcXVlSWR4XS5tdWx0aXBsZSB8fCB2YWx1ZS5sZW5ndGggPT0gMCA/IHZhbHVlIDogW3ZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdXSwgc2VsZWN0ZWQpO1xuICB9IGVsc2UgaWYgKFUuaXNTdHJpbmcodmFsdWUpIHx8IFUuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhdGhpcy5xdWV1ZVtxdWVJZHhdLm11bHRpcGxlKSB7XG4gICAgICBjbGVhclNlbGVjdGVkLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICB9XG4gICAgcHJvY2Vzc29yLnRleHQuY2FsbCh0aGlzLCBxdWVJZHgsIHZhbHVlLCBzZWxlY3RlZCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICBwcm9jZXNzb3IuY2xlYXIuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMucXVldWVbcXVlSWR4XS5tdWx0aXBsZSkge1xuICAgICAgICBjbGVhclNlbGVjdGVkLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9jZXNzb3IpIHtcbiAgICAgICAgaWYgKHZhbHVlW2tleV0pIHtcbiAgICAgICAgICBwcm9jZXNzb3Jba2V5XS5jYWxsKHRoaXMsIHF1ZUlkeCwgdmFsdWUsIHNlbGVjdGVkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN5bmNMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gIHByaW50TGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICBmb2N1c0xhYmVsLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgYWxpZ25BdXRvY29tcGxldGVPcHRpb25Hcm91cC5jYWxsKHRoaXMpO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAoX29wdGlvbiAmJiAhX29wdGlvbi5ub1N0YXRlQ2hhbmdlKSB7XG4gICAgICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIHRoaXMucXVldWVbcXVlSWR4XSwge1xuICAgICAgICBzZWxmOiB0aGlzLFxuICAgICAgICBpdGVtOiB0aGlzLnF1ZXVlW3F1ZUlkeF0sXG4gICAgICAgIHN0YXRlOiBcImNoYW5nZVZhbHVlXCIsXG4gICAgICAgIHZhbHVlOiB0aGlzLnF1ZXVlW3F1ZUlkeF0uc2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGJvdW5kSUQgPSBudWxsO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgcHJpdmF0ZSAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgQVg2VUlBdXRvY29tcGxldGUgZXh0ZW5kcyBBWDZVSUNvcmUge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtKU09OfVxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKiBAcGFyYW0gW2NvbmZpZy50aGVtZT0nZGVmYXVsdCddXG4gICAgICogQHBhcmFtIFtjb25maWcuYW5pbWF0ZVRpbWU9MjUwXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmhlaWdodD0zNF1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5sYW5nXSAtIOuplOyEuOyngOuTpFxuICAgICAqIEBwYXJhbSBbY29uZmlnLmxhbmcubm9TZWxlY3RlZD0nJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5sYW5nLm5vT3B0aW9ucz0nbm8gb3B0aW9ucyddXG4gICAgICogQHBhcmFtIFtjb25maWcubGFuZy5sb2FkaW5nPSdub3cgbG9hZGluZy4uJ11cbiAgICAgKiBAcGFyYW0gW2NvbmZpZy5jb2x1bW5LZXlzXSAtIOuCtOu2gOyXkOyEnCDsgqzsmqkgSlNPTiBrZXkg7KCV7J2YXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sdW1uS2V5cy5vcHRpb25WYWx1ZT0ndmFsdWUnXVxuICAgICAqIEBwYXJhbSBbY29uZmlnLmNvbHVtbktleXMub3B0aW9uVGV4dD0ndGV4dCddXG4gICAgICogQHBhcmFtIFtjb25maWcuY29sdW1uS2V5cy5vcHRpb25TZWxlY3RlZD0nc2VsZWN0ZWQnXVxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgdGhlbWU6ICdkZWZhdWx0JyxcbiAgICAgIGFuaW1hdGVUaW1lOiAyNTAsXG4gICAgICBoZWlnaHQ6IDM0LFxuICAgICAgb3B0aW9uSXRlbUhlaWdodDogMjQsXG4gICAgICBib3JkZXJXaWR0aDogMSxcbiAgICAgIHJlbW92ZUljb246ICdVKzAwZDcnLFxuICAgICAgbGFuZzoge1xuICAgICAgICBub1NlbGVjdGVkOiAnJyxcbiAgICAgICAgbm9PcHRpb25zOiAnbm8gb3B0aW9ucycsXG4gICAgICAgIGxvYWRpbmc6ICdOb3cgUHJvY2Vzc2luZydcbiAgICAgIH0sXG4gICAgICBjb2x1bW5LZXlzOiB7XG4gICAgICAgIG9wdGlvblZhbHVlOiAndmFsdWUnLFxuICAgICAgICBvcHRpb25UZXh0OiAndGV4dCcsXG4gICAgICAgIG9wdGlvblNlbGVjdGVkOiAnc2VsZWN0ZWQnXG4gICAgICB9XG4gICAgfTtcbiAgICBqUXVlcnkuZXh0ZW5kKHRydWUsIHRoaXMuY29uZmlnLCBjb25maWcpO1xuXG4gICAgLy8g66mk67KEIOuzgOyImCDstIjquLDtmZRcbiAgICAvKipcbiAgICAgKiBiaW5k66W8IO2Gte2VtCDsl7DqsrDrkJwgc2VsZWN06rCAIOyggOyepeuQmOuKlCDrs4DsiJhcbiAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXggPSAtMTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5vcGVuVGltZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmNsb3NlVGltZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMud2FpdE9wdGlvbnNDYWxsYmFjayA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMua2V5VXBUaW1lciA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMueHZhciA9IHt9O1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZWQgPSB0aGlzLmNvbmZpZy5vblN0YXRlQ2hhbmdlZDtcbiAgICBkZWxldGUgdGhpcy5jb25maWcub25TdGF0ZUNoYW5nZWQ7XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMuY29uZmlnLm9uQ2hhbmdlO1xuICAgIGRlbGV0ZSB0aGlzLmNvbmZpZy5vbkNoYW5nZTtcblxuICAgIC8vIGluaXQg7Zi47LacIOyXrOu2gFxuICAgIHRoaXMuaW5pdE9uY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpbml0T25jZSgpIHtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAvLyB0aHJvdHRsZWRSZXNpemVcbiAgICBqUXVlcnkod2luZG93KS5vbihcInJlc2l6ZS5heDZ1aS1hdXRvY29tcGxldGUtZGlzcGxheS1cIiArIHRoaXMuaW5zdGFuY2VJZCwgVS50aHJvdHRsZShmdW5jdGlvbiAoZSkge1xuICAgICAgYWxpZ25BdXRvY29tcGxldGVEaXNwbGF5LmNhbGwodGhpcywgZSB8fCB3aW5kb3cuZXZlbnQpO1xuICAgICAgYWxpZ25BdXRvY29tcGxldGVPcHRpb25Hcm91cC5jYWxsKHRoaXMpO1xuICAgIH0sIDEwMCkuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogYmluZCBhdXRvY29tcGxldGVcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2l0ZW0uaWRdXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbaXRlbS50aGVtZV1cbiAgICogQHBhcmFtIHtCb29sZWFufSBbaXRlbS5tdWx0aXBsZV1cbiAgICogQHBhcmFtIHtFbGVtZW50fSBpdGVtLnRhcmdldFxuICAgKiBAcmV0dXJuIHtBWDZVSUF1dG9jb21wbGV0ZX1cbiAgICovXG4gIGJpbmQoaXRlbSkge1xuICAgIGxldCBxdWVJZHg7XG4gICAgaXRlbSA9IGpRdWVyeS5leHRlbmQodHJ1ZSwge30sIHRoaXMuY29uZmlnLCBpdGVtKTtcblxuICAgIGlmICghaXRlbS50YXJnZXQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGluZm8uZ2V0RXJyb3IoXCJheDZ1aS1hdXRvY29tcGxldGVcIiwgXCI0MDFcIiwgXCJiaW5kXCIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpdGVtLiR0YXJnZXQgPSBqUXVlcnkoaXRlbS50YXJnZXQpO1xuXG4gICAgaWYgKCFpdGVtLmlkKSBpdGVtLmlkID0gaXRlbS4kdGFyZ2V0LmRhdGEoXCJkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1pZFwiKTtcbiAgICBpZiAoIWl0ZW0uaWQpIHtcbiAgICAgIGl0ZW0uaWQgPSAnYXg2dWktYXV0b2NvbXBsZXRlLScgKyBBWDZVSUNvcmUuZ2V0SW5zdGFuY2VJZCgpO1xuICAgICAgaXRlbS4kdGFyZ2V0LmRhdGEoXCJkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1pZFwiLCBpdGVtLmlkKTtcbiAgICB9XG4gICAgaXRlbS5uYW1lID0gaXRlbS4kdGFyZ2V0LmF0dHIoXCJkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZVwiKTtcblxuICAgIGl0ZW0ub3B0aW9ucyA9IFtdO1xuICAgIGl0ZW0uc2VsZWN0ZWQgPSBbXTtcblxuICAgIC8vIHRhcmdldCBhdHRyaWJ1dGUgZGF0YVxuICAgIChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYgKFUuaXNPYmplY3QoZGF0YSkgJiYgIWRhdGEuZXJyb3IpIHtcbiAgICAgICAgaXRlbSA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgaXRlbSwgZGF0YSk7XG4gICAgICB9XG4gICAgfSkoVS5wYXJzZUpzb24oaXRlbS4kdGFyZ2V0LmF0dHIoXCJkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZS1jb25maWdcIiksIHRydWUpKTtcblxuICAgIHF1ZUlkeCA9IFUuc2VhcmNoKHRoaXMucXVldWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkID09IGl0ZW0uaWQ7XG4gICAgfSk7XG5cbiAgICBpZiAocXVlSWR4ID09PSAtMSkge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgYmluZEF1dG9jb21wbGV0ZVRhcmdldC5jYWxsKHRoaXMsIHRoaXMucXVldWUubGVuZ3RoIC0gMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucXVldWVbcXVlSWR4XS5zZWxlY3RlZCA9IFtdO1xuICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdLm9wdGlvbnMgPSBpdGVtLm9wdGlvbnM7XG4gICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLnF1ZXVlW3F1ZUlkeF0sIGl0ZW0pO1xuICAgICAgYmluZEF1dG9jb21wbGV0ZVRhcmdldC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgfVxuXG4gICAgcXVlSWR4ID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBvcGVuIHRoZSBvcHRpb25Cb3ggb2YgYXV0b2NvbXBsZXRlXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHsoU3RyaW5nfE51bWJlcnxFbGVtZW50KX0gYm91bmRJRFxuICAgKiBAcGFyYW0ge051bWJlcn0gW3RyeUNvdW50XVxuICAgKiBAcmV0dXJuIHtBWDZVSUF1dG9jb21wbGV0ZX1cbiAgICovXG4gIG9wZW4oYm91bmRJRCwgdHJ5Q291bnQpIHtcbiAgICB0aGlzLndhaXRPcHRpb25zQ2FsbGJhY2sgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogb3BlbiBhdXRvY29tcGxldGUgZnJvbSB0aGUgb3V0c2lkZVxuICAgICAqL1xuICAgIGxldCBxdWVJZHggPSBVLmlzTnVtYmVyKGJvdW5kSUQpID8gYm91bmRJRCA6IGdldFF1ZUlkeC5jYWxsKHRoaXMsIGJvdW5kSUQpLFxuICAgICAgICBpdGVtID0gdGhpcy5xdWV1ZVtxdWVJZHhdLFxuICAgICAgICBkYXRhID0ge30sXG4gICAgICAgIGZvY3VzVG9wLFxuICAgICAgICBzZWxlY3RlZE9wdGlvbkVsO1xuXG4gICAgaWYgKGl0ZW0uJGRpc3BsYXkuYXR0cihcImRpc2FibGVkXCIpKSByZXR1cm4gdGhpcztcblxuICAgIGlmICh0aGlzLm9wZW5UaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMub3BlblRpbWVyKTtcbiAgICBpZiAodGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cCkge1xuICAgICAgaWYgKHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlUXVldWVJbmRleCA9PSBxdWVJZHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICh0cnlDb3VudCA+IDIpIHJldHVybiB0aGlzO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy5vcGVuVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vcGVuKHF1ZUlkeCwgKHRyeUNvdW50IHx8IDApICsgMSk7XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMuY29uZmlnLmFuaW1hdGVUaW1lKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaXRlbS5vcHRpb25Gb2N1c0luZGV4ID0gLTE7IC8vIG9wdGlvbkdyb3Vw7J20IOyXtOumrOuptCDtj6zsu6TsiqQg7J24642x7IqkIOy0iOq4sO2ZlCAtMeuhnFxuICAgIGlmIChpdGVtLnNlbGVjdGVkICYmIGl0ZW0uc2VsZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgaXRlbS5vcHRpb25TZWxlY3RlZEluZGV4ID0gaXRlbS5zZWxlY3RlZFswXVtcIkBmaW5kZXhcIl07XG4gICAgfVxuXG4gICAgLy8vIO2FnO2UjOumv+yXkCDsoITri6ztlaAg7Jik67iM7KCd7Yq4IOyEoOyWuFxuICAgIGRhdGEuaWQgPSBpdGVtLmlkO1xuICAgIGRhdGEudGhlbWUgPSBpdGVtLnRoZW1lO1xuICAgIGRhdGEubXVsdGlwbGUgPSBpdGVtLm11bHRpcGxlO1xuXG4gICAgZGF0YS5sYW5nID0gaXRlbS5sYW5nO1xuICAgIGl0ZW0uJGRpc3BsYXkuYXR0cihcImRhdGEtYXV0b2NvbXBsZXRlLW9wdGlvbi1ncm91cC1vcGVuZWRcIiwgXCJ0cnVlXCIpO1xuXG4gICAgZGF0YS53YWl0T3B0aW9ucyA9IHRydWU7IC8vIO2DgOydtO2VkeqwkuycvOuhnCBvcHRpb25z7J2EIOq1rO2VtOyVvCDtlZjrr4DroZwg64yA6riwXG4gICAgZGF0YS5vcHRpb25zID0gW107XG5cbiAgICB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwID0galF1ZXJ5KG11c3RhY2hlLnJlbmRlcih0bXBsLm9wdGlvbkdyb3VwLmNhbGwodGhpcywgaXRlbS5jb2x1bW5LZXlzKSwgZGF0YSkpO1xuICAgIHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuZmluZCgnW2RhdGEtZWxzPVwiY29udGVudFwiXScpLmh0bWwobXVzdGFjaGUucmVuZGVyKHRtcGwub3B0aW9ucy5jYWxsKHRoaXMsIGl0ZW0uY29sdW1uS2V5cyksIGRhdGEpKTtcbiAgICB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXggPSBxdWVJZHg7XG5cbiAgICBhbGlnbkF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLmNhbGwodGhpcywgXCJhcHBlbmRcIik7IC8vIGFsaWduQXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAg7JeQ7IScIGJvZHkgYXBwZW5kXG5cbiAgICBpZiAoaXRlbS5zZWxlY3RlZCAmJiBpdGVtLnNlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9uRWwgPSB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLW9wdGlvbi1pbmRleD1cIicgKyBpdGVtLnNlbGVjdGVkWzBdW1wiQGluZGV4XCJdICsgJ1wiXScpO1xuICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uRWwuZ2V0KDApKSB7XG4gICAgICAgIGZvY3VzVG9wID0gc2VsZWN0ZWRPcHRpb25FbC5wb3NpdGlvbigpLnRvcCAtIHRoaXMuYWN0aXZlYXV0b2NvbXBsZXRlT3B0aW9uR3JvdXAuaGVpZ2h0KCkgLyAzO1xuICAgICAgICB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLmZpbmQoJ1tkYXRhLWVscz1cImNvbnRlbnRcIl0nKS5zY3JvbGxUb3AoZm9jdXNUb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGpRdWVyeSh3aW5kb3cpLm9uKFwiY2xpY2suYXg2dWktYXV0b2NvbXBsZXRlLVwiICsgdGhpcy5pbnN0YW5jZUlkLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgb25Cb2R5Q2xpY2suY2FsbCh0aGlzLCBlKTtcbiAgICAgIFUuc3RvcEV2ZW50KGUpO1xuICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICBvblN0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsIGl0ZW0sIHtcbiAgICAgIHNlbGY6IHRoaXMsXG4gICAgICBzdGF0ZTogXCJvcGVuXCIsXG4gICAgICBpdGVtOiBpdGVtXG4gICAgfSk7XG5cbiAgICBkYXRhID0gbnVsbDtcbiAgICBmb2N1c1RvcCA9IG51bGw7XG4gICAgc2VsZWN0ZWRPcHRpb25FbCA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0geyhqUXVlcnlPYmplY3R8RWxlbWVudHxOdW1iZXIpfSBfYm91bmRJRFxuICAgKiBAcGFyYW0geyhTdHJpbmd8QXJyYXkpfSBfdmFsdWVcbiAgICogQHJldHVybiB7QVg2VUlBdXRvY29tcGxldGV9XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIG15QXV0b2NvbXBsZXRlLnNldFZhbHVlKGpRdWVyeSgnW2RhdGEtYXg2dWktYXV0b2NvbXBsZXRlPVwiYXV0b2NvbXBsZXRlMVwiXScpLCB7dmFsdWU6XCJ0ZXN0XCIsIHRleHQ6XCJ0ZXN0XCJ9KTtcbiAgICogbXlBdXRvY29tcGxldGUuc2V0VmFsdWUoalF1ZXJ5KCdbZGF0YS1heDZ1aS1hdXRvY29tcGxldGU9XCJhdXRvY29tcGxldGUxXCJdJyksIFt7dmFsdWU6XCJ0ZXN0MVwiLCB0ZXh0OlwidGVzdDFcIn0sIHt2YWx1ZTpcInRlc3QyXCIsIHRleHQ6XCJ0ZXN0MlwifV0pO1xuICAgKiBteUF1dG9jb21wbGV0ZS5zZXRWYWx1ZShqUXVlcnkoJ1tkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZT1cImF1dG9jb21wbGV0ZTFcIl0nKSwgbnVsbCk7XG4gICAqIGBgYFxuICAgKi9cbiAgc2V0VmFsdWUoX2JvdW5kSUQsIF92YWx1ZSkge1xuICAgIGxldCBxdWVJZHggPSBVLmlzTnVtYmVyKF9ib3VuZElEKSA/IF9ib3VuZElEIDogZ2V0UXVlSWR4LmNhbGwodGhpcywgX2JvdW5kSUQpO1xuICAgIGlmIChxdWVJZHggPT09IC0xKSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2dWktYXV0b2NvbXBsZXRlXCIsIFwiNDAyXCIsIFwidmFsXCIpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjbGVhclNlbGVjdGVkLmNhbGwodGhpcywgcXVlSWR4KTtcblxuICAgIGlmIChVLmlzQXJyYXkoX3ZhbHVlKSkge1xuICAgICAgbGV0IF92YWx1ZXMgPSBVLm1hcChfdmFsdWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHRoaXMgfTtcbiAgICAgIH0pO1xuICAgICAgc2V0U2VsZWN0ZWQuY2FsbCh0aGlzLCBxdWVJZHgsIF92YWx1ZXMsIHRydWUsIHsgbm9TdGF0ZUNoYW5nZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2UgaWYgKFUuaXNPYmplY3QoX3ZhbHVlKSkge1xuICAgICAgc2V0U2VsZWN0ZWQuY2FsbCh0aGlzLCBxdWVJZHgsIHsgdmFsdWU6IF92YWx1ZSB9LCB0cnVlLCB7IG5vU3RhdGVDaGFuZ2U6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByaW50TGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgIH1cblxuICAgIGJsdXJMYWJlbC5jYWxsKHRoaXMsIHF1ZUlkeCk7XG4gICAgYWxpZ25BdXRvY29tcGxldGVEaXNwbGF5LmNhbGwodGhpcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7KGpRdWVyeU9iamVjdHxFbGVtZW50fE51bWJlcil9IF9ib3VuZElEXG4gICAqIEBwYXJhbSB7KFN0cmluZ3xBcnJheSl9IF90ZXh0XG4gICAqIEByZXR1cm4ge0FYNlVJQXV0b2NvbXBsZXRlfVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBteUF1dG9jb21wbGV0ZS5zZXRUZXh0KGpRdWVyeSgnW2RhdGEtYXg2dWktYXV0b2NvbXBsZXRlPVwiYXV0b2NvbXBsZXRlMVwiXScpLCBcInN0cmluZ1wiKTtcbiAgICogbXlBdXRvY29tcGxldGUuc2V0VGV4dChqUXVlcnkoJ1tkYXRhLWF4NnVpLWF1dG9jb21wbGV0ZT1cImF1dG9jb21wbGV0ZTFcIl0nKSwgW1wic3Vic3RyaW5nXCIsIFwic2VhcmNoXCJdKTtcbiAgICogYGBgXG4gICAqL1xuICBzZXRUZXh0KF9ib3VuZElELCBfdGV4dCkge1xuICAgIGxldCBxdWVJZHggPSBVLmlzTnVtYmVyKF9ib3VuZElEKSA/IF9ib3VuZElEIDogZ2V0UXVlSWR4LmNhbGwodGhpcywgX2JvdW5kSUQpO1xuICAgIGlmIChxdWVJZHggPT09IC0xKSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2dWktYXV0b2NvbXBsZXRlXCIsIFwiNDAyXCIsIFwidmFsXCIpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uc2VsZWN0ZWQgPSBbXTtcbiAgICBjbGVhclNlbGVjdGVkLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICBzZXRTZWxlY3RlZC5jYWxsKHRoaXMsIHF1ZUlkeCwgX3RleHQsIHRydWUsIHsgbm9TdGF0ZUNoYW5nZTogdHJ1ZSB9KTtcbiAgICBibHVyTGFiZWwuY2FsbCh0aGlzLCBxdWVJZHgpO1xuICAgIGFsaWduQXV0b2NvbXBsZXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0geyhqUXVlcnlPYmplY3R8RWxlbWVudHxOdW1iZXIpfSBfYm91bmRJRFxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqL1xuICBnZXRTZWxlY3RlZE9wdGlvbihfYm91bmRJRCkge1xuICAgIGxldCBxdWVJZHggPSBVLmlzTnVtYmVyKF9ib3VuZElEKSA/IF9ib3VuZElEIDogZ2V0UXVlSWR4LmNhbGwodGhpcywgX2JvdW5kSUQpO1xuICAgIGlmIChxdWVJZHggPT09IC0xKSB7XG4gICAgICBjb25zb2xlLmxvZyhpbmZvLmdldEVycm9yKFwiYXg2dWktYXV0b2NvbXBsZXRlXCIsIFwiNDAyXCIsIFwidmFsXCIpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIFUuZGVlcENvcHkodGhpcy5xdWV1ZVtxdWVJZHhdLnNlbGVjdGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge0FYNlVJQXV0b2NvbXBsZXRlfVxuICAgKi9cbiAgY2xvc2UoaXRlbSkge1xuICAgIGlmICh0aGlzLmNsb3NlVGltZXIpIGNsZWFyVGltZW91dCh0aGlzLmNsb3NlVGltZXIpO1xuICAgIGlmICghdGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cCkgcmV0dXJuIHRoaXM7XG5cbiAgICBpdGVtID0gdGhpcy5xdWV1ZVt0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXhdO1xuICAgIGl0ZW0ub3B0aW9uRm9jdXNJbmRleCA9IC0xO1xuICAgIGl0ZW0uJGRpc3BsYXkucmVtb3ZlQXR0cihcImRhdGEtYXV0b2NvbXBsZXRlLW9wdGlvbi1ncm91cC1vcGVuZWRcIikudHJpZ2dlcihcImZvY3VzXCIpO1xuXG4gICAgdGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cC5hZGRDbGFzcyhcImRlc3Ryb3lcIik7XG5cbiAgICBqUXVlcnkod2luZG93KS5vZmYoXCJyZXNpemUuYXg2dWktYXV0b2NvbXBsZXRlLVwiICsgdGhpcy5pbnN0YW5jZUlkKS5vZmYoXCJjbGljay5heDZ1aS1hdXRvY29tcGxldGUtXCIgKyB0aGlzLmluc3RhbmNlSWQpLm9mZihcImtleXVwLmF4NnVpLWF1dG9jb21wbGV0ZS1cIiArIHRoaXMuaW5zdGFuY2VJZCk7XG5cbiAgICB0aGlzLmNsb3NlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwKSB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZU9wdGlvbkdyb3VwLnJlbW92ZSgpO1xuICAgICAgdGhpcy5hY3RpdmVhdXRvY29tcGxldGVPcHRpb25Hcm91cCA9IG51bGw7XG4gICAgICB0aGlzLmFjdGl2ZWF1dG9jb21wbGV0ZVF1ZXVlSW5kZXggPSAtMTtcblxuICAgICAgb25TdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLCBpdGVtLCB7XG4gICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgIHN0YXRlOiBcImNsb3NlXCJcbiAgICAgIH0pO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5jb25maWcuYW5pbWF0ZVRpbWUpO1xuICAgIHRoaXMud2FpdE9wdGlvbnNDYWxsYmFjayA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0geyhqUXVlcnlPYmplY3R8RWxlbWVudHxOdW1iZXIpfSBfYm91bmRJRFxuICAgKiBAcmV0dXJuIHtBWDZVSUF1dG9jb21wbGV0ZX1cbiAgICovXG4gIGJsdXIoX2JvdW5kSUQpIHtcbiAgICBsZXQgcXVlSWR4ID0gVS5pc051bWJlcihfYm91bmRJRCkgPyBfYm91bmRJRCA6IGdldFF1ZUlkeC5jYWxsKHRoaXMsIF9ib3VuZElEKTtcbiAgICBpZiAocXVlSWR4ID09PSAtMSkge1xuICAgICAgY29uc29sZS5sb2coaW5mby5nZXRFcnJvcihcImF4NnVpLWF1dG9jb21wbGV0ZVwiLCBcIjQwMlwiLCBcInZhbFwiKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYmx1ckxhYmVsLmNhbGwodGhpcywgcXVlSWR4KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7KGpRdWVyeU9iamVjdHxFbGVtZW50fE51bWJlcil9IF9ib3VuZElEXG4gICAqIEByZXR1cm4ge0FYNlVJQXV0b2NvbXBsZXRlfVxuICAgKi9cbiAgZW5hYmxlKF9ib3VuZElEKSB7XG4gICAgbGV0IHF1ZUlkeCA9IGdldFF1ZUlkeC5jYWxsKHRoaXMsIF9ib3VuZElEKTtcblxuICAgIGlmICh0eXBlb2YgcXVlSWR4ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uZGlzYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMucXVldWVbcXVlSWR4XS4kZGlzcGxheVswXSkge1xuICAgICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJGRpc3BsYXkucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJGRpc3BsYXlMYWJlbElucHV0LnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnF1ZXVlW3F1ZUlkeF0uJHNlbGVjdFswXSkge1xuICAgICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJHNlbGVjdC5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgdGhpcy5xdWV1ZVtxdWVJZHhdLCB7XG4gICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgIHN0YXRlOiBcImVuYWJsZVwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7KGpRdWVyeU9iamVjdHxFbGVtZW50fE51bWJlcil9IF9ib3VuZElEXG4gICAqIEByZXR1cm4ge0FYNlVJQXV0b2NvbXBsZXRlfVxuICAgKi9cbiAgZGlzYWJsZShfYm91bmRJRCkge1xuICAgIGxldCBxdWVJZHggPSBnZXRRdWVJZHguY2FsbCh0aGlzLCBfYm91bmRJRCk7XG5cbiAgICBpZiAodHlwZW9mIHF1ZUlkeCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdLmRpc2FibGUgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMucXVldWVbcXVlSWR4XS4kZGlzcGxheVswXSkge1xuICAgICAgICB0aGlzLnF1ZXVlW3F1ZUlkeF0uJGRpc3BsYXkuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgIHRoaXMucXVldWVbcXVlSWR4XS4kZGlzcGxheUxhYmVsSW5wdXQuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5xdWV1ZVtxdWVJZHhdLiRzZWxlY3RbMF0pIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtxdWVJZHhdLiRzZWxlY3QuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIG9uU3RhdGVDaGFuZ2VkLmNhbGwodGhpcywgdGhpcy5xdWV1ZVtxdWVJZHhdLCB7XG4gICAgICAgIHNlbGY6IHRoaXMsXG4gICAgICAgIHN0YXRlOiBcImRpc2FibGVcIlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJuIHtBWDZVSUF1dG9jb21wbGV0ZX1cbiAgICovXG4gIGFsaWduKCkge1xuICAgIGFsaWduQXV0b2NvbXBsZXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVg2VUlBdXRvY29tcGxldGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlBdXRvY29tcGxldGUuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJpbXBvcnQgalF1ZXJ5IGZyb20gXCJqcW1pblwiO1xuaW1wb3J0IEFYNlVJQ29yZSBmcm9tIFwiLi9BWDZVSUNvcmVcIjtcbmltcG9ydCBVIGZyb20gXCIuL0FYNlV0aWxcIjtcbi8qIH5+fn5+fn5+fn5+fn5+fn5+fiBlbmQgb2YgaW1wb3J0ICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4vKiB+fn5+fn5+fn5+fn5+fn5+fn4gZW5kIG9mIHByaXZhdGUgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIEFYNlVJU2lkZU5hdiBleHRlbmRzIEFYNlVJQ29yZSB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0pTT059XG4gICAgICogQHBhcmFtIGNvbmZpZ1xuICAgICAqIEBwYXJhbSBjb25maWcubWVudVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm1lbnUud2lkdGg9MjU2XVxuICAgICAqIEBwYXJhbSBbY29uZmlnLm1lbnUucG9zaXRpb249J2xlZnQnXVxuICAgICAqIEBwYXJhbSBjb25maWcubWVudS50YXJnZXRcbiAgICAgKiBAcGFyYW0gY29uZmlnLnBhbmVsXG4gICAgICogQHBhcmFtIGNvbmZpZy5wYW5lbC50YXJnZXRcbiAgICAgKlxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgbWVudToge1xuICAgICAgICB3aWR0aDogMjU2LFxuICAgICAgICBwb3NpdGlvbjogXCJsZWZ0XCJcbiAgICAgIH0sXG4gICAgICBwYW5lbDoge30sXG4gICAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2UnXG4gICAgICB9XG5cbiAgICB9O1xuICAgIFUuZXh0ZW5kKHRydWUsIHRoaXMuY29uZmlnLCBjb25maWcpO1xuXG4gICAgLy8g66mk67KEIOuzgOyImCDstIjquLDtmZRcbiAgICB0aGlzLiR0YXJnZXRNZW51ID0gbnVsbDtcbiAgICB0aGlzLiR0YXJnZXRQYW5lbCA9IG51bGw7XG5cbiAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gXCJ1bmRlZmluZWRcIikgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLm1lbnUudGFyZ2V0IHx8ICF0aGlzLmNvbmZpZy5wYW5lbC50YXJnZXQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbiBub3QgZm91bmQgY29uZmlnLm1lbnUudGFyZ2V0LCBjb25maWcucGFuZWwudGFyZ2V0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy4kdGFyZ2V0TWVudSA9IGpRdWVyeSh0aGlzLmNvbmZpZy5tZW51LnRhcmdldCk7XG4gICAgdGhpcy4kdGFyZ2V0UGFuZWwgPSBqUXVlcnkodGhpcy5jb25maWcucGFuZWwudGFyZ2V0KTtcblxuICAgIHRoaXMuJHRhcmdldE1lbnUuY3NzKHsgd2lkdGg6IHRoaXMuY29uZmlnLm1lbnUud2lkdGggfSkuYXR0cihcImRhdGEtYXg2dWktc2lkZW5hdi1wb3NpdGlvblwiLCB0aGlzLmNvbmZpZy5tZW51LnBvc2l0aW9uKTtcbiAgICB0aGlzLiR0YXJnZXRQYW5lbC5hdHRyKFwiZGF0YS1heDZ1aS1zaWRlbmF2LXBvc2l0aW9uXCIsIHRoaXMuY29uZmlnLm1lbnUucG9zaXRpb24pLm9uKCdjbGljaycsIGUgPT4ge1xuICAgICAgaWYgKHRoaXMub3BlbmVkKSB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBpbml0IO2YuOy2nCDsl6zrtoBcbiAgICB0aGlzLmluaXRPbmNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZFxuICAgKi9cbiAgaW5pdE9uY2UoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBpZiAodGhpcy5hbmltYXRpbmcpIHJldHVybiB0aGlzO1xuXG4gICAgalF1ZXJ5KCdodG1sJykuYXR0cignZGF0YS1heDZ1aS1zaWRlbmF2LW9wZW4nLCAndHJ1ZScpO1xuXG4gICAgdGhpcy4kdGFyZ2V0UGFuZWwuY3NzKHtcbiAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgdGhpcy5jb25maWcubWVudS53aWR0aCArICdweCknLFxuICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbic6ICd0cmFuc2Zvcm0gJyArIHRoaXMuY29uZmlnLnRyYW5zaXRpb24uZHVyYXRpb24gKyAnbXMgJyArIHRoaXMuY29uZmlnLnRyYW5zaXRpb24uZWFzaW5nXG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3BlbmVkID0gdHJ1ZTtcbiAgICB9LCB0aGlzLmNvbmZpZy50cmFuc2l0aW9uLmR1cmF0aW9uKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW5nKSByZXR1cm4gdGhpcztcblxuICAgIHRoaXMuJHRhcmdldFBhbmVsLmNzcyh7XG4gICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoMHB4KScsXG4gICAgICAnLXdlYmtpdC10cmFuc2l0aW9uJzogJ3RyYW5zZm9ybSAnICsgdGhpcy5jb25maWcudHJhbnNpdGlvbi5kdXJhdGlvbiArICdtcyAnICsgdGhpcy5jb25maWcudHJhbnNpdGlvbi5lYXNpbmdcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgalF1ZXJ5KCdodG1sJykuYXR0cignZGF0YS1heDZ1aS1zaWRlbmF2LW9wZW4nLCBudWxsKTtcbiAgICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG4gICAgfSwgdGhpcy5jb25maWcudHJhbnNpdGlvbi5kdXJhdGlvbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBWDZVSVNpZGVOYXY7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlTaWRlTmF2LmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIFByZXBhcmUgY3NzVHJhbnNmb3JtYXRpb25cbnZhciB0cmFuc2Zvcm07XG5cbnZhciBvcHRpb25zID0ge31cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXg2dWkvQVg2VUlTaWRlTmF2L3N0eWxlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikodW5kZWZpbmVkKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImh0bWxbZGF0YS1heDZ1aS1zaWRlbmF2LW9wZW5dIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47IH1cXG4gIGh0bWxbZGF0YS1heDZ1aS1zaWRlbmF2LW9wZW5dIFtkYXRhLWF4NnVpLXNpZGVuYXYtbWVudV0ge1xcbiAgICBkaXNwbGF5OiBibG9jazsgfVxcbiAgaHRtbFtkYXRhLWF4NnVpLXNpZGVuYXYtb3Blbl0gW2RhdGEtYXg2dWktc2lkZW5hdi1wYW5lbF0ge1xcbiAgICBvdmVyZmxvdzogaGlkZGVuOyB9XFxuXFxuW2RhdGEtYXg2dWktc2lkZW5hdi1wYW5lbF0ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMTtcXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxuICBtaW4taGVpZ2h0OiAxMDAlOyB9XFxuXFxuW2RhdGEtYXg2dWktc2lkZW5hdi1tZW51XSB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICB3aWR0aDogMjU2cHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcbiAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xcbiAgei1pbmRleDogMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBtYXJnaW46IDA7IH1cXG4gIFtkYXRhLWF4NnVpLXNpZGVuYXYtbWVudV1bZGF0YS1heDZ1aS1zaWRlbmF2LXBvc2l0aW9uPVxcXCJsZWZ0XFxcIl0ge1xcbiAgICBsZWZ0OiAwOyB9XFxuICBbZGF0YS1heDZ1aS1zaWRlbmF2LW1lbnVdW2RhdGEtYXg2dWktc2lkZW5hdi1wb3NpdGlvbj1cXFwicmlnaHRcXFwiXSB7XFxuICAgIHJpZ2h0OiAwOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlciEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vbm9kZV9tb2R1bGVzL2F4NnVpL0FYNlVJU2lkZU5hdi9zdHlsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zYW1wbGUuc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gUHJlcGFyZSBjc3NUcmFuc2Zvcm1hdGlvblxudmFyIHRyYW5zZm9ybTtcblxudmFyIG9wdGlvbnMgPSB7fVxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zYW1wbGUuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zYW1wbGUuc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL3NhbXBsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDE2IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSh1bmRlZmluZWQpO1xuLy8gaW1wb3J0c1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGVzaWduLWljb25zL2ljb25mb250L21hdGVyaWFsLWljb25zLmNzc1wiKSwgXCJcIik7XG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1hdGVyaWFsaXplLXJlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTUxYzIzICFpbXBvcnRhbnQ7IH1cXG5cXG4ubWF0ZXJpYWxpemUtcmVkLXRleHQge1xcbiAgY29sb3I6ICNlNTFjMjMgIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQubGlnaHRlbi01IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZGVhZWIgIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQtdGV4dC50ZXh0LWxpZ2h0ZW4tNSB7XFxuICBjb2xvcjogI2ZkZWFlYiAhaW1wb3J0YW50OyB9XFxuXFxuLm1hdGVyaWFsaXplLXJlZC5saWdodGVuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4YzFjMyAhaW1wb3J0YW50OyB9XFxuXFxuLm1hdGVyaWFsaXplLXJlZC10ZXh0LnRleHQtbGlnaHRlbi00IHtcXG4gIGNvbG9yOiAjZjhjMWMzICFpbXBvcnRhbnQ7IH1cXG5cXG4ubWF0ZXJpYWxpemUtcmVkLmxpZ2h0ZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjM5ODliICFpbXBvcnRhbnQ7IH1cXG5cXG4ubWF0ZXJpYWxpemUtcmVkLXRleHQudGV4dC1saWdodGVuLTMge1xcbiAgY29sb3I6ICNmMzk4OWIgIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQubGlnaHRlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZTZlNzMgIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQtdGV4dC50ZXh0LWxpZ2h0ZW4tMiB7XFxuICBjb2xvcjogI2VlNmU3MyAhaW1wb3J0YW50OyB9XFxuXFxuLm1hdGVyaWFsaXplLXJlZC5saWdodGVuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VhNDU0YiAhaW1wb3J0YW50OyB9XFxuXFxuLm1hdGVyaWFsaXplLXJlZC10ZXh0LnRleHQtbGlnaHRlbi0xIHtcXG4gIGNvbG9yOiAjZWE0NTRiICFpbXBvcnRhbnQ7IH1cXG5cXG4ubWF0ZXJpYWxpemUtcmVkLmRhcmtlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkMDE4MWUgIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQtdGV4dC50ZXh0LWRhcmtlbi0xIHtcXG4gIGNvbG9yOiAjZDAxODFlICFpbXBvcnRhbnQ7IH1cXG5cXG4ubWF0ZXJpYWxpemUtcmVkLmRhcmtlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiOTE1MWIgIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQtdGV4dC50ZXh0LWRhcmtlbi0yIHtcXG4gIGNvbG9yOiAjYjkxNTFiICFpbXBvcnRhbnQ7IH1cXG5cXG4ubWF0ZXJpYWxpemUtcmVkLmRhcmtlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNhMjEzMTggIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQtdGV4dC50ZXh0LWRhcmtlbi0zIHtcXG4gIGNvbG9yOiAjYTIxMzE4ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubWF0ZXJpYWxpemUtcmVkLmRhcmtlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4YjEwMTQgIWltcG9ydGFudDsgfVxcblxcbi5tYXRlcmlhbGl6ZS1yZWQtdGV4dC50ZXh0LWRhcmtlbi00IHtcXG4gIGNvbG9yOiAjOGIxMDE0ICFpbXBvcnRhbnQ7IH1cXG5cXG4ucmVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGNDQzMzYgIWltcG9ydGFudDsgfVxcblxcbi5yZWQtdGV4dCB7XFxuICBjb2xvcjogI0Y0NDMzNiAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC5saWdodGVuLTUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRUJFRSAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjRkZFQkVFICFpbXBvcnRhbnQ7IH1cXG5cXG4ucmVkLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZDREQyICFpbXBvcnRhbnQ7IH1cXG5cXG4ucmVkLXRleHQudGV4dC1saWdodGVuLTQge1xcbiAgY29sb3I6ICNGRkNERDIgIWltcG9ydGFudDsgfVxcblxcbi5yZWQubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNFRjlBOUEgIWltcG9ydGFudDsgfVxcblxcbi5yZWQtdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogI0VGOUE5QSAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC5saWdodGVuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0U1NzM3MyAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjRTU3MzczICFpbXBvcnRhbnQ7IH1cXG5cXG4ucmVkLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUY1MzUwICFpbXBvcnRhbnQ7IH1cXG5cXG4ucmVkLXRleHQudGV4dC1saWdodGVuLTEge1xcbiAgY29sb3I6ICNFRjUzNTAgIWltcG9ydGFudDsgfVxcblxcbi5yZWQuZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0U1MzkzNSAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICNFNTM5MzUgIWltcG9ydGFudDsgfVxcblxcbi5yZWQuZGFya2VuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0QzMkYyRiAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICNEMzJGMkYgIWltcG9ydGFudDsgfVxcblxcbi5yZWQuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0M2MjgyOCAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtZGFya2VuLTMge1xcbiAgY29sb3I6ICNDNjI4MjggIWltcG9ydGFudDsgfVxcblxcbi5yZWQuZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0I3MUMxQyAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICNCNzFDMUMgIWltcG9ydGFudDsgfVxcblxcbi5yZWQuYWNjZW50LTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGOEE4MCAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtYWNjZW50LTEge1xcbiAgY29sb3I6ICNGRjhBODAgIWltcG9ydGFudDsgfVxcblxcbi5yZWQuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGNTI1MiAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtYWNjZW50LTIge1xcbiAgY29sb3I6ICNGRjUyNTIgIWltcG9ydGFudDsgfVxcblxcbi5yZWQuYWNjZW50LTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGMTc0NCAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICNGRjE3NDQgIWltcG9ydGFudDsgfVxcblxcbi5yZWQuYWNjZW50LTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0Q1MDAwMCAhaW1wb3J0YW50OyB9XFxuXFxuLnJlZC10ZXh0LnRleHQtYWNjZW50LTQge1xcbiAgY29sb3I6ICNENTAwMDAgIWltcG9ydGFudDsgfVxcblxcbi5waW5rIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlOTFlNjMgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLXRleHQge1xcbiAgY29sb3I6ICNlOTFlNjMgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLmxpZ2h0ZW4tNSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNlNGVjICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjZmNlNGVjICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay5saWdodGVuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4YmJkMCAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmstdGV4dC50ZXh0LWxpZ2h0ZW4tNCB7XFxuICBjb2xvcjogI2Y4YmJkMCAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmsubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNDhmYjEgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLXRleHQudGV4dC1saWdodGVuLTMge1xcbiAgY29sb3I6ICNmNDhmYjEgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLmxpZ2h0ZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjA2MjkyICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjZjA2MjkyICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay5saWdodGVuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VjNDA3YSAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmstdGV4dC50ZXh0LWxpZ2h0ZW4tMSB7XFxuICBjb2xvcjogI2VjNDA3YSAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmsuZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q4MWI2MCAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmstdGV4dC50ZXh0LWRhcmtlbi0xIHtcXG4gIGNvbG9yOiAjZDgxYjYwICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay5kYXJrZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzIxODViICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICNjMjE4NWIgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLmRhcmtlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNhZDE0NTcgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLXRleHQudGV4dC1kYXJrZW4tMyB7XFxuICBjb2xvcjogI2FkMTQ1NyAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmsuZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzg4MGU0ZiAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmstdGV4dC50ZXh0LWRhcmtlbi00IHtcXG4gIGNvbG9yOiAjODgwZTRmICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay5hY2NlbnQtMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY4MGFiICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay10ZXh0LnRleHQtYWNjZW50LTEge1xcbiAgY29sb3I6ICNmZjgwYWIgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLmFjY2VudC0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjQwODEgIWltcG9ydGFudDsgfVxcblxcbi5waW5rLXRleHQudGV4dC1hY2NlbnQtMiB7XFxuICBjb2xvcjogI2ZmNDA4MSAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmsuYWNjZW50LTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1MDA1NyAhaW1wb3J0YW50OyB9XFxuXFxuLnBpbmstdGV4dC50ZXh0LWFjY2VudC0zIHtcXG4gIGNvbG9yOiAjZjUwMDU3ICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay5hY2NlbnQtNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzUxMTYyICFpbXBvcnRhbnQ7IH1cXG5cXG4ucGluay10ZXh0LnRleHQtYWNjZW50LTQge1xcbiAgY29sb3I6ICNjNTExNjIgIWltcG9ydGFudDsgfVxcblxcbi5wdXJwbGUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzljMjdiMCAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS10ZXh0IHtcXG4gIGNvbG9yOiAjOWMyN2IwICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLmxpZ2h0ZW4tNSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNlNWY1ICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1saWdodGVuLTUge1xcbiAgY29sb3I6ICNmM2U1ZjUgIWltcG9ydGFudDsgfVxcblxcbi5wdXJwbGUubGlnaHRlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMWJlZTcgIWltcG9ydGFudDsgfVxcblxcbi5wdXJwbGUtdGV4dC50ZXh0LWxpZ2h0ZW4tNCB7XFxuICBjb2xvcjogI2UxYmVlNyAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5saWdodGVuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NlOTNkOCAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS10ZXh0LnRleHQtbGlnaHRlbi0zIHtcXG4gIGNvbG9yOiAjY2U5M2Q4ICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLmxpZ2h0ZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmE2OGM4ICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1saWdodGVuLTIge1xcbiAgY29sb3I6ICNiYTY4YzggIWltcG9ydGFudDsgfVxcblxcbi5wdXJwbGUubGlnaHRlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNhYjQ3YmMgIWltcG9ydGFudDsgfVxcblxcbi5wdXJwbGUtdGV4dC50ZXh0LWxpZ2h0ZW4tMSB7XFxuICBjb2xvcjogI2FiNDdiYyAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5kYXJrZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGUyNGFhICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1kYXJrZW4tMSB7XFxuICBjb2xvcjogIzhlMjRhYSAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5kYXJrZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2IxZmEyICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1kYXJrZW4tMiB7XFxuICBjb2xvcjogIzdiMWZhMiAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5kYXJrZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmExYjlhICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1kYXJrZW4tMyB7XFxuICBjb2xvcjogIzZhMWI5YSAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5kYXJrZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGExNDhjICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1kYXJrZW4tNCB7XFxuICBjb2xvcjogIzRhMTQ4YyAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5hY2NlbnQtMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWE4MGZjICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1hY2NlbnQtMSB7XFxuICBjb2xvcjogI2VhODBmYyAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5hY2NlbnQtMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTA0MGZiICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1hY2NlbnQtMiB7XFxuICBjb2xvcjogI2UwNDBmYiAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5hY2NlbnQtMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDUwMGY5ICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1hY2NlbnQtMyB7XFxuICBjb2xvcjogI2Q1MDBmOSAhaW1wb3J0YW50OyB9XFxuXFxuLnB1cnBsZS5hY2NlbnQtNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWEwMGZmICFpbXBvcnRhbnQ7IH1cXG5cXG4ucHVycGxlLXRleHQudGV4dC1hY2NlbnQtNCB7XFxuICBjb2xvcjogI2FhMDBmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtcHVycGxlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2NzNhYjcgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0IHtcXG4gIGNvbG9yOiAjNjczYWI3ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUubGlnaHRlbi01IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZGU3ZjYgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjZWRlN2Y2ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUubGlnaHRlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkMWM0ZTkgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtbGlnaHRlbi00IHtcXG4gIGNvbG9yOiAjZDFjNGU5ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiMzlkZGIgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtbGlnaHRlbi0zIHtcXG4gIGNvbG9yOiAjYjM5ZGRiICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUubGlnaHRlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM5NTc1Y2QgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjOTU3NWNkICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUubGlnaHRlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3ZTU3YzIgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtbGlnaHRlbi0xIHtcXG4gIGNvbG9yOiAjN2U1N2MyICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUuZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzVlMzViMSAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtcHVycGxlLXRleHQudGV4dC1kYXJrZW4tMSB7XFxuICBjb2xvcjogIzVlMzViMSAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtcHVycGxlLmRhcmtlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM1MTJkYTggIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICM1MTJkYTggIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS5kYXJrZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDUyN2EwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUtdGV4dC50ZXh0LWRhcmtlbi0zIHtcXG4gIGNvbG9yOiAjNDUyN2EwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUuZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMxMWI5MiAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtcHVycGxlLXRleHQudGV4dC1kYXJrZW4tNCB7XFxuICBjb2xvcjogIzMxMWI5MiAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtcHVycGxlLmFjY2VudC0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiMzg4ZmYgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtYWNjZW50LTEge1xcbiAgY29sb3I6ICNiMzg4ZmYgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS5hY2NlbnQtMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2M0ZGZmICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUtdGV4dC50ZXh0LWFjY2VudC0yIHtcXG4gIGNvbG9yOiAjN2M0ZGZmICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1wdXJwbGUuYWNjZW50LTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY1MWZmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtcHVycGxlLXRleHQudGV4dC1hY2NlbnQtMyB7XFxuICBjb2xvcjogIzY1MWZmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtcHVycGxlLmFjY2VudC00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2MjAwZWEgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLXB1cnBsZS10ZXh0LnRleHQtYWNjZW50LTQge1xcbiAgY29sb3I6ICM2MjAwZWEgIWltcG9ydGFudDsgfVxcblxcbi5pbmRpZ28ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNmNTFiNSAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby10ZXh0IHtcXG4gIGNvbG9yOiAjM2Y1MWI1ICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLmxpZ2h0ZW4tNSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlYWY2ICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1saWdodGVuLTUge1xcbiAgY29sb3I6ICNlOGVhZjYgIWltcG9ydGFudDsgfVxcblxcbi5pbmRpZ28ubGlnaHRlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjNWNhZTkgIWltcG9ydGFudDsgfVxcblxcbi5pbmRpZ28tdGV4dC50ZXh0LWxpZ2h0ZW4tNCB7XFxuICBjb2xvcjogI2M1Y2FlOSAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5saWdodGVuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzlmYThkYSAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby10ZXh0LnRleHQtbGlnaHRlbi0zIHtcXG4gIGNvbG9yOiAjOWZhOGRhICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLmxpZ2h0ZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzk4NmNiICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1saWdodGVuLTIge1xcbiAgY29sb3I6ICM3OTg2Y2IgIWltcG9ydGFudDsgfVxcblxcbi5pbmRpZ28ubGlnaHRlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM1YzZiYzAgIWltcG9ydGFudDsgfVxcblxcbi5pbmRpZ28tdGV4dC50ZXh0LWxpZ2h0ZW4tMSB7XFxuICBjb2xvcjogIzVjNmJjMCAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5kYXJrZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzk0OWFiICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1kYXJrZW4tMSB7XFxuICBjb2xvcjogIzM5NDlhYiAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5kYXJrZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzZjlmICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1kYXJrZW4tMiB7XFxuICBjb2xvcjogIzMwM2Y5ZiAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5kYXJrZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjgzNTkzICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1kYXJrZW4tMyB7XFxuICBjb2xvcjogIzI4MzU5MyAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5kYXJrZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWEyMzdlICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1kYXJrZW4tNCB7XFxuICBjb2xvcjogIzFhMjM3ZSAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5hY2NlbnQtMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGM5ZWZmICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1hY2NlbnQtMSB7XFxuICBjb2xvcjogIzhjOWVmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5hY2NlbnQtMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTM2ZGZlICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1hY2NlbnQtMiB7XFxuICBjb2xvcjogIzUzNmRmZSAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5hY2NlbnQtMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2Q1YWZlICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1hY2NlbnQtMyB7XFxuICBjb2xvcjogIzNkNWFmZSAhaW1wb3J0YW50OyB9XFxuXFxuLmluZGlnby5hY2NlbnQtNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzA0ZmZlICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW5kaWdvLXRleHQudGV4dC1hY2NlbnQtNCB7XFxuICBjb2xvcjogIzMwNGZmZSAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMyAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtdGV4dCB7XFxuICBjb2xvcjogIzIxOTZGMyAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUubGlnaHRlbi01IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNFM0YyRkQgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLXRleHQudGV4dC1saWdodGVuLTUge1xcbiAgY29sb3I6ICNFM0YyRkQgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQkJERUZCICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS10ZXh0LnRleHQtbGlnaHRlbi00IHtcXG4gIGNvbG9yOiAjQkJERUZCICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS5saWdodGVuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzkwQ0FGOSAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogIzkwQ0FGOSAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUubGlnaHRlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2NEI1RjYgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLXRleHQudGV4dC1saWdodGVuLTIge1xcbiAgY29sb3I6ICM2NEI1RjYgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDJBNUY1ICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS10ZXh0LnRleHQtbGlnaHRlbi0xIHtcXG4gIGNvbG9yOiAjNDJBNUY1ICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS5kYXJrZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUU4OEU1ICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICMxRTg4RTUgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLmRhcmtlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxOTc2RDIgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLXRleHQudGV4dC1kYXJrZW4tMiB7XFxuICBjb2xvcjogIzE5NzZEMiAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE1NjVDMCAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtdGV4dC50ZXh0LWRhcmtlbi0zIHtcXG4gIGNvbG9yOiAjMTU2NUMwICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS5kYXJrZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEQ0N0ExICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICMwRDQ3QTEgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLmFjY2VudC0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4MkIxRkYgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLXRleHQudGV4dC1hY2NlbnQtMSB7XFxuICBjb2xvcjogIzgyQjFGRiAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQ0OEFGRiAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtdGV4dC50ZXh0LWFjY2VudC0yIHtcXG4gIGNvbG9yOiAjNDQ4QUZGICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS5hY2NlbnQtMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjk3OUZGICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICMyOTc5RkYgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLmFjY2VudC00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyOTYyRkYgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLXRleHQudGV4dC1hY2NlbnQtNCB7XFxuICBjb2xvcjogIzI5NjJGRiAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAzYTlmNCAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUtdGV4dCB7XFxuICBjb2xvcjogIzAzYTlmNCAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUubGlnaHRlbi01IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMWY1ZmUgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLXRleHQudGV4dC1saWdodGVuLTUge1xcbiAgY29sb3I6ICNlMWY1ZmUgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNlNWZjICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS10ZXh0LnRleHQtbGlnaHRlbi00IHtcXG4gIGNvbG9yOiAjYjNlNWZjICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS5saWdodGVuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzgxZDRmYSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUtdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogIzgxZDRmYSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUubGlnaHRlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0ZmMzZjcgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLXRleHQudGV4dC1saWdodGVuLTIge1xcbiAgY29sb3I6ICM0ZmMzZjcgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjliNmY2ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS10ZXh0LnRleHQtbGlnaHRlbi0xIHtcXG4gIGNvbG9yOiAjMjliNmY2ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS5kYXJrZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDM5YmU1ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICMwMzliZTUgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLmRhcmtlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMjg4ZDEgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLXRleHQudGV4dC1kYXJrZW4tMiB7XFxuICBjb2xvcjogIzAyODhkMSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAyNzdiZCAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUtdGV4dC50ZXh0LWRhcmtlbi0zIHtcXG4gIGNvbG9yOiAjMDI3N2JkICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS5kYXJrZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDE1NzliICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICMwMTU3OWIgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLmFjY2VudC0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4MGQ4ZmYgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLXRleHQudGV4dC1hY2NlbnQtMSB7XFxuICBjb2xvcjogIzgwZDhmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQwYzRmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWJsdWUtdGV4dC50ZXh0LWFjY2VudC0yIHtcXG4gIGNvbG9yOiAjNDBjNGZmICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS5hY2NlbnQtMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBiMGZmICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtYmx1ZS10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICMwMGIwZmYgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLmFjY2VudC00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDkxZWEgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ibHVlLXRleHQudGV4dC1hY2NlbnQtNCB7XFxuICBjb2xvcjogIzAwOTFlYSAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwYmNkNCAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4tdGV4dCB7XFxuICBjb2xvcjogIzAwYmNkNCAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4ubGlnaHRlbi01IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMGY3ZmEgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLXRleHQudGV4dC1saWdodGVuLTUge1xcbiAgY29sb3I6ICNlMGY3ZmEgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjJlYmYyICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi10ZXh0LnRleHQtbGlnaHRlbi00IHtcXG4gIGNvbG9yOiAjYjJlYmYyICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi5saWdodGVuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzgwZGVlYSAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4tdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogIzgwZGVlYSAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4ubGlnaHRlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0ZGQwZTEgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLXRleHQudGV4dC1saWdodGVuLTIge1xcbiAgY29sb3I6ICM0ZGQwZTEgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjZjNmRhICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi10ZXh0LnRleHQtbGlnaHRlbi0xIHtcXG4gIGNvbG9yOiAjMjZjNmRhICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi5kYXJrZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBhY2MxICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICMwMGFjYzEgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLmRhcmtlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDk3YTcgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLXRleHQudGV4dC1kYXJrZW4tMiB7XFxuICBjb2xvcjogIzAwOTdhNyAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4uZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwODM4ZiAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4tdGV4dC50ZXh0LWRhcmtlbi0zIHtcXG4gIGNvbG9yOiAjMDA4MzhmICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi5kYXJrZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA2MDY0ICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICMwMDYwNjQgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLmFjY2VudC0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4NGZmZmYgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLXRleHQudGV4dC1hY2NlbnQtMSB7XFxuICBjb2xvcjogIzg0ZmZmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4uYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4ZmZmZiAhaW1wb3J0YW50OyB9XFxuXFxuLmN5YW4tdGV4dC50ZXh0LWFjY2VudC0yIHtcXG4gIGNvbG9yOiAjMThmZmZmICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi5hY2NlbnQtMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBlNWZmICFpbXBvcnRhbnQ7IH1cXG5cXG4uY3lhbi10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICMwMGU1ZmYgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLmFjY2VudC00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMGI4ZDQgIWltcG9ydGFudDsgfVxcblxcbi5jeWFuLXRleHQudGV4dC1hY2NlbnQtNCB7XFxuICBjb2xvcjogIzAwYjhkNCAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwOTY4OCAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwtdGV4dCB7XFxuICBjb2xvcjogIzAwOTY4OCAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwubGlnaHRlbi01IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMGYyZjEgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLXRleHQudGV4dC1saWdodGVuLTUge1xcbiAgY29sb3I6ICNlMGYyZjEgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjJkZmRiICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC10ZXh0LnRleHQtbGlnaHRlbi00IHtcXG4gIGNvbG9yOiAjYjJkZmRiICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC5saWdodGVuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzgwY2JjNCAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwtdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogIzgwY2JjNCAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwubGlnaHRlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0ZGI2YWMgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLXRleHQudGV4dC1saWdodGVuLTIge1xcbiAgY29sb3I6ICM0ZGI2YWMgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjZhNjlhICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC10ZXh0LnRleHQtbGlnaHRlbi0xIHtcXG4gIGNvbG9yOiAjMjZhNjlhICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC5kYXJrZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA4OTdiICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICMwMDg5N2IgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLmRhcmtlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDc5NmIgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLXRleHQudGV4dC1kYXJrZW4tMiB7XFxuICBjb2xvcjogIzAwNzk2YiAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNjk1YyAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwtdGV4dC50ZXh0LWRhcmtlbi0zIHtcXG4gIGNvbG9yOiAjMDA2OTVjICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC5kYXJrZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA0ZDQwICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICMwMDRkNDAgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLmFjY2VudC0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNhN2ZmZWIgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLXRleHQudGV4dC1hY2NlbnQtMSB7XFxuICBjb2xvcjogI2E3ZmZlYiAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY0ZmZkYSAhaW1wb3J0YW50OyB9XFxuXFxuLnRlYWwtdGV4dC50ZXh0LWFjY2VudC0yIHtcXG4gIGNvbG9yOiAjNjRmZmRhICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC5hY2NlbnQtMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWRlOWI2ICFpbXBvcnRhbnQ7IH1cXG5cXG4udGVhbC10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICMxZGU5YjYgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLmFjY2VudC00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMGJmYTUgIWltcG9ydGFudDsgfVxcblxcbi50ZWFsLXRleHQudGV4dC1hY2NlbnQtNCB7XFxuICBjb2xvcjogIzAwYmZhNSAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZWVuIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTAgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0IHtcXG4gIGNvbG9yOiAjNENBRjUwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4ubGlnaHRlbi01IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNFOEY1RTkgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjRThGNUU5ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4ubGlnaHRlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNDOEU2QzkgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtbGlnaHRlbi00IHtcXG4gIGNvbG9yOiAjQzhFNkM5ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4ubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNBNUQ2QTcgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtbGlnaHRlbi0zIHtcXG4gIGNvbG9yOiAjQTVENkE3ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4ubGlnaHRlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4MUM3ODQgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjODFDNzg0ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4ubGlnaHRlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2NkJCNkEgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtbGlnaHRlbi0xIHtcXG4gIGNvbG9yOiAjNjZCQjZBICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4uZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQzQTA0NyAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZWVuLXRleHQudGV4dC1kYXJrZW4tMSB7XFxuICBjb2xvcjogIzQzQTA0NyAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZWVuLmRhcmtlbi0yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzODhFM0MgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICMzODhFM0MgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi5kYXJrZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkU3RDMyICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4tdGV4dC50ZXh0LWRhcmtlbi0zIHtcXG4gIGNvbG9yOiAjMkU3RDMyICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4uZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFCNUUyMCAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZWVuLXRleHQudGV4dC1kYXJrZW4tNCB7XFxuICBjb2xvcjogIzFCNUUyMCAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZWVuLmFjY2VudC0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNCOUY2Q0EgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtYWNjZW50LTEge1xcbiAgY29sb3I6ICNCOUY2Q0EgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi5hY2NlbnQtMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjlGMEFFICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4tdGV4dC50ZXh0LWFjY2VudC0yIHtcXG4gIGNvbG9yOiAjNjlGMEFFICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JlZW4uYWNjZW50LTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwRTY3NiAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZWVuLXRleHQudGV4dC1hY2NlbnQtMyB7XFxuICBjb2xvcjogIzAwRTY3NiAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZWVuLmFjY2VudC00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMEM4NTMgIWltcG9ydGFudDsgfVxcblxcbi5ncmVlbi10ZXh0LnRleHQtYWNjZW50LTQge1xcbiAgY29sb3I6ICMwMEM4NTMgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ncmVlbiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGJjMzRhICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dCB7XFxuICBjb2xvcjogIzhiYzM0YSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmxpZ2h0ZW4tNSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmOGU5ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWxpZ2h0ZW4tNSB7XFxuICBjb2xvcjogI2YxZjhlOSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGNlZGM4ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWxpZ2h0ZW4tNCB7XFxuICBjb2xvcjogI2RjZWRjOCAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmxpZ2h0ZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzVlMWE1ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogI2M1ZTFhNSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmxpZ2h0ZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWVkNTgxICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWxpZ2h0ZW4tMiB7XFxuICBjb2xvcjogI2FlZDU4MSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOWNjYzY1ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWxpZ2h0ZW4tMSB7XFxuICBjb2xvcjogIzljY2M2NSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmRhcmtlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3Y2IzNDIgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ncmVlbi10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICM3Y2IzNDIgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ncmVlbi5kYXJrZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjg5ZjM4ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWRhcmtlbi0yIHtcXG4gIGNvbG9yOiAjNjg5ZjM4ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4uZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1OGIyZiAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLXRleHQudGV4dC1kYXJrZW4tMyB7XFxuICBjb2xvcjogIzU1OGIyZiAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmRhcmtlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzY5MWUgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ncmVlbi10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICMzMzY5MWUgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ncmVlbi5hY2NlbnQtMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NmZjkwICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWFjY2VudC0xIHtcXG4gIGNvbG9yOiAjY2NmZjkwICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4uYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2IyZmY1OSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLXRleHQudGV4dC1hY2NlbnQtMiB7XFxuICBjb2xvcjogI2IyZmY1OSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpZ2h0LWdyZWVuLmFjY2VudC0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3NmZmMDMgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ncmVlbi10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICM3NmZmMDMgIWltcG9ydGFudDsgfVxcblxcbi5saWdodC1ncmVlbi5hY2NlbnQtNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjRkZDE3ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGlnaHQtZ3JlZW4tdGV4dC50ZXh0LWFjY2VudC00IHtcXG4gIGNvbG9yOiAjNjRkZDE3ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2RkYzM5ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS10ZXh0IHtcXG4gIGNvbG9yOiAjY2RkYzM5ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS5saWdodGVuLTUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmJlNyAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUtdGV4dC50ZXh0LWxpZ2h0ZW4tNSB7XFxuICBjb2xvcjogI2Y5ZmJlNyAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUubGlnaHRlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGY0YzMgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLXRleHQudGV4dC1saWdodGVuLTQge1xcbiAgY29sb3I6ICNmMGY0YzMgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLmxpZ2h0ZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlZTljICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS10ZXh0LnRleHQtbGlnaHRlbi0zIHtcXG4gIGNvbG9yOiAjZTZlZTljICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS5saWdodGVuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RjZTc3NSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUtdGV4dC50ZXh0LWxpZ2h0ZW4tMiB7XFxuICBjb2xvcjogI2RjZTc3NSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUubGlnaHRlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkNGUxNTcgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLXRleHQudGV4dC1saWdodGVuLTEge1xcbiAgY29sb3I6ICNkNGUxNTcgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLmRhcmtlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjMGNhMzMgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLXRleHQudGV4dC1kYXJrZW4tMSB7XFxuICBjb2xvcjogI2MwY2EzMyAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUuZGFya2VuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FmYjQyYiAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUtdGV4dC50ZXh0LWRhcmtlbi0yIHtcXG4gIGNvbG9yOiAjYWZiNDJiICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS5kYXJrZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOWU5ZDI0ICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS10ZXh0LnRleHQtZGFya2VuLTMge1xcbiAgY29sb3I6ICM5ZTlkMjQgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLmRhcmtlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4Mjc3MTcgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLXRleHQudGV4dC1kYXJrZW4tNCB7XFxuICBjb2xvcjogIzgyNzcxNyAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUuYWNjZW50LTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZmY4MSAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUtdGV4dC50ZXh0LWFjY2VudC0xIHtcXG4gIGNvbG9yOiAjZjRmZjgxICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS5hY2NlbnQtMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVmZjQxICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGltZS10ZXh0LnRleHQtYWNjZW50LTIge1xcbiAgY29sb3I6ICNlZWZmNDEgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLmFjY2VudC0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjNmZmMDAgIWltcG9ydGFudDsgfVxcblxcbi5saW1lLXRleHQudGV4dC1hY2NlbnQtMyB7XFxuICBjb2xvcjogI2M2ZmYwMCAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUuYWNjZW50LTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FlZWEwMCAhaW1wb3J0YW50OyB9XFxuXFxuLmxpbWUtdGV4dC50ZXh0LWFjY2VudC00IHtcXG4gIGNvbG9yOiAjYWVlYTAwICFpbXBvcnRhbnQ7IH1cXG5cXG4ueWVsbG93IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmViM2IgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3ctdGV4dCB7XFxuICBjb2xvcjogI2ZmZWIzYiAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy5saWdodGVuLTUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmRlNyAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjZmZmZGU3ICFpbXBvcnRhbnQ7IH1cXG5cXG4ueWVsbG93LmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOWM0ICFpbXBvcnRhbnQ7IH1cXG5cXG4ueWVsbG93LXRleHQudGV4dC1saWdodGVuLTQge1xcbiAgY29sb3I6ICNmZmY5YzQgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY1OWQgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3ctdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogI2ZmZjU5ZCAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy5saWdodGVuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjE3NiAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjZmZmMTc2ICFpbXBvcnRhbnQ7IH1cXG5cXG4ueWVsbG93LmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlZTU4ICFpbXBvcnRhbnQ7IH1cXG5cXG4ueWVsbG93LXRleHQudGV4dC1saWdodGVuLTEge1xcbiAgY29sb3I6ICNmZmVlNTggIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZDgzNSAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICNmZGQ4MzUgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuZGFya2VuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiYzAyZCAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICNmYmMwMmQgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5YTgyNSAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtZGFya2VuLTMge1xcbiAgY29sb3I6ICNmOWE4MjUgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1N2YxNyAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICNmNTdmMTcgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuYWNjZW50LTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmY4ZCAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtYWNjZW50LTEge1xcbiAgY29sb3I6ICNmZmZmOGQgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmYwMCAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtYWNjZW50LTIge1xcbiAgY29sb3I6ICNmZmZmMDAgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuYWNjZW50LTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWEwMCAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICNmZmVhMDAgIWltcG9ydGFudDsgfVxcblxcbi55ZWxsb3cuYWNjZW50LTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZDYwMCAhaW1wb3J0YW50OyB9XFxuXFxuLnllbGxvdy10ZXh0LnRleHQtYWNjZW50LTQge1xcbiAgY29sb3I6ICNmZmQ2MDAgIWltcG9ydGFudDsgfVxcblxcbi5hbWJlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjMTA3ICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dCB7XFxuICBjb2xvcjogI2ZmYzEwNyAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmxpZ2h0ZW4tNSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOGUxICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWxpZ2h0ZW4tNSB7XFxuICBjb2xvcjogI2ZmZjhlMSAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlY2IzICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWxpZ2h0ZW4tNCB7XFxuICBjb2xvcjogI2ZmZWNiMyAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmxpZ2h0ZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlMDgyICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogI2ZmZTA4MiAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmxpZ2h0ZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZkNTRmICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWxpZ2h0ZW4tMiB7XFxuICBjb2xvcjogI2ZmZDU0ZiAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjYTI4ICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWxpZ2h0ZW4tMSB7XFxuICBjb2xvcjogI2ZmY2EyOCAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmRhcmtlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmIzMDAgIWltcG9ydGFudDsgfVxcblxcbi5hbWJlci10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICNmZmIzMDAgIWltcG9ydGFudDsgfVxcblxcbi5hbWJlci5kYXJrZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZhMDAwICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWRhcmtlbi0yIHtcXG4gIGNvbG9yOiAjZmZhMDAwICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXIuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOGYwMCAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLXRleHQudGV4dC1kYXJrZW4tMyB7XFxuICBjb2xvcjogI2ZmOGYwMCAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmRhcmtlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjZmMDAgIWltcG9ydGFudDsgfVxcblxcbi5hbWJlci10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICNmZjZmMDAgIWltcG9ydGFudDsgfVxcblxcbi5hbWJlci5hY2NlbnQtMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlNTdmICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWFjY2VudC0xIHtcXG4gIGNvbG9yOiAjZmZlNTdmICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXIuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZDc0MCAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLXRleHQudGV4dC1hY2NlbnQtMiB7XFxuICBjb2xvcjogI2ZmZDc0MCAhaW1wb3J0YW50OyB9XFxuXFxuLmFtYmVyLmFjY2VudC0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmM0MDAgIWltcG9ydGFudDsgfVxcblxcbi5hbWJlci10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICNmZmM0MDAgIWltcG9ydGFudDsgfVxcblxcbi5hbWJlci5hY2NlbnQtNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZhYjAwICFpbXBvcnRhbnQ7IH1cXG5cXG4uYW1iZXItdGV4dC50ZXh0LWFjY2VudC00IHtcXG4gIGNvbG9yOiAjZmZhYjAwICFpbXBvcnRhbnQ7IH1cXG5cXG4ub3JhbmdlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjk4MDAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UtdGV4dCB7XFxuICBjb2xvcjogI2ZmOTgwMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS5saWdodGVuLTUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjNlMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjZmZmM2UwICFpbXBvcnRhbnQ7IH1cXG5cXG4ub3JhbmdlLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlMGIyICFpbXBvcnRhbnQ7IH1cXG5cXG4ub3JhbmdlLXRleHQudGV4dC1saWdodGVuLTQge1xcbiAgY29sb3I6ICNmZmUwYjIgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmNjODAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UtdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogI2ZmY2M4MCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS5saWdodGVuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYjc0ZCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjZmZiNzRkICFpbXBvcnRhbnQ7IH1cXG5cXG4ub3JhbmdlLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZhNzI2ICFpbXBvcnRhbnQ7IH1cXG5cXG4ub3JhbmdlLXRleHQudGV4dC1saWdodGVuLTEge1xcbiAgY29sb3I6ICNmZmE3MjYgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiOGMwMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICNmYjhjMDAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuZGFya2VuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1N2MwMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICNmNTdjMDAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VmNmMwMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtZGFya2VuLTMge1xcbiAgY29sb3I6ICNlZjZjMDAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U2NTEwMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICNlNjUxMDAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuYWNjZW50LTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZDE4MCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtYWNjZW50LTEge1xcbiAgY29sb3I6ICNmZmQxODAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYWI0MCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtYWNjZW50LTIge1xcbiAgY29sb3I6ICNmZmFiNDAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuYWNjZW50LTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOTEwMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICNmZjkxMDAgIWltcG9ydGFudDsgfVxcblxcbi5vcmFuZ2UuYWNjZW50LTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNmQwMCAhaW1wb3J0YW50OyB9XFxuXFxuLm9yYW5nZS10ZXh0LnRleHQtYWNjZW50LTQge1xcbiAgY29sb3I6ICNmZjZkMDAgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLW9yYW5nZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY1NzIyICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dCB7XFxuICBjb2xvcjogI2ZmNTcyMiAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmxpZ2h0ZW4tNSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmJlOWU3ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWxpZ2h0ZW4tNSB7XFxuICBjb2xvcjogI2ZiZTllNyAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjY2JjICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWxpZ2h0ZW4tNCB7XFxuICBjb2xvcjogI2ZmY2NiYyAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmxpZ2h0ZW4tMyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZhYjkxICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogI2ZmYWI5MSAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmxpZ2h0ZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY4YTY1ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWxpZ2h0ZW4tMiB7XFxuICBjb2xvcjogI2ZmOGE2NSAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY3MDQzICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWxpZ2h0ZW4tMSB7XFxuICBjb2xvcjogI2ZmNzA0MyAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmRhcmtlbi0xIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNDUxMWUgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLW9yYW5nZS10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICNmNDUxMWUgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLW9yYW5nZS5kYXJrZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTY0YTE5ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWRhcmtlbi0yIHtcXG4gIGNvbG9yOiAjZTY0YTE5ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q4NDMxNSAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLXRleHQudGV4dC1kYXJrZW4tMyB7XFxuICBjb2xvcjogI2Q4NDMxNSAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmRhcmtlbi00IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiZjM2MGMgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLW9yYW5nZS10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICNiZjM2MGMgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLW9yYW5nZS5hY2NlbnQtMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY5ZTgwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWFjY2VudC0xIHtcXG4gIGNvbG9yOiAjZmY5ZTgwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UuYWNjZW50LTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNmU0MCAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLXRleHQudGV4dC1hY2NlbnQtMiB7XFxuICBjb2xvcjogI2ZmNmU0MCAhaW1wb3J0YW50OyB9XFxuXFxuLmRlZXAtb3JhbmdlLmFjY2VudC0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjNkMDAgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLW9yYW5nZS10ZXh0LnRleHQtYWNjZW50LTMge1xcbiAgY29sb3I6ICNmZjNkMDAgIWltcG9ydGFudDsgfVxcblxcbi5kZWVwLW9yYW5nZS5hY2NlbnQtNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGQyYzAwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZGVlcC1vcmFuZ2UtdGV4dC50ZXh0LWFjY2VudC00IHtcXG4gIGNvbG9yOiAjZGQyYzAwICFpbXBvcnRhbnQ7IH1cXG5cXG4uYnJvd24ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzc5NTU0OCAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLXRleHQge1xcbiAgY29sb3I6ICM3OTU1NDggIWltcG9ydGFudDsgfVxcblxcbi5icm93bi5saWdodGVuLTUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VmZWJlOSAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLXRleHQudGV4dC1saWdodGVuLTUge1xcbiAgY29sb3I6ICNlZmViZTkgIWltcG9ydGFudDsgfVxcblxcbi5icm93bi5saWdodGVuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q3Y2NjOCAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLXRleHQudGV4dC1saWdodGVuLTQge1xcbiAgY29sb3I6ICNkN2NjYzggIWltcG9ydGFudDsgfVxcblxcbi5icm93bi5saWdodGVuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2JjYWFhNCAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLXRleHQudGV4dC1saWdodGVuLTMge1xcbiAgY29sb3I6ICNiY2FhYTQgIWltcG9ydGFudDsgfVxcblxcbi5icm93bi5saWdodGVuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ExODg3ZiAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLXRleHQudGV4dC1saWdodGVuLTIge1xcbiAgY29sb3I6ICNhMTg4N2YgIWltcG9ydGFudDsgfVxcblxcbi5icm93bi5saWdodGVuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzhkNmU2MyAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLXRleHQudGV4dC1saWdodGVuLTEge1xcbiAgY29sb3I6ICM4ZDZlNjMgIWltcG9ydGFudDsgfVxcblxcbi5icm93bi5kYXJrZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmQ0YzQxICFpbXBvcnRhbnQ7IH1cXG5cXG4uYnJvd24tdGV4dC50ZXh0LWRhcmtlbi0xIHtcXG4gIGNvbG9yOiAjNmQ0YzQxICFpbXBvcnRhbnQ7IH1cXG5cXG4uYnJvd24uZGFya2VuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzVkNDAzNyAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLXRleHQudGV4dC1kYXJrZW4tMiB7XFxuICBjb2xvcjogIzVkNDAzNyAhaW1wb3J0YW50OyB9XFxuXFxuLmJyb3duLmRhcmtlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0ZTM0MmUgIWltcG9ydGFudDsgfVxcblxcbi5icm93bi10ZXh0LnRleHQtZGFya2VuLTMge1xcbiAgY29sb3I6ICM0ZTM0MmUgIWltcG9ydGFudDsgfVxcblxcbi5icm93bi5kYXJrZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2UyNzIzICFpbXBvcnRhbnQ7IH1cXG5cXG4uYnJvd24tdGV4dC50ZXh0LWRhcmtlbi00IHtcXG4gIGNvbG9yOiAjM2UyNzIzICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS1ncmV5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2MDdkOGIgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLWdyZXktdGV4dCB7XFxuICBjb2xvcjogIzYwN2Q4YiAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS5saWdodGVuLTUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VjZWZmMSAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjZWNlZmYxICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS1ncmV5LmxpZ2h0ZW4tNCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2ZkOGRjICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS1ncmV5LXRleHQudGV4dC1saWdodGVuLTQge1xcbiAgY29sb3I6ICNjZmQ4ZGMgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLWdyZXkubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiMGJlYzUgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLWdyZXktdGV4dC50ZXh0LWxpZ2h0ZW4tMyB7XFxuICBjb2xvcjogI2IwYmVjNSAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS5saWdodGVuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzkwYTRhZSAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjOTBhNGFlICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS1ncmV5LmxpZ2h0ZW4tMSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzg5MDljICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmx1ZS1ncmV5LXRleHQudGV4dC1saWdodGVuLTEge1xcbiAgY29sb3I6ICM3ODkwOWMgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLWdyZXkuZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU0NmU3YSAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS10ZXh0LnRleHQtZGFya2VuLTEge1xcbiAgY29sb3I6ICM1NDZlN2EgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLWdyZXkuZGFya2VuLTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQ1NWE2NCAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICM0NTVhNjQgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLWdyZXkuZGFya2VuLTMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM3NDc0ZiAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS10ZXh0LnRleHQtZGFya2VuLTMge1xcbiAgY29sb3I6ICMzNzQ3NGYgIWltcG9ydGFudDsgfVxcblxcbi5ibHVlLWdyZXkuZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI2MzIzOCAhaW1wb3J0YW50OyB9XFxuXFxuLmJsdWUtZ3JleS10ZXh0LnRleHQtZGFya2VuLTQge1xcbiAgY29sb3I6ICMyNjMyMzggIWltcG9ydGFudDsgfVxcblxcbi5ncmV5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM5ZTllOWUgIWltcG9ydGFudDsgfVxcblxcbi5ncmV5LXRleHQge1xcbiAgY29sb3I6ICM5ZTllOWUgIWltcG9ydGFudDsgfVxcblxcbi5ncmV5LmxpZ2h0ZW4tNSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JleS10ZXh0LnRleHQtbGlnaHRlbi01IHtcXG4gIGNvbG9yOiAjZmFmYWZhICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JleS5saWdodGVuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNSAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZXktdGV4dC50ZXh0LWxpZ2h0ZW4tNCB7XFxuICBjb2xvcjogI2Y1ZjVmNSAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZXkubGlnaHRlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWUgIWltcG9ydGFudDsgfVxcblxcbi5ncmV5LXRleHQudGV4dC1saWdodGVuLTMge1xcbiAgY29sb3I6ICNlZWVlZWUgIWltcG9ydGFudDsgfVxcblxcbi5ncmV5LmxpZ2h0ZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JleS10ZXh0LnRleHQtbGlnaHRlbi0yIHtcXG4gIGNvbG9yOiAjZTBlMGUwICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JleS5saWdodGVuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2JkYmRiZCAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZXktdGV4dC50ZXh0LWxpZ2h0ZW4tMSB7XFxuICBjb2xvcjogI2JkYmRiZCAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZXkuZGFya2VuLTEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzc1NzU3NSAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZXktdGV4dC50ZXh0LWRhcmtlbi0xIHtcXG4gIGNvbG9yOiAjNzU3NTc1ICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JleS5kYXJrZW4tMiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjE2MTYxICFpbXBvcnRhbnQ7IH1cXG5cXG4uZ3JleS10ZXh0LnRleHQtZGFya2VuLTIge1xcbiAgY29sb3I6ICM2MTYxNjEgIWltcG9ydGFudDsgfVxcblxcbi5ncmV5LmRhcmtlbi0zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0MjQyNDIgIWltcG9ydGFudDsgfVxcblxcbi5ncmV5LXRleHQudGV4dC1kYXJrZW4tMyB7XFxuICBjb2xvcjogIzQyNDI0MiAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZXkuZGFya2VuLTQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjEyMSAhaW1wb3J0YW50OyB9XFxuXFxuLmdyZXktdGV4dC50ZXh0LWRhcmtlbi00IHtcXG4gIGNvbG9yOiAjMjEyMTIxICFpbXBvcnRhbnQ7IH1cXG5cXG4uYmxhY2sge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMCAhaW1wb3J0YW50OyB9XFxuXFxuLmJsYWNrLXRleHQge1xcbiAgY29sb3I6ICMwMDAwMDAgIWltcG9ydGFudDsgfVxcblxcbi53aGl0ZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGICFpbXBvcnRhbnQ7IH1cXG5cXG4ud2hpdGUtdGV4dCB7XFxuICBjb2xvcjogI0ZGRkZGRiAhaW1wb3J0YW50OyB9XFxuXFxuLnRyYW5zcGFyZW50IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7IH1cXG5cXG4udHJhbnNwYXJlbnQtdGV4dCB7XFxuICBjb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsgfVxcblxcbi8qISBub3JtYWxpemUuY3NzIHYzLjAuMyB8IE1JVCBMaWNlbnNlIHwgZ2l0aHViLmNvbS9uZWNvbGFzL25vcm1hbGl6ZS5jc3MgKi9cXG4vKipcXG4gKiAxLiBTZXQgZGVmYXVsdCBmb250IGZhbWlseSB0byBzYW5zLXNlcmlmLlxcbiAqIDIuIFByZXZlbnQgaU9TIGFuZCBJRSB0ZXh0IHNpemUgYWRqdXN0IGFmdGVyIGRldmljZSBvcmllbnRhdGlvbiBjaGFuZ2UsXFxuICogICAgd2l0aG91dCBkaXNhYmxpbmcgdXNlciB6b29tLlxcbiAqL1xcbmh0bWwge1xcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxuICAvKiAxICovXFxuICAtbXMtdGV4dC1zaXplLWFkanVzdDogMTAwJTtcXG4gIC8qIDIgKi9cXG4gIC13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogMTAwJTtcXG4gIC8qIDIgKi8gfVxcblxcbi8qKlxcbiAqIFJlbW92ZSBkZWZhdWx0IG1hcmdpbi5cXG4gKi9cXG5ib2R5IHtcXG4gIG1hcmdpbjogMDsgfVxcblxcbi8qIEhUTUw1IGRpc3BsYXkgZGVmaW5pdGlvbnNcXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcbi8qKlxcbiAqIENvcnJlY3QgYGJsb2NrYCBkaXNwbGF5IG5vdCBkZWZpbmVkIGZvciBhbnkgSFRNTDUgZWxlbWVudCBpbiBJRSA4LzkuXFxuICogQ29ycmVjdCBgYmxvY2tgIGRpc3BsYXkgbm90IGRlZmluZWQgZm9yIGBkZXRhaWxzYCBvciBgc3VtbWFyeWAgaW4gSUUgMTAvMTFcXG4gKiBhbmQgRmlyZWZveC5cXG4gKiBDb3JyZWN0IGBibG9ja2AgZGlzcGxheSBub3QgZGVmaW5lZCBmb3IgYG1haW5gIGluIElFIDExLlxcbiAqL1xcbmFydGljbGUsXFxuYXNpZGUsXFxuZGV0YWlscyxcXG5maWdjYXB0aW9uLFxcbmZpZ3VyZSxcXG5mb290ZXIsXFxuaGVhZGVyLFxcbmhncm91cCxcXG5tYWluLFxcbm1lbnUsXFxubmF2LFxcbnNlY3Rpb24sXFxuc3VtbWFyeSB7XFxuICBkaXNwbGF5OiBibG9jazsgfVxcblxcbi8qKlxcbiAqIDEuIENvcnJlY3QgYGlubGluZS1ibG9ja2AgZGlzcGxheSBub3QgZGVmaW5lZCBpbiBJRSA4LzkuXFxuICogMi4gTm9ybWFsaXplIHZlcnRpY2FsIGFsaWdubWVudCBvZiBgcHJvZ3Jlc3NgIGluIENocm9tZSwgRmlyZWZveCwgYW5kIE9wZXJhLlxcbiAqL1xcbmF1ZGlvLFxcbmNhbnZhcyxcXG5wcm9ncmVzcyxcXG52aWRlbyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAvKiAxICovXFxuICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxuICAvKiAyICovIH1cXG5cXG4vKipcXG4gKiBQcmV2ZW50IG1vZGVybiBicm93c2VycyBmcm9tIGRpc3BsYXlpbmcgYGF1ZGlvYCB3aXRob3V0IGNvbnRyb2xzLlxcbiAqIFJlbW92ZSBleGNlc3MgaGVpZ2h0IGluIGlPUyA1IGRldmljZXMuXFxuICovXFxuYXVkaW86bm90KFtjb250cm9sc10pIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBoZWlnaHQ6IDA7IH1cXG5cXG4vKipcXG4gKiBBZGRyZXNzIGBbaGlkZGVuXWAgc3R5bGluZyBub3QgcHJlc2VudCBpbiBJRSA4LzkvMTAuXFxuICogSGlkZSB0aGUgYHRlbXBsYXRlYCBlbGVtZW50IGluIElFIDgvOS8xMC8xMSwgU2FmYXJpLCBhbmQgRmlyZWZveCA8IDIyLlxcbiAqL1xcbltoaWRkZW5dLFxcbnRlbXBsYXRlIHtcXG4gIGRpc3BsYXk6IG5vbmU7IH1cXG5cXG4vKiBMaW5rc1xcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuLyoqXFxuICogUmVtb3ZlIHRoZSBncmF5IGJhY2tncm91bmQgY29sb3IgZnJvbSBhY3RpdmUgbGlua3MgaW4gSUUgMTAuXFxuICovXFxuYSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfVxcblxcbi8qKlxcbiAqIEltcHJvdmUgcmVhZGFiaWxpdHkgb2YgZm9jdXNlZCBlbGVtZW50cyB3aGVuIHRoZXkgYXJlIGFsc28gaW4gYW5cXG4gKiBhY3RpdmUvaG92ZXIgc3RhdGUuXFxuICovXFxuYTphY3RpdmUsXFxuYTpob3ZlciB7XFxuICBvdXRsaW5lOiAwOyB9XFxuXFxuLyogVGV4dC1sZXZlbCBzZW1hbnRpY3NcXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcbi8qKlxcbiAqIEFkZHJlc3Mgc3R5bGluZyBub3QgcHJlc2VudCBpbiBJRSA4LzkvMTAvMTEsIFNhZmFyaSwgYW5kIENocm9tZS5cXG4gKi9cXG5hYmJyW3RpdGxlXSB7XFxuICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkOyB9XFxuXFxuLyoqXFxuICogQWRkcmVzcyBzdHlsZSBzZXQgdG8gYGJvbGRlcmAgaW4gRmlyZWZveCA0KywgU2FmYXJpLCBhbmQgQ2hyb21lLlxcbiAqL1xcbmIsXFxuc3Ryb25nIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkOyB9XFxuXFxuLyoqXFxuICogQWRkcmVzcyBzdHlsaW5nIG5vdCBwcmVzZW50IGluIFNhZmFyaSBhbmQgQ2hyb21lLlxcbiAqL1xcbmRmbiB7XFxuICBmb250LXN0eWxlOiBpdGFsaWM7IH1cXG5cXG4vKipcXG4gKiBBZGRyZXNzIHZhcmlhYmxlIGBoMWAgZm9udC1zaXplIGFuZCBtYXJnaW4gd2l0aGluIGBzZWN0aW9uYCBhbmQgYGFydGljbGVgXFxuICogY29udGV4dHMgaW4gRmlyZWZveCA0KywgU2FmYXJpLCBhbmQgQ2hyb21lLlxcbiAqL1xcbmgxIHtcXG4gIGZvbnQtc2l6ZTogMmVtO1xcbiAgbWFyZ2luOiAwLjY3ZW0gMDsgfVxcblxcbi8qKlxcbiAqIEFkZHJlc3Mgc3R5bGluZyBub3QgcHJlc2VudCBpbiBJRSA4LzkuXFxuICovXFxubWFyayB7XFxuICBiYWNrZ3JvdW5kOiAjZmYwO1xcbiAgY29sb3I6ICMwMDA7IH1cXG5cXG4vKipcXG4gKiBBZGRyZXNzIGluY29uc2lzdGVudCBhbmQgdmFyaWFibGUgZm9udCBzaXplIGluIGFsbCBicm93c2Vycy5cXG4gKi9cXG5zbWFsbCB7XFxuICBmb250LXNpemU6IDgwJTsgfVxcblxcbi8qKlxcbiAqIFByZXZlbnQgYHN1YmAgYW5kIGBzdXBgIGFmZmVjdGluZyBgbGluZS1oZWlnaHRgIGluIGFsbCBicm93c2Vycy5cXG4gKi9cXG5zdWIsXFxuc3VwIHtcXG4gIGZvbnQtc2l6ZTogNzUlO1xcbiAgbGluZS1oZWlnaHQ6IDA7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7IH1cXG5cXG5zdXAge1xcbiAgdG9wOiAtMC41ZW07IH1cXG5cXG5zdWIge1xcbiAgYm90dG9tOiAtMC4yNWVtOyB9XFxuXFxuLyogRW1iZWRkZWQgY29udGVudFxcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuLyoqXFxuICogUmVtb3ZlIGJvcmRlciB3aGVuIGluc2lkZSBgYWAgZWxlbWVudCBpbiBJRSA4LzkvMTAuXFxuICovXFxuaW1nIHtcXG4gIGJvcmRlcjogMDsgfVxcblxcbi8qKlxcbiAqIENvcnJlY3Qgb3ZlcmZsb3cgbm90IGhpZGRlbiBpbiBJRSA5LzEwLzExLlxcbiAqL1xcbnN2Zzpub3QoOnJvb3QpIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47IH1cXG5cXG4vKiBHcm91cGluZyBjb250ZW50XFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG4vKipcXG4gKiBBZGRyZXNzIG1hcmdpbiBub3QgcHJlc2VudCBpbiBJRSA4LzkgYW5kIFNhZmFyaS5cXG4gKi9cXG5maWd1cmUge1xcbiAgbWFyZ2luOiAxZW0gNDBweDsgfVxcblxcbi8qKlxcbiAqIEFkZHJlc3MgZGlmZmVyZW5jZXMgYmV0d2VlbiBGaXJlZm94IGFuZCBvdGhlciBicm93c2Vycy5cXG4gKi9cXG5ociB7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGhlaWdodDogMDsgfVxcblxcbi8qKlxcbiAqIENvbnRhaW4gb3ZlcmZsb3cgaW4gYWxsIGJyb3dzZXJzLlxcbiAqL1xcbnByZSB7XFxuICBvdmVyZmxvdzogYXV0bzsgfVxcblxcbi8qKlxcbiAqIEFkZHJlc3Mgb2RkIGBlbWAtdW5pdCBmb250IHNpemUgcmVuZGVyaW5nIGluIGFsbCBicm93c2Vycy5cXG4gKi9cXG5jb2RlLFxcbmtiZCxcXG5wcmUsXFxuc2FtcCB7XFxuICBmb250LWZhbWlseTogbW9ub3NwYWNlLCBtb25vc3BhY2U7XFxuICBmb250LXNpemU6IDFlbTsgfVxcblxcbi8qIEZvcm1zXFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG4vKipcXG4gKiBLbm93biBsaW1pdGF0aW9uOiBieSBkZWZhdWx0LCBDaHJvbWUgYW5kIFNhZmFyaSBvbiBPUyBYIGFsbG93IHZlcnkgbGltaXRlZFxcbiAqIHN0eWxpbmcgb2YgYHNlbGVjdGAsIHVubGVzcyBhIGBib3JkZXJgIHByb3BlcnR5IGlzIHNldC5cXG4gKi9cXG4vKipcXG4gKiAxLiBDb3JyZWN0IGNvbG9yIG5vdCBiZWluZyBpbmhlcml0ZWQuXFxuICogICAgS25vd24gaXNzdWU6IGFmZmVjdHMgY29sb3Igb2YgZGlzYWJsZWQgZWxlbWVudHMuXFxuICogMi4gQ29ycmVjdCBmb250IHByb3BlcnRpZXMgbm90IGJlaW5nIGluaGVyaXRlZC5cXG4gKiAzLiBBZGRyZXNzIG1hcmdpbnMgc2V0IGRpZmZlcmVudGx5IGluIEZpcmVmb3ggNCssIFNhZmFyaSwgYW5kIENocm9tZS5cXG4gKi9cXG5idXR0b24sXFxuaW5wdXQsXFxub3B0Z3JvdXAsXFxuc2VsZWN0LFxcbnRleHRhcmVhIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgLyogMSAqL1xcbiAgZm9udDogaW5oZXJpdDtcXG4gIC8qIDIgKi9cXG4gIG1hcmdpbjogMDtcXG4gIC8qIDMgKi8gfVxcblxcbi8qKlxcbiAqIEFkZHJlc3MgYG92ZXJmbG93YCBzZXQgdG8gYGhpZGRlbmAgaW4gSUUgOC85LzEwLzExLlxcbiAqL1xcbmJ1dHRvbiB7XFxuICBvdmVyZmxvdzogdmlzaWJsZTsgfVxcblxcbi8qKlxcbiAqIEFkZHJlc3MgaW5jb25zaXN0ZW50IGB0ZXh0LXRyYW5zZm9ybWAgaW5oZXJpdGFuY2UgZm9yIGBidXR0b25gIGFuZCBgc2VsZWN0YC5cXG4gKiBBbGwgb3RoZXIgZm9ybSBjb250cm9sIGVsZW1lbnRzIGRvIG5vdCBpbmhlcml0IGB0ZXh0LXRyYW5zZm9ybWAgdmFsdWVzLlxcbiAqIENvcnJlY3QgYGJ1dHRvbmAgc3R5bGUgaW5oZXJpdGFuY2UgaW4gRmlyZWZveCwgSUUgOC85LzEwLzExLCBhbmQgT3BlcmEuXFxuICogQ29ycmVjdCBgc2VsZWN0YCBzdHlsZSBpbmhlcml0YW5jZSBpbiBGaXJlZm94LlxcbiAqL1xcbmJ1dHRvbixcXG5zZWxlY3Qge1xcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7IH1cXG5cXG4vKipcXG4gKiAxLiBBdm9pZCB0aGUgV2ViS2l0IGJ1ZyBpbiBBbmRyb2lkIDQuMC4qIHdoZXJlICgyKSBkZXN0cm95cyBuYXRpdmUgYGF1ZGlvYFxcbiAqICAgIGFuZCBgdmlkZW9gIGNvbnRyb2xzLlxcbiAqIDIuIENvcnJlY3QgaW5hYmlsaXR5IHRvIHN0eWxlIGNsaWNrYWJsZSBgaW5wdXRgIHR5cGVzIGluIGlPUy5cXG4gKiAzLiBJbXByb3ZlIHVzYWJpbGl0eSBhbmQgY29uc2lzdGVuY3kgb2YgY3Vyc29yIHN0eWxlIGJldHdlZW4gaW1hZ2UtdHlwZVxcbiAqICAgIGBpbnB1dGAgYW5kIG90aGVycy5cXG4gKi9cXG5idXR0b24sXFxuaHRtbCBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXSxcXG5pbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdLFxcbmlucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdIHtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogYnV0dG9uO1xcbiAgLyogMiAqL1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgLyogMyAqLyB9XFxuXFxuLyoqXFxuICogUmUtc2V0IGRlZmF1bHQgY3Vyc29yIGZvciBkaXNhYmxlZCBlbGVtZW50cy5cXG4gKi9cXG5idXR0b25bZGlzYWJsZWRdLFxcbmh0bWwgaW5wdXRbZGlzYWJsZWRdIHtcXG4gIGN1cnNvcjogZGVmYXVsdDsgfVxcblxcbi8qKlxcbiAqIFJlbW92ZSBpbm5lciBwYWRkaW5nIGFuZCBib3JkZXIgaW4gRmlyZWZveCA0Ky5cXG4gKi9cXG5idXR0b246Oi1tb3otZm9jdXMtaW5uZXIsXFxuaW5wdXQ6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbiAgcGFkZGluZzogMDsgfVxcblxcbi8qKlxcbiAqIEFkZHJlc3MgRmlyZWZveCA0KyBzZXR0aW5nIGBsaW5lLWhlaWdodGAgb24gYGlucHV0YCB1c2luZyBgIWltcG9ydGFudGAgaW5cXG4gKiB0aGUgVUEgc3R5bGVzaGVldC5cXG4gKi9cXG5pbnB1dCB7XFxuICBsaW5lLWhlaWdodDogbm9ybWFsOyB9XFxuXFxuLyoqXFxuICogSXQncyByZWNvbW1lbmRlZCB0aGF0IHlvdSBkb24ndCBhdHRlbXB0IHRvIHN0eWxlIHRoZXNlIGVsZW1lbnRzLlxcbiAqIEZpcmVmb3gncyBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IHJlc3BlY3QgYm94LXNpemluZywgcGFkZGluZywgb3Igd2lkdGguXFxuICpcXG4gKiAxLiBBZGRyZXNzIGJveCBzaXppbmcgc2V0IHRvIGBjb250ZW50LWJveGAgaW4gSUUgOC85LzEwLlxcbiAqIDIuIFJlbW92ZSBleGNlc3MgcGFkZGluZyBpbiBJRSA4LzkvMTAuXFxuICovXFxuaW5wdXRbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxcXG5pbnB1dFt0eXBlPVxcXCJyYWRpb1xcXCJdIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAvKiAxICovXFxuICBwYWRkaW5nOiAwO1xcbiAgLyogMiAqLyB9XFxuXFxuLyoqXFxuICogRml4IHRoZSBjdXJzb3Igc3R5bGUgZm9yIENocm9tZSdzIGluY3JlbWVudC9kZWNyZW1lbnQgYnV0dG9ucy4gRm9yIGNlcnRhaW5cXG4gKiBgZm9udC1zaXplYCB2YWx1ZXMgb2YgdGhlIGBpbnB1dGAsIGl0IGNhdXNlcyB0aGUgY3Vyc29yIHN0eWxlIG9mIHRoZVxcbiAqIGRlY3JlbWVudCBidXR0b24gdG8gY2hhbmdlIGZyb20gYGRlZmF1bHRgIHRvIGB0ZXh0YC5cXG4gKi9cXG5pbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixcXG5pbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XFxuICBoZWlnaHQ6IGF1dG87IH1cXG5cXG4vKipcXG4gKiAxLiBBZGRyZXNzIGBhcHBlYXJhbmNlYCBzZXQgdG8gYHNlYXJjaGZpZWxkYCBpbiBTYWZhcmkgYW5kIENocm9tZS5cXG4gKiAyLiBBZGRyZXNzIGBib3gtc2l6aW5nYCBzZXQgdG8gYGJvcmRlci1ib3hgIGluIFNhZmFyaSBhbmQgQ2hyb21lLlxcbiAqL1xcbmlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdIHtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xcbiAgLyogMSAqL1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICAvKiAyICovIH1cXG5cXG4vKipcXG4gKiBSZW1vdmUgaW5uZXIgcGFkZGluZyBhbmQgc2VhcmNoIGNhbmNlbCBidXR0b24gaW4gU2FmYXJpIGFuZCBDaHJvbWUgb24gT1MgWC5cXG4gKiBTYWZhcmkgKGJ1dCBub3QgQ2hyb21lKSBjbGlwcyB0aGUgY2FuY2VsIGJ1dHRvbiB3aGVuIHRoZSBzZWFyY2ggaW5wdXQgaGFzXFxuICogcGFkZGluZyAoYW5kIGB0ZXh0ZmllbGRgIGFwcGVhcmFuY2UpLlxcbiAqL1xcbmlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLFxcbmlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uIHtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsgfVxcblxcbi8qKlxcbiAqIERlZmluZSBjb25zaXN0ZW50IGJvcmRlciwgbWFyZ2luLCBhbmQgcGFkZGluZy5cXG4gKi9cXG5maWVsZHNldCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYzBjMGMwO1xcbiAgbWFyZ2luOiAwIDJweDtcXG4gIHBhZGRpbmc6IDAuMzVlbSAwLjYyNWVtIDAuNzVlbTsgfVxcblxcbi8qKlxcbiAqIDEuIENvcnJlY3QgYGNvbG9yYCBub3QgYmVpbmcgaW5oZXJpdGVkIGluIElFIDgvOS8xMC8xMS5cXG4gKiAyLiBSZW1vdmUgcGFkZGluZyBzbyBwZW9wbGUgYXJlbid0IGNhdWdodCBvdXQgaWYgdGhleSB6ZXJvIG91dCBmaWVsZHNldHMuXFxuICovXFxubGVnZW5kIHtcXG4gIGJvcmRlcjogMDtcXG4gIC8qIDEgKi9cXG4gIHBhZGRpbmc6IDA7XFxuICAvKiAyICovIH1cXG5cXG4vKipcXG4gKiBSZW1vdmUgZGVmYXVsdCB2ZXJ0aWNhbCBzY3JvbGxiYXIgaW4gSUUgOC85LzEwLzExLlxcbiAqL1xcbnRleHRhcmVhIHtcXG4gIG92ZXJmbG93OiBhdXRvOyB9XFxuXFxuLyoqXFxuICogRG9uJ3QgaW5oZXJpdCB0aGUgYGZvbnQtd2VpZ2h0YCAoYXBwbGllZCBieSBhIHJ1bGUgYWJvdmUpLlxcbiAqIE5PVEU6IHRoZSBkZWZhdWx0IGNhbm5vdCBzYWZlbHkgYmUgY2hhbmdlZCBpbiBDaHJvbWUgYW5kIFNhZmFyaSBvbiBPUyBYLlxcbiAqL1xcbm9wdGdyb3VwIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkOyB9XFxuXFxuLyogVGFibGVzXFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG4vKipcXG4gKiBSZW1vdmUgbW9zdCBzcGFjaW5nIGJldHdlZW4gdGFibGUgY2VsbHMuXFxuICovXFxudGFibGUge1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG4gIGJvcmRlci1zcGFjaW5nOiAwOyB9XFxuXFxudGQsXFxudGgge1xcbiAgcGFkZGluZzogMDsgfVxcblxcbmh0bWwge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDsgfVxcblxcbiosICo6YmVmb3JlLCAqOmFmdGVyIHtcXG4gIGJveC1zaXppbmc6IGluaGVyaXQ7IH1cXG5cXG51bDpub3QoLmJyb3dzZXItZGVmYXVsdCkge1xcbiAgcGFkZGluZy1sZWZ0OiAwO1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lOyB9XFxuICB1bDpub3QoLmJyb3dzZXItZGVmYXVsdCkgPiBsaSB7XFxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsgfVxcblxcbmEge1xcbiAgY29sb3I6ICMwMzliZTU7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuXFxuLnZhbGlnbi13cmFwcGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XFxuXFxuLmNsZWFyZml4IHtcXG4gIGNsZWFyOiBib3RoOyB9XFxuXFxuLnotZGVwdGgtMCB7XFxuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7IH1cXG5cXG4uei1kZXB0aC0xLCBuYXYsIC5jYXJkLXBhbmVsLCAuY2FyZCwgLmJ0biwgLmJ0bi1sYXJnZSwgLmJ0bi1mbG9hdGluZyB7XFxuICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDNweCAxcHggLTJweCByZ2JhKDAsIDAsIDAsIDAuMik7IH1cXG5cXG4uei1kZXB0aC0xLWhhbGYsIC5idG46aG92ZXIsIC5idG4tbGFyZ2U6aG92ZXIsIC5idG4tZmxvYXRpbmc6aG92ZXIge1xcbiAgYm94LXNoYWRvdzogMCAzcHggM3B4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAxcHggN3B4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAzcHggMXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpOyB9XFxuXFxuLnotZGVwdGgtMiB7XFxuICBib3gtc2hhZG93OiAwIDRweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDFweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAycHggNHB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjMpOyB9XFxuXFxuLnotZGVwdGgtMyB7XFxuICBib3gtc2hhZG93OiAwIDZweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAxcHggMThweCAwIHJnYmEoMCwgMCwgMCwgMC4xMiksIDAgM3B4IDVweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4zKTsgfVxcblxcbi56LWRlcHRoLTQge1xcbiAgYm94LXNoYWRvdzogMCA4cHggMTBweCAxcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjMpOyB9XFxuXFxuLnotZGVwdGgtNSB7XFxuICBib3gtc2hhZG93OiAwIDE2cHggMjRweCAycHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCA2cHggMzBweCA1cHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCA4cHggMTBweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC4zKTsgfVxcblxcbi5ob3ZlcmFibGUge1xcbiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAuMjVzOyB9XFxuICAuaG92ZXJhYmxlOmhvdmVyIHtcXG4gICAgYm94LXNoYWRvdzogMCA4cHggMTdweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4xOSk7IH1cXG5cXG4uZGl2aWRlciB7XFxuICBoZWlnaHQ6IDFweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwOyB9XFxuXFxuYmxvY2txdW90ZSB7XFxuICBtYXJnaW46IDIwcHggMDtcXG4gIHBhZGRpbmctbGVmdDogMS41cmVtO1xcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjZWU2ZTczOyB9XFxuXFxuaSB7XFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDsgfVxcbiAgaS5sZWZ0IHtcXG4gICAgZmxvYXQ6IGxlZnQ7XFxuICAgIG1hcmdpbi1yaWdodDogMTVweDsgfVxcbiAgaS5yaWdodCB7XFxuICAgIGZsb2F0OiByaWdodDtcXG4gICAgbWFyZ2luLWxlZnQ6IDE1cHg7IH1cXG4gIGkudGlueSB7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTsgfVxcbiAgaS5zbWFsbCB7XFxuICAgIGZvbnQtc2l6ZTogMnJlbTsgfVxcbiAgaS5tZWRpdW0ge1xcbiAgICBmb250LXNpemU6IDRyZW07IH1cXG4gIGkubGFyZ2Uge1xcbiAgICBmb250LXNpemU6IDZyZW07IH1cXG5cXG5pbWcucmVzcG9uc2l2ZS1pbWcsXFxudmlkZW8ucmVzcG9uc2l2ZS12aWRlbyB7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IGF1dG87IH1cXG5cXG4ucGFnaW5hdGlvbiBsaSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgaGVpZ2h0OiAzMHB4OyB9XFxuICAucGFnaW5hdGlvbiBsaSBhIHtcXG4gICAgY29sb3I6ICM0NDQ7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgZm9udC1zaXplOiAxLjJyZW07XFxuICAgIHBhZGRpbmc6IDAgMTBweDtcXG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7IH1cXG4gIC5wYWdpbmF0aW9uIGxpLmFjdGl2ZSBhIHtcXG4gICAgY29sb3I6ICNmZmY7IH1cXG4gIC5wYWdpbmF0aW9uIGxpLmFjdGl2ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZTZlNzM7IH1cXG4gIC5wYWdpbmF0aW9uIGxpLmRpc2FibGVkIGEge1xcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XFxuICAgIGNvbG9yOiAjOTk5OyB9XFxuICAucGFnaW5hdGlvbiBsaSBpIHtcXG4gICAgZm9udC1zaXplOiAycmVtOyB9XFxuXFxuLnBhZ2luYXRpb24gbGkucGFnZXMgdWwgbGkge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgZmxvYXQ6IG5vbmU7IH1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7XFxuICAucGFnaW5hdGlvbiB7XFxuICAgIHdpZHRoOiAxMDAlOyB9XFxuICAgIC5wYWdpbmF0aW9uIGxpLnByZXYsXFxuICAgIC5wYWdpbmF0aW9uIGxpLm5leHQge1xcbiAgICAgIHdpZHRoOiAxMCU7IH1cXG4gICAgLnBhZ2luYXRpb24gbGkucGFnZXMge1xcbiAgICAgIHdpZHRoOiA4MCU7XFxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOyB9IH1cXG5cXG4uYnJlYWRjcnVtYiB7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpOyB9XFxuICAuYnJlYWRjcnVtYiBpLFxcbiAgLmJyZWFkY3J1bWIgW2NsYXNzXj1cXFwibWRpLVxcXCJdLCAuYnJlYWRjcnVtYiBbY2xhc3MqPVxcXCJtZGktXFxcIl0sXFxuICAuYnJlYWRjcnVtYiBpLm1hdGVyaWFsLWljb25zIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICBmbG9hdDogbGVmdDtcXG4gICAgZm9udC1zaXplOiAyNHB4OyB9XFxuICAuYnJlYWRjcnVtYjpiZWZvcmUge1xcbiAgICBjb250ZW50OiAnXFxcXEU1Q0MnO1xcbiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGZvbnQtZmFtaWx5OiAnTWF0ZXJpYWwgSWNvbnMnO1xcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XFxuICAgIGZvbnQtc2l6ZTogMjVweDtcXG4gICAgbWFyZ2luOiAwIDEwcHggMCA4cHg7XFxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOyB9XFxuICAuYnJlYWRjcnVtYjpmaXJzdC1jaGlsZDpiZWZvcmUge1xcbiAgICBkaXNwbGF5OiBub25lOyB9XFxuICAuYnJlYWRjcnVtYjpsYXN0LWNoaWxkIHtcXG4gICAgY29sb3I6ICNmZmY7IH1cXG5cXG4ucGFyYWxsYXgtY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBoZWlnaHQ6IDUwMHB4OyB9XFxuICAucGFyYWxsYXgtY29udGFpbmVyIC5wYXJhbGxheCB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICB6LWluZGV4OiAtMTsgfVxcbiAgICAucGFyYWxsYXgtY29udGFpbmVyIC5wYXJhbGxheCBpbWcge1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgIGxlZnQ6IDUwJTtcXG4gICAgICBib3R0b206IDA7XFxuICAgICAgbWluLXdpZHRoOiAxMDAlO1xcbiAgICAgIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7IH1cXG5cXG4ucGluLXRvcCwgLnBpbi1ib3R0b20ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuXFxuLnBpbm5lZCB7XFxuICBwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDsgfVxcblxcbi8qKioqKioqKioqKioqKioqKioqKipcXG4gIFRyYW5zaXRpb24gQ2xhc3Nlc1xcbioqKioqKioqKioqKioqKioqKioqKiovXFxudWwuc3RhZ2dlcmVkLWxpc3QgbGkge1xcbiAgb3BhY2l0eTogMDsgfVxcblxcbi5mYWRlLWluIHtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDUwJTsgfVxcblxcbi8qKioqKioqKioqKioqKioqKioqKipcXG4gIE1lZGlhIFF1ZXJ5IENsYXNzZXNcXG4qKioqKioqKioqKioqKioqKioqKioqL1xcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcXG4gIC5oaWRlLW9uLXNtYWxsLW9ubHksIC5oaWRlLW9uLXNtYWxsLWFuZC1kb3duIHtcXG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9IH1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7XFxuICAuaGlkZS1vbi1tZWQtYW5kLWRvd24ge1xcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0gfVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAxcHgpIHtcXG4gIC5oaWRlLW9uLW1lZC1hbmQtdXAge1xcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0gfVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAwcHgpIGFuZCAobWF4LXdpZHRoOiA5OTJweCkge1xcbiAgLmhpZGUtb24tbWVkLW9ubHkge1xcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0gfVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTkzcHgpIHtcXG4gIC5oaWRlLW9uLWxhcmdlLW9ubHkge1xcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0gfVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTkzcHgpIHtcXG4gIC5zaG93LW9uLWxhcmdlIHtcXG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsgfSB9XFxuXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkgYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7XFxuICAuc2hvdy1vbi1tZWRpdW0ge1xcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OyB9IH1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XFxuICAuc2hvdy1vbi1zbWFsbCB7XFxuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7IH0gfVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAxcHgpIHtcXG4gIC5zaG93LW9uLW1lZGl1bS1hbmQtdXAge1xcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OyB9IH1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7XFxuICAuc2hvdy1vbi1tZWRpdW0tYW5kLWRvd24ge1xcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OyB9IH1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XFxuICAuY2VudGVyLW9uLXNtYWxsLW9ubHkge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IH0gfVxcblxcbi5wYWdlLWZvb3RlciB7XFxuICBwYWRkaW5nLXRvcDogMjBweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlNmU3MzsgfVxcbiAgLnBhZ2UtZm9vdGVyIC5mb290ZXItY29weXJpZ2h0IHtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgbWluLWhlaWdodDogNTBweDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgcGFkZGluZzogMTBweCAwcHg7XFxuICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDUxLCA1MSwgMC4wOCk7IH1cXG5cXG50YWJsZSwgdGgsIHRkIHtcXG4gIGJvcmRlcjogbm9uZTsgfVxcblxcbnRhYmxlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgZGlzcGxheTogdGFibGU7IH1cXG4gIHRhYmxlLmJvcmRlcmVkID4gdGhlYWQgPiB0cixcXG4gIHRhYmxlLmJvcmRlcmVkID4gdGJvZHkgPiB0ciB7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDBkMGQwOyB9XFxuICB0YWJsZS5zdHJpcGVkID4gdGJvZHkgPiB0cjpudGgtY2hpbGQob2RkKSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7IH1cXG4gIHRhYmxlLnN0cmlwZWQgPiB0Ym9keSA+IHRyID4gdGQge1xcbiAgICBib3JkZXItcmFkaXVzOiAwOyB9XFxuICB0YWJsZS5oaWdobGlnaHQgPiB0Ym9keSA+IHRyIHtcXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMjVzIGVhc2U7IH1cXG4gICAgdGFibGUuaGlnaGxpZ2h0ID4gdGJvZHkgPiB0cjpob3ZlciB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjsgfVxcbiAgdGFibGUuY2VudGVyZWQgdGhlYWQgdHIgdGgsIHRhYmxlLmNlbnRlcmVkIHRib2R5IHRyIHRkIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyOyB9XFxuXFxudGhlYWQge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkMGQwZDA7IH1cXG5cXG50ZCwgdGgge1xcbiAgcGFkZGluZzogMTVweCA1cHg7XFxuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBib3JkZXItcmFkaXVzOiAycHg7IH1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7XFxuICB0YWJsZS5yZXNwb25zaXZlLXRhYmxlIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAvKiBzb3J0IG91dCBib3JkZXJzICovIH1cXG4gICAgdGFibGUucmVzcG9uc2l2ZS10YWJsZSB0ZDplbXB0eTpiZWZvcmUge1xcbiAgICAgIGNvbnRlbnQ6ICdcXFxcQTAnOyB9XFxuICAgIHRhYmxlLnJlc3BvbnNpdmUtdGFibGUgdGgsXFxuICAgIHRhYmxlLnJlc3BvbnNpdmUtdGFibGUgdGQge1xcbiAgICAgIG1hcmdpbjogMDtcXG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB9XFxuICAgIHRhYmxlLnJlc3BvbnNpdmUtdGFibGUgdGgge1xcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7IH1cXG4gICAgdGFibGUucmVzcG9uc2l2ZS10YWJsZSB0aGVhZCB7XFxuICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgZmxvYXQ6IGxlZnQ7IH1cXG4gICAgICB0YWJsZS5yZXNwb25zaXZlLXRhYmxlIHRoZWFkIHRyIHtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgcGFkZGluZzogMCAxMHB4IDAgMDsgfVxcbiAgICAgICAgdGFibGUucmVzcG9uc2l2ZS10YWJsZSB0aGVhZCB0ciB0aDo6YmVmb3JlIHtcXG4gICAgICAgICAgY29udGVudDogXFxcIlxcXFxBMFxcXCI7IH1cXG4gICAgdGFibGUucmVzcG9uc2l2ZS10YWJsZSB0Ym9keSB7XFxuICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgd2lkdGg6IGF1dG87XFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgIG92ZXJmbG93LXg6IGF1dG87XFxuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsgfVxcbiAgICAgIHRhYmxlLnJlc3BvbnNpdmUtdGFibGUgdGJvZHkgdHIge1xcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDsgfVxcbiAgICB0YWJsZS5yZXNwb25zaXZlLXRhYmxlIHRoIHtcXG4gICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICB0ZXh0LWFsaWduOiByaWdodDsgfVxcbiAgICB0YWJsZS5yZXNwb25zaXZlLXRhYmxlIHRkIHtcXG4gICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICBtaW4taGVpZ2h0OiAxLjI1ZW07XFxuICAgICAgdGV4dC1hbGlnbjogbGVmdDsgfVxcbiAgICB0YWJsZS5yZXNwb25zaXZlLXRhYmxlIHRyIHtcXG4gICAgICBwYWRkaW5nOiAwIDEwcHg7IH1cXG4gICAgdGFibGUucmVzcG9uc2l2ZS10YWJsZSB0aGVhZCB7XFxuICAgICAgYm9yZGVyOiAwO1xcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkMGQwZDA7IH1cXG4gICAgdGFibGUucmVzcG9uc2l2ZS10YWJsZS5ib3JkZXJlZCB0aCB7XFxuICAgICAgYm9yZGVyLWJvdHRvbTogMDtcXG4gICAgICBib3JkZXItbGVmdDogMDsgfVxcbiAgICB0YWJsZS5yZXNwb25zaXZlLXRhYmxlLmJvcmRlcmVkIHRkIHtcXG4gICAgICBib3JkZXItbGVmdDogMDtcXG4gICAgICBib3JkZXItcmlnaHQ6IDA7XFxuICAgICAgYm9yZGVyLWJvdHRvbTogMDsgfVxcbiAgICB0YWJsZS5yZXNwb25zaXZlLXRhYmxlLmJvcmRlcmVkIHRyIHtcXG4gICAgICBib3JkZXI6IDA7IH1cXG4gICAgdGFibGUucmVzcG9uc2l2ZS10YWJsZS5ib3JkZXJlZCB0Ym9keSB0ciB7XFxuICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2QwZDBkMDsgfSB9XFxuXFxuLmNvbGxlY3Rpb24ge1xcbiAgbWFyZ2luOiAwLjVyZW0gMCAxcmVtIDA7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxcbiAgLmNvbGxlY3Rpb24gLmNvbGxlY3Rpb24taXRlbSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICAgIGxpbmUtaGVpZ2h0OiAxLjVyZW07XFxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDsgfVxcbiAgICAuY29sbGVjdGlvbiAuY29sbGVjdGlvbi1pdGVtLmF2YXRhciB7XFxuICAgICAgbWluLWhlaWdodDogODRweDtcXG4gICAgICBwYWRkaW5nLWxlZnQ6IDcycHg7XFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuICAgICAgLmNvbGxlY3Rpb24gLmNvbGxlY3Rpb24taXRlbS5hdmF0YXI6bm90KC5jaXJjbGUtY2xpcHBlcikgPiAuY2lyY2xlLFxcbiAgICAgIC5jb2xsZWN0aW9uIC5jb2xsZWN0aW9uLWl0ZW0uYXZhdGFyIDpub3QoLmNpcmNsZS1jbGlwcGVyKSA+IC5jaXJjbGUge1xcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgd2lkdGg6IDQycHg7XFxuICAgICAgICBoZWlnaHQ6IDQycHg7XFxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgICAgbGVmdDogMTVweDtcXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IH1cXG4gICAgICAuY29sbGVjdGlvbiAuY29sbGVjdGlvbi1pdGVtLmF2YXRhciBpLmNpcmNsZSB7XFxuICAgICAgICBmb250LXNpemU6IDE4cHg7XFxuICAgICAgICBsaW5lLWhlaWdodDogNDJweDtcXG4gICAgICAgIGNvbG9yOiAjZmZmO1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzk5OTtcXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgfVxcbiAgICAgIC5jb2xsZWN0aW9uIC5jb2xsZWN0aW9uLWl0ZW0uYXZhdGFyIC50aXRsZSB7XFxuICAgICAgICBmb250LXNpemU6IDE2cHg7IH1cXG4gICAgICAuY29sbGVjdGlvbiAuY29sbGVjdGlvbi1pdGVtLmF2YXRhciBwIHtcXG4gICAgICAgIG1hcmdpbjogMDsgfVxcbiAgICAgIC5jb2xsZWN0aW9uIC5jb2xsZWN0aW9uLWl0ZW0uYXZhdGFyIC5zZWNvbmRhcnktY29udGVudCB7XFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICB0b3A6IDE2cHg7XFxuICAgICAgICByaWdodDogMTZweDsgfVxcbiAgICAuY29sbGVjdGlvbiAuY29sbGVjdGlvbi1pdGVtOmxhc3QtY2hpbGQge1xcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7IH1cXG4gICAgLmNvbGxlY3Rpb24gLmNvbGxlY3Rpb24taXRlbS5hY3RpdmUge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7XFxuICAgICAgY29sb3I6ICNlYWZhZjk7IH1cXG4gICAgICAuY29sbGVjdGlvbiAuY29sbGVjdGlvbi1pdGVtLmFjdGl2ZSAuc2Vjb25kYXJ5LWNvbnRlbnQge1xcbiAgICAgICAgY29sb3I6ICNmZmY7IH1cXG4gIC5jb2xsZWN0aW9uIGEuY29sbGVjdGlvbi1pdGVtIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHRyYW5zaXRpb246IC4yNXM7XFxuICAgIGNvbG9yOiAjMjZhNjlhOyB9XFxuICAgIC5jb2xsZWN0aW9uIGEuY29sbGVjdGlvbi1pdGVtOm5vdCguYWN0aXZlKTpob3ZlciB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsgfVxcbiAgLmNvbGxlY3Rpb24ud2l0aC1oZWFkZXIgLmNvbGxlY3Rpb24taGVhZGVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7XFxuICAgIHBhZGRpbmc6IDEwcHggMjBweDsgfVxcbiAgLmNvbGxlY3Rpb24ud2l0aC1oZWFkZXIgLmNvbGxlY3Rpb24taXRlbSB7XFxuICAgIHBhZGRpbmctbGVmdDogMzBweDsgfVxcbiAgLmNvbGxlY3Rpb24ud2l0aC1oZWFkZXIgLmNvbGxlY3Rpb24taXRlbS5hdmF0YXIge1xcbiAgICBwYWRkaW5nLWxlZnQ6IDcycHg7IH1cXG5cXG4uc2Vjb25kYXJ5LWNvbnRlbnQge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgY29sb3I6ICMyNmE2OWE7IH1cXG5cXG4uY29sbGFwc2libGUgLmNvbGxlY3Rpb24ge1xcbiAgbWFyZ2luOiAwO1xcbiAgYm9yZGVyOiBub25lOyB9XFxuXFxuLnZpZGVvLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBwYWRkaW5nLWJvdHRvbTogNTYuMjUlO1xcbiAgaGVpZ2h0OiAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjsgfVxcbiAgLnZpZGVvLWNvbnRhaW5lciBpZnJhbWUsIC52aWRlby1jb250YWluZXIgb2JqZWN0LCAudmlkZW8tY29udGFpbmVyIGVtYmVkIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7IH1cXG5cXG4ucHJvZ3Jlc3Mge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiA0cHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FjZWNlNjtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIG1hcmdpbjogMC41cmVtIDAgMXJlbSAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjsgfVxcbiAgLnByb2dyZXNzIC5kZXRlcm1pbmF0ZSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICBib3R0b206IDA7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7XFxuICAgIHRyYW5zaXRpb246IHdpZHRoIC4zcyBsaW5lYXI7IH1cXG4gIC5wcm9ncmVzcyAuaW5kZXRlcm1pbmF0ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7IH1cXG4gICAgLnByb2dyZXNzIC5pbmRldGVybWluYXRlOmJlZm9yZSB7XFxuICAgICAgY29udGVudDogJyc7XFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxuICAgICAgdG9wOiAwO1xcbiAgICAgIGxlZnQ6IDA7XFxuICAgICAgYm90dG9tOiAwO1xcbiAgICAgIHdpbGwtY2hhbmdlOiBsZWZ0LCByaWdodDtcXG4gICAgICBhbmltYXRpb246IGluZGV0ZXJtaW5hdGUgMi4xcyBjdWJpYy1iZXppZXIoMC42NSwgMC44MTUsIDAuNzM1LCAwLjM5NSkgaW5maW5pdGU7IH1cXG4gICAgLnByb2dyZXNzIC5pbmRldGVybWluYXRlOmFmdGVyIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDtcXG4gICAgICBib3R0b206IDA7XFxuICAgICAgd2lsbC1jaGFuZ2U6IGxlZnQsIHJpZ2h0O1xcbiAgICAgIGFuaW1hdGlvbjogaW5kZXRlcm1pbmF0ZS1zaG9ydCAyLjFzIGN1YmljLWJlemllcigwLjE2NSwgMC44NCwgMC40NCwgMSkgaW5maW5pdGU7XFxuICAgICAgYW5pbWF0aW9uLWRlbGF5OiAxLjE1czsgfVxcblxcbkBrZXlmcmFtZXMgaW5kZXRlcm1pbmF0ZSB7XFxuICAwJSB7XFxuICAgIGxlZnQ6IC0zNSU7XFxuICAgIHJpZ2h0OiAxMDAlOyB9XFxuICA2MCUge1xcbiAgICBsZWZ0OiAxMDAlO1xcbiAgICByaWdodDogLTkwJTsgfVxcbiAgMTAwJSB7XFxuICAgIGxlZnQ6IDEwMCU7XFxuICAgIHJpZ2h0OiAtOTAlOyB9IH1cXG5cXG5Aa2V5ZnJhbWVzIGluZGV0ZXJtaW5hdGUtc2hvcnQge1xcbiAgMCUge1xcbiAgICBsZWZ0OiAtMjAwJTtcXG4gICAgcmlnaHQ6IDEwMCU7IH1cXG4gIDYwJSB7XFxuICAgIGxlZnQ6IDEwNyU7XFxuICAgIHJpZ2h0OiAtOCU7IH1cXG4gIDEwMCUge1xcbiAgICBsZWZ0OiAxMDclO1xcbiAgICByaWdodDogLTglOyB9IH1cXG5cXG4vKioqKioqKioqKioqKioqKioqKlxcbiAgVXRpbGl0eSBDbGFzc2VzXFxuKioqKioqKioqKioqKioqKioqKi9cXG4uaGlkZSB7XFxuICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cXG5cXG4ubGVmdC1hbGlnbiB7XFxuICB0ZXh0LWFsaWduOiBsZWZ0OyB9XFxuXFxuLnJpZ2h0LWFsaWduIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0OyB9XFxuXFxuLmNlbnRlciwgLmNlbnRlci1hbGlnbiB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7IH1cXG5cXG4ubGVmdCB7XFxuICBmbG9hdDogbGVmdCAhaW1wb3J0YW50OyB9XFxuXFxuLnJpZ2h0IHtcXG4gIGZsb2F0OiByaWdodCAhaW1wb3J0YW50OyB9XFxuXFxuLm5vLXNlbGVjdCwgaW5wdXRbdHlwZT1yYW5nZV0sXFxuaW5wdXRbdHlwZT1yYW5nZV0gKyAudGh1bWIge1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7IH1cXG5cXG4uY2lyY2xlIHtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTsgfVxcblxcbi5jZW50ZXItYmxvY2sge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogYXV0bzsgfVxcblxcbi50cnVuY2F0ZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IH1cXG5cXG4ubm8tcGFkZGluZyB7XFxuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7IH1cXG5cXG4uY29udGFpbmVyIHtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbWF4LXdpZHRoOiAxMjgwcHg7XFxuICB3aWR0aDogOTAlOyB9XFxuXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDFweCkge1xcbiAgLmNvbnRhaW5lciB7XFxuICAgIHdpZHRoOiA4NSU7IH0gfVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTkzcHgpIHtcXG4gIC5jb250YWluZXIge1xcbiAgICB3aWR0aDogNzAlOyB9IH1cXG5cXG4uY29udGFpbmVyIC5yb3cge1xcbiAgbWFyZ2luLWxlZnQ6IC0wLjc1cmVtO1xcbiAgbWFyZ2luLXJpZ2h0OiAtMC43NXJlbTsgfVxcblxcbi5zZWN0aW9uIHtcXG4gIHBhZGRpbmctdG9wOiAxcmVtO1xcbiAgcGFkZGluZy1ib3R0b206IDFyZW07IH1cXG4gIC5zZWN0aW9uLm5vLXBhZCB7XFxuICAgIHBhZGRpbmc6IDA7IH1cXG4gIC5zZWN0aW9uLm5vLXBhZC1ib3Qge1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMDsgfVxcbiAgLnNlY3Rpb24ubm8tcGFkLXRvcCB7XFxuICAgIHBhZGRpbmctdG9wOiAwOyB9XFxuXFxuLnJvdyB7XFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogYXV0bztcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7IH1cXG4gIC5yb3c6YWZ0ZXIge1xcbiAgICBjb250ZW50OiBcXFwiXFxcIjtcXG4gICAgZGlzcGxheTogdGFibGU7XFxuICAgIGNsZWFyOiBib3RoOyB9XFxuICAucm93IC5jb2wge1xcbiAgICBmbG9hdDogbGVmdDtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgcGFkZGluZzogMCAwLjc1cmVtO1xcbiAgICBtaW4taGVpZ2h0OiAxcHg7IH1cXG4gICAgLnJvdyAuY29sW2NsYXNzKj1cXFwicHVzaC1cXFwiXSwgLnJvdyAuY29sW2NsYXNzKj1cXFwicHVsbC1cXFwiXSB7XFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuICAgIC5yb3cgLmNvbC5zMSB7XFxuICAgICAgd2lkdGg6IDguMzMzMzMlO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnMyIHtcXG4gICAgICB3aWR0aDogMTYuNjY2NjclO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnMzIHtcXG4gICAgICB3aWR0aDogMjUlO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnM0IHtcXG4gICAgICB3aWR0aDogMzMuMzMzMzMlO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnM1IHtcXG4gICAgICB3aWR0aDogNDEuNjY2NjclO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnM2IHtcXG4gICAgICB3aWR0aDogNTAlO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnM3IHtcXG4gICAgICB3aWR0aDogNTguMzMzMzMlO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnM4IHtcXG4gICAgICB3aWR0aDogNjYuNjY2NjclO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnM5IHtcXG4gICAgICB3aWR0aDogNzUlO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgLnJvdyAuY29sLnMxMCB7XFxuICAgICAgd2lkdGg6IDgzLjMzMzMzJTtcXG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgIC5yb3cgLmNvbC5zMTEge1xcbiAgICAgIHdpZHRoOiA5MS42NjY2NyU7XFxuICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgbGVmdDogYXV0bztcXG4gICAgICByaWdodDogYXV0bzsgfVxcbiAgICAucm93IC5jb2wuczEyIHtcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgIC5yb3cgLmNvbC5vZmZzZXQtczEge1xcbiAgICAgIG1hcmdpbi1sZWZ0OiA4LjMzMzMzJTsgfVxcbiAgICAucm93IC5jb2wucHVsbC1zMSB7XFxuICAgICAgcmlnaHQ6IDguMzMzMzMlOyB9XFxuICAgIC5yb3cgLmNvbC5wdXNoLXMxIHtcXG4gICAgICBsZWZ0OiA4LjMzMzMzJTsgfVxcbiAgICAucm93IC5jb2wub2Zmc2V0LXMyIHtcXG4gICAgICBtYXJnaW4tbGVmdDogMTYuNjY2NjclOyB9XFxuICAgIC5yb3cgLmNvbC5wdWxsLXMyIHtcXG4gICAgICByaWdodDogMTYuNjY2NjclOyB9XFxuICAgIC5yb3cgLmNvbC5wdXNoLXMyIHtcXG4gICAgICBsZWZ0OiAxNi42NjY2NyU7IH1cXG4gICAgLnJvdyAuY29sLm9mZnNldC1zMyB7XFxuICAgICAgbWFyZ2luLWxlZnQ6IDI1JTsgfVxcbiAgICAucm93IC5jb2wucHVsbC1zMyB7XFxuICAgICAgcmlnaHQ6IDI1JTsgfVxcbiAgICAucm93IC5jb2wucHVzaC1zMyB7XFxuICAgICAgbGVmdDogMjUlOyB9XFxuICAgIC5yb3cgLmNvbC5vZmZzZXQtczQge1xcbiAgICAgIG1hcmdpbi1sZWZ0OiAzMy4zMzMzMyU7IH1cXG4gICAgLnJvdyAuY29sLnB1bGwtczQge1xcbiAgICAgIHJpZ2h0OiAzMy4zMzMzMyU7IH1cXG4gICAgLnJvdyAuY29sLnB1c2gtczQge1xcbiAgICAgIGxlZnQ6IDMzLjMzMzMzJTsgfVxcbiAgICAucm93IC5jb2wub2Zmc2V0LXM1IHtcXG4gICAgICBtYXJnaW4tbGVmdDogNDEuNjY2NjclOyB9XFxuICAgIC5yb3cgLmNvbC5wdWxsLXM1IHtcXG4gICAgICByaWdodDogNDEuNjY2NjclOyB9XFxuICAgIC5yb3cgLmNvbC5wdXNoLXM1IHtcXG4gICAgICBsZWZ0OiA0MS42NjY2NyU7IH1cXG4gICAgLnJvdyAuY29sLm9mZnNldC1zNiB7XFxuICAgICAgbWFyZ2luLWxlZnQ6IDUwJTsgfVxcbiAgICAucm93IC5jb2wucHVsbC1zNiB7XFxuICAgICAgcmlnaHQ6IDUwJTsgfVxcbiAgICAucm93IC5jb2wucHVzaC1zNiB7XFxuICAgICAgbGVmdDogNTAlOyB9XFxuICAgIC5yb3cgLmNvbC5vZmZzZXQtczcge1xcbiAgICAgIG1hcmdpbi1sZWZ0OiA1OC4zMzMzMyU7IH1cXG4gICAgLnJvdyAuY29sLnB1bGwtczcge1xcbiAgICAgIHJpZ2h0OiA1OC4zMzMzMyU7IH1cXG4gICAgLnJvdyAuY29sLnB1c2gtczcge1xcbiAgICAgIGxlZnQ6IDU4LjMzMzMzJTsgfVxcbiAgICAucm93IC5jb2wub2Zmc2V0LXM4IHtcXG4gICAgICBtYXJnaW4tbGVmdDogNjYuNjY2NjclOyB9XFxuICAgIC5yb3cgLmNvbC5wdWxsLXM4IHtcXG4gICAgICByaWdodDogNjYuNjY2NjclOyB9XFxuICAgIC5yb3cgLmNvbC5wdXNoLXM4IHtcXG4gICAgICBsZWZ0OiA2Ni42NjY2NyU7IH1cXG4gICAgLnJvdyAuY29sLm9mZnNldC1zOSB7XFxuICAgICAgbWFyZ2luLWxlZnQ6IDc1JTsgfVxcbiAgICAucm93IC5jb2wucHVsbC1zOSB7XFxuICAgICAgcmlnaHQ6IDc1JTsgfVxcbiAgICAucm93IC5jb2wucHVzaC1zOSB7XFxuICAgICAgbGVmdDogNzUlOyB9XFxuICAgIC5yb3cgLmNvbC5vZmZzZXQtczEwIHtcXG4gICAgICBtYXJnaW4tbGVmdDogODMuMzMzMzMlOyB9XFxuICAgIC5yb3cgLmNvbC5wdWxsLXMxMCB7XFxuICAgICAgcmlnaHQ6IDgzLjMzMzMzJTsgfVxcbiAgICAucm93IC5jb2wucHVzaC1zMTAge1xcbiAgICAgIGxlZnQ6IDgzLjMzMzMzJTsgfVxcbiAgICAucm93IC5jb2wub2Zmc2V0LXMxMSB7XFxuICAgICAgbWFyZ2luLWxlZnQ6IDkxLjY2NjY3JTsgfVxcbiAgICAucm93IC5jb2wucHVsbC1zMTEge1xcbiAgICAgIHJpZ2h0OiA5MS42NjY2NyU7IH1cXG4gICAgLnJvdyAuY29sLnB1c2gtczExIHtcXG4gICAgICBsZWZ0OiA5MS42NjY2NyU7IH1cXG4gICAgLnJvdyAuY29sLm9mZnNldC1zMTIge1xcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMDAlOyB9XFxuICAgIC5yb3cgLmNvbC5wdWxsLXMxMiB7XFxuICAgICAgcmlnaHQ6IDEwMCU7IH1cXG4gICAgLnJvdyAuY29sLnB1c2gtczEyIHtcXG4gICAgICBsZWZ0OiAxMDAlOyB9XFxuICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAxcHgpIHtcXG4gICAgICAucm93IC5jb2wubTEge1xcbiAgICAgICAgd2lkdGg6IDguMzMzMzMlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wubTIge1xcbiAgICAgICAgd2lkdGg6IDE2LjY2NjY3JTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLm0zIHtcXG4gICAgICAgIHdpZHRoOiAyNSU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC5tNCB7XFxuICAgICAgICB3aWR0aDogMzMuMzMzMzMlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wubTUge1xcbiAgICAgICAgd2lkdGg6IDQxLjY2NjY3JTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLm02IHtcXG4gICAgICAgIHdpZHRoOiA1MCU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC5tNyB7XFxuICAgICAgICB3aWR0aDogNTguMzMzMzMlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wubTgge1xcbiAgICAgICAgd2lkdGg6IDY2LjY2NjY3JTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLm05IHtcXG4gICAgICAgIHdpZHRoOiA3NSU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC5tMTAge1xcbiAgICAgICAgd2lkdGg6IDgzLjMzMzMzJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLm0xMSB7XFxuICAgICAgICB3aWR0aDogOTEuNjY2NjclO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wubTEyIHtcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LW0xIHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4LjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLW0xIHtcXG4gICAgICAgIHJpZ2h0OiA4LjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLW0xIHtcXG4gICAgICAgIGxlZnQ6IDguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1tMiB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogMTYuNjY2NjclOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwtbTIge1xcbiAgICAgICAgcmlnaHQ6IDE2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLW0yIHtcXG4gICAgICAgIGxlZnQ6IDE2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbTMge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDI1JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLW0zIHtcXG4gICAgICAgIHJpZ2h0OiAyNSU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1tMyB7XFxuICAgICAgICBsZWZ0OiAyNSU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LW00IHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAzMy4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC1tNCB7XFxuICAgICAgICByaWdodDogMzMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbTQge1xcbiAgICAgICAgbGVmdDogMzMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1tNSB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogNDEuNjY2NjclOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwtbTUge1xcbiAgICAgICAgcmlnaHQ6IDQxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLW01IHtcXG4gICAgICAgIGxlZnQ6IDQxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbTYge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDUwJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLW02IHtcXG4gICAgICAgIHJpZ2h0OiA1MCU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1tNiB7XFxuICAgICAgICBsZWZ0OiA1MCU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LW03IHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1OC4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC1tNyB7XFxuICAgICAgICByaWdodDogNTguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbTcge1xcbiAgICAgICAgbGVmdDogNTguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1tOCB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogNjYuNjY2NjclOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwtbTgge1xcbiAgICAgICAgcmlnaHQ6IDY2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLW04IHtcXG4gICAgICAgIGxlZnQ6IDY2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbTkge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDc1JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLW05IHtcXG4gICAgICAgIHJpZ2h0OiA3NSU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1tOSB7XFxuICAgICAgICBsZWZ0OiA3NSU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LW0xMCB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogODMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwtbTEwIHtcXG4gICAgICAgIHJpZ2h0OiA4My4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1tMTAge1xcbiAgICAgICAgbGVmdDogODMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1tMTEge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDkxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLW0xMSB7XFxuICAgICAgICByaWdodDogOTEuNjY2NjclOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbTExIHtcXG4gICAgICAgIGxlZnQ6IDkxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbTEyIHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMDAlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwtbTEyIHtcXG4gICAgICAgIHJpZ2h0OiAxMDAlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbTEyIHtcXG4gICAgICAgIGxlZnQ6IDEwMCU7IH0gfVxcbiAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk5M3B4KSB7XFxuICAgICAgLnJvdyAuY29sLmwxIHtcXG4gICAgICAgIHdpZHRoOiA4LjMzMzMzJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLmwyIHtcXG4gICAgICAgIHdpZHRoOiAxNi42NjY2NyU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC5sMyB7XFxuICAgICAgICB3aWR0aDogMjUlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wubDQge1xcbiAgICAgICAgd2lkdGg6IDMzLjMzMzMzJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLmw1IHtcXG4gICAgICAgIHdpZHRoOiA0MS42NjY2NyU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC5sNiB7XFxuICAgICAgICB3aWR0aDogNTAlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wubDcge1xcbiAgICAgICAgd2lkdGg6IDU4LjMzMzMzJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLmw4IHtcXG4gICAgICAgIHdpZHRoOiA2Ni42NjY2NyU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC5sOSB7XFxuICAgICAgICB3aWR0aDogNzUlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wubDEwIHtcXG4gICAgICAgIHdpZHRoOiA4My4zMzMzMyU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC5sMTEge1xcbiAgICAgICAgd2lkdGg6IDkxLjY2NjY3JTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLmwxMiB7XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1sMSB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogOC4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC1sMSB7XFxuICAgICAgICByaWdodDogOC4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1sMSB7XFxuICAgICAgICBsZWZ0OiA4LjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbDIge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDE2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLWwyIHtcXG4gICAgICAgIHJpZ2h0OiAxNi42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1sMiB7XFxuICAgICAgICBsZWZ0OiAxNi42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LWwzIHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyNSU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC1sMyB7XFxuICAgICAgICByaWdodDogMjUlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbDMge1xcbiAgICAgICAgbGVmdDogMjUlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1sNCB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogMzMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwtbDQge1xcbiAgICAgICAgcmlnaHQ6IDMzLjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLWw0IHtcXG4gICAgICAgIGxlZnQ6IDMzLjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbDUge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDQxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLWw1IHtcXG4gICAgICAgIHJpZ2h0OiA0MS42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1sNSB7XFxuICAgICAgICBsZWZ0OiA0MS42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LWw2IHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1MCU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC1sNiB7XFxuICAgICAgICByaWdodDogNTAlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbDYge1xcbiAgICAgICAgbGVmdDogNTAlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1sNyB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogNTguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwtbDcge1xcbiAgICAgICAgcmlnaHQ6IDU4LjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLWw3IHtcXG4gICAgICAgIGxlZnQ6IDU4LjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbDgge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDY2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLWw4IHtcXG4gICAgICAgIHJpZ2h0OiA2Ni42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC1sOCB7XFxuICAgICAgICBsZWZ0OiA2Ni42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LWw5IHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA3NSU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC1sOSB7XFxuICAgICAgICByaWdodDogNzUlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbDkge1xcbiAgICAgICAgbGVmdDogNzUlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC1sMTAge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDgzLjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLWwxMCB7XFxuICAgICAgICByaWdodDogODMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gtbDEwIHtcXG4gICAgICAgIGxlZnQ6IDgzLjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQtbDExIHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA5MS42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC1sMTEge1xcbiAgICAgICAgcmlnaHQ6IDkxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLWwxMSB7XFxuICAgICAgICBsZWZ0OiA5MS42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LWwxMiB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogMTAwJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLWwxMiB7XFxuICAgICAgICByaWdodDogMTAwJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLWwxMiB7XFxuICAgICAgICBsZWZ0OiAxMDAlOyB9IH1cXG4gICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjAxcHgpIHtcXG4gICAgICAucm93IC5jb2wueGwxIHtcXG4gICAgICAgIHdpZHRoOiA4LjMzMzMzJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLnhsMiB7XFxuICAgICAgICB3aWR0aDogMTYuNjY2NjclO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wueGwzIHtcXG4gICAgICAgIHdpZHRoOiAyNSU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC54bDQge1xcbiAgICAgICAgd2lkdGg6IDMzLjMzMzMzJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLnhsNSB7XFxuICAgICAgICB3aWR0aDogNDEuNjY2NjclO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wueGw2IHtcXG4gICAgICAgIHdpZHRoOiA1MCU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC54bDcge1xcbiAgICAgICAgd2lkdGg6IDU4LjMzMzMzJTtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgICAgbGVmdDogYXV0bztcXG4gICAgICAgIHJpZ2h0OiBhdXRvOyB9XFxuICAgICAgLnJvdyAuY29sLnhsOCB7XFxuICAgICAgICB3aWR0aDogNjYuNjY2NjclO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wueGw5IHtcXG4gICAgICAgIHdpZHRoOiA3NSU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC54bDEwIHtcXG4gICAgICAgIHdpZHRoOiA4My4zMzMzMyU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC54bDExIHtcXG4gICAgICAgIHdpZHRoOiA5MS42NjY2NyU7XFxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAgIGxlZnQ6IGF1dG87XFxuICAgICAgICByaWdodDogYXV0bzsgfVxcbiAgICAgIC5yb3cgLmNvbC54bDEyIHtcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgICAgcmlnaHQ6IGF1dG87IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LXhsMSB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogOC4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC14bDEge1xcbiAgICAgICAgcmlnaHQ6IDguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gteGwxIHtcXG4gICAgICAgIGxlZnQ6IDguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC14bDIge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDE2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLXhsMiB7XFxuICAgICAgICByaWdodDogMTYuNjY2NjclOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gteGwyIHtcXG4gICAgICAgIGxlZnQ6IDE2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQteGwzIHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyNSU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC14bDMge1xcbiAgICAgICAgcmlnaHQ6IDI1JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLXhsMyB7XFxuICAgICAgICBsZWZ0OiAyNSU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LXhsNCB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogMzMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwteGw0IHtcXG4gICAgICAgIHJpZ2h0OiAzMy4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC14bDQge1xcbiAgICAgICAgbGVmdDogMzMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC14bDUge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDQxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLXhsNSB7XFxuICAgICAgICByaWdodDogNDEuNjY2NjclOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gteGw1IHtcXG4gICAgICAgIGxlZnQ6IDQxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQteGw2IHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1MCU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC14bDYge1xcbiAgICAgICAgcmlnaHQ6IDUwJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLXhsNiB7XFxuICAgICAgICBsZWZ0OiA1MCU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LXhsNyB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogNTguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLnB1bGwteGw3IHtcXG4gICAgICAgIHJpZ2h0OiA1OC4zMzMzMyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC14bDcge1xcbiAgICAgICAgbGVmdDogNTguMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC14bDgge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDY2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLXhsOCB7XFxuICAgICAgICByaWdodDogNjYuNjY2NjclOyB9XFxuICAgICAgLnJvdyAuY29sLnB1c2gteGw4IHtcXG4gICAgICAgIGxlZnQ6IDY2LjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQteGw5IHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA3NSU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC14bDkge1xcbiAgICAgICAgcmlnaHQ6IDc1JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLXhsOSB7XFxuICAgICAgICBsZWZ0OiA3NSU7IH1cXG4gICAgICAucm93IC5jb2wub2Zmc2V0LXhsMTAge1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDgzLjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLXhsMTAge1xcbiAgICAgICAgcmlnaHQ6IDgzLjMzMzMzJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdXNoLXhsMTAge1xcbiAgICAgICAgbGVmdDogODMuMzMzMzMlOyB9XFxuICAgICAgLnJvdyAuY29sLm9mZnNldC14bDExIHtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA5MS42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wucHVsbC14bDExIHtcXG4gICAgICAgIHJpZ2h0OiA5MS42NjY2NyU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC14bDExIHtcXG4gICAgICAgIGxlZnQ6IDkxLjY2NjY3JTsgfVxcbiAgICAgIC5yb3cgLmNvbC5vZmZzZXQteGwxMiB7XFxuICAgICAgICBtYXJnaW4tbGVmdDogMTAwJTsgfVxcbiAgICAgIC5yb3cgLmNvbC5wdWxsLXhsMTIge1xcbiAgICAgICAgcmlnaHQ6IDEwMCU7IH1cXG4gICAgICAucm93IC5jb2wucHVzaC14bDEyIHtcXG4gICAgICAgIGxlZnQ6IDEwMCU7IH0gfVxcblxcbm5hdiB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZTZlNzM7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogNTZweDtcXG4gIGxpbmUtaGVpZ2h0OiA1NnB4OyB9XFxuICBuYXYubmF2LWV4dGVuZGVkIHtcXG4gICAgaGVpZ2h0OiBhdXRvOyB9XFxuICAgIG5hdi5uYXYtZXh0ZW5kZWQgLm5hdi13cmFwcGVyIHtcXG4gICAgICBtaW4taGVpZ2h0OiA1NnB4O1xcbiAgICAgIGhlaWdodDogYXV0bzsgfVxcbiAgICBuYXYubmF2LWV4dGVuZGVkIC5uYXYtY29udGVudCB7XFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7IH1cXG4gIG5hdiBhIHtcXG4gICAgY29sb3I6ICNmZmY7IH1cXG4gIG5hdiBpLFxcbiAgbmF2IFtjbGFzc149XFxcIm1kaS1cXFwiXSwgbmF2IFtjbGFzcyo9XFxcIm1kaS1cXFwiXSxcXG4gIG5hdiBpLm1hdGVyaWFsLWljb25zIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIGZvbnQtc2l6ZTogMjRweDtcXG4gICAgaGVpZ2h0OiA1NnB4O1xcbiAgICBsaW5lLWhlaWdodDogNTZweDsgfVxcbiAgbmF2IC5uYXYtd3JhcHBlciB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgaGVpZ2h0OiAxMDAlOyB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk5M3B4KSB7XFxuICAgIG5hdiBhLmJ1dHRvbi1jb2xsYXBzZSB7XFxuICAgICAgZGlzcGxheTogbm9uZTsgfSB9XFxuICBuYXYgLmJ1dHRvbi1jb2xsYXBzZSB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHotaW5kZXg6IDE7XFxuICAgIGhlaWdodDogNTZweDtcXG4gICAgbWFyZ2luOiAwIDE4cHg7IH1cXG4gICAgbmF2IC5idXR0b24tY29sbGFwc2UgaSB7XFxuICAgICAgaGVpZ2h0OiA1NnB4O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiA1NnB4OyB9XFxuICBuYXYgLmJyYW5kLWxvZ28ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGZvbnQtc2l6ZTogMi4xcmVtO1xcbiAgICBwYWRkaW5nOiAwOyB9XFxuICAgIG5hdiAuYnJhbmQtbG9nby5jZW50ZXIge1xcbiAgICAgIGxlZnQ6IDUwJTtcXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7IH1cXG4gICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA5OTJweCkge1xcbiAgICAgIG5hdiAuYnJhbmQtbG9nbyB7XFxuICAgICAgICBsZWZ0OiA1MCU7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7IH1cXG4gICAgICAgIG5hdiAuYnJhbmQtbG9nby5sZWZ0LCBuYXYgLmJyYW5kLWxvZ28ucmlnaHQge1xcbiAgICAgICAgICBwYWRkaW5nOiAwO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IG5vbmU7IH1cXG4gICAgICAgIG5hdiAuYnJhbmQtbG9nby5sZWZ0IHtcXG4gICAgICAgICAgbGVmdDogMC41cmVtOyB9XFxuICAgICAgICBuYXYgLmJyYW5kLWxvZ28ucmlnaHQge1xcbiAgICAgICAgICByaWdodDogMC41cmVtO1xcbiAgICAgICAgICBsZWZ0OiBhdXRvOyB9IH1cXG4gICAgbmF2IC5icmFuZC1sb2dvLnJpZ2h0IHtcXG4gICAgICByaWdodDogMC41cmVtO1xcbiAgICAgIHBhZGRpbmc6IDA7IH1cXG4gICAgbmF2IC5icmFuZC1sb2dvIGksXFxuICAgIG5hdiAuYnJhbmQtbG9nbyBbY2xhc3NePVxcXCJtZGktXFxcIl0sIG5hdiAuYnJhbmQtbG9nbyBbY2xhc3MqPVxcXCJtZGktXFxcIl0sXFxuICAgIG5hdiAuYnJhbmQtbG9nbyBpLm1hdGVyaWFsLWljb25zIHtcXG4gICAgICBmbG9hdDogbGVmdDtcXG4gICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7IH1cXG4gIG5hdiAubmF2LXRpdGxlIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICBmb250LXNpemU6IDMycHg7XFxuICAgIHBhZGRpbmc6IDI4cHggMDsgfVxcbiAgbmF2IHVsIHtcXG4gICAgbWFyZ2luOiAwOyB9XFxuICAgIG5hdiB1bCBsaSB7XFxuICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuM3M7XFxuICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgICAgcGFkZGluZzogMDsgfVxcbiAgICAgIG5hdiB1bCBsaS5hY3RpdmUge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpOyB9XFxuICAgIG5hdiB1bCBhIHtcXG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4zcztcXG4gICAgICBmb250LXNpemU6IDFyZW07XFxuICAgICAgY29sb3I6ICNmZmY7XFxuICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgcGFkZGluZzogMCAxNXB4O1xcbiAgICAgIGN1cnNvcjogcG9pbnRlcjsgfVxcbiAgICAgIG5hdiB1bCBhLmJ0biwgbmF2IHVsIGEuYnRuLWxhcmdlLCBuYXYgdWwgYS5idG4tbGFyZ2UsIG5hdiB1bCBhLmJ0bi1mbGF0LCBuYXYgdWwgYS5idG4tZmxvYXRpbmcge1xcbiAgICAgICAgbWFyZ2luLXRvcDogLTJweDtcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNXB4OyB9XFxuICAgICAgICBuYXYgdWwgYS5idG4gPiAubWF0ZXJpYWwtaWNvbnMsIG5hdiB1bCBhLmJ0bi1sYXJnZSA+IC5tYXRlcmlhbC1pY29ucywgbmF2IHVsIGEuYnRuLWxhcmdlID4gLm1hdGVyaWFsLWljb25zLCBuYXYgdWwgYS5idG4tZmxhdCA+IC5tYXRlcmlhbC1pY29ucywgbmF2IHVsIGEuYnRuLWZsb2F0aW5nID4gLm1hdGVyaWFsLWljb25zIHtcXG4gICAgICAgICAgaGVpZ2h0OiBpbmhlcml0O1xcbiAgICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDsgfVxcbiAgICAgIG5hdiB1bCBhOmhvdmVyIHtcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xKTsgfVxcbiAgICBuYXYgdWwubGVmdCB7XFxuICAgICAgZmxvYXQ6IGxlZnQ7IH1cXG4gIG5hdiBmb3JtIHtcXG4gICAgaGVpZ2h0OiAxMDAlOyB9XFxuICBuYXYgLmlucHV0LWZpZWxkIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBoZWlnaHQ6IDEwMCU7IH1cXG4gICAgbmF2IC5pbnB1dC1maWVsZCBpbnB1dCB7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xcbiAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICBwYWRkaW5nLWxlZnQ6IDJyZW07IH1cXG4gICAgICBuYXYgLmlucHV0LWZpZWxkIGlucHV0OmZvY3VzLCBuYXYgLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9dGV4dF06dmFsaWQsIG5hdiAuaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1wYXNzd29yZF06dmFsaWQsIG5hdiAuaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1lbWFpbF06dmFsaWQsIG5hdiAuaW5wdXQtZmllbGQgaW5wdXRbdHlwZT11cmxdOnZhbGlkLCBuYXYgLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9ZGF0ZV06dmFsaWQge1xcbiAgICAgICAgYm9yZGVyOiBub25lO1xcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTsgfVxcbiAgICBuYXYgLmlucHV0LWZpZWxkIGxhYmVsIHtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDsgfVxcbiAgICAgIG5hdiAuaW5wdXQtZmllbGQgbGFiZWwgaSB7XFxuICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xcbiAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgLjNzOyB9XFxuICAgICAgbmF2IC5pbnB1dC1maWVsZCBsYWJlbC5hY3RpdmUgaSB7XFxuICAgICAgICBjb2xvcjogI2ZmZjsgfVxcblxcbi5uYXZiYXItZml4ZWQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiA1NnB4O1xcbiAgei1pbmRleDogOTk3OyB9XFxuICAubmF2YmFyLWZpeGVkIG5hdiB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDsgfVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAxcHgpIHtcXG4gIG5hdi5uYXYtZXh0ZW5kZWQgLm5hdi13cmFwcGVyIHtcXG4gICAgbWluLWhlaWdodDogNjRweDsgfVxcbiAgbmF2LCBuYXYgLm5hdi13cmFwcGVyIGksIG5hdiBhLmJ1dHRvbi1jb2xsYXBzZSwgbmF2IGEuYnV0dG9uLWNvbGxhcHNlIGkge1xcbiAgICBoZWlnaHQ6IDY0cHg7XFxuICAgIGxpbmUtaGVpZ2h0OiA2NHB4OyB9XFxuICAubmF2YmFyLWZpeGVkIHtcXG4gICAgaGVpZ2h0OiA2NHB4OyB9IH1cXG5cXG5hIHtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTsgfVxcblxcbmh0bWwge1xcbiAgbGluZS1oZWlnaHQ6IDEuNTtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUm9ib3RvXFxcIiwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg3KTsgfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAwKSB7XFxuICAgIGh0bWwge1xcbiAgICAgIGZvbnQtc2l6ZTogMTRweDsgfSB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk5MnB4KSB7XFxuICAgIGh0bWwge1xcbiAgICAgIGZvbnQtc2l6ZTogMTQuNXB4OyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTIwMHB4KSB7XFxuICAgIGh0bWwge1xcbiAgICAgIGZvbnQtc2l6ZTogMTVweDsgfSB9XFxuXFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiB7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgbGluZS1oZWlnaHQ6IDEuMTsgfVxcblxcbmgxIGEsIGgyIGEsIGgzIGEsIGg0IGEsIGg1IGEsIGg2IGEge1xcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7IH1cXG5cXG5oMSB7XFxuICBmb250LXNpemU6IDQuMnJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxMTAlO1xcbiAgbWFyZ2luOiAyLjFyZW0gMCAxLjY4cmVtIDA7IH1cXG5cXG5oMiB7XFxuICBmb250LXNpemU6IDMuNTZyZW07XFxuICBsaW5lLWhlaWdodDogMTEwJTtcXG4gIG1hcmdpbjogMS43OHJlbSAwIDEuNDI0cmVtIDA7IH1cXG5cXG5oMyB7XFxuICBmb250LXNpemU6IDIuOTJyZW07XFxuICBsaW5lLWhlaWdodDogMTEwJTtcXG4gIG1hcmdpbjogMS40NnJlbSAwIDEuMTY4cmVtIDA7IH1cXG5cXG5oNCB7XFxuICBmb250LXNpemU6IDIuMjhyZW07XFxuICBsaW5lLWhlaWdodDogMTEwJTtcXG4gIG1hcmdpbjogMS4xNHJlbSAwIDAuOTEycmVtIDA7IH1cXG5cXG5oNSB7XFxuICBmb250LXNpemU6IDEuNjRyZW07XFxuICBsaW5lLWhlaWdodDogMTEwJTtcXG4gIG1hcmdpbjogMC44MnJlbSAwIDAuNjU2cmVtIDA7IH1cXG5cXG5oNiB7XFxuICBmb250LXNpemU6IDFyZW07XFxuICBsaW5lLWhlaWdodDogMTEwJTtcXG4gIG1hcmdpbjogMC41cmVtIDAgMC40cmVtIDA7IH1cXG5cXG5lbSB7XFxuICBmb250LXN0eWxlOiBpdGFsaWM7IH1cXG5cXG5zdHJvbmcge1xcbiAgZm9udC13ZWlnaHQ6IDUwMDsgfVxcblxcbnNtYWxsIHtcXG4gIGZvbnQtc2l6ZTogNzUlOyB9XFxuXFxuLmxpZ2h0LCAucGFnZS1mb290ZXIgLmZvb3Rlci1jb3B5cmlnaHQge1xcbiAgZm9udC13ZWlnaHQ6IDMwMDsgfVxcblxcbi50aGluIHtcXG4gIGZvbnQtd2VpZ2h0OiAyMDA7IH1cXG5cXG4uZmxvdy10ZXh0IHtcXG4gIGZvbnQtd2VpZ2h0OiAzMDA7IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMzYwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjJyZW07IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAzOTBweCkge1xcbiAgICAuZmxvdy10ZXh0IHtcXG4gICAgICBmb250LXNpemU6IDEuMjI0cmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDIwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjI0OHJlbTsgfSB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ1MHB4KSB7XFxuICAgIC5mbG93LXRleHQge1xcbiAgICAgIGZvbnQtc2l6ZTogMS4yNzJyZW07IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0ODBweCkge1xcbiAgICAuZmxvdy10ZXh0IHtcXG4gICAgICBmb250LXNpemU6IDEuMjk2cmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTEwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjMycmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTQwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjM0NHJlbTsgfSB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDU3MHB4KSB7XFxuICAgIC5mbG93LXRleHQge1xcbiAgICAgIGZvbnQtc2l6ZTogMS4zNjhyZW07IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkge1xcbiAgICAuZmxvdy10ZXh0IHtcXG4gICAgICBmb250LXNpemU6IDEuMzkycmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjMwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjQxNnJlbTsgfSB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDY2MHB4KSB7XFxuICAgIC5mbG93LXRleHQge1xcbiAgICAgIGZvbnQtc2l6ZTogMS40NHJlbTsgfSB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDY5MHB4KSB7XFxuICAgIC5mbG93LXRleHQge1xcbiAgICAgIGZvbnQtc2l6ZTogMS40NjRyZW07IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3MjBweCkge1xcbiAgICAuZmxvdy10ZXh0IHtcXG4gICAgICBmb250LXNpemU6IDEuNDg4cmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzUwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjUxMnJlbTsgfSB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc4MHB4KSB7XFxuICAgIC5mbG93LXRleHQge1xcbiAgICAgIGZvbnQtc2l6ZTogMS41MzZyZW07IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MTBweCkge1xcbiAgICAuZmxvdy10ZXh0IHtcXG4gICAgICBmb250LXNpemU6IDEuNTZyZW07IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4NDBweCkge1xcbiAgICAuZmxvdy10ZXh0IHtcXG4gICAgICBmb250LXNpemU6IDEuNTg0cmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODcwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjYwOHJlbTsgfSB9XFxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDkwMHB4KSB7XFxuICAgIC5mbG93LXRleHQge1xcbiAgICAgIGZvbnQtc2l6ZTogMS42MzJyZW07IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA5MzBweCkge1xcbiAgICAuZmxvdy10ZXh0IHtcXG4gICAgICBmb250LXNpemU6IDEuNjU2cmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTYwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjY4cmVtOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMzYwcHgpIHtcXG4gICAgLmZsb3ctdGV4dCB7XFxuICAgICAgZm9udC1zaXplOiAxLjJyZW07IH0gfVxcblxcbi5jYXJkLXBhbmVsIHtcXG4gIHRyYW5zaXRpb246IGJveC1zaGFkb3cgLjI1cztcXG4gIHBhZGRpbmc6IDI0cHg7XFxuICBtYXJnaW46IDAuNXJlbSAwIDFyZW0gMDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH1cXG5cXG4uY2FyZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXJnaW46IDAuNXJlbSAwIDFyZW0gMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IC4yNXM7XFxuICBib3JkZXItcmFkaXVzOiAycHg7IH1cXG4gIC5jYXJkIC5jYXJkLXRpdGxlIHtcXG4gICAgZm9udC1zaXplOiAyNHB4O1xcbiAgICBmb250LXdlaWdodDogMzAwOyB9XFxuICAgIC5jYXJkIC5jYXJkLXRpdGxlLmFjdGl2YXRvciB7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyOyB9XFxuICAuY2FyZC5zbWFsbCwgLmNhcmQubWVkaXVtLCAuY2FyZC5sYXJnZSB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxcbiAgICAuY2FyZC5zbWFsbCAuY2FyZC1pbWFnZSwgLmNhcmQubWVkaXVtIC5jYXJkLWltYWdlLCAuY2FyZC5sYXJnZSAuY2FyZC1pbWFnZSB7XFxuICAgICAgbWF4LWhlaWdodDogNjAlO1xcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47IH1cXG4gICAgLmNhcmQuc21hbGwgLmNhcmQtaW1hZ2UgKyAuY2FyZC1jb250ZW50LCAuY2FyZC5tZWRpdW0gLmNhcmQtaW1hZ2UgKyAuY2FyZC1jb250ZW50LCAuY2FyZC5sYXJnZSAuY2FyZC1pbWFnZSArIC5jYXJkLWNvbnRlbnQge1xcbiAgICAgIG1heC1oZWlnaHQ6IDQwJTsgfVxcbiAgICAuY2FyZC5zbWFsbCAuY2FyZC1jb250ZW50LCAuY2FyZC5tZWRpdW0gLmNhcmQtY29udGVudCwgLmNhcmQubGFyZ2UgLmNhcmQtY29udGVudCB7XFxuICAgICAgbWF4LWhlaWdodDogMTAwJTtcXG4gICAgICBvdmVyZmxvdzogaGlkZGVuOyB9XFxuICAgIC5jYXJkLnNtYWxsIC5jYXJkLWFjdGlvbiwgLmNhcmQubWVkaXVtIC5jYXJkLWFjdGlvbiwgLmNhcmQubGFyZ2UgLmNhcmQtYWN0aW9uIHtcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgYm90dG9tOiAwO1xcbiAgICAgIGxlZnQ6IDA7XFxuICAgICAgcmlnaHQ6IDA7IH1cXG4gIC5jYXJkLnNtYWxsIHtcXG4gICAgaGVpZ2h0OiAzMDBweDsgfVxcbiAgLmNhcmQubWVkaXVtIHtcXG4gICAgaGVpZ2h0OiA0MDBweDsgfVxcbiAgLmNhcmQubGFyZ2Uge1xcbiAgICBoZWlnaHQ6IDUwMHB4OyB9XFxuICAuY2FyZC5ob3Jpem9udGFsIHtcXG4gICAgZGlzcGxheTogZmxleDsgfVxcbiAgICAuY2FyZC5ob3Jpem9udGFsLnNtYWxsIC5jYXJkLWltYWdlLCAuY2FyZC5ob3Jpem9udGFsLm1lZGl1bSAuY2FyZC1pbWFnZSwgLmNhcmQuaG9yaXpvbnRhbC5sYXJnZSAuY2FyZC1pbWFnZSB7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIG1heC1oZWlnaHQ6IG5vbmU7XFxuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7IH1cXG4gICAgICAuY2FyZC5ob3Jpem9udGFsLnNtYWxsIC5jYXJkLWltYWdlIGltZywgLmNhcmQuaG9yaXpvbnRhbC5tZWRpdW0gLmNhcmQtaW1hZ2UgaW1nLCAuY2FyZC5ob3Jpem9udGFsLmxhcmdlIC5jYXJkLWltYWdlIGltZyB7XFxuICAgICAgICBoZWlnaHQ6IDEwMCU7IH1cXG4gICAgLmNhcmQuaG9yaXpvbnRhbCAuY2FyZC1pbWFnZSB7XFxuICAgICAgbWF4LXdpZHRoOiA1MCU7IH1cXG4gICAgICAuY2FyZC5ob3Jpem9udGFsIC5jYXJkLWltYWdlIGltZyB7XFxuICAgICAgICBib3JkZXItcmFkaXVzOiAycHggMCAwIDJweDtcXG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgICAgIHdpZHRoOiBhdXRvOyB9XFxuICAgIC5jYXJkLmhvcml6b250YWwgLmNhcmQtc3RhY2tlZCB7XFxuICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgIGZsZXg6IDE7XFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuICAgICAgLmNhcmQuaG9yaXpvbnRhbCAuY2FyZC1zdGFja2VkIC5jYXJkLWNvbnRlbnQge1xcbiAgICAgICAgZmxleC1ncm93OiAxOyB9XFxuICAuY2FyZC5zdGlja3ktYWN0aW9uIC5jYXJkLWFjdGlvbiB7XFxuICAgIHotaW5kZXg6IDI7IH1cXG4gIC5jYXJkLnN0aWNreS1hY3Rpb24gLmNhcmQtcmV2ZWFsIHtcXG4gICAgei1pbmRleDogMTtcXG4gICAgcGFkZGluZy1ib3R0b206IDY0cHg7IH1cXG4gIC5jYXJkIC5jYXJkLWltYWdlIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuICAgIC5jYXJkIC5jYXJkLWltYWdlIGltZyB7XFxuICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgYm9yZGVyLXJhZGl1czogMnB4IDJweCAwIDA7XFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgIGxlZnQ6IDA7XFxuICAgICAgcmlnaHQ6IDA7XFxuICAgICAgdG9wOiAwO1xcbiAgICAgIGJvdHRvbTogMDtcXG4gICAgICB3aWR0aDogMTAwJTsgfVxcbiAgICAuY2FyZCAuY2FyZC1pbWFnZSAuY2FyZC10aXRsZSB7XFxuICAgICAgY29sb3I6ICNmZmY7XFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgIGJvdHRvbTogMDtcXG4gICAgICBsZWZ0OiAwO1xcbiAgICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgICBwYWRkaW5nOiAyNHB4OyB9XFxuICAuY2FyZCAuY2FyZC1jb250ZW50IHtcXG4gICAgcGFkZGluZzogMjRweDtcXG4gICAgYm9yZGVyLXJhZGl1czogMCAwIDJweCAycHg7IH1cXG4gICAgLmNhcmQgLmNhcmQtY29udGVudCBwIHtcXG4gICAgICBtYXJnaW46IDA7XFxuICAgICAgY29sb3I6IGluaGVyaXQ7IH1cXG4gICAgLmNhcmQgLmNhcmQtY29udGVudCAuY2FyZC10aXRsZSB7XFxuICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XFxuICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OyB9XFxuICAgICAgLmNhcmQgLmNhcmQtY29udGVudCAuY2FyZC10aXRsZSBpIHtcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4OyB9XFxuICAuY2FyZCAuY2FyZC1hY3Rpb24ge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDE2MCwgMTYwLCAxNjAsIDAuMik7XFxuICAgIHBhZGRpbmc6IDE2cHggMjRweDsgfVxcbiAgICAuY2FyZCAuY2FyZC1hY3Rpb246bGFzdC1jaGlsZCB7XFxuICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDJweCAycHg7IH1cXG4gICAgLmNhcmQgLmNhcmQtYWN0aW9uIGE6bm90KC5idG4pOm5vdCguYnRuLWxhcmdlKTpub3QoLmJ0bi1sYXJnZSk6bm90KC5idG4tZmxvYXRpbmcpIHtcXG4gICAgICBjb2xvcjogI2ZmYWI0MDtcXG4gICAgICBtYXJnaW4tcmlnaHQ6IDI0cHg7XFxuICAgICAgdHJhbnNpdGlvbjogY29sb3IgLjNzIGVhc2U7XFxuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgfVxcbiAgICAgIC5jYXJkIC5jYXJkLWFjdGlvbiBhOm5vdCguYnRuKTpub3QoLmJ0bi1sYXJnZSk6bm90KC5idG4tbGFyZ2UpOm5vdCguYnRuLWZsb2F0aW5nKTpob3ZlciB7XFxuICAgICAgICBjb2xvcjogI2ZmZDhhNjsgfVxcbiAgLmNhcmQgLmNhcmQtcmV2ZWFsIHtcXG4gICAgcGFkZGluZzogMjRweDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgb3ZlcmZsb3cteTogYXV0bztcXG4gICAgbGVmdDogMDtcXG4gICAgdG9wOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIHotaW5kZXg6IDM7XFxuICAgIGRpc3BsYXk6IG5vbmU7IH1cXG4gICAgLmNhcmQgLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlIHtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgZGlzcGxheTogYmxvY2s7IH1cXG5cXG4uYnRuLCAuYnRuLWxhcmdlLFxcbi5idG4tZmxhdCB7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBoZWlnaHQ6IDM2cHg7XFxuICBsaW5lLWhlaWdodDogMzZweDtcXG4gIHBhZGRpbmc6IDAgMnJlbTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsgfVxcblxcbi5idG4uZGlzYWJsZWQsIC5kaXNhYmxlZC5idG4tbGFyZ2UsXFxuLmJ0bi1mbG9hdGluZy5kaXNhYmxlZCxcXG4uYnRuLWxhcmdlLmRpc2FibGVkLFxcbi5idG4tZmxhdC5kaXNhYmxlZCxcXG4uYnRuOmRpc2FibGVkLFxcbi5idG4tbGFyZ2U6ZGlzYWJsZWQsXFxuLmJ0bi1mbG9hdGluZzpkaXNhYmxlZCxcXG4uYnRuLWxhcmdlOmRpc2FibGVkLFxcbi5idG4tZmxhdDpkaXNhYmxlZCxcXG4uYnRuW2Rpc2FibGVkXSxcXG5bZGlzYWJsZWRdLmJ0bi1sYXJnZSxcXG4uYnRuLWZsb2F0aW5nW2Rpc2FibGVkXSxcXG4uYnRuLWxhcmdlW2Rpc2FibGVkXSxcXG4uYnRuLWZsYXRbZGlzYWJsZWRdIHtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0RGREZERiAhaW1wb3J0YW50O1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG4gIGNvbG9yOiAjOUY5RjlGICFpbXBvcnRhbnQ7XFxuICBjdXJzb3I6IGRlZmF1bHQ7IH1cXG4gIC5idG4uZGlzYWJsZWQ6aG92ZXIsIC5kaXNhYmxlZC5idG4tbGFyZ2U6aG92ZXIsXFxuICAuYnRuLWZsb2F0aW5nLmRpc2FibGVkOmhvdmVyLFxcbiAgLmJ0bi1sYXJnZS5kaXNhYmxlZDpob3ZlcixcXG4gIC5idG4tZmxhdC5kaXNhYmxlZDpob3ZlcixcXG4gIC5idG46ZGlzYWJsZWQ6aG92ZXIsXFxuICAuYnRuLWxhcmdlOmRpc2FibGVkOmhvdmVyLFxcbiAgLmJ0bi1mbG9hdGluZzpkaXNhYmxlZDpob3ZlcixcXG4gIC5idG4tbGFyZ2U6ZGlzYWJsZWQ6aG92ZXIsXFxuICAuYnRuLWZsYXQ6ZGlzYWJsZWQ6aG92ZXIsXFxuICAuYnRuW2Rpc2FibGVkXTpob3ZlcixcXG4gIFtkaXNhYmxlZF0uYnRuLWxhcmdlOmhvdmVyLFxcbiAgLmJ0bi1mbG9hdGluZ1tkaXNhYmxlZF06aG92ZXIsXFxuICAuYnRuLWxhcmdlW2Rpc2FibGVkXTpob3ZlcixcXG4gIC5idG4tZmxhdFtkaXNhYmxlZF06aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjREZERkRGICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiAjOUY5RjlGICFpbXBvcnRhbnQ7IH1cXG5cXG4uYnRuLCAuYnRuLWxhcmdlLFxcbi5idG4tZmxvYXRpbmcsXFxuLmJ0bi1sYXJnZSxcXG4uYnRuLWZsYXQge1xcbiAgZm9udC1zaXplOiAxcmVtO1xcbiAgb3V0bGluZTogMDsgfVxcbiAgLmJ0biBpLCAuYnRuLWxhcmdlIGksXFxuICAuYnRuLWZsb2F0aW5nIGksXFxuICAuYnRuLWxhcmdlIGksXFxuICAuYnRuLWZsYXQgaSB7XFxuICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDsgfVxcblxcbi5idG46Zm9jdXMsIC5idG4tbGFyZ2U6Zm9jdXMsXFxuLmJ0bi1mbG9hdGluZzpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWQ3ZDc0OyB9XFxuXFxuLmJ0biwgLmJ0bi1sYXJnZSB7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBsZXR0ZXItc3BhY2luZzogLjVweDtcXG4gIHRyYW5zaXRpb246IC4ycyBlYXNlLW91dDtcXG4gIGN1cnNvcjogcG9pbnRlcjsgfVxcbiAgLmJ0bjpob3ZlciwgLmJ0bi1sYXJnZTpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyYmJiYWQ7IH1cXG5cXG4uYnRuLWZsb2F0aW5nIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGNvbG9yOiAjZmZmO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHotaW5kZXg6IDE7XFxuICB3aWR0aDogNDBweDtcXG4gIGhlaWdodDogNDBweDtcXG4gIGxpbmUtaGVpZ2h0OiA0MHB4O1xcbiAgcGFkZGluZzogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICB0cmFuc2l0aW9uOiAuM3M7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB9XFxuICAuYnRuLWZsb2F0aW5nOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI2YTY5YTsgfVxcbiAgLmJ0bi1mbG9hdGluZzpiZWZvcmUge1xcbiAgICBib3JkZXItcmFkaXVzOiAwOyB9XFxuICAuYnRuLWZsb2F0aW5nLmJ0bi1sYXJnZSB7XFxuICAgIHdpZHRoOiA1NnB4O1xcbiAgICBoZWlnaHQ6IDU2cHg7IH1cXG4gICAgLmJ0bi1mbG9hdGluZy5idG4tbGFyZ2UuaGFsZndheS1mYWIge1xcbiAgICAgIGJvdHRvbTogLTI4cHg7IH1cXG4gICAgLmJ0bi1mbG9hdGluZy5idG4tbGFyZ2UgaSB7XFxuICAgICAgbGluZS1oZWlnaHQ6IDU2cHg7IH1cXG4gIC5idG4tZmxvYXRpbmcuaGFsZndheS1mYWIge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAyNHB4O1xcbiAgICBib3R0b206IC0yMHB4OyB9XFxuICAgIC5idG4tZmxvYXRpbmcuaGFsZndheS1mYWIubGVmdCB7XFxuICAgICAgcmlnaHQ6IGF1dG87XFxuICAgICAgbGVmdDogMjRweDsgfVxcbiAgLmJ0bi1mbG9hdGluZyBpIHtcXG4gICAgd2lkdGg6IGluaGVyaXQ7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBjb2xvcjogI2ZmZjtcXG4gICAgZm9udC1zaXplOiAxLjZyZW07XFxuICAgIGxpbmUtaGVpZ2h0OiA0MHB4OyB9XFxuXFxuYnV0dG9uLmJ0bi1mbG9hdGluZyB7XFxuICBib3JkZXI6IG5vbmU7IH1cXG5cXG4uZml4ZWQtYWN0aW9uLWJ0biB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICByaWdodDogMjNweDtcXG4gIGJvdHRvbTogMjNweDtcXG4gIHBhZGRpbmctdG9wOiAxNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMDtcXG4gIHotaW5kZXg6IDk5NzsgfVxcbiAgLmZpeGVkLWFjdGlvbi1idG4uYWN0aXZlIHVsIHtcXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTsgfVxcbiAgLmZpeGVkLWFjdGlvbi1idG4uaG9yaXpvbnRhbCB7XFxuICAgIHBhZGRpbmc6IDAgMCAwIDE1cHg7IH1cXG4gICAgLmZpeGVkLWFjdGlvbi1idG4uaG9yaXpvbnRhbCB1bCB7XFxuICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICAgICAgcmlnaHQ6IDY0cHg7XFxuICAgICAgdG9wOiA1MCU7XFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICBsZWZ0OiBhdXRvO1xcbiAgICAgIHdpZHRoOiA1MDBweDtcXG4gICAgICAvKndpZHRoIDEwMCUgb25seSBnb2VzIHRvIHdpZHRoIG9mIGJ1dHRvbiBjb250YWluZXIgKi8gfVxcbiAgICAgIC5maXhlZC1hY3Rpb24tYnRuLmhvcml6b250YWwgdWwgbGkge1xcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICAgICAgbWFyZ2luOiAxNXB4IDE1cHggMCAwOyB9XFxuICAuZml4ZWQtYWN0aW9uLWJ0bi50b29sYmFyIHtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgaGVpZ2h0OiA1NnB4OyB9XFxuICAgIC5maXhlZC1hY3Rpb24tYnRuLnRvb2xiYXIuYWN0aXZlID4gYSBpIHtcXG4gICAgICBvcGFjaXR5OiAwOyB9XFxuICAgIC5maXhlZC1hY3Rpb24tYnRuLnRvb2xiYXIgdWwge1xcbiAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgdG9wOiAwO1xcbiAgICAgIGJvdHRvbTogMDtcXG4gICAgICB6LWluZGV4OiAxOyB9XFxuICAgICAgLmZpeGVkLWFjdGlvbi1idG4udG9vbGJhciB1bCBsaSB7XFxuICAgICAgICBmbGV4OiAxO1xcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICAgICAgbWFyZ2luOiAwO1xcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgdHJhbnNpdGlvbjogbm9uZTsgfVxcbiAgICAgICAgLmZpeGVkLWFjdGlvbi1idG4udG9vbGJhciB1bCBsaSBhIHtcXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgICAgICAgIGNvbG9yOiAjZmZmO1xcbiAgICAgICAgICBsaW5lLWhlaWdodDogNTZweDtcXG4gICAgICAgICAgei1pbmRleDogMTsgfVxcbiAgICAgICAgICAuZml4ZWQtYWN0aW9uLWJ0bi50b29sYmFyIHVsIGxpIGEgaSB7XFxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7IH1cXG4gIC5maXhlZC1hY3Rpb24tYnRuIHVsIHtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3R0b206IDY0cHg7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuOyB9XFxuICAgIC5maXhlZC1hY3Rpb24tYnRuIHVsIGxpIHtcXG4gICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OyB9XFxuICAgIC5maXhlZC1hY3Rpb24tYnRuIHVsIGEuYnRuLWZsb2F0aW5nIHtcXG4gICAgICBvcGFjaXR5OiAwOyB9XFxuICAuZml4ZWQtYWN0aW9uLWJ0biAuZmFiLWJhY2tkcm9wIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHotaW5kZXg6IC0xO1xcbiAgICB3aWR0aDogNDBweDtcXG4gICAgaGVpZ2h0OiA0MHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjZhNjlhO1xcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7IH1cXG5cXG4uYnRuLWZsYXQge1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgY29sb3I6ICMzNDM0MzQ7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4yczsgfVxcbiAgLmJ0bi1mbGF0OmZvY3VzLCAuYnRuLWZsYXQ6aG92ZXIge1xcbiAgICBib3gtc2hhZG93OiBub25lOyB9XFxuICAuYnRuLWZsYXQ6Zm9jdXMge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7IH1cXG4gIC5idG4tZmxhdC5kaXNhYmxlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiAjYjNiM2IzICFpbXBvcnRhbnQ7XFxuICAgIGN1cnNvcjogZGVmYXVsdDsgfVxcblxcbi5idG4tbGFyZ2Uge1xcbiAgaGVpZ2h0OiA1NHB4O1xcbiAgbGluZS1oZWlnaHQ6IDU0cHg7IH1cXG4gIC5idG4tbGFyZ2UgaSB7XFxuICAgIGZvbnQtc2l6ZTogMS42cmVtOyB9XFxuXFxuLmJ0bi1ibG9jayB7XFxuICBkaXNwbGF5OiBibG9jazsgfVxcblxcbi8qIVxcbiAqIFdhdmVzIHYwLjYuMFxcbiAqIGh0dHA6Ly9maWFuLm15LmlkL1dhdmVzXFxuICpcXG4gKiBDb3B5cmlnaHQgMjAxNCBBbGZpYW5hIEUuIFNpYnVlYSBhbmQgb3RoZXIgY29udHJpYnV0b3JzXFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXFxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZpYW5zL1dhdmVzL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcXG4gKi9cXG4ud2F2ZXMtZWZmZWN0IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgei1pbmRleDogMTtcXG4gIHRyYW5zaXRpb246IC4zcyBlYXNlLW91dDsgfVxcbiAgLndhdmVzLWVmZmVjdCAud2F2ZXMtcmlwcGxlIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgIHdpZHRoOiAyMHB4O1xcbiAgICBoZWlnaHQ6IDIwcHg7XFxuICAgIG1hcmdpbi10b3A6IC0xMHB4O1xcbiAgICBtYXJnaW4tbGVmdDogLTEwcHg7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTtcXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuN3MgZWFzZS1vdXQ7XFxuICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IHRyYW5zZm9ybSwgb3BhY2l0eTtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7IH1cXG4gIC53YXZlcy1lZmZlY3Qud2F2ZXMtbGlnaHQgLndhdmVzLXJpcHBsZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40NSk7IH1cXG4gIC53YXZlcy1lZmZlY3Qud2F2ZXMtcmVkIC53YXZlcy1yaXBwbGUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI0NCwgNjcsIDU0LCAwLjcpOyB9XFxuICAud2F2ZXMtZWZmZWN0LndhdmVzLXllbGxvdyAud2F2ZXMtcmlwcGxlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDIzNSwgNTksIDAuNyk7IH1cXG4gIC53YXZlcy1lZmZlY3Qud2F2ZXMtb3JhbmdlIC53YXZlcy1yaXBwbGUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTUyLCAwLCAwLjcpOyB9XFxuICAud2F2ZXMtZWZmZWN0LndhdmVzLXB1cnBsZSAud2F2ZXMtcmlwcGxlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTYsIDM5LCAxNzYsIDAuNyk7IH1cXG4gIC53YXZlcy1lZmZlY3Qud2F2ZXMtZ3JlZW4gLndhdmVzLXJpcHBsZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzYsIDE3NSwgODAsIDAuNyk7IH1cXG4gIC53YXZlcy1lZmZlY3Qud2F2ZXMtdGVhbCAud2F2ZXMtcmlwcGxlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxNTAsIDEzNiwgMC43KTsgfVxcbiAgLndhdmVzLWVmZmVjdCBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXSwgLndhdmVzLWVmZmVjdCBpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdLCAud2F2ZXMtZWZmZWN0IGlucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdIHtcXG4gICAgYm9yZGVyOiAwO1xcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XFxuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gICAgdGV4dC10cmFuc2Zvcm06IGluaGVyaXQ7XFxuICAgIGJhY2tncm91bmQ6IG5vbmU7IH1cXG4gIC53YXZlcy1lZmZlY3QgaW1nIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICB6LWluZGV4OiAtMTsgfVxcblxcbi53YXZlcy1ub3RyYW5zaXRpb24ge1xcbiAgdHJhbnNpdGlvbjogbm9uZSAhaW1wb3J0YW50OyB9XFxuXFxuLndhdmVzLWNpcmNsZSB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAtd2Via2l0LW1hc2staW1hZ2U6IC13ZWJraXQtcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgd2hpdGUgMTAwJSwgYmxhY2sgMTAwJSk7IH1cXG5cXG4ud2F2ZXMtaW5wdXQtd3JhcHBlciB7XFxuICBib3JkZXItcmFkaXVzOiAwLjJlbTtcXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b207IH1cXG4gIC53YXZlcy1pbnB1dC13cmFwcGVyIC53YXZlcy1idXR0b24taW5wdXQge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgei1pbmRleDogMTsgfVxcblxcbi53YXZlcy1jaXJjbGUge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgd2lkdGg6IDIuNWVtO1xcbiAgaGVpZ2h0OiAyLjVlbTtcXG4gIGxpbmUtaGVpZ2h0OiAyLjVlbTtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIC13ZWJraXQtbWFzay1pbWFnZTogbm9uZTsgfVxcblxcbi53YXZlcy1ibG9jayB7XFxuICBkaXNwbGF5OiBibG9jazsgfVxcblxcbi8qIEZpcmVmb3ggQnVnOiBsaW5rIG5vdCB0cmlnZ2VyZWQgKi9cXG4ud2F2ZXMtZWZmZWN0IC53YXZlcy1yaXBwbGUge1xcbiAgei1pbmRleDogLTE7IH1cXG5cXG5zZWxlY3Q6Zm9jdXMge1xcbiAgb3V0bGluZTogMXB4IHNvbGlkICNjOWYzZWY7IH1cXG5cXG5idXR0b246Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyYWI3YTk7IH1cXG5cXG5sYWJlbCB7XFxuICBmb250LXNpemU6IDAuOHJlbTtcXG4gIGNvbG9yOiAjOWU5ZTllOyB9XFxuXFxuLyogVGV4dCBJbnB1dHMgKyBUZXh0YXJlYVxcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuLyogU3R5bGUgUGxhY2Vob2xkZXJzICovXFxuOjpwbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI2QxZDFkMTsgfVxcblxcbi8qIFRleHQgaW5wdXRzICovXFxuaW5wdXQ6bm90KFt0eXBlXSksXFxuaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT1wYXNzd29yZF06bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPXVybF06bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9dGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9ZGF0ZXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXTpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPW51bWJlcl06bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9c2VhcmNoXTpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxudGV4dGFyZWEubWF0ZXJpYWxpemUtdGV4dGFyZWEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzllOWU5ZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgaGVpZ2h0OiAzcmVtO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBmb250LXNpemU6IDFyZW07XFxuICBtYXJnaW46IDAgMCAyMHB4IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7IH1cXG4gIGlucHV0Om5vdChbdHlwZV0pOmRpc2FibGVkLCBpbnB1dDpub3QoW3R5cGVdKVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSxcXG4gIGlucHV0W3R5cGU9dGV4dF06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkLFxcbiAgaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0sXFxuICBpbnB1dFt0eXBlPXBhc3N3b3JkXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQsXFxuICBpbnB1dFt0eXBlPXBhc3N3b3JkXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0sXFxuICBpbnB1dFt0eXBlPWVtYWlsXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQsXFxuICBpbnB1dFt0eXBlPWVtYWlsXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0sXFxuICBpbnB1dFt0eXBlPXVybF06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkLFxcbiAgaW5wdXRbdHlwZT11cmxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSxcXG4gIGlucHV0W3R5cGU9dGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkLFxcbiAgaW5wdXRbdHlwZT10aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0sXFxuICBpbnB1dFt0eXBlPWRhdGVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpkaXNhYmxlZCxcXG4gIGlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpW3JlYWRvbmx5PVxcXCJyZWFkb25seVxcXCJdLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpW3JlYWRvbmx5PVxcXCJyZWFkb25seVxcXCJdLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF06bm90KC5icm93c2VyLWRlZmF1bHQpW3JlYWRvbmx5PVxcXCJyZWFkb25seVxcXCJdLFxcbiAgaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpkaXNhYmxlZCxcXG4gIGlucHV0W3R5cGU9dGVsXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0sXFxuICBpbnB1dFt0eXBlPW51bWJlcl06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkLFxcbiAgaW5wdXRbdHlwZT1udW1iZXJdOm5vdCguYnJvd3Nlci1kZWZhdWx0KVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSxcXG4gIGlucHV0W3R5cGU9c2VhcmNoXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQsXFxuICBpbnB1dFt0eXBlPXNlYXJjaF06bm90KC5icm93c2VyLWRlZmF1bHQpW3JlYWRvbmx5PVxcXCJyZWFkb25seVxcXCJdLFxcbiAgdGV4dGFyZWEubWF0ZXJpYWxpemUtdGV4dGFyZWE6ZGlzYWJsZWQsXFxuICB0ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSB7XFxuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDIpO1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkIHJnYmEoMCwgMCwgMCwgMC40Mik7IH1cXG4gIGlucHV0Om5vdChbdHlwZV0pOmRpc2FibGVkICsgbGFiZWwsXFxuICBpbnB1dDpub3QoW3R5cGVdKVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dGV4dF06bm90KC5icm93c2VyLWRlZmF1bHQpW3JlYWRvbmx5PVxcXCJyZWFkb25seVxcXCJdICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPXBhc3N3b3JkXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9cGFzc3dvcmRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT1lbWFpbF06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPWVtYWlsXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0gKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dXJsXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dXJsXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0gKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT1kYXRlXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpW3JlYWRvbmx5PVxcXCJyZWFkb25seVxcXCJdICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9ZGF0ZXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF06bm90KC5icm93c2VyLWRlZmF1bHQpOmRpc2FibGVkICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0gKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dGVsXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dGVsXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0gKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9bnVtYmVyXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9bnVtYmVyXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0gKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9c2VhcmNoXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6ZGlzYWJsZWQgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9c2VhcmNoXTpub3QoLmJyb3dzZXItZGVmYXVsdClbcmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIl0gKyBsYWJlbCxcXG4gIHRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhOmRpc2FibGVkICsgbGFiZWwsXFxuICB0ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYVtyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiXSArIGxhYmVsIHtcXG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40Mik7IH1cXG4gIGlucHV0Om5vdChbdHlwZV0pOmZvY3VzOm5vdChbcmVhZG9ubHldKSxcXG4gIGlucHV0W3R5cGU9dGV4dF06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzOm5vdChbcmVhZG9ubHldKSxcXG4gIGlucHV0W3R5cGU9cGFzc3dvcmRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSksXFxuICBpbnB1dFt0eXBlPWVtYWlsXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXM6bm90KFtyZWFkb25seV0pLFxcbiAgaW5wdXRbdHlwZT11cmxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSksXFxuICBpbnB1dFt0eXBlPXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSksXFxuICBpbnB1dFt0eXBlPWRhdGVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSksXFxuICBpbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXM6bm90KFtyZWFkb25seV0pLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzOm5vdChbcmVhZG9ubHldKSxcXG4gIGlucHV0W3R5cGU9dGVsXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXM6bm90KFtyZWFkb25seV0pLFxcbiAgaW5wdXRbdHlwZT1udW1iZXJdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSksXFxuICBpbnB1dFt0eXBlPXNlYXJjaF06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzOm5vdChbcmVhZG9ubHldKSxcXG4gIHRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhOmZvY3VzOm5vdChbcmVhZG9ubHldKSB7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjZhNjlhO1xcbiAgICBib3gtc2hhZG93OiAwIDFweCAwIDAgIzI2YTY5YTsgfVxcbiAgaW5wdXQ6bm90KFt0eXBlXSk6Zm9jdXM6bm90KFtyZWFkb25seV0pICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPXRleHRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSkgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9cGFzc3dvcmRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSkgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSkgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dXJsXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXM6bm90KFtyZWFkb25seV0pICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSkgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzOm5vdChbcmVhZG9ubHldKSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzOm5vdChbcmVhZG9ubHldKSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzOm5vdChbcmVhZG9ubHldKSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1czpub3QoW3JlYWRvbmx5XSkgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9bnVtYmVyXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXM6bm90KFtyZWFkb25seV0pICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPXNlYXJjaF06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzOm5vdChbcmVhZG9ubHldKSArIGxhYmVsLFxcbiAgdGV4dGFyZWEubWF0ZXJpYWxpemUtdGV4dGFyZWE6Zm9jdXM6bm90KFtyZWFkb25seV0pICsgbGFiZWwge1xcbiAgICBjb2xvcjogIzI2YTY5YTsgfVxcbiAgaW5wdXQ6bm90KFt0eXBlXSkudmFsaWRhdGUgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9dGV4dF06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkYXRlICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPXBhc3N3b3JkXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWRhdGUgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZGF0ZSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT11cmxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZGF0ZSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT10aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWRhdGUgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkYXRlICsgbGFiZWwsXFxuICBpbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWRhdGUgKyBsYWJlbCxcXG4gIGlucHV0W3R5cGU9ZGF0ZXRpbWUtbG9jYWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZGF0ZSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZGF0ZSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT1udW1iZXJdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZGF0ZSArIGxhYmVsLFxcbiAgaW5wdXRbdHlwZT1zZWFyY2hdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZGF0ZSArIGxhYmVsLFxcbiAgdGV4dGFyZWEubWF0ZXJpYWxpemUtdGV4dGFyZWEudmFsaWRhdGUgKyBsYWJlbCB7XFxuICAgIHdpZHRoOiAxMDAlOyB9XFxuICBpbnB1dDpub3QoW3R5cGVdKS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICBpbnB1dDpub3QoW3R5cGVdKS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG4gIGlucHV0W3R5cGU9cGFzc3dvcmRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPXBhc3N3b3JkXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG4gIGlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPWVtYWlsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG4gIGlucHV0W3R5cGU9dXJsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT11cmxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG4gIGlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpLmludmFsaWQgKyBsYWJlbDphZnRlcixcXG4gIGlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPXRlbF06bm90KC5icm93c2VyLWRlZmF1bHQpLmludmFsaWQgKyBsYWJlbDphZnRlcixcXG4gIGlucHV0W3R5cGU9dGVsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG4gIGlucHV0W3R5cGU9bnVtYmVyXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT1udW1iZXJdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT1zZWFyY2hdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPXNlYXJjaF06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICB0ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuICB0ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYS52YWxpZCArIGxhYmVsOmFmdGVyIHtcXG4gICAgZGlzcGxheTogbm9uZTsgfVxcbiAgaW5wdXQ6bm90KFt0eXBlXSkuaW52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0Om5vdChbdHlwZV0pLnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9dGV4dF06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT1wYXNzd29yZF06bm90KC5icm93c2VyLWRlZmF1bHQpLmludmFsaWQgKyBsYWJlbC5hY3RpdmU6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPXBhc3N3b3JkXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbC5hY3RpdmU6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPWVtYWlsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9dXJsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9dXJsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbC5hY3RpdmU6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbC5hY3RpdmU6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPWRhdGVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT1kYXRlXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbC5hY3RpdmU6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9ZGF0ZXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9ZGF0ZXRpbWUtbG9jYWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9bnVtYmVyXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIGlucHV0W3R5cGU9bnVtYmVyXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbC5hY3RpdmU6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPXNlYXJjaF06bm90KC5icm93c2VyLWRlZmF1bHQpLmludmFsaWQgKyBsYWJlbC5hY3RpdmU6YWZ0ZXIsXFxuICBpbnB1dFt0eXBlPXNlYXJjaF06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyLFxcbiAgdGV4dGFyZWEubWF0ZXJpYWxpemUtdGV4dGFyZWEuaW52YWxpZCArIGxhYmVsLmFjdGl2ZTphZnRlcixcXG4gIHRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhLnZhbGlkICsgbGFiZWwuYWN0aXZlOmFmdGVyIHtcXG4gICAgZGlzcGxheTogYmxvY2s7IH1cXG5cXG4vKiBWYWxpZGF0aW9uIFNhc3MgUGxhY2Vob2xkZXJzICovXFxuaW5wdXQudmFsaWQ6bm90KFt0eXBlXSksIGlucHV0LnZhbGlkOm5vdChbdHlwZV0pOmZvY3VzLFxcbmlucHV0W3R5cGU9dGV4dF0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9dGV4dF0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbmlucHV0W3R5cGU9cGFzc3dvcmRdLnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPXBhc3N3b3JkXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMsXFxuaW5wdXRbdHlwZT1lbWFpbF0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9ZW1haWxdLnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cyxcXG5pbnB1dFt0eXBlPXVybF0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9dXJsXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMsXFxuaW5wdXRbdHlwZT10aW1lXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT10aW1lXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMsXFxuaW5wdXRbdHlwZT1kYXRlXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT1kYXRlXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMsXFxuaW5wdXRbdHlwZT1kYXRldGltZV0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9ZGF0ZXRpbWVdLnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cyxcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbmlucHV0W3R5cGU9dGVsXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT10ZWxdLnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cyxcXG5pbnB1dFt0eXBlPW51bWJlcl0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9bnVtYmVyXS52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMsXFxuaW5wdXRbdHlwZT1zZWFyY2hdLnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPXNlYXJjaF0udmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbnRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhLnZhbGlkLFxcbnRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhLnZhbGlkOmZvY3VzLCAuc2VsZWN0LXdyYXBwZXIudmFsaWQgPiBpbnB1dC5zZWxlY3QtZHJvcGRvd24ge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0Q0FGNTA7XFxuICBib3gtc2hhZG93OiAwIDFweCAwIDAgIzRDQUY1MDsgfVxcblxcbmlucHV0LmludmFsaWQ6bm90KFt0eXBlXSksIGlucHV0LmludmFsaWQ6bm90KFt0eXBlXSk6Zm9jdXMsXFxuaW5wdXRbdHlwZT10ZXh0XS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPXRleHRdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbmlucHV0W3R5cGU9cGFzc3dvcmRdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9cGFzc3dvcmRdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbmlucHV0W3R5cGU9ZW1haWxdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9ZW1haWxdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbmlucHV0W3R5cGU9dXJsXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPXVybF0uaW52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMsXFxuaW5wdXRbdHlwZT10aW1lXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPXRpbWVdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbmlucHV0W3R5cGU9ZGF0ZV0uaW52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT1kYXRlXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cyxcXG5pbnB1dFt0eXBlPWRhdGV0aW1lXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPWRhdGV0aW1lXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cyxcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cyxcXG5pbnB1dFt0eXBlPXRlbF0uaW52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCksXFxuaW5wdXRbdHlwZT10ZWxdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLFxcbmlucHV0W3R5cGU9bnVtYmVyXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KSxcXG5pbnB1dFt0eXBlPW51bWJlcl0uaW52YWxpZDpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMsXFxuaW5wdXRbdHlwZT1zZWFyY2hdLmludmFsaWQ6bm90KC5icm93c2VyLWRlZmF1bHQpLFxcbmlucHV0W3R5cGU9c2VhcmNoXS5pbnZhbGlkOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cyxcXG50ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYS5pbnZhbGlkLFxcbnRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhLmludmFsaWQ6Zm9jdXMsIC5zZWxlY3Qtd3JhcHBlci5pbnZhbGlkID4gaW5wdXQuc2VsZWN0LWRyb3Bkb3duIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRjQ0MzM2O1xcbiAgYm94LXNoYWRvdzogMCAxcHggMCAwICNGNDQzMzY7IH1cXG5cXG5pbnB1dDpub3QoW3R5cGVdKS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0Om5vdChbdHlwZV0pOmZvY3VzLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPXRleHRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9cGFzc3dvcmRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9cGFzc3dvcmRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9dXJsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPXVybF06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT10aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9ZGF0ZV06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1kYXRlXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPXRlbF06bm90KC5icm93c2VyLWRlZmF1bHQpLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9bnVtYmVyXTpub3QoLmJyb3dzZXItZGVmYXVsdCkudmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPW51bWJlcl06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1zZWFyY2hdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9c2VhcmNoXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMudmFsaWQgKyBsYWJlbDphZnRlcixcXG50ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYS52YWxpZCArIGxhYmVsOmFmdGVyLFxcbnRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhOmZvY3VzLnZhbGlkICsgbGFiZWw6YWZ0ZXIsIC5zZWxlY3Qtd3JhcHBlci52YWxpZCArIGxhYmVsOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IGF0dHIoZGF0YS1zdWNjZXNzKTtcXG4gIGNvbG9yOiAjNENBRjUwO1xcbiAgb3BhY2l0eTogMTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg5cHgpOyB9XFxuXFxuaW5wdXQ6bm90KFt0eXBlXSkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0Om5vdChbdHlwZV0pOmZvY3VzLmludmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPXRleHRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT10ZXh0XTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9cGFzc3dvcmRdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1wYXNzd29yZF06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLmludmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWVtYWlsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9ZW1haWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT11cmxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT11cmxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT10aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9dGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLmludmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1kYXRlXTpub3QoLmJyb3dzZXItZGVmYXVsdCk6Zm9jdXMuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9ZGF0ZXRpbWVdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1kYXRldGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpOmZvY3VzLmludmFsaWQgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9ZGF0ZXRpbWUtbG9jYWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT10ZWxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1udW1iZXJdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1udW1iZXJdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1zZWFyY2hdOm5vdCguYnJvd3Nlci1kZWZhdWx0KS5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1zZWFyY2hdOm5vdCguYnJvd3Nlci1kZWZhdWx0KTpmb2N1cy5pbnZhbGlkICsgbGFiZWw6YWZ0ZXIsXFxudGV4dGFyZWEubWF0ZXJpYWxpemUtdGV4dGFyZWEuaW52YWxpZCArIGxhYmVsOmFmdGVyLFxcbnRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhOmZvY3VzLmludmFsaWQgKyBsYWJlbDphZnRlciwgLnNlbGVjdC13cmFwcGVyLmludmFsaWQgKyBsYWJlbDphZnRlciB7XFxuICBjb250ZW50OiBhdHRyKGRhdGEtZXJyb3IpO1xcbiAgY29sb3I6ICNGNDQzMzY7XFxuICBvcGFjaXR5OiAxO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDlweCk7IH1cXG5cXG5pbnB1dDpub3QoW3R5cGVdKSArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9dGV4dF06bm90KC5icm93c2VyLWRlZmF1bHQpICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1wYXNzd29yZF06bm90KC5icm93c2VyLWRlZmF1bHQpICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1lbWFpbF06bm90KC5icm93c2VyLWRlZmF1bHQpICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT11cmxdOm5vdCguYnJvd3Nlci1kZWZhdWx0KSArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9dGltZV06bm90KC5icm93c2VyLWRlZmF1bHQpICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1kYXRlXTpub3QoLmJyb3dzZXItZGVmYXVsdCkgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGV0aW1lXTpub3QoLmJyb3dzZXItZGVmYXVsdCkgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPWRhdGV0aW1lLWxvY2FsXTpub3QoLmJyb3dzZXItZGVmYXVsdCkgKyBsYWJlbDphZnRlcixcXG5pbnB1dFt0eXBlPXRlbF06bm90KC5icm93c2VyLWRlZmF1bHQpICsgbGFiZWw6YWZ0ZXIsXFxuaW5wdXRbdHlwZT1udW1iZXJdOm5vdCguYnJvd3Nlci1kZWZhdWx0KSArIGxhYmVsOmFmdGVyLFxcbmlucHV0W3R5cGU9c2VhcmNoXTpub3QoLmJyb3dzZXItZGVmYXVsdCkgKyBsYWJlbDphZnRlcixcXG50ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYSArIGxhYmVsOmFmdGVyLCAuc2VsZWN0LXdyYXBwZXIgKyBsYWJlbDphZnRlciB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxMDAlO1xcbiAgbGVmdDogMDtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiAuMnMgb3BhY2l0eSBlYXNlLW91dCwgLjJzIGNvbG9yIGVhc2Utb3V0OyB9XFxuXFxuLmlucHV0LWZpZWxkIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbi10b3A6IDFyZW07IH1cXG4gIC5pbnB1dC1maWVsZC5pbmxpbmUge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7IH1cXG4gICAgLmlucHV0LWZpZWxkLmlubGluZSBpbnB1dCxcXG4gICAgLmlucHV0LWZpZWxkLmlubGluZSAuc2VsZWN0LWRyb3Bkb3duIHtcXG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtOyB9XFxuICAuaW5wdXQtZmllbGQuY29sIGxhYmVsIHtcXG4gICAgbGVmdDogMC43NXJlbTsgfVxcbiAgLmlucHV0LWZpZWxkLmNvbCAucHJlZml4IH4gbGFiZWwsXFxuICAuaW5wdXQtZmllbGQuY29sIC5wcmVmaXggfiAudmFsaWRhdGUgfiBsYWJlbCB7XFxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAzcmVtIC0gMS41cmVtKTsgfVxcbiAgLmlucHV0LWZpZWxkIGxhYmVsIHtcXG4gICAgY29sb3I6ICM5ZTllOWU7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG4gICAgY3Vyc29yOiB0ZXh0O1xcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzIGVhc2Utb3V0O1xcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwJSAxMDAlO1xcbiAgICB0ZXh0LWFsaWduOiBpbml0aWFsO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTJweCk7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lOyB9XFxuICAgIC5pbnB1dC1maWVsZCBsYWJlbDpub3QoLmxhYmVsLWljb24pLmFjdGl2ZSB7XFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xNHB4KSBzY2FsZSgwLjgpO1xcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDsgfVxcbiAgLmlucHV0LWZpZWxkIC5wcmVmaXgge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHdpZHRoOiAzcmVtO1xcbiAgICBmb250LXNpemU6IDJyZW07XFxuICAgIHRyYW5zaXRpb246IGNvbG9yIC4yczsgfVxcbiAgICAuaW5wdXQtZmllbGQgLnByZWZpeC5hY3RpdmUge1xcbiAgICAgIGNvbG9yOiAjMjZhNjlhOyB9XFxuICAuaW5wdXQtZmllbGQgLnByZWZpeCB+IGlucHV0LFxcbiAgLmlucHV0LWZpZWxkIC5wcmVmaXggfiB0ZXh0YXJlYSxcXG4gIC5pbnB1dC1maWVsZCAucHJlZml4IH4gbGFiZWwsXFxuICAuaW5wdXQtZmllbGQgLnByZWZpeCB+IC52YWxpZGF0ZSB+IGxhYmVsLFxcbiAgLmlucHV0LWZpZWxkIC5wcmVmaXggfiAuYXV0b2NvbXBsZXRlLWNvbnRlbnQge1xcbiAgICBtYXJnaW4tbGVmdDogM3JlbTtcXG4gICAgd2lkdGg6IDkyJTtcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDNyZW0pOyB9XFxuICAuaW5wdXQtZmllbGQgLnByZWZpeCB+IGxhYmVsIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDNyZW07IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTkycHgpIHtcXG4gICAgLmlucHV0LWZpZWxkIC5wcmVmaXggfiBpbnB1dCB7XFxuICAgICAgd2lkdGg6IDg2JTtcXG4gICAgICB3aWR0aDogY2FsYygxMDAlIC0gM3JlbSk7IH0gfVxcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xcbiAgICAuaW5wdXQtZmllbGQgLnByZWZpeCB+IGlucHV0IHtcXG4gICAgICB3aWR0aDogODAlO1xcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAzcmVtKTsgfSB9XFxuXFxuLyogU2VhcmNoIEZpZWxkICovXFxuLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9c2VhcmNoXSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0OyB9XFxuICAubmF2LXdyYXBwZXIgLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9c2VhcmNoXSB7XFxuICAgIGhlaWdodDogaW5oZXJpdDtcXG4gICAgcGFkZGluZy1sZWZ0OiA0cmVtO1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gNHJlbSk7XFxuICAgIGJvcmRlcjogMDtcXG4gICAgYm94LXNoYWRvdzogbm9uZTsgfVxcbiAgLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9c2VhcmNoXTpmb2N1cyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICAgIGJvcmRlcjogMDtcXG4gICAgYm94LXNoYWRvdzogbm9uZTtcXG4gICAgY29sb3I6ICM0NDQ7IH1cXG4gICAgLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9c2VhcmNoXTpmb2N1cyArIGxhYmVsIGksXFxuICAgIC5pbnB1dC1maWVsZCBpbnB1dFt0eXBlPXNlYXJjaF06Zm9jdXMgfiAubWRpLW5hdmlnYXRpb24tY2xvc2UsXFxuICAgIC5pbnB1dC1maWVsZCBpbnB1dFt0eXBlPXNlYXJjaF06Zm9jdXMgfiAubWF0ZXJpYWwtaWNvbnMge1xcbiAgICAgIGNvbG9yOiAjNDQ0OyB9XFxuICAuaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1zZWFyY2hdICsgbGFiZWwge1xcbiAgICBsZWZ0OiAxcmVtOyB9XFxuICAuaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1zZWFyY2hdIH4gLm1kaS1uYXZpZ2F0aW9uLWNsb3NlLFxcbiAgLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9c2VhcmNoXSB+IC5tYXRlcmlhbC1pY29ucyB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogMXJlbTtcXG4gICAgY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGZvbnQtc2l6ZTogMnJlbTtcXG4gICAgdHJhbnNpdGlvbjogLjNzIGNvbG9yOyB9XFxuXFxuLyogVGV4dGFyZWEgKi9cXG50ZXh0YXJlYSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogM3JlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuICB0ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYSB7XFxuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcXG4gICAgLyogcHJldmVudHMgc2Nyb2xsIGJhciBmbGFzaCAqL1xcbiAgICBwYWRkaW5nOiAuOHJlbSAwIDEuNnJlbSAwO1xcbiAgICAvKiBwcmV2ZW50cyB0ZXh0IGp1bXAgb24gRW50ZXIga2V5cHJlc3MgKi9cXG4gICAgcmVzaXplOiBub25lO1xcbiAgICBtaW4taGVpZ2h0OiAzcmVtOyB9XFxuICAgIHRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhLnZhbGlkYXRlICsgbGFiZWwge1xcbiAgICAgIGhlaWdodDogMTAwJTsgfVxcbiAgICAgIHRleHRhcmVhLm1hdGVyaWFsaXplLXRleHRhcmVhLnZhbGlkYXRlICsgbGFiZWw6OmFmdGVyIHtcXG4gICAgICAgIHRvcDogY2FsYygxMDAlIC0gMTJweCk7IH1cXG4gICAgICB0ZXh0YXJlYS5tYXRlcmlhbGl6ZS10ZXh0YXJlYS52YWxpZGF0ZSArIGxhYmVsOm5vdCgubGFiZWwtaWNvbikuYWN0aXZlIHtcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjVweCk7IH1cXG5cXG4uaGlkZGVuZGl2IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XFxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xcbiAgLyogZnV0dXJlIHZlcnNpb24gb2YgZGVwcmVjYXRlZCAnd29yZC13cmFwJyAqL1xcbiAgcGFkZGluZy10b3A6IDEuMnJlbTtcXG4gIC8qIHByZXZlbnRzIHRleHQganVtcCBvbiBFbnRlciBrZXlwcmVzcyAqL1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwOyB9XFxuXFxuLyogQXV0b2NvbXBsZXRlICovXFxuLmF1dG9jb21wbGV0ZS1jb250ZW50IHtcXG4gIG1hcmdpbi10b3A6IC0yMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgb3BhY2l0eTogMTtcXG4gIHBvc2l0aW9uOiBzdGF0aWM7IH1cXG4gIC5hdXRvY29tcGxldGUtY29udGVudCBsaSAuaGlnaGxpZ2h0IHtcXG4gICAgY29sb3I6ICM0NDQ7IH1cXG4gIC5hdXRvY29tcGxldGUtY29udGVudCBsaSBpbWcge1xcbiAgICBoZWlnaHQ6IDQwcHg7XFxuICAgIHdpZHRoOiA0MHB4O1xcbiAgICBtYXJnaW46IDVweCAxNXB4OyB9XFxuXFxuLyogUmFkaW8gQnV0dG9uc1xcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06bm90KDpjaGVja2VkKSxcXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpjaGVja2VkIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG9wYWNpdHk6IDA7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTsgfVxcblxcblt0eXBlPVxcXCJyYWRpb1xcXCJdOm5vdCg6Y2hlY2tlZCkgKyBsYWJlbCxcXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpjaGVja2VkICsgbGFiZWwge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgcGFkZGluZy1sZWZ0OiAzNXB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgaGVpZ2h0OiAyNXB4O1xcbiAgbGluZS1oZWlnaHQ6IDI1cHg7XFxuICBmb250LXNpemU6IDFyZW07XFxuICB0cmFuc2l0aW9uOiAuMjhzIGVhc2U7XFxuICB1c2VyLXNlbGVjdDogbm9uZTsgfVxcblxcblt0eXBlPVxcXCJyYWRpb1xcXCJdICsgbGFiZWw6YmVmb3JlLFxcblt0eXBlPVxcXCJyYWRpb1xcXCJdICsgbGFiZWw6YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgbWFyZ2luOiA0cHg7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIHotaW5kZXg6IDA7XFxuICB0cmFuc2l0aW9uOiAuMjhzIGVhc2U7IH1cXG5cXG4vKiBVbmNoZWNrZWQgc3R5bGVzICovXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06bm90KDpjaGVja2VkKSArIGxhYmVsOmJlZm9yZSxcXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpub3QoOmNoZWNrZWQpICsgbGFiZWw6YWZ0ZXIsXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06Y2hlY2tlZCArIGxhYmVsOmJlZm9yZSxcXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpjaGVja2VkICsgbGFiZWw6YWZ0ZXIsXFxuW3R5cGU9XFxcInJhZGlvXFxcIl0ud2l0aC1nYXA6Y2hlY2tlZCArIGxhYmVsOmJlZm9yZSxcXG5bdHlwZT1cXFwicmFkaW9cXFwiXS53aXRoLWdhcDpjaGVja2VkICsgbGFiZWw6YWZ0ZXIge1xcbiAgYm9yZGVyLXJhZGl1czogNTAlOyB9XFxuXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06bm90KDpjaGVja2VkKSArIGxhYmVsOmJlZm9yZSxcXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpub3QoOmNoZWNrZWQpICsgbGFiZWw6YWZ0ZXIge1xcbiAgYm9yZGVyOiAycHggc29saWQgIzVhNWE1YTsgfVxcblxcblt0eXBlPVxcXCJyYWRpb1xcXCJdOm5vdCg6Y2hlY2tlZCkgKyBsYWJlbDphZnRlciB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDApOyB9XFxuXFxuLyogQ2hlY2tlZCBzdHlsZXMgKi9cXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpjaGVja2VkICsgbGFiZWw6YmVmb3JlIHtcXG4gIGJvcmRlcjogMnB4IHNvbGlkIHRyYW5zcGFyZW50OyB9XFxuXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06Y2hlY2tlZCArIGxhYmVsOmFmdGVyLFxcblt0eXBlPVxcXCJyYWRpb1xcXCJdLndpdGgtZ2FwOmNoZWNrZWQgKyBsYWJlbDpiZWZvcmUsXFxuW3R5cGU9XFxcInJhZGlvXFxcIl0ud2l0aC1nYXA6Y2hlY2tlZCArIGxhYmVsOmFmdGVyIHtcXG4gIGJvcmRlcjogMnB4IHNvbGlkICMyNmE2OWE7IH1cXG5cXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpjaGVja2VkICsgbGFiZWw6YWZ0ZXIsXFxuW3R5cGU9XFxcInJhZGlvXFxcIl0ud2l0aC1nYXA6Y2hlY2tlZCArIGxhYmVsOmFmdGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7IH1cXG5cXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpjaGVja2VkICsgbGFiZWw6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjAyKTsgfVxcblxcbi8qIFJhZGlvIFdpdGggZ2FwICovXFxuW3R5cGU9XFxcInJhZGlvXFxcIl0ud2l0aC1nYXA6Y2hlY2tlZCArIGxhYmVsOmFmdGVyIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMC41KTsgfVxcblxcbi8qIEZvY3VzZWQgc3R5bGVzICovXFxuW3R5cGU9XFxcInJhZGlvXFxcIl0udGFiYmVkOmZvY3VzICsgbGFiZWw6YmVmb3JlIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOyB9XFxuXFxuLyogRGlzYWJsZWQgUmFkaW8gV2l0aCBnYXAgKi9cXG5bdHlwZT1cXFwicmFkaW9cXFwiXS53aXRoLWdhcDpkaXNhYmxlZDpjaGVja2VkICsgbGFiZWw6YmVmb3JlIHtcXG4gIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC40Mik7IH1cXG5cXG5bdHlwZT1cXFwicmFkaW9cXFwiXS53aXRoLWdhcDpkaXNhYmxlZDpjaGVja2VkICsgbGFiZWw6YWZ0ZXIge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQyKTsgfVxcblxcbi8qIERpc2FibGVkIHN0eWxlICovXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06ZGlzYWJsZWQ6bm90KDpjaGVja2VkKSArIGxhYmVsOmJlZm9yZSxcXG5bdHlwZT1cXFwicmFkaW9cXFwiXTpkaXNhYmxlZDpjaGVja2VkICsgbGFiZWw6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDIpOyB9XFxuXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06ZGlzYWJsZWQgKyBsYWJlbCB7XFxuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQyKTsgfVxcblxcblt0eXBlPVxcXCJyYWRpb1xcXCJdOmRpc2FibGVkOm5vdCg6Y2hlY2tlZCkgKyBsYWJlbDpiZWZvcmUge1xcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDIpOyB9XFxuXFxuW3R5cGU9XFxcInJhZGlvXFxcIl06ZGlzYWJsZWQ6Y2hlY2tlZCArIGxhYmVsOmFmdGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40Mik7XFxuICBib3JkZXItY29sb3I6ICM5NDk0OTQ7IH1cXG5cXG4vKiBDaGVja2JveGVzXFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG4vKiBDVVNUT00gQ1NTIENIRUNLQk9YRVMgKi9cXG5mb3JtIHAge1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7IH1cXG5cXG5mb3JtIHA6bGFzdC1jaGlsZCB7XFxuICBtYXJnaW4tYm90dG9tOiAwOyB9XFxuXFxuLyogUmVtb3ZlIGRlZmF1bHQgY2hlY2tib3ggKi9cXG5bdHlwZT1cXFwiY2hlY2tib3hcXFwiXTpub3QoOmNoZWNrZWQpLFxcblt0eXBlPVxcXCJjaGVja2JveFxcXCJdOmNoZWNrZWQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgb3BhY2l0eTogMDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lOyB9XFxuXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl0ge1xcbiAgLyogY2hlY2tib3ggYXNwZWN0ICovIH1cXG4gIFt0eXBlPVxcXCJjaGVja2JveFxcXCJdICsgbGFiZWwge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHBhZGRpbmctbGVmdDogMzVweDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGhlaWdodDogMjVweDtcXG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7IH1cXG4gIFt0eXBlPVxcXCJjaGVja2JveFxcXCJdICsgbGFiZWw6YmVmb3JlLFxcbiAgW3R5cGU9XFxcImNoZWNrYm94XFxcIl06bm90KC5maWxsZWQtaW4pICsgbGFiZWw6YWZ0ZXIge1xcbiAgICBjb250ZW50OiAnJztcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHdpZHRoOiAxOHB4O1xcbiAgICBoZWlnaHQ6IDE4cHg7XFxuICAgIHotaW5kZXg6IDA7XFxuICAgIGJvcmRlcjogMnB4IHNvbGlkICM1YTVhNWE7XFxuICAgIGJvcmRlci1yYWRpdXM6IDFweDtcXG4gICAgbWFyZ2luLXRvcDogMnB4O1xcbiAgICB0cmFuc2l0aW9uOiAuMnM7IH1cXG4gIFt0eXBlPVxcXCJjaGVja2JveFxcXCJdOm5vdCguZmlsbGVkLWluKSArIGxhYmVsOmFmdGVyIHtcXG4gICAgYm9yZGVyOiAwO1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDApOyB9XFxuICBbdHlwZT1cXFwiY2hlY2tib3hcXFwiXTpub3QoOmNoZWNrZWQpOmRpc2FibGVkICsgbGFiZWw6YmVmb3JlIHtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDIpOyB9XFxuICBbdHlwZT1cXFwiY2hlY2tib3hcXFwiXS50YWJiZWQ6Zm9jdXMgKyBsYWJlbDphZnRlciB7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICAgIGJvcmRlcjogMDtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICBib3gtc2hhZG93OiAwIDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpOyB9XFxuXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl06Y2hlY2tlZCArIGxhYmVsOmJlZm9yZSB7XFxuICB0b3A6IC00cHg7XFxuICBsZWZ0OiAtNXB4O1xcbiAgd2lkdGg6IDEycHg7XFxuICBoZWlnaHQ6IDIycHg7XFxuICBib3JkZXItdG9wOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgIzI2YTY5YTtcXG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMjZhNjlhO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoNDBkZWcpO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNmb3JtLW9yaWdpbjogMTAwJSAxMDAlOyB9XFxuXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl06Y2hlY2tlZDpkaXNhYmxlZCArIGxhYmVsOmJlZm9yZSB7XFxuICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNDIpO1xcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC40Mik7IH1cXG5cXG4vKiBJbmRldGVybWluYXRlIGNoZWNrYm94ICovXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl06aW5kZXRlcm1pbmF0ZSArIGxhYmVsOmJlZm9yZSB7XFxuICB0b3A6IC0xMXB4O1xcbiAgbGVmdDogLTEycHg7XFxuICB3aWR0aDogMTBweDtcXG4gIGhlaWdodDogMjJweDtcXG4gIGJvcmRlci10b3A6IG5vbmU7XFxuICBib3JkZXItbGVmdDogbm9uZTtcXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkICMyNmE2OWE7XFxuICBib3JkZXItYm90dG9tOiBub25lO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNmb3JtLW9yaWdpbjogMTAwJSAxMDAlOyB9XFxuXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl06aW5kZXRlcm1pbmF0ZTpkaXNhYmxlZCArIGxhYmVsOmJlZm9yZSB7XFxuICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNDIpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1cXG5cXG5bdHlwZT1cXFwiY2hlY2tib3hcXFwiXS5maWxsZWQtaW4gKyBsYWJlbDphZnRlciB7XFxuICBib3JkZXItcmFkaXVzOiAycHg7IH1cXG5cXG5bdHlwZT1cXFwiY2hlY2tib3hcXFwiXS5maWxsZWQtaW4gKyBsYWJlbDpiZWZvcmUsXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl0uZmlsbGVkLWluICsgbGFiZWw6YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBsZWZ0OiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgLyogLjFzIGRlbGF5IGlzIGZvciBjaGVjayBhbmltYXRpb24gKi9cXG4gIHRyYW5zaXRpb246IGJvcmRlciAuMjVzLCBiYWNrZ3JvdW5kLWNvbG9yIC4yNXMsIHdpZHRoIC4yMHMgLjFzLCBoZWlnaHQgLjIwcyAuMXMsIHRvcCAuMjBzIC4xcywgbGVmdCAuMjBzIC4xcztcXG4gIHotaW5kZXg6IDE7IH1cXG5cXG5bdHlwZT1cXFwiY2hlY2tib3hcXFwiXS5maWxsZWQtaW46bm90KDpjaGVja2VkKSArIGxhYmVsOmJlZm9yZSB7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlcjogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgbGVmdDogNnB4O1xcbiAgdG9wOiAxMHB4O1xcbiAgdHJhbnNmb3JtOiByb3RhdGVaKDM3ZGVnKTtcXG4gIHRyYW5zZm9ybS1vcmlnaW46IDEwMCUgMTAwJTsgfVxcblxcblt0eXBlPVxcXCJjaGVja2JveFxcXCJdLmZpbGxlZC1pbjpub3QoOmNoZWNrZWQpICsgbGFiZWw6YWZ0ZXIge1xcbiAgaGVpZ2h0OiAyMHB4O1xcbiAgd2lkdGg6IDIwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlcjogMnB4IHNvbGlkICM1YTVhNWE7XFxuICB0b3A6IDBweDtcXG4gIHotaW5kZXg6IDA7IH1cXG5cXG5bdHlwZT1cXFwiY2hlY2tib3hcXFwiXS5maWxsZWQtaW46Y2hlY2tlZCArIGxhYmVsOmJlZm9yZSB7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAxcHg7XFxuICB3aWR0aDogOHB4O1xcbiAgaGVpZ2h0OiAxM3B4O1xcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkICNmZmY7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmZjtcXG4gIHRyYW5zZm9ybTogcm90YXRlWigzN2RlZyk7XFxuICB0cmFuc2Zvcm0tb3JpZ2luOiAxMDAlIDEwMCU7IH1cXG5cXG5bdHlwZT1cXFwiY2hlY2tib3hcXFwiXS5maWxsZWQtaW46Y2hlY2tlZCArIGxhYmVsOmFmdGVyIHtcXG4gIHRvcDogMDtcXG4gIHdpZHRoOiAyMHB4O1xcbiAgaGVpZ2h0OiAyMHB4O1xcbiAgYm9yZGVyOiAycHggc29saWQgIzI2YTY5YTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7XFxuICB6LWluZGV4OiAwOyB9XFxuXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl0uZmlsbGVkLWluLnRhYmJlZDpmb2N1cyArIGxhYmVsOmFmdGVyIHtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJvcmRlci1jb2xvcjogIzVhNWE1YTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xKTsgfVxcblxcblt0eXBlPVxcXCJjaGVja2JveFxcXCJdLmZpbGxlZC1pbi50YWJiZWQ6Y2hlY2tlZDpmb2N1cyArIGxhYmVsOmFmdGVyIHtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7XFxuICBib3JkZXItY29sb3I6ICMyNmE2OWE7IH1cXG5cXG5bdHlwZT1cXFwiY2hlY2tib3hcXFwiXS5maWxsZWQtaW46ZGlzYWJsZWQ6bm90KDpjaGVja2VkKSArIGxhYmVsOmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlcjogMnB4IHNvbGlkIHRyYW5zcGFyZW50OyB9XFxuXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl0uZmlsbGVkLWluOmRpc2FibGVkOm5vdCg6Y2hlY2tlZCkgKyBsYWJlbDphZnRlciB7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OTQ5NDsgfVxcblxcblt0eXBlPVxcXCJjaGVja2JveFxcXCJdLmZpbGxlZC1pbjpkaXNhYmxlZDpjaGVja2VkICsgbGFiZWw6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuXFxuW3R5cGU9XFxcImNoZWNrYm94XFxcIl0uZmlsbGVkLWluOmRpc2FibGVkOmNoZWNrZWQgKyBsYWJlbDphZnRlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTQ5NDk0O1xcbiAgYm9yZGVyLWNvbG9yOiAjOTQ5NDk0OyB9XFxuXFxuLyogU3dpdGNoXFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG4uc3dpdGNoLFxcbi5zd2l0Y2ggKiB7XFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7IH1cXG5cXG4uc3dpdGNoIGxhYmVsIHtcXG4gIGN1cnNvcjogcG9pbnRlcjsgfVxcblxcbi5zd2l0Y2ggbGFiZWwgaW5wdXRbdHlwZT1jaGVja2JveF0ge1xcbiAgb3BhY2l0eTogMDtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwOyB9XFxuICAuc3dpdGNoIGxhYmVsIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQgKyAubGV2ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODRjN2MxOyB9XFxuICAgIC5zd2l0Y2ggbGFiZWwgaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCArIC5sZXZlcjpiZWZvcmUsIC5zd2l0Y2ggbGFiZWwgaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCArIC5sZXZlcjphZnRlciB7XFxuICAgICAgbGVmdDogMThweDsgfVxcbiAgICAuc3dpdGNoIGxhYmVsIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQgKyAubGV2ZXI6YWZ0ZXIge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7IH1cXG5cXG4uc3dpdGNoIGxhYmVsIC5sZXZlciB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiAzNnB4O1xcbiAgaGVpZ2h0OiAxNHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjM4KTtcXG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3MgZWFzZTtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBtYXJnaW46IDAgMTZweDsgfVxcbiAgLnN3aXRjaCBsYWJlbCAubGV2ZXI6YmVmb3JlLCAuc3dpdGNoIGxhYmVsIC5sZXZlcjphZnRlciB7XFxuICAgIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgd2lkdGg6IDIwcHg7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IC0zcHg7XFxuICAgIHRyYW5zaXRpb246IGxlZnQgMC4zcyBlYXNlLCBiYWNrZ3JvdW5kIC4zcyBlYXNlLCBib3gtc2hhZG93IDAuMXMgZWFzZSwgdHJhbnNmb3JtIC4xcyBlYXNlOyB9XFxuICAuc3dpdGNoIGxhYmVsIC5sZXZlcjpiZWZvcmUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM4LCAxNjYsIDE1NCwgMC4xNSk7IH1cXG4gIC5zd2l0Y2ggbGFiZWwgLmxldmVyOmFmdGVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0YxRjFGMTtcXG4gICAgYm94LXNoYWRvdzogMHB4IDNweCAxcHggLTJweCByZ2JhKDAsIDAsIDAsIDAuMiksIDBweCAycHggMnB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwcHggMXB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAwLjEyKTsgfVxcblxcbmlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQ6bm90KDpkaXNhYmxlZCkgfiAubGV2ZXI6YWN0aXZlOjpiZWZvcmUsXFxuaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZDpub3QoOmRpc2FibGVkKS50YWJiZWQ6Zm9jdXMgfiAubGV2ZXI6OmJlZm9yZSB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDIuNCk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM4LCAxNjYsIDE1NCwgMC4xNSk7IH1cXG5cXG5pbnB1dFt0eXBlPWNoZWNrYm94XTpub3QoOmRpc2FibGVkKSB+IC5sZXZlcjphY3RpdmU6YmVmb3JlLFxcbmlucHV0W3R5cGU9Y2hlY2tib3hdOm5vdCg6ZGlzYWJsZWQpLnRhYmJlZDpmb2N1cyB+IC5sZXZlcjo6YmVmb3JlIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMi40KTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wOCk7IH1cXG5cXG4uc3dpdGNoIGlucHV0W3R5cGU9Y2hlY2tib3hdW2Rpc2FibGVkXSArIC5sZXZlciB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpOyB9XFxuXFxuLnN3aXRjaCBsYWJlbCBpbnB1dFt0eXBlPWNoZWNrYm94XVtkaXNhYmxlZF0gKyAubGV2ZXI6YWZ0ZXIsXFxuLnN3aXRjaCBsYWJlbCBpbnB1dFt0eXBlPWNoZWNrYm94XVtkaXNhYmxlZF06Y2hlY2tlZCArIC5sZXZlcjphZnRlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTQ5NDk0OyB9XFxuXFxuLyogU2VsZWN0IEZpZWxkXFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5zZWxlY3Qge1xcbiAgZGlzcGxheTogbm9uZTsgfVxcblxcbnNlbGVjdC5icm93c2VyLWRlZmF1bHQge1xcbiAgZGlzcGxheTogYmxvY2s7IH1cXG5cXG5zZWxlY3Qge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZjJmMmYyO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgaGVpZ2h0OiAzcmVtOyB9XFxuXFxuLmlucHV0LWZpZWxkIHNlbGVjdCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAwO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBoZWlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgb3BhY2l0eTogMDsgfVxcblxcbi5zZWxlY3QtbGFiZWwge1xcbiAgcG9zaXRpb246IGFic29sdXRlOyB9XFxuXFxuLnNlbGVjdC13cmFwcGVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxcbiAgLnNlbGVjdC13cmFwcGVyLnZhbGlkICsgbGFiZWwsXFxuICAuc2VsZWN0LXdyYXBwZXIuaW52YWxpZCArIGxhYmVsIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lOyB9XFxuICAuc2VsZWN0LXdyYXBwZXIgaW5wdXQuc2VsZWN0LWRyb3Bkb3duIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjOWU5ZTllO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgICBoZWlnaHQ6IDNyZW07XFxuICAgIGxpbmUtaGVpZ2h0OiAzcmVtO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcbiAgICBtYXJnaW46IDAgMCAyMHB4IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB1c2VyLXNlbGVjdDogbm9uZTsgfVxcbiAgLnNlbGVjdC13cmFwcGVyIHNwYW4uY2FyZXQge1xcbiAgICBjb2xvcjogaW5pdGlhbDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMDtcXG4gICAgdG9wOiAwO1xcbiAgICBib3R0b206IDA7XFxuICAgIGhlaWdodDogMTBweDtcXG4gICAgbWFyZ2luOiBhdXRvIDA7XFxuICAgIGZvbnQtc2l6ZTogMTBweDtcXG4gICAgbGluZS1oZWlnaHQ6IDEwcHg7IH1cXG4gIC5zZWxlY3Qtd3JhcHBlciArIGxhYmVsIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IC0yNnB4O1xcbiAgICBmb250LXNpemU6IDAuOHJlbTsgfVxcblxcbnNlbGVjdDpkaXNhYmxlZCB7XFxuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQyKTsgfVxcblxcbi5zZWxlY3Qtd3JhcHBlci5kaXNhYmxlZCBzcGFuLmNhcmV0LFxcbi5zZWxlY3Qtd3JhcHBlci5kaXNhYmxlZCArIGxhYmVsIHtcXG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDIpOyB9XFxuXFxuLnNlbGVjdC13cmFwcGVyIGlucHV0LnNlbGVjdC1kcm9wZG93bjpkaXNhYmxlZCB7XFxuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQyKTtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIHVzZXItc2VsZWN0OiBub25lOyB9XFxuXFxuLnNlbGVjdC13cmFwcGVyIGkge1xcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4zKTsgfVxcblxcbi5zZWxlY3QtZHJvcGRvd24gbGkuZGlzYWJsZWQsXFxuLnNlbGVjdC1kcm9wZG93biBsaS5kaXNhYmxlZCA+IHNwYW4sXFxuLnNlbGVjdC1kcm9wZG93biBsaS5vcHRncm91cCB7XFxuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjMpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1cXG5cXG4uc2VsZWN0LWRyb3Bkb3duLmRyb3Bkb3duLWNvbnRlbnQgbGkuYWN0aXZlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuXFxuLnNlbGVjdC1kcm9wZG93bi5kcm9wZG93bi1jb250ZW50IGxpOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNik7IH1cXG5cXG4uc2VsZWN0LWRyb3Bkb3duLmRyb3Bkb3duLWNvbnRlbnQgbGkuc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjAzKTsgfVxcblxcbi5wcmVmaXggfiAuc2VsZWN0LXdyYXBwZXIge1xcbiAgbWFyZ2luLWxlZnQ6IDNyZW07XFxuICB3aWR0aDogOTIlO1xcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDNyZW0pOyB9XFxuXFxuLnByZWZpeCB+IGxhYmVsIHtcXG4gIG1hcmdpbi1sZWZ0OiAzcmVtOyB9XFxuXFxuLnNlbGVjdC1kcm9wZG93biBsaSBpbWcge1xcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgd2lkdGg6IDQwcHg7XFxuICBtYXJnaW46IDVweCAxNXB4O1xcbiAgZmxvYXQ6IHJpZ2h0OyB9XFxuXFxuLnNlbGVjdC1kcm9wZG93biBsaS5vcHRncm91cCB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsgfVxcbiAgLnNlbGVjdC1kcm9wZG93biBsaS5vcHRncm91cC5zZWxlY3RlZCA+IHNwYW4ge1xcbiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpOyB9XFxuICAuc2VsZWN0LWRyb3Bkb3duIGxpLm9wdGdyb3VwID4gc3BhbiB7XFxuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNCk7IH1cXG4gIC5zZWxlY3QtZHJvcGRvd24gbGkub3B0Z3JvdXAgfiBsaS5vcHRncm91cC1vcHRpb24ge1xcbiAgICBwYWRkaW5nLWxlZnQ6IDFyZW07IH1cXG5cXG4vKiBGaWxlIElucHV0XFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG4uZmlsZS1maWVsZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7IH1cXG4gIC5maWxlLWZpZWxkIC5maWxlLXBhdGgtd3JhcHBlciB7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIHBhZGRpbmctbGVmdDogMTBweDsgfVxcbiAgLmZpbGUtZmllbGQgaW5wdXQuZmlsZS1wYXRoIHtcXG4gICAgd2lkdGg6IDEwMCU7IH1cXG4gIC5maWxlLWZpZWxkIC5idG4sIC5maWxlLWZpZWxkIC5idG4tbGFyZ2Uge1xcbiAgICBmbG9hdDogbGVmdDtcXG4gICAgaGVpZ2h0OiAzcmVtO1xcbiAgICBsaW5lLWhlaWdodDogM3JlbTsgfVxcbiAgLmZpbGUtZmllbGQgc3BhbiB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjsgfVxcbiAgLmZpbGUtZmllbGQgaW5wdXRbdHlwZT1maWxlXSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgb3BhY2l0eTogMDtcXG4gICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApOyB9XFxuICAgIC5maWxlLWZpZWxkIGlucHV0W3R5cGU9ZmlsZV06Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uIHtcXG4gICAgICBkaXNwbGF5OiBub25lOyB9XFxuXFxuLyogUmFuZ2VcXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcbi5yYW5nZS1maWVsZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7IH1cXG5cXG5pbnB1dFt0eXBlPXJhbmdlXSxcXG5pbnB1dFt0eXBlPXJhbmdlXSArIC50aHVtYiB7XFxuICBjdXJzb3I6IHBvaW50ZXI7IH1cXG5cXG5pbnB1dFt0eXBlPXJhbmdlXSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogMTVweCAwO1xcbiAgcGFkZGluZzogMDsgfVxcbiAgaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXMge1xcbiAgICBvdXRsaW5lOiBub25lOyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV0gKyAudGh1bWIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxMHB4O1xcbiAgbGVmdDogMDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGhlaWdodDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI2YTY5YTtcXG4gIG1hcmdpbi1sZWZ0OiA3cHg7XFxuICB0cmFuc2Zvcm0tb3JpZ2luOiA1MCUgNTAlO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTsgfVxcbiAgaW5wdXRbdHlwZT1yYW5nZV0gKyAudGh1bWIgLnZhbHVlIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHdpZHRoOiAzMHB4O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGNvbG9yOiAjMjZhNjlhO1xcbiAgICBmb250LXNpemU6IDA7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTsgfVxcbiAgaW5wdXRbdHlwZT1yYW5nZV0gKyAudGh1bWIuYWN0aXZlIHtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlIDUwJSA1MCUgMDsgfVxcbiAgICBpbnB1dFt0eXBlPXJhbmdlXSArIC50aHVtYi5hY3RpdmUgLnZhbHVlIHtcXG4gICAgICBjb2xvcjogI2ZmZjtcXG4gICAgICBtYXJnaW4tbGVmdDogLTFweDtcXG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XFxuICAgICAgZm9udC1zaXplOiAxMHB4OyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV0ge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV06Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcXG4gIGhlaWdodDogM3B4O1xcbiAgYmFja2dyb3VuZDogI2MyYzBjMjtcXG4gIGJvcmRlcjogbm9uZTsgfVxcblxcbmlucHV0W3R5cGU9cmFuZ2VdOjotd2Via2l0LXNsaWRlci10aHVtYiB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBoZWlnaHQ6IDE0cHg7XFxuICB3aWR0aDogMTRweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNmE2OWE7XFxuICB0cmFuc2Zvcm0tb3JpZ2luOiA1MCUgNTAlO1xcbiAgbWFyZ2luOiAtNXB4IDAgMCAwO1xcbiAgdHJhbnNpdGlvbjogLjNzOyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXM6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcXG4gIGJhY2tncm91bmQ6ICNjY2M7IH1cXG5cXG5pbnB1dFt0eXBlPXJhbmdlXSB7XFxuICAvKiBmaXggZm9yIEZGIHVuYWJsZSB0byBhcHBseSBmb2N1cyBzdHlsZSBidWcgICovXFxuICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcXG4gIC8qcmVxdWlyZWQgZm9yIHByb3BlciB0cmFjayBzaXppbmcgaW4gRkYqLyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV06Oi1tb3otcmFuZ2UtdHJhY2sge1xcbiAgaGVpZ2h0OiAzcHg7XFxuICBiYWNrZ3JvdW5kOiAjZGRkO1xcbiAgYm9yZGVyOiBub25lOyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV06Oi1tb3otcmFuZ2UtdGh1bWIge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgaGVpZ2h0OiAxNHB4O1xcbiAgd2lkdGg6IDE0cHg7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBiYWNrZ3JvdW5kOiAjMjZhNjlhO1xcbiAgbWFyZ2luLXRvcDogLTVweDsgfVxcblxcbmlucHV0W3R5cGU9cmFuZ2VdOi1tb3otZm9jdXNyaW5nIHtcXG4gIG91dGxpbmU6IDFweCBzb2xpZCAjZmZmO1xcbiAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7IH1cXG5cXG5pbnB1dFt0eXBlPXJhbmdlXTpmb2N1czo6LW1vei1yYW5nZS10cmFjayB7XFxuICBiYWNrZ3JvdW5kOiAjY2NjOyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV06Oi1tcy10cmFjayB7XFxuICBoZWlnaHQ6IDNweDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci13aWR0aDogNnB4IDA7XFxuICAvKnJlbW92ZSBkZWZhdWx0IHRpY2sgbWFya3MqL1xcbiAgY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV06Oi1tcy1maWxsLWxvd2VyIHtcXG4gIGJhY2tncm91bmQ6ICM3Nzc7IH1cXG5cXG5pbnB1dFt0eXBlPXJhbmdlXTo6LW1zLWZpbGwtdXBwZXIge1xcbiAgYmFja2dyb3VuZDogI2RkZDsgfVxcblxcbmlucHV0W3R5cGU9cmFuZ2VdOjotbXMtdGh1bWIge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgaGVpZ2h0OiAxNHB4O1xcbiAgd2lkdGg6IDE0cHg7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBiYWNrZ3JvdW5kOiAjMjZhNjlhOyB9XFxuXFxuaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXM6Oi1tcy1maWxsLWxvd2VyIHtcXG4gIGJhY2tncm91bmQ6ICM4ODg7IH1cXG5cXG5pbnB1dFt0eXBlPXJhbmdlXTpmb2N1czo6LW1zLWZpbGwtdXBwZXIge1xcbiAgYmFja2dyb3VuZDogI2NjYzsgfVxcblxcbmh0bWwsIGJvZHkge1xcbiAgaGVpZ2h0OiAxMDAlOyB9XFxuXFxubmF2IHtcXG4gIGJhY2tncm91bmQ6ICMwMDA7IH1cXG4gIG5hdiAubmF2LXdyYXBwZXIgLmNvbnRhaW5lciB7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICBtYXgtd2lkdGg6IDEyODBweDtcXG4gICAgd2lkdGg6IDEwMCU7IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAxcHgpIHtcXG4gICAgbmF2IC5uYXYtd3JhcHBlciAuY29udGFpbmVyIHtcXG4gICAgICB3aWR0aDogODUlOyB9IH1cXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTkzcHgpIHtcXG4gICAgbmF2IC5uYXYtd3JhcHBlciAuY29udGFpbmVyIHtcXG4gICAgICB3aWR0aDogNzAlOyB9IH1cXG5cXG4ubWF0ZXJpYWwtaWNvbnMge1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0OyB9XFxuXFxuLmJ0biwgLmJ0bi1sYXJnZSB7XFxuICBoZWlnaHQ6IDJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAyZW07XFxuICBwYWRkaW5nOiAwIDAuOGVtOyB9XFxuXFxuW2RhdGEtYXg2dWktc2lkZW5hdi1wYW5lbF0ge1xcbiAgYmFja2dyb3VuZDogI2ZmZjsgfVxcblxcbltkYXRhLWF4NnVpLXNpZGVuYXYtbWVudV0ge1xcbiAgYmFja2dyb3VuZDogI2VlZTsgfVxcbiAgW2RhdGEtYXg2dWktc2lkZW5hdi1tZW51XSAuc2lkZW5hdiB7XFxuICAgIHBhZGRpbmc6IDEwcHggMDsgfVxcbiAgICBbZGF0YS1heDZ1aS1zaWRlbmF2LW1lbnVdIC5zaWRlbmF2IHVsIHtcXG4gICAgICBtYXJnaW46IDA7IH1cXG4gICAgICBbZGF0YS1heDZ1aS1zaWRlbmF2LW1lbnVdIC5zaWRlbmF2IHVsIGxpIGEge1xcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgICBwYWRkaW5nOiA3cHggMTBweDsgfVxcbiAgICAgICAgW2RhdGEtYXg2dWktc2lkZW5hdi1tZW51XSAuc2lkZW5hdiB1bCBsaSBhOmhvdmVyIHtcXG4gICAgICAgICAgYmFja2dyb3VuZDogI2NjYzsgfVxcblxcbmh0bWxbZGF0YS1heDZ1aS1zaWRlbmF2LW9wZW5dIFtkYXRhLWF4NnVpLXNpZGVuYXYtcGFuZWxdIHtcXG4gIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjUpOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlciEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3JjL2Fzc2V0cy9zYW1wbGUuc2Nzc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikodW5kZWZpbmVkKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdNYXRlcmlhbCBJY29ucyc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgc3JjOiB1cmwoXCIgKyByZXF1aXJlKFwiLi9NYXRlcmlhbEljb25zLVJlZ3VsYXIuZW90XCIpICsgXCIpOyAvKiBGb3IgSUU2LTggKi9cXG4gIHNyYzogbG9jYWwoJ01hdGVyaWFsIEljb25zJyksXFxuICAgICAgIGxvY2FsKCdNYXRlcmlhbEljb25zLVJlZ3VsYXInKSxcXG4gICAgICAgdXJsKFwiICsgcmVxdWlyZShcIi4vTWF0ZXJpYWxJY29ucy1SZWd1bGFyLndvZmYyXCIpICsgXCIpIGZvcm1hdCgnd29mZjInKSxcXG4gICAgICAgdXJsKFwiICsgcmVxdWlyZShcIi4vTWF0ZXJpYWxJY29ucy1SZWd1bGFyLndvZmZcIikgKyBcIikgZm9ybWF0KCd3b2ZmJyksXFxuICAgICAgIHVybChcIiArIHJlcXVpcmUoXCIuL01hdGVyaWFsSWNvbnMtUmVndWxhci50dGZcIikgKyBcIikgZm9ybWF0KCd0cnVldHlwZScpO1xcbn1cXG5cXG4ubWF0ZXJpYWwtaWNvbnMge1xcbiAgZm9udC1mYW1pbHk6ICdNYXRlcmlhbCBJY29ucyc7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbiAgZm9udC1zaXplOiAyNHB4OyAgLyogUHJlZmVycmVkIGljb24gc2l6ZSAqL1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcXG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XFxuICB3b3JkLXdyYXA6IG5vcm1hbDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBkaXJlY3Rpb246IGx0cjtcXG5cXG4gIC8qIFN1cHBvcnQgZm9yIGFsbCBXZWJLaXQgYnJvd3NlcnMuICovXFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIC8qIFN1cHBvcnQgZm9yIFNhZmFyaSBhbmQgQ2hyb21lLiAqL1xcbiAgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplTGVnaWJpbGl0eTtcXG5cXG4gIC8qIFN1cHBvcnQgZm9yIEZpcmVmb3guICovXFxuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xcblxcbiAgLyogU3VwcG9ydCBmb3IgSUUuICovXFxuICBmb250LWZlYXR1cmUtc2V0dGluZ3M6ICdsaWdhJztcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlciEuL3NyYy9hc3NldHMvbWF0ZXJpYWwtZGVzaWduLWljb25zL2ljb25mb250L21hdGVyaWFsLWljb25zLmNzc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImU3OWJmZDg4NTM3ZGVmNDc2OTEzZjNlZDUyZjRmNGIzLmVvdFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Fzc2V0cy9tYXRlcmlhbC1kZXNpZ24taWNvbnMvaWNvbmZvbnQvTWF0ZXJpYWxJY29ucy1SZWd1bGFyLmVvdFxuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjU3MGViODM4NTlkYzIzZGQwZWVjNDIzYTQ5ZTE0N2ZlLndvZmYyXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9NYXRlcmlhbEljb25zLVJlZ3VsYXIud29mZjJcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMTYiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwMTJjZjZhMTAxMjllMjI3NWQ3OWQ2YWRhYzdmM2IwMi53b2ZmXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9NYXRlcmlhbEljb25zLVJlZ3VsYXIud29mZlxuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImEzN2IwYzAxYzBiYWYxODg4Y2E4MTJjYzA1MDhmNmUyLnR0ZlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Fzc2V0cy9tYXRlcmlhbC1kZXNpZ24taWNvbnMvaWNvbmZvbnQvTWF0ZXJpYWxJY29ucy1SZWd1bGFyLnR0ZlxuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAxNiJdLCJzb3VyY2VSb290IjoiIn0=